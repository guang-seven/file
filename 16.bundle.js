(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{1324:function(e,t,r){var i;"undefined"!=typeof window&&(i=function(){return function(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r(r.s="./src/hls.js")}({"./node_modules/eventemitter3/index.js":
/*!*********************************************!*\
  !*** ./node_modules/eventemitter3/index.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i=Object.prototype.hasOwnProperty,a="~";function n(){}function s(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,r,i,n){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new s(r,i||e,n),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function l(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function u(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(a=!1)),u.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(a?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},u.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,n=r.length,s=new Array(n);i<n;i++)s[i]=r[i].fn;return s},u.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},u.prototype.emit=function(e,t,r,i,n,s){var o=a?a+e:e;if(!this._events[o])return!1;var l,u,d=this._events[o],c=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),c){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,r),!0;case 4:return d.fn.call(d.context,t,r,i),!0;case 5:return d.fn.call(d.context,t,r,i,n),!0;case 6:return d.fn.call(d.context,t,r,i,n,s),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];d.fn.apply(d.context,l)}else{var f,h=d.length;for(u=0;u<h;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),c){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,r);break;case 4:d[u].fn.call(d[u].context,t,r,i);break;default:if(!l)for(f=1,l=new Array(c-1);f<c;f++)l[f-1]=arguments[f];d[u].fn.apply(d[u].context,l)}}return!0},u.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},u.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},u.prototype.removeListener=function(e,t,r,i){var n=a?a+e:e;if(!this._events[n])return this;if(!t)return l(this,n),this;var s=this._events[n];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||l(this,n);else{for(var o=0,u=[],d=s.length;o<d;o++)(s[o].fn!==t||i&&!s[o].once||r&&s[o].context!==r)&&u.push(s[o]);u.length?this._events[n]=1===u.length?u[0]:u:l(this,n)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&l(this,t)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u},"./node_modules/node-libs-browser/node_modules/events/events.js":
/*!**********************************************************************!*\
  !*** ./node_modules/node-libs-browser/node_modules/events/events.js ***!
  \**********************************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function n(e){return void 0===e}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,s,o,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var d=new Error('Uncaught, unspecified "error" event. ('+t+")");throw d.context=t,d}if(n(r=this._events[e]))return!1;if(i(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),r.apply(this,o)}else if(a(r))for(o=Array.prototype.slice.call(arguments,1),s=(u=r.slice()).length,l=0;l<s;l++)u[l].apply(this,o);return!0},r.prototype.addListener=function(e,t){var s;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(s=n(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var r=!1;function a(){this.removeListener(e,a),r||(r=!0,t.apply(this,arguments))}return a.listener=t,this.on(e,a),this},r.prototype.removeListener=function(e,t){var r,n,s,o;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(r=this._events[e]).length,n=-1,r===t||i(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(r)){for(o=s;o-- >0;)if(r[o]===t||r[o].listener&&r[o].listener===t){n=o;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},"./node_modules/url-toolkit/src/url-toolkit.js":
/*!*****************************************************!*\
  !*** ./node_modules/url-toolkit/src/url-toolkit.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){var i,a,n,s,o;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,a=/^([^\/?#]*)(.*)$/,n=/(?:\/|^)\.(?=\/)/g,s=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(e,t,r){if(r=r||{},e=e.trim(),!(t=t.trim())){if(!r.alwaysNormalize)return e;var i=o.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=o.normalizePath(i.path),o.buildURLFromParts(i)}var n=o.parseURL(t);if(!n)throw new Error("Error trying to parse relative URL.");if(n.scheme)return r.alwaysNormalize?(n.path=o.normalizePath(n.path),o.buildURLFromParts(n)):t;var s=o.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var l=a.exec(s.path);s.netLoc=l[1],s.path=l[2]}s.netLoc&&!s.path&&(s.path="/");var u={scheme:s.scheme,netLoc:n.netLoc,path:null,params:n.params,query:n.query,fragment:n.fragment};if(!n.netLoc&&(u.netLoc=s.netLoc,"/"!==n.path[0]))if(n.path){var d=s.path,c=d.substring(0,d.lastIndexOf("/")+1)+n.path;u.path=o.normalizePath(c)}else u.path=s.path,n.params||(u.params=s.params,n.query||(u.query=s.query));return null===u.path&&(u.path=r.alwaysNormalize?o.normalizePath(n.path):n.path),o.buildURLFromParts(u)},parseURL:function(e){var t=i.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(n,"");e.length!==(e=e.replace(s,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}},e.exports=o},"./node_modules/webworkify-webpack/index.js":
/*!**************************************************!*\
  !*** ./node_modules/webworkify-webpack/index.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){function i(e){var t={};function r(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var i=r(r.s=ENTRY_MODULE);return i.default||i}function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function n(e,t,i){var n={};n[i]=[];var s=t.toString(),o=s.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!o)return n;for(var l,u=o[1],d=new RegExp("(\\\\n|\\W)"+a(u)+"\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)","g");l=d.exec(s);)"dll-reference"!==l[3]&&n[i].push(l[3]);for(d=new RegExp("\\("+a(u)+'\\("(dll-reference\\s([\\.|\\-|\\+|\\w|/|@]+))"\\)\\)\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)',"g");l=d.exec(s);)e[l[2]]||(n[i].push(l[1]),e[l[2]]=r(l[1]).m),n[l[2]]=n[l[2]]||[],n[l[2]].push(l[4]);for(var c,f=Object.keys(n),h=0;h<f.length;h++)for(var p=0;p<n[f[h]].length;p++)c=n[f[h]][p],isNaN(1*c)||(n[f[h]][p]=1*n[f[h]][p]);return n}function s(e){return Object.keys(e).reduce((function(t,r){return t||e[r].length>0}),!1)}e.exports=function(e,t){t=t||{};var a={main:r.m},o=t.all?{main:Object.keys(a.main)}:function(e,t){for(var r={main:[t]},i={main:[]},a={main:{}};s(r);)for(var o=Object.keys(r),l=0;l<o.length;l++){var u=o[l],d=r[u].pop();if(a[u]=a[u]||{},!a[u][d]&&e[u][d]){a[u][d]=!0,i[u]=i[u]||[],i[u].push(d);for(var c=n(e,e[u][d],u),f=Object.keys(c),h=0;h<f.length;h++)r[f[h]]=r[f[h]]||[],r[f[h]]=r[f[h]].concat(c[f[h]])}}return i}(a,e),l="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),a[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",l=l+"var "+e+" = ("+i.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+a[e][t].toString()})).join(",")+"});\n"})),l=l+"new (("+i.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+a.main[e].toString()})).join(",")+"}))(self);";var u=new window.Blob([l],{type:"text/javascript"});if(t.bare)return u;var d=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(u),c=new window.Worker(d);return c.objectURL=d,c}},"./src/config.js":
/*!***********************!*\
  !*** ./src/config.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./controller/abr-controller */"./src/controller/abr-controller.js"),a=r(/*! ./controller/buffer-controller */"./src/controller/buffer-controller.js"),n=r(/*! ./controller/cap-level-controller */"./src/controller/cap-level-controller.js"),s=r(/*! ./controller/fps-controller */"./src/controller/fps-controller.js"),o=r(/*! ./utils/xhr-loader */"./src/utils/xhr-loader.js"),l=r(/*! ./controller/audio-track-controller */"./src/controller/audio-track-controller.js"),u=r(/*! ./controller/audio-stream-controller */"./src/controller/audio-stream-controller.js"),d=r(/*! ./utils/cues */"./src/utils/cues.js"),c=r(/*! ./controller/timeline-controller */"./src/controller/timeline-controller.js"),f=r(/*! ./controller/subtitle-track-controller */"./src/controller/subtitle-track-controller.js"),h=r(/*! ./controller/subtitle-stream-controller */"./src/controller/subtitle-stream-controller.js"),p=r(/*! ./controller/eme-controller */"./src/controller/eme-controller.js"),g=r(/*! ./utils/mediakeys-helper */"./src/utils/mediakeys-helper.js");t.hlsDefaultConfig={autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:o.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:i.default,bufferController:a.default,capLevelController:n.default,fpsController:s.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,requestMediaKeySystemAccessFunc:g.requestMediaKeySystemAccess},t.hlsDefaultConfig.subtitleStreamController=h.SubtitleStreamController,t.hlsDefaultConfig.subtitleTrackController=f.default,t.hlsDefaultConfig.timelineController=c.default,t.hlsDefaultConfig.cueHandler=d,t.hlsDefaultConfig.enableCEA708Captions=!0,t.hlsDefaultConfig.enableWebVTT=!0,t.hlsDefaultConfig.captionsTextTrack1Label="English",t.hlsDefaultConfig.captionsTextTrack1LanguageCode="en",t.hlsDefaultConfig.captionsTextTrack2Label="Spanish",t.hlsDefaultConfig.captionsTextTrack2LanguageCode="es",t.hlsDefaultConfig.audioStreamController=u.default,t.hlsDefaultConfig.audioTrackController=l.default,t.hlsDefaultConfig.emeController=p.default},"./src/controller/abr-controller.js":
/*!******************************************!*\
  !*** ./src/controller/abr-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=r(/*! ../errors */"./src/errors.js"),u=r(/*! ../utils/logger */"./src/utils/logger.js"),d=r(/*! ../utils/ewma-bandwidth-estimator */"./src/utils/ewma-bandwidth-estimator.js"),c=window.performance,f=function(t){function r(e){var r=t.call(this,e,n.default.FRAG_LOADING,n.default.FRAG_LOADED,n.default.FRAG_BUFFERED,n.default.ERROR)||this;return r.lastLoadedFragLevel=0,r._nextAutoLevel=-1,r.hls=e,r.timer=null,r._bwEstimator=null,r.onCheck=r._abandonRulesCheck.bind(r),r}return a(r,t),r.prototype.destroy=function(){this.clearTimer(),s.default.prototype.destroy.call(this)},r.prototype.onFragLoading=function(e){var t=e.frag;if("main"===t.type&&(this.timer||(this.fragCurrent=t,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var r=this.hls,i=r.config,a=t.level,n=void 0,s=void 0;r.levels[a].details.live?(n=i.abrEwmaFastLive,s=i.abrEwmaSlowLive):(n=i.abrEwmaFastVoD,s=i.abrEwmaSlowVoD),this._bwEstimator=new d.default(r,s,n,i.abrEwmaDefaultEstimate)}},r.prototype._abandonRulesCheck=function(){var e=this.hls,t=e.media,r=this.fragCurrent;if(r){var i=r.loader,a=e.minAutoLevel;if(!i||i.stats&&i.stats.aborted)return u.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var s=i.stats;if(t&&s&&(!t.paused&&0!==t.playbackRate||!t.readyState)&&r.autoLevel&&r.level){var l=c.now()-s.trequest,d=Math.abs(t.playbackRate);if(l>500*r.duration/d){var f=e.levels,h=Math.max(1,s.bw?s.bw/8:1e3*s.loaded/l),p=f[r.level],g=p.realBitrate?Math.max(p.realBitrate,p.bitrate):p.bitrate,v=s.total?s.total:Math.max(s.loaded,Math.round(r.duration*g/8)),m=t.currentTime,y=(v-s.loaded)/h,E=(o.BufferHelper.bufferInfo(t,m,e.config.maxBufferHole).end-m)/d;if(E<2*r.duration/d&&y>E){var _=void 0,T=void 0;for(T=r.level-1;T>a;T--){var S=f[T].realBitrate?Math.max(f[T].realBitrate,f[T].bitrate):f[T].bitrate;if((_=r.duration*S/(6.4*h))<E)break}_<y&&(u.logger.warn("loading too slow, abort fragment loading and switch to level "+T+":fragLoadedDelay["+T+"]<fragLoadedDelay["+(r.level-1)+"];bufferStarvationDelay:"+_.toFixed(1)+"<"+y.toFixed(1)+":"+E.toFixed(1)),e.nextLoadLevel=T,this._bwEstimator.sample(l,s.loaded),i.abort(),this.clearTimer(),e.trigger(n.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:r,stats:s}))}}}}},r.prototype.onFragLoaded=function(t){var r=t.frag;if("main"===r.type&&e.isFinite(r.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=r.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var i=this.hls.levels[r.level],a=(i.loaded?i.loaded.bytes:0)+t.stats.loaded,n=(i.loaded?i.loaded.duration:0)+t.frag.duration;i.loaded={bytes:a,duration:n},i.realBitrate=Math.round(8*a/n)}if(t.frag.bitrateTest){var s=t.stats;s.tparsed=s.tbuffered=s.tload,this.onFragBuffered(t)}}},r.prototype.onFragBuffered=function(t){var r=t.stats,i=t.frag;if(!0!==r.aborted&&"main"===i.type&&e.isFinite(i.sn)&&(!i.bitrateTest||r.tload===r.tbuffered)){var a=r.tparsed-r.trequest;u.logger.log("latency/loading/parsing/append/kbps:"+Math.round(r.tfirst-r.trequest)+"/"+Math.round(r.tload-r.tfirst)+"/"+Math.round(r.tparsed-r.tload)+"/"+Math.round(r.tbuffered-r.tparsed)+"/"+Math.round(8*r.loaded/(r.tbuffered-r.trequest))),this._bwEstimator.sample(a,r.loaded),r.bwEstimate=this._bwEstimator.getEstimate(),i.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}},r.prototype.onError=function(e){switch(e.details){case l.ErrorDetails.FRAG_LOAD_ERROR:case l.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},r.prototype.clearTimer=function(){clearInterval(this.timer),this.timer=null},Object.defineProperty(r.prototype,"nextAutoLevel",{get:function(){var e=this._nextAutoLevel,t=this._bwEstimator;if(!(-1===e||t&&t.canEstimate()))return e;var r=this._nextABRAutoLevel;return-1!==e&&(r=Math.min(e,r)),r},set:function(e){this._nextAutoLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"_nextABRAutoLevel",{get:function(){var e=this.hls,t=e.maxAutoLevel,r=e.levels,i=e.config,a=e.minAutoLevel,n=e.media,s=this.lastLoadedFragLevel,l=this.fragCurrent?this.fragCurrent.duration:0,d=n?n.currentTime:0,c=n&&0!==n.playbackRate?Math.abs(n.playbackRate):1,f=this._bwEstimator?this._bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(o.BufferHelper.bufferInfo(n,d,i.maxBufferHole).end-d)/c,p=this._findBestLevel(s,l,f,a,t,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor,r);if(p>=0)return p;u.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var g=l?Math.min(l,i.maxStarvationDelay):i.maxStarvationDelay,v=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(0===h){var y=this.bitrateTestDelay;y&&(g=(l?Math.min(l,i.maxLoadingDelay):i.maxLoadingDelay)-y,u.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*g)+" ms"),v=m=1)}return p=this._findBestLevel(s,l,f,a,t,h+g,v,m,r),Math.max(p,0)},enumerable:!0,configurable:!0}),r.prototype._findBestLevel=function(e,t,r,i,a,n,s,o,l){for(var d=a;d>=i;d--){var c=l[d];if(c){var f=c.details,h=f?f.totalduration/f.fragments.length:t,p=!!f&&f.live,g=void 0;g=d<=e?s*r:o*r;var v=l[d].realBitrate?Math.max(l[d].realBitrate,l[d].bitrate):l[d].bitrate,m=v*h/g;if(u.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+d+"/"+Math.round(g)+"/"+v+"/"+h+"/"+n+"/"+m),g>v&&(!m||p&&!this.bitrateTestDelay||m<n))return d}}return-1},r}(s.default);t.default=f}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-stream-controller.js":
/*!***************************************************!*\
  !*** ./src/controller/audio-stream-controller.js ***!
  \***************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/binary-search */"./src/utils/binary-search.js"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),o=r(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ./level-helper */"./src/controller/level-helper.js"),d=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),c=r(/*! ../errors */"./src/errors.js"),f=r(/*! ../utils/logger */"./src/utils/logger.js"),h=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),p=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),g=r(/*! ../loader/fragment */"./src/loader/fragment.js"),v=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),m=window.performance,y=function(t){function r(e,r){var i=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.AUDIO_TRACKS_UPDATED,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.BUFFER_RESET,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED,l.default.INIT_PTS_FOUND)||this;return i.fragmentTracker=r,i.config=e.config,i.audioCodecSwap=!1,i._state=v.State.STOPPED,i.initPTS=[],i.waitingFragment=null,i.videoTrackCC=null,i}return a(r,t),r.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=v.State.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.prototype.onInitPtsFound=function(e){var t=e.id,r=e.frag.cc,i=e.initPTS;"main"===t&&(this.initPTS[r]=i,this.videoTrackCC=r,f.logger.log("InitPTS for cc: "+r+" found from video track: "+i),this.state===v.State.WAITING_INIT_PTS&&this.tick())},r.prototype.startLoad=function(e){if(this.tracks){var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(f.logger.log("audio:override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=v.State.IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:e,this.state=v.State.STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=e,this.state=v.State.STOPPED},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=v.State.STOPPED},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,f.logger.log("audio stream:"+t+"->"+e)}},enumerable:!0,configurable:!0}),r.prototype.doTick=function(){var t,r,i,a=this.hls,o=a.config;switch(this.state){case v.State.ERROR:case v.State.PAUSED:case v.State.BUFFER_FLUSHING:break;case v.State.STARTING:this.state=v.State.WAITING_TRACK,this.loadedmetadata=!1;break;case v.State.IDLE:var u=this.tracks;if(!u)break;if(!this.media&&(this.startFragRequested||!o.startFragPrefetch))break;if(this.loadedmetadata)t=this.media.currentTime;else if(void 0===(t=this.nextLoadPosition))break;var d=this.mediaBuffer?this.mediaBuffer:this.media,c=this.videoBuffer?this.videoBuffer:this.media,g=s.BufferHelper.bufferInfo(d,t,o.maxBufferHole),y=s.BufferHelper.bufferInfo(c,t,o.maxBufferHole),E=g.len,_=g.end,T=this.fragPrevious,S=Math.min(o.maxBufferLength,o.maxMaxBufferLength),b=Math.max(S,y.len),A=this.audioSwitch,R=this.trackId;if((E<b||A)&&R<u.length){if(void 0===(i=u[R].details)){this.state=v.State.WAITING_TRACK;break}if(!A&&this._streamEnded(g,i))return this.hls.trigger(l.default.BUFFER_EOS,{type:"audio"}),void(this.state=v.State.ENDED);var D=i.fragments,L=D.length,w=D[0].start,O=D[L-1].start+D[L-1].duration,I=void 0;if(A)if(i.live&&!i.PTSKnown)f.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),_=0;else if(_=t,i.PTSKnown&&t<w){if(!(g.end>w||g.nextStart))return;f.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=w+.05}if(i.initSegment&&!i.initSegment.data)I=i.initSegment;else if(_<=w){if(I=D[0],null!==this.videoTrackCC&&I.cc!==this.videoTrackCC&&(I=h.findFragWithCC(D,this.videoTrackCC)),i.live&&I.loadIdx&&I.loadIdx===this.fragLoadIdx){var k=g.nextStart?g.nextStart:w;return f.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(k+.05)),void(this.media.currentTime=k+.05)}}else{var P=void 0,C=o.maxFragLookUpTolerance,x=T?D[T.sn-D[0].sn+1]:void 0,F=function(e){var t=Math.min(C,e.duration);return e.start+e.duration-t<=_?1:e.start-t>_&&e.start?-1:0};_<O?(_>O-C&&(C=0),P=x&&!F(x)?x:n.default.search(D,F)):P=D[L-1],P&&(I=P,w=P.start,T&&I.level===T.level&&I.sn===T.sn&&(I.sn<i.endSN?(I=D[I.sn+1-i.startSN],f.logger.log("SN just loaded, load next one: "+I.sn)):I=null))}I&&(I.encrypted?(f.logger.log("Loading key for "+I.sn+" of ["+i.startSN+" ,"+i.endSN+"],track "+R),this.state=v.State.KEY_LOADING,a.trigger(l.default.KEY_LOADING,{frag:I})):(f.logger.log("Loading "+I.sn+", cc: "+I.cc+" of ["+i.startSN+" ,"+i.endSN+"],track "+R+", currentTime:"+t+",bufferEnd:"+_.toFixed(3)),this.fragCurrent=I,(A||this.fragmentTracker.getState(I)===p.FragmentState.NOT_LOADED)&&(this.startFragRequested=!0,e.isFinite(I.sn)&&(this.nextLoadPosition=I.start+I.duration),a.trigger(l.default.FRAG_LOADING,{frag:I}),this.state=v.State.FRAG_LOADING)))}break;case v.State.WAITING_TRACK:(r=this.tracks[this.trackId])&&r.details&&(this.state=v.State.IDLE);break;case v.State.FRAG_LOADING_WAITING_RETRY:var M=m.now(),N=this.retryDate,j=(d=this.media)&&d.seeking;(!N||M>=N||j)&&(f.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=v.State.IDLE);break;case v.State.WAITING_INIT_PTS:var U=this.videoTrackCC;if(void 0===this.initPTS[U])break;var B=this.waitingFragment;if(B){var G=B.frag.cc;U!==G?(r=this.tracks[this.trackId]).details&&r.details.live&&(f.logger.warn("Waiting fragment CC ("+G+") does not match video track CC ("+U+")"),this.waitingFragment=null,this.state=v.State.IDLE):(this.state=v.State.FRAG_LOADING,this.onFragLoaded(this.waitingFragment),this.waitingFragment=null)}else this.state=v.State.IDLE;break;case v.State.STOPPED:case v.State.FRAG_LOADING:case v.State.PARSING:case v.State.PARSED:case v.State.ENDED:}},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("ended",this.onvended);var r=this.config;this.tracks&&r.autoStartLoad&&this.startLoad(r.startPosition)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(f.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onAudioTracksUpdated=function(e){f.logger.log("audio tracks updated"),this.tracks=e.audioTracks},r.prototype.onAudioTrackSwitching=function(e){var t=!!e.url;this.trackId=e.id,this.fragCurrent=null,this.state=v.State.PAUSED,this.waitingFragment=null,t?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),t&&(this.audioSwitch=!0,this.state=v.State.IDLE),this.tick()},r.prototype.onAudioTrackLoaded=function(t){var r=t.details,i=t.id,a=this.tracks[i],n=r.totalduration,s=0;if(f.logger.log("track "+i+" loaded ["+r.startSN+","+r.endSN+"],duration:"+n),r.live){var o=a.details;o&&r.fragments.length>0?(u.mergeDetails(o,r),s=r.fragments[0].start,r.PTSKnown?f.logger.log("live audio playlist sliding:"+s.toFixed(3)):f.logger.log("live audio playlist - outdated PTS, unknown sliding")):(r.PTSKnown=!1,f.logger.log("live audio playlist - first load, unknown sliding"))}else r.PTSKnown=!1;if(a.details=r,!this.startFragRequested){if(-1===this.startPosition){var l=r.startTimeOffset;e.isFinite(l)?(f.logger.log("start time offset found in playlist, adjust startPosition to "+l),this.startPosition=l):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===v.State.WAITING_TRACK&&(this.state=v.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===v.State.KEY_LOADING&&(this.state=v.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag;if(this.state===v.State.FRAG_LOADING&&t&&"audio"===r.type&&r.level===t.level&&r.sn===t.sn){var i=this.tracks[this.trackId],a=i.details,n=a.totalduration,s=t.level,u=t.sn,d=t.cc,c=this.config.defaultAudioCodec||i.audioCodec||"mp4a.40.2",h=this.stats=e.stats;if("initSegment"===u)this.state=v.State.IDLE,h.tparsed=h.tbuffered=m.now(),a.initSegment.data=e.payload,this.hls.trigger(l.default.FRAG_BUFFERED,{stats:h,frag:t,id:"audio"}),this.tick();else{this.state=v.State.PARSING,this.appended=!1,this.demuxer||(this.demuxer=new o.default(this.hls,"audio"));var p=this.initPTS[d],g=a.initSegment?a.initSegment.data:[];a.initSegment||void 0!==p?(this.pendingBuffering=!0,f.logger.log("Demuxing "+u+" of ["+a.startSN+" ,"+a.endSN+"],track "+s),this.demuxer.push(e.payload,g,c,null,t,n,!1,p)):(f.logger.log("unknown video PTS for continuity counter "+d+", waiting for video PTS before demuxing audio frag "+u+" of ["+a.startSN+" ,"+a.endSN+"],track "+s),this.waitingFragment=e,this.state=v.State.WAITING_INIT_PTS)}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===v.State.PARSING){var i=e.tracks,a=void 0;if(i.video&&delete i.video,a=i.audio){a.levelCodec=a.codec,a.id=e.id,this.hls.trigger(l.default.BUFFER_CODECS,i),f.logger.log("audio track:audio,container:"+a.container+",codecs[level/parsed]=["+a.levelCodec+"/"+a.codec+"]");var n=a.initSegment;if(n){var s={type:"audio",data:n,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[s]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,s))}this.tick()}}},r.prototype.onFragParsingData=function(t){var r=this,i=this.fragCurrent,a=t.frag;if(i&&"audio"===t.id&&"audio"===t.type&&a.sn===i.sn&&a.level===i.level&&this.state===v.State.PARSING){var n=this.trackId,s=this.tracks[n],o=this.hls;e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),i.addElementaryStream(g.default.ElementaryStreamTypes.AUDIO),f.logger.log("parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb),u.updateFragPTSDTS(s.details,i,t.startPTS,t.endPTS);var d=this.audioSwitch,h=this.media,p=!1;if(d&&h)if(h.readyState){var m=h.currentTime;f.logger.log("switching audio track : currentTime:"+m),m>=t.startPTS&&(f.logger.log("switching audio track : flushing all audio"),this.state=v.State.BUFFER_FLUSHING,o.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),p=!0,this.audioSwitch=!1,o.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:n}))}else this.audioSwitch=!1,o.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:n});var y=this.pendingData;if(!y)return f.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void o.trigger(l.default.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([t.data1,t.data2].forEach((function(e){e&&e.length&&y.push({type:t.type,data:e,parent:"audio",content:"data"})})),!p&&y.length&&(y.forEach((function(e){r.state===v.State.PARSING&&(r.pendingBuffering=!0,r.hls.trigger(l.default.BUFFER_APPENDING,e))})),this.pendingData=[],this.appended=!0)),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"audio"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===v.State.PARSING&&(this.stats.tparsed=m.now(),this.state=v.State.PARSED,this._checkAppendedParsed())},r.prototype.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},r.prototype.onBufferCreated=function(e){var t=e.tracks.audio;t&&(this.mediaBuffer=t.buffer,this.loadedmetadata=!0),e.tracks.video&&(this.videoBuffer=e.tracks.video.buffer)},r.prototype.onBufferAppended=function(e){if("audio"===e.parent){var t=this.state;t!==v.State.PARSING&&t!==v.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==v.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent,t=this.stats,r=this.hls;if(e){this.fragPrevious=e,t.tbuffered=m.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:t,frag:e,id:"audio"});var i=this.mediaBuffer?this.mediaBuffer:this.media;f.logger.log("audio buffered : "+d.default.toString(i.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,r.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=v.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag;if(!r||"audio"===r.type)switch(t.details){case c.ErrorDetails.FRAG_LOAD_ERROR:case c.ErrorDetails.FRAG_LOAD_TIMEOUT:var i=t.frag;if(i&&"audio"!==i.type)break;if(!t.fatal){var a=this.fragLoadError;if(a?a++:a=1,a<=(o=this.config).fragLoadingMaxRetry){this.fragLoadError=a;var n=Math.min(Math.pow(2,a-1)*o.fragLoadingRetryDelay,o.fragLoadingMaxRetryTimeout);f.logger.warn("AudioStreamController: frag loading failed, retry in "+n+" ms"),this.retryDate=m.now()+n,this.state=v.State.FRAG_LOADING_WAITING_RETRY}else f.logger.error("AudioStreamController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=v.State.ERROR}break;case c.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case c.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case c.ErrorDetails.KEY_LOAD_ERROR:case c.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==v.State.ERROR&&(this.state=t.fatal?v.State.ERROR:v.State.IDLE,f.logger.warn("AudioStreamController: "+t.details+" while loading frag, now switching to "+this.state+" state ..."));break;case c.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===t.parent&&(this.state===v.State.PARSING||this.state===v.State.PARSED)){var o,u=this.mediaBuffer,d=this.media.currentTime;u&&s.BufferHelper.isBuffered(u,d)&&s.BufferHelper.isBuffered(u,d+.5)?((o=this.config).maxMaxBufferLength>=o.maxBufferLength&&(o.maxMaxBufferLength/=2,f.logger.warn("AudioStreamController: reduce max buffer length to "+o.maxMaxBufferLength+"s")),this.state=v.State.IDLE):(f.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=v.State.BUFFER_FLUSHING,this.hls.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}))}}},r.prototype.onBufferFlushed=function(){var e=this,t=this.pendingData;t&&t.length?(f.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),t.forEach((function(t){e.hls.trigger(l.default.BUFFER_APPENDING,t)})),this.appended=!0,this.pendingData=[],this.state=v.State.PARSED):(this.state=v.State.IDLE,this.fragPrevious=null,this.tick())},r}(v.default);t.default=y}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/audio-track-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/audio-track-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../task-loop */"./src/task-loop.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../errors */"./src/errors.js"),u=function(e){function t(t){var r=e.call(this,t,n.default.MANIFEST_LOADING,n.default.MANIFEST_PARSED,n.default.AUDIO_TRACK_LOADED,n.default.AUDIO_TRACK_SWITCHED,n.default.LEVEL_LOADED,n.default.ERROR)||this;return r._trackId=-1,r._selectDefaultTrack=!0,r.tracks=[],r.trackIdBlacklist=Object.create(null),r.audioGroupId=null,r}return a(t,e),t.prototype.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},t.prototype.onManifestParsed=function(e){var t=this.tracks=e.audioTracks||[];this.hls.trigger(n.default.AUDIO_TRACKS_UPDATED,{audioTracks:t})},t.prototype.onAudioTrackLoaded=function(e){if(e.id>=this.tracks.length)o.logger.warn("Invalid audio track id:",e.id);else{if(o.logger.log("audioTrack "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.hasInterval()){var t=1e3*e.details.targetduration;this.setInterval(t)}!e.details.live&&this.hasInterval()&&this.clearInterval()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.tracks[e.id].groupId;t&&this.audioGroupId!==t&&(this.audioGroupId=t)},t.prototype.onLevelLoaded=function(e){var t=this.hls.levels[e.level];if(t.audioGroupIds){var r=t.audioGroupIds[t.urlId];this.audioGroupId!==r&&(this.audioGroupId=r,this._selectInitialAudioTrack())}},t.prototype.onError=function(e){e.type===l.ErrorTypes.NETWORK_ERROR&&(e.fatal&&this.clearInterval(),e.details===l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(o.logger.warn("Network failure on audio-track id:",e.context.id),this._handleLoadError()))},Object.defineProperty(t.prototype,"audioTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){return this._trackId},set:function(e){this._setAudioTrack(e),this._selectDefaultTrack=!1},enumerable:!0,configurable:!0}),t.prototype._setAudioTrack=function(e){if(this._trackId===e&&this.tracks[this._trackId].details)o.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(e<0||e>=this.tracks.length)o.logger.warn("Invalid id passed to audio-track controller");else{var t=this.tracks[e];o.logger.log("Now switching to audio-track index "+e),this.clearInterval(),this._trackId=e;var r=t.url,i=t.type,a=t.id;this.hls.trigger(n.default.AUDIO_TRACK_SWITCHING,{id:a,type:i,url:r}),this._loadTrackDetailsIfNeeded(t)}},t.prototype.doTick=function(){this._updateTrack(this._trackId)},t.prototype._selectInitialAudioTrack=function(){var e=this,t=this.tracks;if(t.length){var r=this.tracks[this._trackId],i=null;if(r&&(i=r.name),this._selectDefaultTrack){var a=t.filter((function(e){return e.default}));a.length?t=a:o.logger.warn("No default audio tracks defined")}var s=!1,u=function(){t.forEach((function(t){s||e.audioGroupId&&t.groupId!==e.audioGroupId||i&&i!==t.name||(e._setAudioTrack(t.id),s=!0)}))};u(),s||(i=null,u()),s||(o.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(n.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},t.prototype._needsTrackLoading=function(e){var t=e.details,r=e.url;return!(t&&!t.live||!r)},t.prototype._loadTrackDetailsIfNeeded=function(e){if(this._needsTrackLoading(e)){var t=e.url,r=e.id;o.logger.log("loading audio-track playlist for id: "+r),this.hls.trigger(n.default.AUDIO_TRACK_LOADING,{url:t,id:r})}},t.prototype._updateTrack=function(e){if(!(e<0||e>=this.tracks.length)){this.clearInterval(),this._trackId=e,o.logger.log("trying to update audio-track "+e);var t=this.tracks[e];this._loadTrackDetailsIfNeeded(t)}},t.prototype._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var e=this._trackId,t=this.tracks[e],r=t.name,i=t.language,a=t.groupId;o.logger.warn("Loading failed on audio track id: "+e+", group-id: "+a+', name/language: "'+r+'" / "'+i+'"');for(var n=e,s=0;s<this.tracks.length;s++)if(!this.trackIdBlacklist[s]&&this.tracks[s].name===r){n=s;break}n!==e?(o.logger.log("Attempting audio-track fallback id:",n,"group-id:",this.tracks[n].groupId),this._setAudioTrack(n)):o.logger.warn('No fallback audio-track found for name/language: "'+r+'" / "'+i+'"')},t}(s.default);t.default=u},"./src/controller/base-stream-controller.js":
/*!**************************************************!*\
  !*** ./src/controller/base-stream-controller.js ***!
  \**************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../task-loop */"./src/task-loop.js"),s=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),o=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js");t.State={STOPPED:"STOPPED",STARTING:"STARTING",IDLE:"IDLE",PAUSED:"PAUSED",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",BUFFER_FLUSHING:"BUFFER_FLUSHING",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};var u=function(r){function i(){return null!==r&&r.apply(this,arguments)||this}return a(i,r),i.prototype.doTick=function(){},i.prototype._streamEnded=function(e,t){var r=this.fragCurrent,i=this.fragmentTracker;if(!t.live&&r&&!r.backtracked&&r.sn===t.endSN&&!e.nextStart){var a=i.getState(r);return a===s.FragmentState.PARTIAL||a===s.FragmentState.OK}return!1},i.prototype.onMediaSeeking=function(){var r=this.config,i=this.media,a=this.mediaBuffer,n=this.state,s=i?i.currentTime:null,u=o.BufferHelper.bufferInfo(a||i,s,this.config.maxBufferHole);if(e.isFinite(s)&&l.logger.log("media seeking to "+s.toFixed(3)),n===t.State.FRAG_LOADING){var d=this.fragCurrent;if(0===u.len&&d){var c=r.maxFragLookUpTolerance,f=d.start-c,h=d.start+d.duration+c;s<f||s>h?(d.loader&&(l.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),d.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=t.State.IDLE):l.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else n===t.State.ENDED&&(0===u.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=t.State.IDLE);i&&(this.lastCurrentTime=s),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=s),this.tick()},i.prototype.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},i}(n.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/buffer-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/buffer-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../errors */"./src/errors.js"),u=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js").getMediaSource(),d=function(t){function r(e){var r=t.call(this,e,n.default.MEDIA_ATTACHING,n.default.MEDIA_DETACHING,n.default.MANIFEST_PARSED,n.default.BUFFER_RESET,n.default.BUFFER_APPENDING,n.default.BUFFER_CODECS,n.default.BUFFER_EOS,n.default.BUFFER_FLUSHING,n.default.LEVEL_PTS_UPDATED,n.default.LEVEL_UPDATED)||this;return r._msDuration=null,r._levelDuration=null,r._levelTargetDuration=10,r._live=null,r._objectUrl=null,r.bufferCodecEventsExpected=0,r.onsbue=r.onSBUpdateEnd.bind(r),r.onsbe=r.onSBUpdateError.bind(r),r.pendingTracks={},r.tracks={},r}return a(r,t),r.prototype.destroy=function(){s.default.prototype.destroy.call(this)},r.prototype.onLevelPtsUpdated=function(e){var t=e.type,r=this.tracks.audio;if("audio"===t&&r&&"audio/mpeg"===r.container){var i=this.sourceBuffer.audio;if(Math.abs(i.timestampOffset-e.start)>.1){var a=i.updating;try{i.abort()}catch(e){o.logger.warn("can not abort audio buffer: "+e)}a?this.audioTimestampOffset=e.start:(o.logger.warn("change mpeg audio timestamp offset from "+i.timestampOffset+" to "+e.start),i.timestampOffset=e.start)}}},r.prototype.onManifestParsed=function(e){this.bufferCodecEventsExpected=e.altAudio?2:1,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},r.prototype.onMediaAttaching=function(e){var t=this.media=e.media;if(t){var r=this.mediaSource=new u;this.onmso=this.onMediaSourceOpen.bind(this),this.onmse=this.onMediaSourceEnded.bind(this),this.onmsc=this.onMediaSourceClose.bind(this),r.addEventListener("sourceopen",this.onmso),r.addEventListener("sourceended",this.onmse),r.addEventListener("sourceclose",this.onmsc),t.src=window.URL.createObjectURL(r),this._objectUrl=t.src}},r.prototype.onMediaDetaching=function(){o.logger.log("media source detaching");var e=this.mediaSource;if(e){if("open"===e.readyState)try{e.endOfStream()}catch(e){o.logger.warn("onMediaDetaching:"+e.message+" while calling endOfStream")}e.removeEventListener("sourceopen",this.onmso),e.removeEventListener("sourceended",this.onmse),e.removeEventListener("sourceclose",this.onmsc),this.media&&(window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):o.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.onmso=this.onmse=this.onmsc=null,this.hls.trigger(n.default.MEDIA_DETACHED)},r.prototype.onMediaSourceOpen=function(){o.logger.log("media source opened"),this.hls.trigger(n.default.MEDIA_ATTACHED,{media:this.media});var e=this.mediaSource;e&&e.removeEventListener("sourceopen",this.onmso),this.checkPendingTracks()},r.prototype.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.pendingTracks,r=Object.keys(t).length;(r&&!e||2===r)&&(this.createSourceBuffers(t),this.pendingTracks={},this.doAppending())},r.prototype.onMediaSourceClose=function(){o.logger.log("media source closed")},r.prototype.onMediaSourceEnded=function(){o.logger.log("media source ended")},r.prototype.onSBUpdateEnd=function(){if(this.audioTimestampOffset){var e=this.sourceBuffer.audio;o.logger.warn("change mpeg audio timestamp offset from "+e.timestampOffset+" to "+this.audioTimestampOffset),e.timestampOffset=this.audioTimestampOffset,delete this.audioTimestampOffset}this._needsFlush&&this.doFlush(),this._needsEos&&this.checkEos(),this.appending=!1;var t=this.parent,r=this.segments.reduce((function(e,r){return r.parent===t?e+1:e}),0),i={},a=this.sourceBuffer;for(var s in a)i[s]=a[s].buffered;this.hls.trigger(n.default.BUFFER_APPENDED,{parent:t,pending:r,timeRanges:i}),this._needsFlush||this.doAppending(),this.updateMediaElementDuration(),0===r&&this.flushLiveBackBuffer()},r.prototype.onSBUpdateError=function(e){o.logger.error("sourceBuffer error:",e),this.hls.trigger(n.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferReset=function(){var e=this.sourceBuffer;for(var t in e){var r=e[t];try{this.mediaSource.removeSourceBuffer(r),r.removeEventListener("updateend",this.onsbue),r.removeEventListener("error",this.onsbe)}catch(e){}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},r.prototype.onBufferCodecs=function(e){var t=this;if(!Object.keys(this.sourceBuffer).length){Object.keys(e).forEach((function(r){t.pendingTracks[r]=e[r]}));var r=this.mediaSource;this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),r&&"open"===r.readyState&&this.checkPendingTracks()}},r.prototype.createSourceBuffers=function(e){var t=this.sourceBuffer,r=this.mediaSource;for(var i in e)if(!t[i]){var a=e[i],s=a.levelCodec||a.codec,u=a.container+";codecs="+s;o.logger.log("creating sourceBuffer("+u+")");try{var d=t[i]=r.addSourceBuffer(u);d.addEventListener("updateend",this.onsbue),d.addEventListener("error",this.onsbe),this.tracks[i]={codec:s,container:a.container},a.buffer=d}catch(e){o.logger.error("error while trying to add sourceBuffer:"+e.message),this.hls.trigger(n.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:e,mimeType:u})}}this.hls.trigger(n.default.BUFFER_CREATED,{tracks:e})},r.prototype.onBufferAppending=function(e){this._needsFlush||(this.segments?this.segments.push(e):this.segments=[e],this.doAppending())},r.prototype.onBufferAppendFail=function(e){o.logger.error("sourceBuffer error:",e.event),this.hls.trigger(n.default.ERROR,{type:l.ErrorTypes.MEDIA_ERROR,details:l.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},r.prototype.onBufferEos=function(e){var t=this.sourceBuffer,r=e.type;for(var i in t)r&&i!==r||t[i].ended||(t[i].ended=!0,o.logger.log(i+" sourceBuffer now EOS"));this.checkEos()},r.prototype.checkEos=function(){var e=this.sourceBuffer,t=this.mediaSource;if(t&&"open"===t.readyState){for(var r in e){var i=e[r];if(!i.ended)return;if(i.updating)return void(this._needsEos=!0)}o.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{t.endOfStream()}catch(e){o.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},r.prototype.onBufferFlushing=function(e){this.flushRange.push({start:e.startOffset,end:e.endOffset,type:e.type}),this.flushBufferCounter=0,this.doFlush()},r.prototype.flushLiveBackBuffer=function(){if(this._live){var e=this.hls.config.liveBackBufferLength;if(isFinite(e)&&!(e<0))for(var t=this.media.currentTime,r=this.sourceBuffer,i=Object.keys(r),a=t-Math.max(e,this._levelTargetDuration),n=i.length-1;n>=0;n--){var s=i[n],o=r[s].buffered;o.length>0&&a>o.start(0)&&this.removeBufferRange(s,r[s],0,a)}}},r.prototype.onLevelUpdated=function(e){var t=e.details;t.fragments.length>0&&(this._levelDuration=t.totalduration+t.fragments[0].start,this._levelTargetDuration=t.averagetargetduration||t.targetduration||10,this._live=t.live,this.updateMediaElementDuration())},r.prototype.updateMediaElementDuration=function(){var t,r=this.hls.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var i in this.sourceBuffer)if(!0===this.sourceBuffer[i].updating)return;t=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===r.liveDurationInfinity?(o.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>t||!e.isFinite(t))&&(o.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},r.prototype.doFlush=function(){for(;this.flushRange.length;){var e=this.flushRange[0];if(!this.flushBuffer(e.start,e.end,e.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var t=0,r=this.sourceBuffer;try{for(var i in r)t+=r[i].buffered.length}catch(e){o.logger.error("error while accessing sourceBuffer.buffered")}this.appended=t,this.hls.trigger(n.default.BUFFER_FLUSHED)}},r.prototype.doAppending=function(){var e=this.hls,t=this.segments,r=this.sourceBuffer;if(Object.keys(r).length){if(this.media.error)return this.segments=[],void o.logger.error("trying to append although a media error occured, flush segment and abort");if(this.appending)return;if(t&&t.length){var i=t.shift();try{var a=r[i.type];a?a.updating?t.unshift(i):(a.ended=!1,this.parent=i.parent,a.appendBuffer(i.data),this.appendError=0,this.appended++,this.appending=!0):this.onSBUpdateEnd()}catch(r){o.logger.error("error while trying to append buffer:"+r.message),t.unshift(i);var s={type:l.ErrorTypes.MEDIA_ERROR,parent:i.parent};22!==r.code?(this.appendError?this.appendError++:this.appendError=1,s.details=l.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>e.config.appendErrorMaxRetry?(o.logger.log("fail "+e.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],s.fatal=!0,e.trigger(n.default.ERROR,s)):(s.fatal=!1,e.trigger(n.default.ERROR,s))):(this.segments=[],s.details=l.ErrorDetails.BUFFER_FULL_ERROR,s.fatal=!1,e.trigger(n.default.ERROR,s))}}}},r.prototype.flushBuffer=function(e,t,r){var i,a=this.sourceBuffer;if(Object.keys(a).length){if(o.logger.log("flushBuffer,pos/start/end: "+this.media.currentTime.toFixed(3)+"/"+e+"/"+t),this.flushBufferCounter<this.appended){for(var n in a)if(!r||n===r){if((i=a[n]).ended=!1,i.updating)return o.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(n,i,e,t))return this.flushBufferCounter++,!1}}else o.logger.warn("abort flushing too many retries");o.logger.log("buffer flushed")}return!0},r.prototype.removeBufferRange=function(e,t,r,i){try{for(var a=0;a<t.buffered.length;a++){var n=t.buffered.start(a),s=t.buffered.end(a),l=Math.max(n,r),u=Math.min(s,i);if(Math.min(u,s)-l>.5)return o.logger.log("sb remove "+e+" ["+l+","+u+"], of ["+n+","+s+"], pos:"+this.media.currentTime),t.remove(l,u),!0}}catch(e){o.logger.warn("removeBufferRange failed",e)}return!1},r}(s.default);t.default=d}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/cap-level-controller.js":
/*!************************************************!*\
  !*** ./src/controller/cap-level-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=function(t){function r(r){var i=t.call(this,r,n.default.FPS_DROP_LEVEL_CAPPING,n.default.MEDIA_ATTACHING,n.default.MANIFEST_PARSED,n.default.BUFFER_CODECS,n.default.MEDIA_DETACHING)||this;return i.autoLevelCapping=e.POSITIVE_INFINITY,i.firstLevel=null,i.levels=[],i.media=null,i.restrictedLevels=[],i.timer=null,i}return a(r,t),r.prototype.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this._stopCapping())},r.prototype.onFpsDropLevelCapping=function(e){r.isLevelAllowed(e.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(e.droppedLevel)},r.prototype.onMediaAttaching=function(e){this.media=e.media instanceof window.HTMLVideoElement?e.media:null},r.prototype.onManifestParsed=function(e){var t=this.hls;this.restrictedLevels=[],this.levels=e.levels,this.firstLevel=e.firstLevel,t.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onBufferCodecs=function(e){this.hls.config.capLevelToPlayerSize&&e.video&&this._startCapping()},r.prototype.onLevelsUpdated=function(e){this.levels=e.levels},r.prototype.onMediaDetaching=function(){this._stopCapping()},r.prototype.detectPlayerSize=function(){if(this.media){var e=this.levels?this.levels.length:0;if(e){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e-1),t.autoLevelCapping>this.autoLevelCapping&&t.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},r.prototype.getMaxLevel=function(e){var t=this;if(!this.levels)return-1;var i=this.levels.filter((function(i,a){return r.isLevelAllowed(a,t.restrictedLevels)&&a<=e}));return r.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},r.prototype._startCapping=function(){this.timer||(this.autoLevelCapping=e.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},r.prototype._stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=e.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},Object.defineProperty(r.prototype,"mediaWidth",{get:function(){var e,t=this.media;return t&&(e=t.width||t.clientWidth||t.offsetWidth,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mediaHeight",{get:function(){var e,t=this.media;return t&&(e=t.height||t.clientHeight||t.offsetHeight,e*=r.contentScaleFactor),e},enumerable:!0,configurable:!0}),Object.defineProperty(r,"contentScaleFactor",{get:function(){var e=1;try{e=window.devicePixelRatio}catch(e){}return e},enumerable:!0,configurable:!0}),r.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},r.getMaxLevelByMediaSize=function(e,t,r){if(!e||e&&!e.length)return-1;for(var i,a,n=e.length-1,s=0;s<e.length;s+=1){var o=e[s];if((o.width>=t||o.height>=r)&&(i=o,!(a=e[s+1])||i.width!==a.width||i.height!==a.height)){n=s;break}}return n},r}(r(/*! ../event-handler */"./src/event-handler.js").default);t.default=s}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/eme-controller.js":
/*!******************************************!*\
  !*** ./src/controller/eme-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../events */"./src/events.js"),o=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=window.XMLHttpRequest,d="com.widevine.alpha",c="com.microsoft.playready",f=function(e){function t(t){var r=e.call(this,t,s.default.MEDIA_ATTACHED,s.default.MANIFEST_PARSED)||this;return r._widevineLicenseUrl=t.config.widevineLicenseUrl,r._licenseXhrSetup=t.config.licenseXhrSetup,r._emeEnabled=t.config.emeEnabled,r._requestMediaKeySystemAccess=t.config.requestMediaKeySystemAccessFunc,r._mediaKeysList=[],r._media=null,r._hasSetMediaKeys=!1,r._isMediaEncrypted=!1,r._requestLicenseFailureCount=0,r}return a(t,e),t.prototype.getLicenseServerUrl=function(e){var t;switch(e){case d:t=this._widevineLicenseUrl;break;default:t=null}return t||(l.logger.error('No license server URL configured for key-system "'+e+'"'),this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})),t},t.prototype._attemptKeySystemAccess=function(e,t,r){var i=this,a=function(e,t,r){switch(e){case d:return function(e,t,r){var i={videoCapabilities:[]};return t.forEach((function(e){i.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"'})})),[i]}(0,r);default:throw Error("Unknown key-system: "+e)}}(e,0,r);a?(l.logger.log("Requesting encrypted media key-system access"),this.requestMediaKeySystemAccess(e,a).then((function(t){i._onMediaKeySystemAccessObtained(e,t)})).catch((function(t){l.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))):l.logger.warn("Can not create config for key-system (maybe because platform is not supported):",e)},Object.defineProperty(t.prototype,"requestMediaKeySystemAccess",{get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess},enumerable:!0,configurable:!0}),t.prototype._onMediaKeySystemAccessObtained=function(e,t){var r=this;l.logger.log('Access for key-system "'+e+'" obtained');var i={mediaKeys:null,mediaKeysSession:null,mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(i),t.createMediaKeys().then((function(t){i.mediaKeys=t,l.logger.log('Media-keys created for key-system "'+e+'"'),r._onMediaKeysCreated()})).catch((function(e){l.logger.error("Failed to create media-keys:",e)}))},t.prototype._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},t.prototype._onNewMediaKeySession=function(e){var t=this;l.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(r){t._onKeySessionMessage(e,r.message)}),!1)},t.prototype._onKeySessionMessage=function(e,t){l.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){l.logger.log("Received license data, updating key-session"),e.update(t)}))},t.prototype._onMediaEncrypted=function(e,t){l.logger.log('Media is encrypted using "'+e+'" init data type'),this._isMediaEncrypted=!0,this._mediaEncryptionInitDataType=e,this._mediaEncryptionInitData=t,this._attemptSetMediaKeys(),this._generateRequestWithPreferredKeySession()},t.prototype._attemptSetMediaKeys=function(){if(!this._hasSetMediaKeys){var e=this._mediaKeysList[0];if(!e||!e.mediaKeys)return l.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});l.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(e.mediaKeys),this._hasSetMediaKeys=!0}},t.prototype._generateRequestWithPreferredKeySession=function(){var e=this,t=this._mediaKeysList[0];if(!t)return l.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(t.mediaKeysSessionInitialized)l.logger.warn("Key-Session already initialized but requested again");else{var r=t.mediaKeysSession;r||(l.logger.error("Fatal: Media is encrypted but no key-session existing"),this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}));var i=this._mediaEncryptionInitDataType,a=this._mediaEncryptionInitData;l.logger.log('Generating key-session request for "'+i+'" init data type'),t.mediaKeysSessionInitialized=!0,r.generateRequest(i,a).then((function(){l.logger.debug("Key-session generation succeeded")})).catch((function(t){l.logger.error("Error generating key-session request:",t),e.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},t.prototype._createLicenseXhr=function(e,t,r){var i=new u,a=this._licenseXhrSetup;try{if(a)try{a(i,e)}catch(t){i.open("POST",e,!0),a(i,e)}i.readyState||i.open("POST",e,!0)}catch(e){return l.logger.error("Error setting up key-system license XHR",e),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}return i.responseType="arraybuffer",i.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,i,e,t,r),i},t.prototype._onLicenseRequestReadyStageChange=function(e,t,r,i){switch(e.readyState){case 4:if(200===e.status)this._requestLicenseFailureCount=0,l.logger.log("License request succeeded"),i(e.response);else{if(l.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount<=3){var a=3-this._requestLicenseFailureCount+1;return l.logger.warn("Retrying license request, "+a+" attempts left"),void this._requestLicense(r,i)}this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}}},t.prototype._generateLicenseRequestChallenge=function(e,t){var r;return e.mediaKeySystemDomain===c?l.logger.error("PlayReady is not supported (yet)"):e.mediaKeySystemDomain===d?r=t:l.logger.error("Unsupported key-system:",e.mediaKeySystemDomain),r},t.prototype._requestLicense=function(e,t){l.logger.log("Requesting content license for key-system");var r=this._mediaKeysList[0];if(!r)return l.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(s.default.ERROR,{type:o.ErrorTypes.KEY_SYSTEM_ERROR,details:o.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});var i=this.getLicenseServerUrl(r.mediaKeySystemDomain),a=this._createLicenseXhr(i,e,t);l.logger.log("Sending license request to URL: "+i),a.send(this._generateLicenseRequestChallenge(r,e))},t.prototype.onMediaAttached=function(e){var t=this;if(this._emeEnabled){var r=e.media;this._media=r,r.addEventListener("encrypted",(function(e){t._onMediaEncrypted(e.initDataType,e.initData)}))}},t.prototype.onManifestParsed=function(e){if(this._emeEnabled){var t=e.levels.map((function(e){return e.audioCodec})),r=e.levels.map((function(e){return e.videoCodec}));this._attemptKeySystemAccess(d,t,r)}},t}(n.default);t.default=f},"./src/controller/fps-controller.js":
/*!******************************************!*\
  !*** ./src/controller/fps-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),l=window.performance,u=function(e){function t(t){return e.call(this,t,n.default.MEDIA_ATTACHING)||this}return a(t,e),t.prototype.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},t.prototype.onMediaAttaching=function(e){var t=this.hls.config;t.capLevelOnFPSDrop&&("function"==typeof(this.video=e.media instanceof window.HTMLVideoElement?e.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),t.fpsDroppedMonitoringPeriod))},t.prototype.checkFPS=function(e,t,r){var i=l.now();if(t){if(this.lastTime){var a=i-this.lastTime,s=r-this.lastDroppedFrames,u=t-this.lastDecodedFrames,d=1e3*s/a,c=this.hls;if(c.trigger(n.default.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:r}),d>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var f=c.currentLevel;o.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(f-=1,c.trigger(n.default.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,c.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}},t.prototype.checkFPSInterval=function(){var e=this.video;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},t}(s.default);t.default=u},"./src/controller/fragment-finders.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-finders.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/binary-search */"./src/utils/binary-search.js");function a(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0);var i=Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.start+r.duration-i<=e?1:r.start-i>e&&r.start?-1:0}function n(e,t,r){var i=1e3*Math.min(t,r.duration+(r.deltaPTS?r.deltaPTS:0));return r.endProgramDateTime-i>e}t.findFragmentByPDT=function(t,r,i){if(!Array.isArray(t)||!t.length||!e.isFinite(r))return null;if(r<t[0].programDateTime)return null;if(r>=t[t.length-1].endProgramDateTime)return null;i=i||0;for(var a=0;a<t.length;++a){var s=t[a];if(n(r,i,s))return s}return null},t.findFragmentByPTS=function(e,t,r,n){void 0===r&&(r=0),void 0===n&&(n=0);var s=e?t[e.sn-t[0].sn+1]:null;return s&&!a(r,n,s)?s:i.default.search(t,a.bind(null,r,n))},t.fragmentWithinToleranceTest=a,t.pdtWithinToleranceTest=n}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/fragment-tracker.js":
/*!********************************************!*\
  !*** ./src/controller/fragment-tracker.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../event-handler */"./src/event-handler.js"),s=r(/*! ../events */"./src/events.js");t.FragmentState={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};var o=function(r){function i(e){var t=r.call(this,e,s.default.BUFFER_APPENDED,s.default.FRAG_BUFFERED,s.default.FRAG_LOADED)||this;return t.bufferPadding=.2,t.fragments=Object.create(null),t.timeRanges=Object.create(null),t.config=e.config,t}return a(i,r),i.prototype.destroy=function(){this.fragments=null,this.timeRanges=null,this.config=null,n.default.prototype.destroy.call(this),r.prototype.destroy.call(this)},i.prototype.getBufferedFrag=function(e,t){var r=this.fragments,i=Object.keys(r).filter((function(i){var a=r[i];if(a.body.type!==t)return!1;if(!a.buffered)return!1;var n=a.body;return n.startPTS<=e&&e<=n.endPTS}));if(0===i.length)return null;var a=i.pop();return r[a].body},i.prototype.detectEvictedFragments=function(e,t){var r,i,a=this;Object.keys(this.fragments).forEach((function(n){var s=a.fragments[n];if(!0===s.buffered){var o=s.range[e];if(o){r=o.time;for(var l=0;l<r.length;l++)if(i=r[l],!1===a.isTimeBuffered(i.startPTS,i.endPTS,t)){a.removeFragment(s.body);break}}}}))},i.prototype.detectPartialFragments=function(e){var t=this,r=this.getFragmentKey(e),i=this.fragments[r];i&&(i.buffered=!0,Object.keys(this.timeRanges).forEach((function(r){if(e.hasElementaryStream(r)){var a=t.timeRanges[r];i.range[r]=t.getBufferedTimes(e.startPTS,e.endPTS,a)}})))},i.prototype.getBufferedTimes=function(e,t,r){for(var i,a,n=[],s=!1,o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,a=r.end(o)+this.bufferPadding,e>=i&&t<=a){n.push({startPTS:Math.max(e,r.start(o)),endPTS:Math.min(t,r.end(o))});break}if(e<a&&t>i)n.push({startPTS:Math.max(e,r.start(o)),endPTS:Math.min(t,r.end(o))}),s=!0;else if(t<=i)break}return{time:n,partial:s}},i.prototype.getFragmentKey=function(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn},i.prototype.getPartialFragment=function(e){var t,r,i,a=this,n=null,s=0;return Object.keys(this.fragments).forEach((function(o){var l=a.fragments[o];a.isPartial(l)&&(r=l.body.startPTS-a.bufferPadding,i=l.body.endPTS+a.bufferPadding,e>=r&&e<=i&&(t=Math.min(e-r,i-e),s<=t&&(n=l.body,s=t)))})),n},i.prototype.getState=function(e){var r=this.getFragmentKey(e),i=this.fragments[r],a=t.FragmentState.NOT_LOADED;return void 0!==i&&(a=i.buffered?!0===this.isPartial(i)?t.FragmentState.PARTIAL:t.FragmentState.OK:t.FragmentState.APPENDING),a},i.prototype.isPartial=function(e){return!0===e.buffered&&(void 0!==e.range.video&&!0===e.range.video.partial||void 0!==e.range.audio&&!0===e.range.audio.partial)},i.prototype.isTimeBuffered=function(e,t,r){for(var i,a,n=0;n<r.length;n++){if(i=r.start(n)-this.bufferPadding,a=r.end(n)+this.bufferPadding,e>=i&&t<=a)return!0;if(t<=i)return!1}return!1},i.prototype.onFragLoaded=function(t){var r=t.frag;e.isFinite(r.sn)&&!r.bitrateTest&&(this.fragments[this.getFragmentKey(r)]={body:r,range:Object.create(null),buffered:!1})},i.prototype.onBufferAppended=function(e){var t=this;this.timeRanges=e.timeRanges,Object.keys(this.timeRanges).forEach((function(e){var r=t.timeRanges[e];t.detectEvictedFragments(e,r)}))},i.prototype.onFragBuffered=function(e){this.detectPartialFragments(e.frag)},i.prototype.hasFragment=function(e){var t=this.getFragmentKey(e);return void 0!==this.fragments[t]},i.prototype.removeFragment=function(e){var t=this.getFragmentKey(e);delete this.fragments[t]},i.prototype.removeAllFragments=function(){this.fragments=Object.create(null)},i}(n.default);t.FragmentTracker=o}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/gap-controller.js":
/*!******************************************!*\
  !*** ./src/controller/gap-controller.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),a=r(/*! ../errors */"./src/errors.js"),n=r(/*! ../events */"./src/events.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),o=function(){function e(e,t,r,i){this.config=e,this.media=t,this.fragmentTracker=r,this.hls=i,this.stallReported=!1}return e.prototype.poll=function(e,t){var r=this.config,a=this.media,n=a.currentTime,o=window.performance.now();if(n!==e)return this.stallReported&&(s.logger.warn("playback not stuck anymore @"+n+", after "+Math.round(o-this.stalled)+"ms"),this.stallReported=!1),this.stalled=null,void(this.nudgeRetry=0);if(!(a.ended||!a.buffered.length||a.readyState>2||a.seeking&&i.BufferHelper.isBuffered(a,n))){var l=o-this.stalled,u=i.BufferHelper.bufferInfo(a,n,r.maxBufferHole);this.stalled?(l>=1e3&&this._reportStall(u.len),this._tryFixBufferStall(u,l)):this.stalled=o}},e.prototype._tryFixBufferStall=function(e,t){var r=this.config,i=this.fragmentTracker,a=this.media.currentTime,n=i.getPartialFragment(a);n&&this._trySkipBufferHole(n),e.len>.5&&t>1e3*r.highBufferWatchdogPeriod&&(this.stalled=null,this._tryNudgeBuffer())},e.prototype._reportStall=function(e){var t=this.hls,r=this.media;this.stallReported||(this.stallReported=!0,s.logger.warn("Playback stalling at @"+r.currentTime+" due to low buffer"),t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e}))},e.prototype._trySkipBufferHole=function(e){for(var t=this.hls,r=this.media,i=r.currentTime,o=0,l=0;l<r.buffered.length;l++){var u=r.buffered.start(l);if(i>=o&&i<u)return r.currentTime=Math.max(u,r.currentTime+.1),s.logger.warn("skipping hole, adjusting currentTime from "+i+" to "+r.currentTime),this.stalled=null,void t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+i+" to "+r.currentTime,frag:e});o=r.buffered.end(l)}},e.prototype._tryNudgeBuffer=function(){var e=this.config,t=this.hls,r=this.media,i=r.currentTime,o=(this.nudgeRetry||0)+1;if(this.nudgeRetry=o,o<e.nudgeMaxRetry){var l=i+o*e.nudgeOffset;s.logger.log("adjust currentTime from "+i+" to "+l),r.currentTime=l,t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else s.logger.error("still stuck in high buffer @"+i+" after "+e.nudgeMaxRetry+", raise fatal error"),t.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},e}();t.default=o},"./src/controller/id3-track-controller.js":
/*!************************************************!*\
  !*** ./src/controller/id3-track-controller.js ***!
  \************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../demux/id3 */"./src/demux/id3.js"),l=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),u=function(e){function t(t){var r=e.call(this,t,n.default.MEDIA_ATTACHED,n.default.MEDIA_DETACHING,n.default.FRAG_PARSING_METADATA)||this;return r.id3Track=void 0,r.media=void 0,r}return a(t,e),t.prototype.destroy=function(){s.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){this.media=e.media,this.media},t.prototype.onMediaDetaching=function(){l.clearCurrentCues(this.id3Track),this.id3Track=void 0,this.media=void 0},t.prototype.getID3Track=function(e){for(var t=0;t<e.length;t++){var r=e[t];if("metadata"===r.kind&&"id3"===r.label)return l.sendAddTrackEvent(r,this.media),r}return this.media.addTextTrack("metadata","id3")},t.prototype.onFragParsingMetadata=function(e){var t=e.frag,r=e.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var i=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,a=0;a<r.length;a++){var n=o.default.getID3Frames(r[a].data);if(n){var s=r[a].pts,l=a<r.length-1?r[a+1].pts:t.endPTS;s===l&&(l+=1e-4);for(var u=0;u<n.length;u++){var d=n[u];if(!o.default.isTimeStampFrame(d)){var c=new i(s,l,"");c.value=d,this.id3Track.addCue(c)}}}}},t}(s.default);t.default=u},"./src/controller/level-controller.js":
/*!********************************************!*\
  !*** ./src/controller/level-controller.js ***!
  \********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n,s=r(/*! ../events */"./src/events.js"),o=r(/*! ../event-handler */"./src/event-handler.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../errors */"./src/errors.js"),d=r(/*! ../utils/codecs */"./src/utils/codecs.js"),c=r(/*! ./level-helper */"./src/controller/level-helper.js"),f=window.performance,h=function(e){function t(t){var r=e.call(this,t,s.default.MANIFEST_LOADED,s.default.LEVEL_LOADED,s.default.AUDIO_TRACK_SWITCHED,s.default.FRAG_LOADED,s.default.ERROR)||this;return r.canload=!1,r.currentLevelIndex=null,r.manualLevelIndex=-1,r.timer=null,n=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),r}return a(t,e),t.prototype.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},t.prototype.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},t.prototype.startLoad=function(){var e=this._levels;this.canload=!0,this.levelRetryCount=0,e&&e.forEach((function(e){e.loadError=0;var t=e.details;t&&t.live&&(e.details=void 0)})),null!==this.timer&&this.loadLevel()},t.prototype.stopLoad=function(){this.canload=!1},t.prototype.onManifestLoaded=function(e){var t,r=[],i=[],a={},o=null,f=!1,h=!1;if(e.levels.forEach((function(e){var t=e.attrs;e.loadError=0,e.fragmentError=!1,f=f||!!e.videoCodec,h=h||!!e.audioCodec,n&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0),(o=a[e.bitrate])?o.url.push(e.url):(e.url=[e.url],e.urlId=0,a[e.bitrate]=e,r.push(e)),t&&(t.AUDIO&&(h=!0,c.addGroupId(o||e,"audio",t.AUDIO)),t.SUBTITLES&&c.addGroupId(o||e,"text",t.SUBTITLES))})),f&&h&&(r=r.filter((function(e){return!!e.videoCodec}))),r=r.filter((function(e){var t=e.audioCodec,r=e.videoCodec;return(!t||d.isCodecSupportedInMp4(t,"audio"))&&(!r||d.isCodecSupportedInMp4(r,"video"))})),e.audioTracks&&(i=e.audioTracks.filter((function(e){return!e.audioCodec||d.isCodecSupportedInMp4(e.audioCodec,"audio")}))).forEach((function(e,t){e.id=t})),r.length>0){t=r[0].bitrate,r.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=r;for(var p=0;p<r.length;p++)if(r[p].bitrate===t){this._firstLevel=p,l.logger.log("manifest loaded,"+r.length+" level(s) found, first bitrate:"+t);break}this.hls.trigger(s.default.MANIFEST_PARSED,{levels:r,audioTracks:i,firstLevel:this._firstLevel,stats:e.stats,audio:h,video:f,altAudio:i.some((function(e){return!!e.url}))})}else this.hls.trigger(s.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},Object.defineProperty(t.prototype,"levels",{get:function(){return this._levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this.currentLevelIndex},set:function(e){var t=this._levels;t&&(e=Math.min(e,t.length-1),this.currentLevelIndex===e&&t[e].details||this.setLevelInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setLevelInternal=function(e){var t=this._levels,r=this.hls;if(e>=0&&e<t.length){if(this.clearTimer(),this.currentLevelIndex!==e){l.logger.log("switching to level "+e),this.currentLevelIndex=e;var i=t[e];i.level=e,r.trigger(s.default.LEVEL_SWITCHING,i)}var a=t[e],n=a.details;if(!n||n.live){var o=a.urlId;r.trigger(s.default.LEVEL_LOADING,{url:a.url[o],level:e,id:o})}}else r.trigger(s.default.ERROR,{type:u.ErrorTypes.OTHER_ERROR,details:u.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:!1,reason:"invalid level idx"})},Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return this._firstLevel},set:function(e){this._firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e},enumerable:!0,configurable:!0}),t.prototype.onError=function(e){if(e.fatal)e.type===u.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var t,r=!1,i=!1;switch(e.details){case u.ErrorDetails.FRAG_LOAD_ERROR:case u.ErrorDetails.FRAG_LOAD_TIMEOUT:case u.ErrorDetails.KEY_LOAD_ERROR:case u.ErrorDetails.KEY_LOAD_TIMEOUT:t=e.frag.level,i=!0;break;case u.ErrorDetails.LEVEL_LOAD_ERROR:case u.ErrorDetails.LEVEL_LOAD_TIMEOUT:t=e.context.level,r=!0;break;case u.ErrorDetails.REMUX_ALLOC_ERROR:t=e.level,r=!0}void 0!==t&&this.recoverLevel(e,t,r,i)}},t.prototype.recoverLevel=function(e,t,r,i){var a,n,s,o=this,u=this.hls.config,d=e.details,c=this._levels[t];if(c.loadError++,c.fragmentError=i,r){if(!(this.levelRetryCount+1<=u.levelLoadingMaxRetry))return l.logger.error("level controller, cannot recover from "+d+" error"),this.currentLevelIndex=null,this.clearTimer(),void(e.fatal=!0);n=Math.min(Math.pow(2,this.levelRetryCount)*u.levelLoadingRetryDelay,u.levelLoadingMaxRetryTimeout),this.timer=setTimeout((function(){return o.loadLevel()}),n),e.levelRetry=!0,this.levelRetryCount++,l.logger.warn("level controller, "+d+", retry in "+n+" ms, current retry count is "+this.levelRetryCount)}(r||i)&&((a=c.url.length)>1&&c.loadError<a?(c.urlId=(c.urlId+1)%a,c.details=void 0,l.logger.warn("level controller, "+d+" for level "+t+": switching to redundant URL-id "+c.urlId)):-1===this.manualLevelIndex?(s=0===t?this._levels.length-1:t-1,l.logger.warn("level controller, "+d+": switch to "+s),this.hls.nextAutoLevel=this.currentLevelIndex=s):i&&(l.logger.warn("level controller, "+d+": reload a fragment"),this.currentLevelIndex=null))},t.prototype.onFragLoaded=function(e){var t=e.frag;if(void 0!==t&&"main"===t.type){var r=this._levels[t.level];void 0!==r&&(r.fragmentError=!1,r.loadError=0,this.levelRetryCount=0)}},t.prototype.onLevelLoaded=function(e){var t=this,r=e.level;if(r===this.currentLevelIndex){var i=this._levels[r];i.fragmentError||(i.loadError=0,this.levelRetryCount=0);var a=e.details;if(a.live){var n=1e3*(a.averagetargetduration?a.averagetargetduration:a.targetduration),s=n,o=i.details;o&&a.endSN===o.endSN&&(s/=2,l.logger.log("same live playlist, reload twice faster")),s-=f.now()-e.stats.trequest,s=Math.max(n/2,Math.round(s)),l.logger.log("live playlist, reload in "+Math.round(s)+" ms"),this.timer=setTimeout((function(){return t.loadLevel()}),s)}else this.clearTimer()}},t.prototype.onAudioTrackSwitched=function(e){var t=this.hls.audioTracks[e.id].groupId,r=this.hls.levels[this.currentLevelIndex];if(r&&r.audioGroupIds){var i=r.audioGroupIds.findIndex((function(e){return e===t}));i!==r.urlId&&(r.urlId=i,this.startLoad())}},t.prototype.loadLevel=function(){if(l.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var e=this._levels[this.currentLevelIndex];if("object"==typeof e&&e.url.length>0){var t=this.currentLevelIndex,r=e.urlId,i=e.url[r];l.logger.log("Attempt loading level index "+t+" with URL-id "+r),this.hls.trigger(s.default.LEVEL_LOADING,{url:i,level:t,id:r})}}},Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)},enumerable:!0,configurable:!0}),t}(o.default);t.default=h},"./src/controller/level-helper.js":
/*!****************************************!*\
  !*** ./src/controller/level-helper.js ***!
  \****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/logger */"./src/utils/logger.js");function a(t,r,a){var n=t[r],s=t[a],o=s.startPTS;e.isFinite(o)?a>r?(n.duration=o-n.start,n.duration<0&&i.logger.warn("negative duration computed for frag "+n.sn+",level "+n.level+", there should be some duration drift between playlist and fragment!")):(s.duration=n.start-o,s.duration<0&&i.logger.warn("negative duration computed for frag "+s.sn+",level "+s.level+", there should be some duration drift between playlist and fragment!")):s.start=a>r?n.start+n.duration:Math.max(n.start-s.duration,0)}function n(t,r,i,n,s,o){var l=i;if(e.isFinite(r.startPTS)){var u=Math.abs(r.startPTS-i);e.isFinite(r.deltaPTS)?r.deltaPTS=Math.max(u,r.deltaPTS):r.deltaPTS=u,l=Math.max(i,r.startPTS),i=Math.min(i,r.startPTS),n=Math.max(n,r.endPTS),s=Math.min(s,r.startDTS),o=Math.max(o,r.endDTS)}var d=i-r.start;r.start=r.startPTS=i,r.maxStartPTS=l,r.endPTS=n,r.startDTS=s,r.endDTS=o,r.duration=n-i;var c,f,h,p=r.sn;if(!t||p<t.startSN||p>t.endSN)return 0;for(c=p-t.startSN,(f=t.fragments)[c]=r,h=c;h>0;h--)a(f,h,h-1);for(h=c;h<f.length-1;h++)a(f,h,h+1);return t.PTSKnown=!0,d}t.addGroupId=function(e,t,r){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(r);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(r)}},t.updatePTS=a,t.updateFragPTSDTS=n,t.mergeDetails=function(t,r){var a,s=Math.max(t.startSN,r.startSN)-r.startSN,o=Math.min(t.endSN,r.endSN)-r.startSN,l=r.startSN-t.startSN,u=t.fragments,d=r.fragments,c=0;if(r.initSegment&&t.initSegment&&(r.initSegment=t.initSegment),o<s)r.PTSKnown=!1;else{for(var f=s;f<=o;f++){var h=u[l+f],p=d[f];p&&h&&(c=h.cc-p.cc,e.isFinite(h.startPTS)&&(p.start=p.startPTS=h.startPTS,p.endPTS=h.endPTS,p.duration=h.duration,p.backtracked=h.backtracked,p.dropped=h.dropped,a=p))}if(c)for(i.logger.log("discontinuity sliding from playlist, take drift into account"),f=0;f<d.length;f++)d[f].cc+=c;if(a)n(r,a,a.startPTS,a.endPTS,a.startDTS,a.endDTS);else if(l>=0&&l<u.length){var g=u[l].start;for(f=0;f<d.length;f++)d[f].start+=g}r.PTSKnown=t.PTSKnown}}}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/stream-controller.js":
/*!*********************************************!*\
  !*** ./src/controller/stream-controller.js ***!
  \*********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../utils/binary-search */"./src/utils/binary-search.js"),s=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),o=r(/*! ../demux/demuxer */"./src/demux/demuxer.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),d=r(/*! ../loader/fragment */"./src/loader/fragment.js"),c=r(/*! ../loader/playlist-loader */"./src/loader/playlist-loader.js"),f=r(/*! ./level-helper */"./src/controller/level-helper.js"),h=r(/*! ../utils/time-ranges */"./src/utils/time-ranges.js"),p=r(/*! ../errors */"./src/errors.js"),g=r(/*! ../utils/logger */"./src/utils/logger.js"),v=r(/*! ../utils/discontinuities */"./src/utils/discontinuities.js"),m=r(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),y=r(/*! ./gap-controller */"./src/controller/gap-controller.js"),E=r(/*! ./base-stream-controller */"./src/controller/base-stream-controller.js"),_=function(t){function r(e,r){var i=t.call(this,e,l.default.MEDIA_ATTACHED,l.default.MEDIA_DETACHING,l.default.MANIFEST_LOADING,l.default.MANIFEST_PARSED,l.default.LEVEL_LOADED,l.default.KEY_LOADED,l.default.FRAG_LOADED,l.default.FRAG_LOAD_EMERGENCY_ABORTED,l.default.FRAG_PARSING_INIT_SEGMENT,l.default.FRAG_PARSING_DATA,l.default.FRAG_PARSED,l.default.ERROR,l.default.AUDIO_TRACK_SWITCHING,l.default.AUDIO_TRACK_SWITCHED,l.default.BUFFER_CREATED,l.default.BUFFER_APPENDED,l.default.BUFFER_FLUSHED)||this;return i.fragmentTracker=r,i.config=e.config,i.audioCodecSwap=!1,i._state=E.State.STOPPED,i.stallReported=!1,i.gapController=null,i}return a(r,t),r.prototype.onHandlerDestroying=function(){this.stopLoad(),t.prototype.onHandlerDestroying.call(this)},r.prototype.onHandlerDestroyed=function(){this.state=E.State.STOPPED,this.fragmentTracker=null,t.prototype.onHandlerDestroyed.call(this)},r.prototype.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,r=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var i=r.startLevel;-1===i&&(i=0,this.bitrateTest=!0),this.level=r.nextLoadLevel=i,this.loadedmetadata=!1}t>0&&-1===e&&(g.logger.log("override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=E.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this.forceStartLoad=!0,this.state=E.State.STOPPED},r.prototype.stopLoad=function(){var e=this.fragCurrent;e&&(e.loader&&e.loader.abort(),this.fragmentTracker.removeFragment(e),this.fragCurrent=null),this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.clearInterval(),this.state=E.State.STOPPED,this.forceStartLoad=!1},r.prototype.doTick=function(){switch(this.state){case E.State.BUFFER_FLUSHING:this.fragLoadError=0;break;case E.State.IDLE:this._doTickIdle();break;case E.State.WAITING_LEVEL:var e=this.levels[this.level];e&&e.details&&(this.state=E.State.IDLE);break;case E.State.FRAG_LOADING_WAITING_RETRY:var t=window.performance.now(),r=this.retryDate;(!r||t>=r||this.media&&this.media.seeking)&&(g.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=E.State.IDLE);break;case E.State.ERROR:case E.State.STOPPED:case E.State.FRAG_LOADING:case E.State.PARSING:case E.State.PARSED:case E.State.ENDED:}this._checkBuffer(),this._checkFragmentChanged()},r.prototype._doTickIdle=function(){var e=this.hls,t=e.config,r=this.media;if(void 0!==this.levelLastLoaded&&(r||!this.startFragRequested&&t.startFragPrefetch)){var i;i=this.loadedmetadata?r.currentTime:this.nextLoadPosition;var a=e.nextLoadLevel,n=this.levels[a];if(n){var o,u=n.bitrate;o=u?Math.max(8*t.maxBufferSize/u,t.maxBufferLength):t.maxBufferLength,o=Math.min(o,t.maxMaxBufferLength);var d=s.BufferHelper.bufferInfo(this.mediaBuffer?this.mediaBuffer:r,i,t.maxBufferHole),c=d.len;if(!(c>=o)){g.logger.trace("buffer length of "+c.toFixed(3)+" is below max of "+o.toFixed(3)+". checking for more payload ..."),this.level=e.nextLoadLevel=a;var f=n.details;if(!f||f.live&&this.levelLastLoaded!==a)this.state=E.State.WAITING_LEVEL;else{if(this._streamEnded(d,f)){var h={};return this.altAudio&&(h.type="video"),this.hls.trigger(l.default.BUFFER_EOS,h),void(this.state=E.State.ENDED)}this._fetchPayloadOrEos(i,d,f)}}}}},r.prototype._fetchPayloadOrEos=function(e,t,r){var i=this.fragPrevious,a=this.level,n=r.fragments,s=n.length;if(0!==s){var o,l=n[0].start,u=n[s-1].start+n[s-1].duration,d=t.end;if(r.initSegment&&!r.initSegment.data)o=r.initSegment;else if(r.live){var c=this.config.initialLiveManifestSize;if(s<c)return void g.logger.warn("Can not start playback of a level, reason: not enough fragments "+s+" < "+c);if(null===(o=this._ensureFragmentAtLivePoint(r,d,l,u,i,n,s)))return}else d<l&&(o=n[0]);o||(o=this._findFragment(l,i,s,n,d,u,r)),o&&(o.encrypted?(g.logger.log("Loading key for "+o.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+a),this._loadKey(o)):(g.logger.log("Loading "+o.sn+" of ["+r.startSN+" ,"+r.endSN+"],level "+a+", currentTime:"+e.toFixed(3)+",bufferEnd:"+d.toFixed(3)),this._loadFragment(o)))}},r.prototype._ensureFragmentAtLivePoint=function(e,t,r,i,a,s,o){var l,u=this.hls.config,d=this.media,c=void 0!==u.liveMaxLatencyDuration?u.liveMaxLatencyDuration:u.liveMaxLatencyDurationCount*e.targetduration;if(t<Math.max(r-u.maxFragLookUpTolerance,i-c)){var f=this.liveSyncPosition=this.computeLivePosition(r,e);g.logger.log("buffer end: "+t.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+f.toFixed(3)),t=f,d&&d.readyState&&d.duration>f&&(d.currentTime=f),this.nextLoadPosition=f}if(e.PTSKnown&&t>i&&d&&d.readyState)return null;if(this.startFragRequested&&!e.PTSKnown){if(a)if(e.hasProgramDateTime)g.logger.log("live playlist, switching playlist, load frag with same PDT: "+a.programDateTime),l=m.findFragmentByPDT(s,a.endProgramDateTime,u.maxFragLookUpTolerance);else{var h=a.sn+1;if(h>=e.startSN&&h<=e.endSN){var p=s[h-e.startSN];a.cc===p.cc&&(l=p,g.logger.log("live playlist, switching playlist, load frag with next SN: "+l.sn))}l||(l=n.default.search(s,(function(e){return a.cc-e.cc})))&&g.logger.log("live playlist, switching playlist, load frag with same CC: "+l.sn)}l||(l=s[Math.min(o-1,Math.round(o/2))],g.logger.log("live playlist, switching playlist, unknown, load middle frag : "+l.sn))}return l},r.prototype._findFragment=function(e,t,r,i,a,n,s){var o,l=this.hls.config;if(a<n){var u=a>n-l.maxFragLookUpTolerance?0:l.maxFragLookUpTolerance;o=m.findFragmentByPTS(t,i,a,u)}else o=i[r-1];if(o){var d=o.sn-s.startSN,c=t&&o.level===t.level,f=i[d-1],h=i[d+1];if(t&&o.sn===t.sn)if(c&&!o.backtracked)if(o.sn<s.endSN){var p=t.deltaPTS;p&&p>l.maxBufferHole&&t.dropped&&d?(o=f,g.logger.warn("SN just loaded, with large PTS gap between audio and video, maybe frag is not starting with a keyframe ? load previous one to try to overcome this")):(o=h,g.logger.log("SN just loaded, load next one: "+o.sn,o))}else o=null;else o.backtracked&&(h&&h.backtracked?(g.logger.warn("Already backtracked from fragment "+h.sn+", will not backtrack to fragment "+o.sn+". Loading fragment "+h.sn),o=h):(g.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),o.dropped=0,f?(o=f).backtracked=!0:d&&(o=null)))}return o},r.prototype._loadKey=function(e){this.state=E.State.KEY_LOADING,this.hls.trigger(l.default.KEY_LOADING,{frag:e})},r.prototype._loadFragment=function(t){var r=this.fragmentTracker.getState(t);this.fragCurrent=t,this.startFragRequested=!0,e.isFinite(t.sn)&&!t.bitrateTest&&(this.nextLoadPosition=t.start+t.duration),t.backtracked||r===u.FragmentState.NOT_LOADED||r===u.FragmentState.PARTIAL?(t.autoLevel=this.hls.autoLevelEnabled,t.bitrateTest=this.bitrateTest,this.hls.trigger(l.default.FRAG_LOADING,{frag:t}),this.demuxer||(this.demuxer=new o.default(this.hls,"main")),this.state=E.State.FRAG_LOADING):r===u.FragmentState.APPENDING&&this._reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t)},Object.defineProperty(r.prototype,"state",{get:function(){return this._state},set:function(e){if(this.state!==e){var t=this.state;this._state=e,g.logger.log("main stream:"+t+"->"+e),this.hls.trigger(l.default.STREAM_STATE_TRANSITION,{previousState:t,nextState:e})}},enumerable:!0,configurable:!0}),r.prototype.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,c.default.LevelType.MAIN)},Object.defineProperty(r.prototype,"currentLevel",{get:function(){var e=this.media;if(e){var t=this.getBufferedFrag(e.currentTime);if(t)return t.level}return-1},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"nextBufferedFrag",{get:function(){var e=this.media;return e?this.followingBufferedFrag(this.getBufferedFrag(e.currentTime)):null},enumerable:!0,configurable:!0}),r.prototype.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.endPTS+.5):null},Object.defineProperty(r.prototype,"nextLevel",{get:function(){var e=this.nextBufferedFrag;return e?e.level:-1},enumerable:!0,configurable:!0}),r.prototype._checkFragmentChanged=function(){var e,t,r=this.media;if(r&&r.readyState&&!1===r.seeking&&((t=r.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=t),s.BufferHelper.isBuffered(r,t)?e=this.getBufferedFrag(t):s.BufferHelper.isBuffered(r,t+.1)&&(e=this.getBufferedFrag(t+.1)),e)){var i=e;if(i!==this.fragPlaying){this.hls.trigger(l.default.FRAG_CHANGED,{frag:i});var a=i.level;this.fragPlaying&&this.fragPlaying.level===a||this.hls.trigger(l.default.LEVEL_SWITCHED,{level:a}),this.fragPlaying=i}}},r.prototype.immediateLevelSwitch=function(){if(g.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var t=this.media,r=void 0;t?(r=t.paused,t.pause()):r=!0,this.previouslyPaused=r}var i=this.fragCurrent;i&&i.loader&&i.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)},r.prototype.immediateLevelSwitchEnd=function(){var e=this.media;e&&e.buffered.length&&(this.immediateSwitch=!1,s.BufferHelper.isBuffered(e,e.currentTime)&&(e.currentTime-=1e-4),this.previouslyPaused||e.play())},r.prototype.nextLevelSwitch=function(){var t=this.media;if(t&&t.readyState){var r,i=void 0,a=void 0;if((r=this.getBufferedFrag(t.currentTime))&&r.startPTS>1&&this.flushMainBuffer(0,r.startPTS-1),t.paused)i=0;else{var n=this.hls.nextLoadLevel,s=this.levels[n],o=this.fragLastKbps;i=o&&this.fragCurrent?this.fragCurrent.duration*s.bitrate/(1e3*o)+1:0}if((a=this.getBufferedFrag(t.currentTime+i))&&(a=this.followingBufferedFrag(a))){var l=this.fragCurrent;l&&l.loader&&l.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(a.maxStartPTS,e.POSITIVE_INFINITY)}}},r.prototype.flushMainBuffer=function(e,t){this.state=E.State.BUFFER_FLUSHING;var r={startOffset:e,endOffset:t};this.altAudio&&(r.type="video"),this.hls.trigger(l.default.BUFFER_FLUSHING,r)},r.prototype.onMediaAttached=function(e){var t=this.media=this.mediaBuffer=e.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),t.addEventListener("seeking",this.onvseeking),t.addEventListener("seeked",this.onvseeked),t.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.hls.startLoad(r.startPosition),this.gapController=new y.default(r,t,this.fragmentTracker,this.hls)},r.prototype.onMediaDetaching=function(){var e=this.media;e&&e.ended&&(g.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var t=this.levels;t&&t.forEach((function(e){e.details&&e.details.fragments.forEach((function(e){e.backtracked=void 0}))})),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("seeked",this.onvseeked),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},r.prototype.onMediaSeeked=function(){var t=this.media,r=t?t.currentTime:void 0;e.isFinite(r)&&g.logger.log("media seeked to "+r.toFixed(3)),this.tick()},r.prototype.onManifestLoading=function(){g.logger.log("trigger BUFFER_RESET"),this.hls.trigger(l.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},r.prototype.onManifestParsed=function(e){var t,r=!1,i=!1;e.levels.forEach((function(e){(t=e.audioCodec)&&(-1!==t.indexOf("mp4a.40.2")&&(r=!0),-1!==t.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i,this.audioCodecSwitch&&g.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=e.levels,this.startFragRequested=!1;var a=this.config;(a.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(a.startPosition)},r.prototype.onLevelLoaded=function(t){var r=t.details,i=t.level,a=this.levels[this.levelLastLoaded],n=this.levels[i],s=r.totalduration,o=0;if(g.logger.log("level "+i+" loaded ["+r.startSN+","+r.endSN+"],duration:"+s),r.live){var u=n.details;u&&r.fragments.length>0?(f.mergeDetails(u,r),o=r.fragments[0].start,this.liveSyncPosition=this.computeLivePosition(o,u),r.PTSKnown&&e.isFinite(o)?g.logger.log("live playlist sliding:"+o.toFixed(3)):(g.logger.log("live playlist - outdated PTS, unknown sliding"),v.alignStream(this.fragPrevious,a,r))):(g.logger.log("live playlist - first load, unknown sliding"),r.PTSKnown=!1,v.alignStream(this.fragPrevious,a,r))}else r.PTSKnown=!1;if(n.details=r,this.levelLastLoaded=i,this.hls.trigger(l.default.LEVEL_UPDATED,{details:r,level:i}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var d=r.startTimeOffset;e.isFinite(d)?(d<0&&(g.logger.log("negative start time offset "+d+", count from end of last fragment"),d=o+s+d),g.logger.log("start time offset found in playlist, adjust startPosition to "+d),this.startPosition=d):r.live?(this.startPosition=this.computeLivePosition(o,r),g.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===E.State.WAITING_LEVEL&&(this.state=E.State.IDLE),this.tick()},r.prototype.onKeyLoaded=function(){this.state===E.State.KEY_LOADING&&(this.state=E.State.IDLE,this.tick())},r.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=this.hls,i=this.levels,a=this.media,n=e.frag;if(this.state===E.State.FRAG_LOADING&&t&&"main"===n.type&&n.level===t.level&&n.sn===t.sn){var s=e.stats,u=i[t.level],d=u.details;if(this.bitrateTest=!1,this.stats=s,g.logger.log("Loaded "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level),n.bitrateTest&&r.nextLoadLevel)this.state=E.State.IDLE,this.startFragRequested=!1,s.tparsed=s.tbuffered=window.performance.now(),r.trigger(l.default.FRAG_BUFFERED,{stats:s,frag:t,id:"main"}),this.tick();else if("initSegment"===n.sn)this.state=E.State.IDLE,s.tparsed=s.tbuffered=window.performance.now(),d.initSegment.data=e.payload,r.trigger(l.default.FRAG_BUFFERED,{stats:s,frag:t,id:"main"}),this.tick();else{g.logger.log("Parsing "+t.sn+" of ["+d.startSN+" ,"+d.endSN+"],level "+t.level+", cc "+t.cc),this.state=E.State.PARSING,this.pendingBuffering=!0,this.appended=!1,n.bitrateTest&&(n.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:n}));var c=!(a&&a.seeking)&&(d.PTSKnown||!d.live),f=d.initSegment?d.initSegment.data:[],h=this._getAudioCodec(u);(this.demuxer=this.demuxer||new o.default(this.hls,"main")).push(e.payload,f,h,u.videoCodec,t,d.totalduration,c)}}this.fragLoadError=0},r.prototype.onFragParsingInitSegment=function(e){var t=this.fragCurrent,r=e.frag;if(t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===E.State.PARSING){var i=e.tracks,a=void 0,n=void 0;if(i.audio&&this.altAudio&&delete i.audio,n=i.audio){var s=this.levels[this.level].audioCodec,o=navigator.userAgent.toLowerCase();s&&this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),s=-1!==s.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==n.metadata.channelCount&&-1===o.indexOf("firefox")&&(s="mp4a.40.5"),-1!==o.indexOf("android")&&"audio/mpeg"!==n.container&&(s="mp4a.40.2",g.logger.log("Android: force audio codec to "+s)),n.levelCodec=s,n.id=e.id}for(a in(n=i.video)&&(n.levelCodec=this.levels[this.level].videoCodec,n.id=e.id),this.hls.trigger(l.default.BUFFER_CODECS,i),i){n=i[a],g.logger.log("main track:"+a+",container:"+n.container+",codecs[level/parsed]=["+n.levelCodec+"/"+n.codec+"]");var u=n.initSegment;u&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(l.default.BUFFER_APPENDING,{type:a,data:u,parent:"main",content:"initSegment"}))}this.tick()}},r.prototype.onFragParsingData=function(t){var r=this,i=this.fragCurrent,a=t.frag;if(i&&"main"===t.id&&a.sn===i.sn&&a.level===i.level&&("audio"!==t.type||!this.altAudio)&&this.state===E.State.PARSING){var n=this.levels[this.level],s=i;if(e.isFinite(t.endPTS)||(t.endPTS=t.startPTS+i.duration,t.endDTS=t.startDTS+i.duration),!0===t.hasAudio&&s.addElementaryStream(d.default.ElementaryStreamTypes.AUDIO),!0===t.hasVideo&&s.addElementaryStream(d.default.ElementaryStreamTypes.VIDEO),g.logger.log("Parsed "+t.type+",PTS:["+t.startPTS.toFixed(3)+","+t.endPTS.toFixed(3)+"],DTS:["+t.startDTS.toFixed(3)+"/"+t.endDTS.toFixed(3)+"],nb:"+t.nb+",dropped:"+(t.dropped||0)),"video"===t.type)if(s.dropped=t.dropped,s.dropped)if(s.backtracked)g.logger.warn("Already backtracked on this fragment, appending with the gap",s.sn);else{var o=n.details;if(!o||s.sn!==o.startSN)return g.logger.warn("missing video frame(s), backtracking fragment",s.sn),this.fragmentTracker.removeFragment(s),s.backtracked=!0,this.nextLoadPosition=t.startPTS,this.state=E.State.IDLE,this.fragPrevious=s,void this.tick();g.logger.warn("missing video frame(s) on first frag, appending with gap",s.sn)}else s.backtracked=!1;var u=f.updateFragPTSDTS(n.details,s,t.startPTS,t.endPTS,t.startDTS,t.endDTS),c=this.hls;c.trigger(l.default.LEVEL_PTS_UPDATED,{details:n.details,level:this.level,drift:u,type:t.type,start:t.startPTS,end:t.endPTS}),[t.data1,t.data2].forEach((function(e){e&&e.length&&r.state===E.State.PARSING&&(r.appended=!0,r.pendingBuffering=!0,c.trigger(l.default.BUFFER_APPENDING,{type:t.type,data:e,parent:"main",content:"data"}))})),this.tick()}},r.prototype.onFragParsed=function(e){var t=this.fragCurrent,r=e.frag;t&&"main"===e.id&&r.sn===t.sn&&r.level===t.level&&this.state===E.State.PARSING&&(this.stats.tparsed=window.performance.now(),this.state=E.State.PARSED,this._checkAppendedParsed())},r.prototype.onAudioTrackSwitching=function(t){var r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){g.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var a=this.fragCurrent;a.loader&&(g.logger.log("switching to main audio track, cancel main fragment load"),a.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=E.State.IDLE}var n=this.hls;n.trigger(l.default.BUFFER_FLUSHING,{startOffset:0,endOffset:e.POSITIVE_INFINITY,type:"audio"}),n.trigger(l.default.AUDIO_TRACK_SWITCHED,{id:i}),this.altAudio=!1}},r.prototype.onAudioTrackSwitched=function(e){var t=e.id,r=!!this.hls.audioTracks[t].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(g.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},r.prototype.onBufferCreated=function(e){var t,r,i=e.tracks,a=!1;for(var n in i){var s=i[n];"main"===s.id?(r=n,t=s,"video"===n&&(this.videoBuffer=i[n].buffer)):a=!0}a&&t?(g.logger.log("alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=t.buffer):this.mediaBuffer=this.media},r.prototype.onBufferAppended=function(e){if("main"===e.parent){var t=this.state;t!==E.State.PARSING&&t!==E.State.PARSED||(this.pendingBuffering=e.pending>0,this._checkAppendedParsed())}},r.prototype._checkAppendedParsed=function(){if(!(this.state!==E.State.PARSED||this.appended&&this.pendingBuffering)){var e=this.fragCurrent;if(e){var t=this.mediaBuffer?this.mediaBuffer:this.media;g.logger.log("main buffered : "+h.default.toString(t.buffered)),this.fragPrevious=e;var r=this.stats;r.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*r.total/(r.tbuffered-r.tfirst)),this.hls.trigger(l.default.FRAG_BUFFERED,{stats:r,frag:e,id:"main"}),this.state=E.State.IDLE}this.tick()}},r.prototype.onError=function(t){var r=t.frag||this.fragCurrent;if(!r||"main"===r.type){var i=!!this.media&&s.BufferHelper.isBuffered(this.media,this.media.currentTime)&&s.BufferHelper.isBuffered(this.media,this.media.currentTime+.5);switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:if(!t.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var a=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);g.logger.warn("mediaController: frag loading failed, retry in "+a+" ms"),this.retryDate=window.performance.now()+a,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=E.State.FRAG_LOADING_WAITING_RETRY}else g.logger.error("mediaController: "+t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.state=E.State.ERROR;break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==E.State.ERROR&&(t.fatal?(this.state=E.State.ERROR,g.logger.warn("streamController: "+t.details+",switch to "+this.state+" state ...")):t.levelRetry||this.state!==E.State.WAITING_LEVEL||(this.state=E.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:"main"!==t.parent||this.state!==E.State.PARSING&&this.state!==E.State.PARSED||(i?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=E.State.IDLE):(g.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,e.POSITIVE_INFINITY)))}}},r.prototype._reduceMaxBufferLength=function(e){var t=this.config;return t.maxMaxBufferLength>=e&&(t.maxMaxBufferLength/=2,g.logger.warn("main:reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},r.prototype._checkBuffer=function(){var e=this.media;if(e&&0!==e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,t)}},r.prototype.onFragLoadEmergencyAborted=function(){this.state=E.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},r.prototype.onBufferFlushed=function(){var e=this.mediaBuffer?this.mediaBuffer:this.media;e&&this.fragmentTracker.detectEvictedFragments(d.default.ElementaryStreamTypes.VIDEO,e.buffered),this.state=E.State.IDLE,this.fragPrevious=null},r.prototype.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},r.prototype.computeLivePosition=function(e,t){var r=void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*t.targetduration;return e+Math.max(0,t.totalduration-r)},r.prototype._seekToStartPos=function(){var e=this.media,t=e.currentTime,r=e.seeking?t:this.startPosition;t!==r&&(g.logger.log("target start position not buffered, seek to buffered.start(0) "+r+" from current time "+t+" "),e.currentTime=r)},r.prototype._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&(g.logger.log("swapping playlist audio codec"),t&&(t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),t},Object.defineProperty(r.prototype,"liveSyncPosition",{get:function(){return this._liveSyncPosition},set:function(e){this._liveSyncPosition=e},enumerable:!0,configurable:!0}),r}(E.default);t.default=_}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/controller/subtitle-stream-controller.js":
/*!******************************************************!*\
  !*** ./src/controller/subtitle-stream-controller.js ***!
  \******************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),o=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),l=r(/*! ../task-loop */"./src/task-loop.js"),u=r(/*! ../utils/buffer-helper */"./src/utils/buffer-helper.js"),d=r(/*! ./fragment-finders */"./src/controller/fragment-finders.js"),c=r(/*! ./fragment-tracker */"./src/controller/fragment-tracker.js"),f=window.performance;t.SubtitleStreamControllerState={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING"};var h=t.SubtitleStreamControllerState,p=function(e){function t(t,r){var i=e.call(this,t,n.default.MEDIA_ATTACHED,n.default.MEDIA_DETACHING,n.default.ERROR,n.default.KEY_LOADED,n.default.FRAG_LOADED,n.default.SUBTITLE_TRACKS_UPDATED,n.default.SUBTITLE_TRACK_SWITCH,n.default.SUBTITLE_TRACK_LOADED,n.default.SUBTITLE_FRAG_PROCESSED)||this;return i.fragmentTracker=r,i.config=t.config,i.state=h.STOPPED,i.tracks=[],i.tracksBuffered=[],i.currentTrackId=-1,i.decrypter=new o.default(t,t.config),i}return a(t,e),t.prototype.onHandlerDestroyed=function(){this.fragmentTracker=null,this.state=h.STOPPED,e.prototype.onHandlerDestroyed.call(this)},t.prototype.onSubtitleFragProcessed=function(e){if(this.state=h.IDLE,e.success){var t=this.tracksBuffered[this.currentTrackId],r=e.frag;if(this.fragPrevious=r,t){for(var i,a=0;a<t.length;a++)if(r.start>=t[a].start&&r.start<=t[a].end){i=t[a];break}i?i.end=r.start+r.duration:t.push({start:r.start,end:r.start+r.duration})}}},t.prototype.onMediaAttached=function(e){this.media=e.media,this.state=h.IDLE},t.prototype.onMediaDetaching=function(){this.media=null,this.state=h.STOPPED},t.prototype.onError=function(e){var t=e.frag;t&&"subtitle"===t.type&&(this.state=h.IDLE)},t.prototype.onSubtitleTracksUpdated=function(e){var t=this;s.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=e.subtitleTracks,this.tracks.forEach((function(e){t.tracksBuffered[e.id]=[]}))},t.prototype.onSubtitleTrackSwitch=function(e){if(this.currentTrackId=e.id,this.tracks&&-1!==this.currentTrackId){var t=this.tracks[this.currentTrackId];t&&t.details&&this.setInterval(500)}else this.clearInterval()},t.prototype.onSubtitleTrackLoaded=function(e){var t=e.id,r=e.details;this.tracks?(this.tracks[t]&&(s.logger.log("Updating subtitle track details"),this.tracks[t].details=r),this.setInterval(500)):s.logger.warn("Can not update subtitle details, no tracks found")},t.prototype.onKeyLoaded=function(){this.state===h.KEY_LOADING&&(this.state=h.IDLE)},t.prototype.onFragLoaded=function(e){var t=this.fragCurrent,r=e.frag.decryptdata,i=e.frag,a=this.hls;if(this.state===h.FRAG_LOADING&&t&&"subtitle"===e.frag.type&&t.sn===e.frag.sn&&e.payload.byteLength>0&&r&&r.key&&"AES-128"===r.method){var s=f.now();this.decrypter.decrypt(e.payload,r.key.buffer,r.iv.buffer,(function(e){var t=f.now();a.trigger(n.default.FRAG_DECRYPTED,{frag:i,payload:e,stats:{tstart:s,tdecrypt:t}})}))}},t.prototype.doTick=function(){if(this.media)switch(this.state){case h.IDLE:var e=this.tracks,t=this.currentTrackId;if(!e||!e[t]||!e[t].details)break;var r=e[t].details,i=this.config,a=i.maxBufferHole,o=Math.min(i.maxBufferLength,i.maxMaxBufferLength),l=i.maxFragLookUpTolerance,f=u.BufferHelper.bufferedInfo(this._getBuffered(),this.media.currentTime,a),p=f.end,g=f.len,v=r.fragments,m=v.length,y=v[m-1].start+v[m-1].duration,E=void 0;g<o&&p<y?E=d.findFragmentByPTS(this.fragPrevious,v,p,l):r.hasProgramDateTime&&this.fragPrevious&&(E=d.findFragmentByPDT(v,this.fragPrevious.endProgramDateTime,l)),E&&E.encrypted?(s.logger.log("Loading key for "+E.sn),this.state=h.KEY_LOADING,this.hls.trigger(n.default.KEY_LOADING,{frag:E})):E&&this.fragmentTracker.getState(E)===c.FragmentState.NOT_LOADED&&(E.trackId=t,this.fragCurrent=E,this.state=h.FRAG_LOADING,this.hls.trigger(n.default.FRAG_LOADING,{frag:E}))}else this.state=h.IDLE},t.prototype._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},t}(l.default);t.SubtitleStreamController=p},"./src/controller/subtitle-track-controller.js":
/*!*****************************************************!*\
  !*** ./src/controller/subtitle-track-controller.js ***!
  \*****************************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js");function l(e){for(var t=[],r=0;r<e.length;r++)"subtitles"===e[r].kind&&t.push(e[r]);return t}var u=function(e){function t(t){var r=e.call(this,t,n.default.MEDIA_ATTACHED,n.default.MEDIA_DETACHING,n.default.MANIFEST_LOADING,n.default.MANIFEST_LOADED,n.default.SUBTITLE_TRACK_LOADED)||this;return r.tracks=[],r.trackId=-1,r.media=null,r.subtitleDisplay=!0,r}return a(t,e),t.prototype._onTextTracksChanged=function(){if(this.media){for(var e=-1,t=l(this.media.textTracks),r=0;r<t.length;r++)if("hidden"===t[r].mode)e=r;else if("showing"===t[r].mode){e=r;break}this.subtitleTrack=e}},t.prototype.destroy=function(){s.default.prototype.destroy.call(this)},t.prototype.onMediaAttached=function(e){var t=this;this.media=e.media,this.media&&(this.queuedDefaultTrack&&(this.subtitleTrack=this.queuedDefaultTrack,delete this.queuedDefaultTrack),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval((function(){t.trackChangeListener()}),500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},t.prototype.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),this.media=null)},t.prototype.onManifestLoading=function(){this.tracks=[],this.trackId=-1},t.prototype.onManifestLoaded=function(e){var t=this,r=e.subtitles||[];this.tracks=r,this.trackId=-1,this.hls.trigger(n.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:r}),r.forEach((function(e){e.default&&(t.media?t.subtitleTrack=e.id:t.queuedDefaultTrack=e.id)}))},t.prototype.onTick=function(){var e=this.trackId,t=this.tracks[e];if(t){var r=t.details;r&&!r.live||(o.logger.log("(re)loading playlist for subtitle track "+e),this.hls.trigger(n.default.SUBTITLE_TRACK_LOADING,{url:t.url,id:e}))}},t.prototype.onSubtitleTrackLoaded=function(e){var t=this;e.id<this.tracks.length&&(o.logger.log("subtitle track "+e.id+" loaded"),this.tracks[e.id].details=e.details,e.details.live&&!this.timer&&(this.timer=setInterval((function(){t.onTick()}),1e3*e.details.targetduration,this)),!e.details.live&&this.timer&&this._stopTimer())},Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){return this.tracks},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){return this.trackId},set:function(e){this.trackId!==e&&(this._toggleTrackModes(e),this.setSubtitleTrackInternal(e))},enumerable:!0,configurable:!0}),t.prototype.setSubtitleTrackInternal=function(e){var t=this.hls,r=this.tracks;if(!("number"!=typeof e||e<-1||e>=r.length)&&(this._stopTimer(),this.trackId=e,o.logger.log("switching to subtitle track "+e),t.trigger(n.default.SUBTITLE_TRACK_SWITCH,{id:e}),-1!==e)){var i=r[e],a=i.details;a&&!a.live||(o.logger.log("(re)loading playlist for subtitle track "+e),t.trigger(n.default.SUBTITLE_TRACK_LOADING,{url:i.url,id:e}))}},t.prototype._stopTimer=function(){this.timer&&(clearInterval(this.timer),this.timer=null)},t.prototype._toggleTrackModes=function(e){var t=this.media,r=this.subtitleDisplay,i=this.trackId;if(t){var a=l(t.textTracks);if(-1===e)[].slice.call(a).forEach((function(e){e.mode="disabled"}));else{var n=a[i];n&&(n.mode="disabled")}var s=a[e];s&&(s.mode=r?"showing":"hidden")}},t}(s.default);t.default=u},"./src/controller/timeline-controller.js":
/*!***********************************************!*\
  !*** ./src/controller/timeline-controller.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../utils/cea-608-parser */"./src/utils/cea-608-parser.js"),l=r(/*! ../utils/output-filter */"./src/utils/output-filter.js"),u=r(/*! ../utils/webvtt-parser */"./src/utils/webvtt-parser.js"),d=r(/*! ../utils/logger */"./src/utils/logger.js"),c=r(/*! ../utils/texttrack-utils */"./src/utils/texttrack-utils.js"),f=function(t){function r(e){var r=t.call(this,e,n.default.MEDIA_ATTACHING,n.default.MEDIA_DETACHING,n.default.FRAG_PARSING_USERDATA,n.default.FRAG_DECRYPTED,n.default.MANIFEST_LOADING,n.default.MANIFEST_LOADED,n.default.FRAG_LOADED,n.default.LEVEL_SWITCHING,n.default.INIT_PTS_FOUND)||this;if(r.hls=e,r.config=e.config,r.enabled=!0,r.Cues=e.config.cueHandler,r.textTracks=[],r.tracks=[],r.unparsedVttFrags=[],r.initPTS=[],r.cueRanges=[],r.captionsTracks={},r.captionsProperties={textTrack1:{label:r.config.captionsTextTrack1Label,languageCode:r.config.captionsTextTrack1LanguageCode},textTrack2:{label:r.config.captionsTextTrack2Label,languageCode:r.config.captionsTextTrack2LanguageCode}},r.config.enableCEA708Captions){var i=new l.default(r,"textTrack1"),a=new l.default(r,"textTrack2");r.cea608Parser=new o.default(0,i,a)}return r}return a(r,t),r.prototype.addCues=function(e,t,r,i){for(var a,n,s,o,l=this.cueRanges,u=!1,d=l.length;d--;){var c=l[d],f=(a=c[0],n=c[1],s=t,o=r,Math.min(n,o)-Math.max(a,s));if(f>=0&&(c[0]=Math.min(c[0],t),c[1]=Math.max(c[1],r),u=!0,f/(r-t)>.5))return}u||l.push([t,r]),this.Cues.newCue(this.captionsTracks[e],t,r,i)},r.prototype.onInitPtsFound=function(e){var t=this;if("main"===e.id&&(this.initPTS[e.frag.cc]=e.initPTS),this.unparsedVttFrags.length){var r=this.unparsedVttFrags;this.unparsedVttFrags=[],r.forEach((function(e){t.onFragLoaded(e)}))}},r.prototype.getExistingTrack=function(e){var t=this.media;if(t)for(var r=0;r<t.textTracks.length;r++){var i=t.textTracks[r];if(i[e])return i}return null},r.prototype.createCaptionsTrack=function(e){var t=this.captionsProperties[e],r=t.label,i=t.languageCode,a=this.captionsTracks;if(!a[e]){var n=this.getExistingTrack(e);if(n)a[e]=n,c.clearCurrentCues(a[e]),c.sendAddTrackEvent(a[e],this.media);else{var s=this.createTextTrack("captions",r,i);s&&(s[e]=!0,a[e]=s)}}},r.prototype.createTextTrack=function(e,t,r){var i=this.media;if(i)return i.addTextTrack(e,t,r)},r.prototype.destroy=function(){s.default.prototype.destroy.call(this)},r.prototype.onMediaAttaching=function(e){this.media=e.media,this._cleanTracks()},r.prototype.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){c.clearCurrentCues(e[t]),delete e[t]}))},r.prototype.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks()},r.prototype._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var r=0;r<t.length;r++)c.clearCurrentCues(t[r])}},r.prototype.onManifestLoaded=function(e){var t=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cueRanges=[],this.config.enableWebVTT){this.tracks=e.subtitles||[];var r=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,i){var a;if(i<r.length){var n=[].slice.call(r).find((function(t){return function(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}(t,e)}));n&&(a=n)}a||(a=t.createTextTrack("subtitles",e.name,e.lang)),e.default?a.mode=t.hls.subtitleDisplay?"showing":"hidden":a.mode="disabled",t.textTracks.push(a)}))}},r.prototype.onLevelSwitching=function(){this.enabled="NONE"!==this.hls.currentLevel.closedCaptions},r.prototype.onFragLoaded=function(t){var r=t.frag,i=t.payload;if("main"===r.type){var a=r.sn;if(a!==this.lastSn+1){var s=this.cea608Parser;s&&s.reset()}this.lastSn=a}else if("subtitle"===r.type)if(i.byteLength){if(!e.isFinite(this.initPTS[r.cc]))return this.unparsedVttFrags.push(t),void(this.initPTS.length&&this.hls.trigger(n.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r}));var o=r.decryptdata;null!=o&&null!=o.key&&"AES-128"===o.method||this._parseVTTs(r,i)}else this.hls.trigger(n.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r})},r.prototype._parseVTTs=function(e,t){var r=this.vttCCs;r[e.cc]||(r[e.cc]={start:e.start,prevCC:this.prevCC,new:!0},this.prevCC=e.cc);var i=this.textTracks,a=this.hls;u.default.parse(t,this.initPTS[e.cc],r,e.cc,(function(t){var r=i[e.trackId];"disabled"!==r.mode?(t.forEach((function(e){if(!r.cues.getCueById(e.id))try{r.addCue(e)}catch(i){var t=new window.TextTrackCue(e.startTime,e.endTime,e.text);t.id=e.id,r.addCue(t)}})),a.trigger(n.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})):a.trigger(n.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}),(function(t){d.logger.log("Failed to parse VTT cue: "+t),a.trigger(n.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e})}))},r.prototype.onFragDecrypted=function(t){var r=t.payload,i=t.frag;if("subtitle"===i.type){if(!e.isFinite(this.initPTS[i.cc]))return void this.unparsedVttFrags.push(t);this._parseVTTs(i,r)}},r.prototype.onFragParsingUserdata=function(e){if(this.enabled&&this.config.enableCEA708Captions)for(var t=0;t<e.samples.length;t++){var r=this.extractCea608Data(e.samples[t].bytes);this.cea608Parser.addData(e.samples[t].pts,r)}},r.prototype.extractCea608Data=function(e){for(var t,r,i,a=31&e[0],n=2,s=[],o=0;o<a;o++)t=e[n++],r=127&e[n++],i=127&e[n++],0===r&&0===i||0!=(4&t)&&0==(3&t)&&(s.push(r),s.push(i));return s},r}(s.default);t.default=f}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/crypt/aes-crypto.js":
/*!*********************************!*\
  !*** ./src/crypt/aes-crypto.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}();t.default=i},"./src/crypt/aes-decryptor.js":
/*!************************************!*\
  !*** ./src/crypt/aes-decryptor.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";function i(e){var t=e.byteLength,r=t&&new DataView(e).getUint8(t-1);return r?e.slice(0,t-r):e}Object.defineProperty(t,"__esModule",{value:!0}),t.removePadding=i;var a=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}return e.prototype.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),r=new Uint32Array(4),i=0;i<4;i++)r[i]=t.getUint32(4*i);return r},e.prototype.initTable=function(){var e=this.sBox,t=this.invSBox,r=this.subMix,i=r[0],a=r[1],n=r[2],s=r[3],o=this.invSubMix,l=o[0],u=o[1],d=o[2],c=o[3],f=new Uint32Array(256),h=0,p=0,g=0;for(g=0;g<256;g++)f[g]=g<128?g<<1:g<<1^283;for(g=0;g<256;g++){var v=p^p<<1^p<<2^p<<3^p<<4;v=v>>>8^255&v^99,e[h]=v,t[v]=h;var m=f[h],y=f[m],E=f[y],_=257*f[v]^16843008*v;i[h]=_<<24|_>>>8,a[h]=_<<16|_>>>16,n[h]=_<<8|_>>>24,s[h]=_,_=16843009*E^65537*y^257*m^16843008*h,l[v]=_<<24|_>>>8,u[v]=_<<16|_>>>16,d[v]=_<<8|_>>>24,c[v]=_,h?(h=m^f[f[f[E^m]]],p^=f[f[p]]):h=p=1}},e.prototype.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),r=!0,i=0;i<t.length&&r;)r=t[i]===this.key[i],i++;if(!r){this.key=t;var a=this.keySize=t.length;if(4!==a&&6!==a&&8!==a)throw new Error("Invalid aes key size="+a);var n,s,o,l,u=this.ksRows=4*(a+6+1),d=this.keySchedule=new Uint32Array(u),c=this.invKeySchedule=new Uint32Array(u),f=this.sBox,h=this.rcon,p=this.invSubMix,g=p[0],v=p[1],m=p[2],y=p[3];for(n=0;n<u;n++)n<a?o=d[n]=t[n]:(l=o,n%a==0?(l=f[(l=l<<8|l>>>24)>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l],l^=h[n/a|0]<<24):a>6&&n%a==4&&(l=f[l>>>24]<<24|f[l>>>16&255]<<16|f[l>>>8&255]<<8|f[255&l]),d[n]=o=(d[n-a]^l)>>>0);for(s=0;s<u;s++)n=u-s,l=3&s?d[n]:d[n-4],c[s]=s<4||n<=4?l:g[f[l>>>24]]^v[f[l>>>16&255]]^m[f[l>>>8&255]]^y[f[255&l]],c[s]=c[s]>>>0}},e.prototype.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},e.prototype.decrypt=function(e,t,r,a){for(var n,s,o,l,u,d,c,f,h,p,g,v,m,y,E=this.keySize+6,_=this.invKeySchedule,T=this.invSBox,S=this.invSubMix,b=S[0],A=S[1],R=S[2],D=S[3],L=this.uint8ArrayToUint32Array_(r),w=L[0],O=L[1],I=L[2],k=L[3],P=new Int32Array(e),C=new Int32Array(P.length),x=this.networkToHostOrderSwap;t<P.length;){for(h=x(P[t]),p=x(P[t+1]),g=x(P[t+2]),v=x(P[t+3]),u=h^_[0],d=v^_[1],c=g^_[2],f=p^_[3],m=4,y=1;y<E;y++)n=b[u>>>24]^A[d>>16&255]^R[c>>8&255]^D[255&f]^_[m],s=b[d>>>24]^A[c>>16&255]^R[f>>8&255]^D[255&u]^_[m+1],o=b[c>>>24]^A[f>>16&255]^R[u>>8&255]^D[255&d]^_[m+2],l=b[f>>>24]^A[u>>16&255]^R[d>>8&255]^D[255&c]^_[m+3],u=n,d=s,c=o,f=l,m+=4;n=T[u>>>24]<<24^T[d>>16&255]<<16^T[c>>8&255]<<8^T[255&f]^_[m],s=T[d>>>24]<<24^T[c>>16&255]<<16^T[f>>8&255]<<8^T[255&u]^_[m+1],o=T[c>>>24]<<24^T[f>>16&255]<<16^T[u>>8&255]<<8^T[255&d]^_[m+2],l=T[f>>>24]<<24^T[u>>16&255]<<16^T[d>>8&255]<<8^T[255&c]^_[m+3],m+=3,C[t]=x(n^w),C[t+1]=x(l^O),C[t+2]=x(o^I),C[t+3]=x(s^k),w=h,O=p,I=g,k=v,t+=4}return a?i(C.buffer):C.buffer},e.prototype.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},e}();t.default=a},"./src/crypt/decrypter.js":
/*!********************************!*\
  !*** ./src/crypt/decrypter.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./aes-crypto */"./src/crypt/aes-crypto.js"),a=r(/*! ./fast-aes-key */"./src/crypt/fast-aes-key.js"),n=r(/*! ./aes-decryptor */"./src/crypt/aes-decryptor.js"),s=r(/*! ../errors */"./src/errors.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),l=r(/*! ../events */"./src/events.js"),u=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope(),d=function(){function e(e,t,r){var i=(void 0===r?{}:r).removePKCS7Padding,a=void 0===i||i;if(this.logEnabled=!0,this.observer=e,this.config=t,this.removePKCS7Padding=a,a)try{var n=u.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch(e){}this.disableWebCrypto=!this.subtle}return e.prototype.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},e.prototype.decrypt=function(e,t,r,s){var l=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(o.logger.log("JS AES decrypt"),this.logEnabled=!1);var u=this.decryptor;u||(this.decryptor=u=new n.default),u.expandKey(t),s(u.decrypt(e,0,r,this.removePKCS7Padding))}else{this.logEnabled&&(o.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var d=this.subtle;this.key!==t&&(this.key=t,this.fastAesKey=new a.default(d,t)),this.fastAesKey.expandKey().then((function(a){new i.default(d,r).decrypt(e,a).catch((function(i){l.onWebCryptoError(i,e,t,r,s)})).then((function(e){s(e)}))})).catch((function(i){l.onWebCryptoError(i,e,t,r,s)}))}},e.prototype.onWebCryptoError=function(e,t,r,i,a){this.config.enableSoftwareAES?(o.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(t,r,i,a)):(o.logger.error("decrypting error : "+e.message),this.observer.trigger(l.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:e.message}))},e.prototype.destroy=function(){var e=this.decryptor;e&&(e.destroy(),this.decryptor=void 0)},e}();t.default=d},"./src/crypt/fast-aes-key.js":
/*!***********************************!*\
  !*** ./src/crypt/fast-aes-key.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}();t.default=i},"./src/demux/aacdemuxer.js":
/*!*********************************!*\
  !*** ./src/demux/aacdemuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./adts */"./src/demux/adts.js"),a=r(/*! ../utils/logger */"./src/utils/logger.js"),n=r(/*! ../demux/id3 */"./src/demux/id3.js"),s=function(){function t(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return t.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},t.prototype.resetTimeStamp=function(){},t.probe=function(e){if(!e)return!1;for(var t=(n.default.getID3Data(e,0)||[]).length,r=e.length;t<r;t++)if(i.probe(e,t))return a.logger.log("ADTS sync word found !"),!0;return!1},t.prototype.append=function(t,r,s,o){for(var l=this._audioTrack,u=n.default.getID3Data(t,0)||[],d=n.default.getTimeStamp(u),c=e.isFinite(d)?90*d:9e4*r,f=0,h=c,p=t.length,g=u.length,v=[{pts:h,dts:h,data:u}];g<p-1;)if(i.isHeader(t,g)&&g+5<p){i.initTrackConfig(l,this.observer,t,g,l.manifestCodec);var m=i.appendFrame(l,t,g,c,f);if(!m){a.logger.log("Unable to parse AAC frame");break}g+=m.length,h=m.sample.pts,f++}else n.default.isHeader(t,g)?(u=n.default.getID3Data(t,g),v.push({pts:h,dts:h,data:u}),g+=u.length):g++;this.remuxer.remux(l,{samples:[]},{samples:v,inputTimeScale:9e4},{samples:[]},r,s,o)},t.prototype.destroy=function(){},t}();t.default=s}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/adts.js":
/*!***************************!*\
  !*** ./src/demux/adts.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=r(/*! ../errors */"./src/errors.js"),n=r(/*! ../events */"./src/events.js");function s(e,t,r,s){var o,l,u,d,c,f=navigator.userAgent.toLowerCase(),h=s,p=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(o=1+((192&t[r+2])>>>6),!((l=(60&t[r+2])>>>2)>p.length-1))return d=(1&t[r+2])<<2,d|=(192&t[r+3])>>>6,i.logger.log("manifest codec:"+s+",ADTS data:type:"+o+",sampleingIndex:"+l+"["+p[l]+"Hz],channelConfig:"+d),/firefox/i.test(f)?l>=6?(o=5,c=new Array(4),u=l-3):(o=2,c=new Array(2),u=l):-1!==f.indexOf("android")?(o=2,c=new Array(2),u=l):(o=5,c=new Array(4),s&&(-1!==s.indexOf("mp4a.40.29")||-1!==s.indexOf("mp4a.40.5"))||!s&&l>=6?u=l-3:((s&&-1!==s.indexOf("mp4a.40.2")&&(l>=6&&1===d||/vivaldi/i.test(f))||!s&&1===d)&&(o=2,c=new Array(2)),u=l)),c[0]=o<<3,c[0]|=(14&l)>>1,c[1]|=(1&l)<<7,c[1]|=d<<3,5===o&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:p[l],channelCount:d,codec:"mp4a.40."+o,manifestCodec:h};e.trigger(n.default.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+l})}function o(e,t){return 255===e[t]&&240==(246&e[t+1])}function l(e,t){return 1&e[t+1]?7:9}function u(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function d(e){return 9216e4/e}function c(e,t,r,i,a){var n,s,o=e.length;if(n=l(e,t),s=u(e,t),(s-=n)>0&&t+n+s<=o)return{headerLength:n,frameLength:s,stamp:r+i*a}}t.getAudioConfig=s,t.isHeaderPattern=o,t.getHeaderLength=l,t.getFullFrameLength=u,t.isHeader=function(e,t){return!!(t+1<e.length&&o(e,t))},t.probe=function(e,t){if(t+1<e.length&&o(e,t)){var r=l(e,t);t+5<e.length&&(r=u(e,t));var i=t+r;if(i===e.length||i+1<e.length&&o(e,i))return!0}return!1},t.initTrackConfig=function(e,t,r,a,n){if(!e.samplerate){var o=s(t,r,a,n);e.config=o.config,e.samplerate=o.samplerate,e.channelCount=o.channelCount,e.codec=o.codec,e.manifestCodec=o.manifestCodec,i.logger.log("parsed codec:"+e.codec+",rate:"+o.samplerate+",nb channel:"+o.channelCount)}},t.getFrameDuration=d,t.parseFrameHeader=c,t.appendFrame=function(e,t,r,i,a){var n=c(t,r,i,a,d(e.samplerate));if(n){var s=n.stamp,o=n.headerLength,l=n.frameLength,u={unit:t.subarray(r+o,r+o+l),pts:s,dts:s};return e.samples.push(u),e.len+=l,{sample:u,length:l+o}}}},"./src/demux/demuxer-inline.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-inline.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,a=r(/*! ../events */"./src/events.js"),n=r(/*! ../errors */"./src/errors.js"),s=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),o=r(/*! ../demux/aacdemuxer */"./src/demux/aacdemuxer.js"),l=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),u=r(/*! ../demux/tsdemuxer */"./src/demux/tsdemuxer.js"),d=r(/*! ../demux/mp3demuxer */"./src/demux/mp3demuxer.js"),c=r(/*! ../remux/mp4-remuxer */"./src/remux/mp4-remuxer.js"),f=r(/*! ../remux/passthrough-remuxer */"./src/remux/passthrough-remuxer.js"),h=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),p=r(/*! ../utils/logger */"./src/utils/logger.js"),g=h.getSelfScope();try{i=g.performance.now.bind(g.performance)}catch(e){p.logger.debug("Unable to use Performance API on this environment"),i=g.Date.now}var v=function(){function e(e,t,r,i){this.observer=e,this.typeSupported=t,this.config=r,this.vendor=i}return e.prototype.destroy=function(){var e=this.demuxer;e&&e.destroy()},e.prototype.push=function(e,t,r,n,o,l,u,d,c,f,h,p){var g=this;if(e.byteLength>0&&null!=t&&null!=t.key&&"AES-128"===t.method){var v=this.decrypter;null==v&&(v=this.decrypter=new s.default(this.observer,this.config));var m=i();v.decrypt(e,t.key.buffer,t.iv.buffer,(function(e){var s=i();g.observer.trigger(a.default.FRAG_DECRYPTED,{stats:{tstart:m,tdecrypt:s}}),g.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),n,o,l,u,d,c,f,h,p)}))}else this.pushDecrypted(new Uint8Array(e),t,new Uint8Array(r),n,o,l,u,d,c,f,h,p)},e.prototype.pushDecrypted=function(e,t,r,i,s,h,p,g,v,m,y,E){var _=this.demuxer;if(!_||(p||g)&&!this.probe(e)){for(var T=this.observer,S=this.typeSupported,b=this.config,A=[{demux:u.default,remux:c.default},{demux:l.default,remux:f.default},{demux:o.default,remux:c.default},{demux:d.default,remux:c.default}],R=0,D=A.length;R<D;R++){var L=A[R],w=L.demux.probe;if(w(e)){var O=this.remuxer=new L.remux(T,b,S,this.vendor);_=new L.demux(T,O,b,S),this.probe=w;break}}if(!_)return void T.trigger(a.default.ERROR,{type:n.ErrorTypes.MEDIA_ERROR,details:n.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});this.demuxer=_}var I=this.remuxer;(p||g)&&(_.resetInitSegment(r,i,s,m),I.resetInitSegment()),p&&(_.resetTimeStamp(E),I.resetTimeStamp(E)),"function"==typeof _.setDecryptData&&_.setDecryptData(t),_.append(e,h,v,y)},e}();t.default=v},"./src/demux/demuxer-worker.js":
/*!*************************************!*\
  !*** ./src/demux/demuxer-worker.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),a=r(/*! ../events */"./src/events.js"),n=r(/*! ../utils/logger */"./src/utils/logger.js"),s=r(/*! events */"./node_modules/node-libs-browser/node_modules/events/events.js");t.default=function(e){var t=new s.EventEmitter;t.trigger=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];t.emit.apply(t,[e,e].concat(r))},t.off=function(e){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];t.removeListener.apply(t,[e].concat(r))};var r=function(t,r){e.postMessage({event:t,data:r})};e.addEventListener("message",(function(a){var s=a.data;switch(s.cmd){case"init":var o=JSON.parse(s.config);e.demuxer=new i.default(t,s.typeSupported,o,s.vendor),n.enableLogs(o.debug),r("init",null);break;case"demux":e.demuxer.push(s.data,s.decryptdata,s.initSegment,s.audioCodec,s.videoCodec,s.timeOffset,s.discontinuity,s.trackSwitch,s.contiguous,s.duration,s.accurateTimeOffset,s.defaultInitPTS)}})),t.on(a.default.FRAG_DECRYPTED,r),t.on(a.default.FRAG_PARSING_INIT_SEGMENT,r),t.on(a.default.FRAG_PARSED,r),t.on(a.default.ERROR,r),t.on(a.default.FRAG_PARSING_METADATA,r),t.on(a.default.FRAG_PARSING_USERDATA,r),t.on(a.default.INIT_PTS_FOUND,r),t.on(a.default.FRAG_PARSING_DATA,(function(t,r){var i=[],a={event:t,data:r};r.data1&&(a.data1=r.data1.buffer,i.push(r.data1.buffer),delete r.data1),r.data2&&(a.data2=r.data2.buffer,i.push(r.data2.buffer),delete r.data2),e.postMessage(a,i)}))}},"./src/demux/demuxer.js":
/*!******************************!*\
  !*** ./src/demux/demuxer.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! webworkify-webpack */"./node_modules/webworkify-webpack/index.js"),a=r(/*! ../events */"./src/events.js"),n=r(/*! ../demux/demuxer-inline */"./src/demux/demuxer-inline.js"),s=r(/*! ../utils/logger */"./src/utils/logger.js"),o=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/mediasource-helper */"./src/utils/mediasource-helper.js"),u=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js"),d=r(/*! ../observer */"./src/observer.js"),c=u.getSelfScope(),f=l.getMediaSource(),h=function(){function t(e,t){var r=this;this.hls=e,this.id=t;var l=this.observer=new d.Observer,u=e.config,h=function(t,i){(i=i||{}).frag=r.frag,i.id=r.id,e.trigger(t,i)};l.on(a.default.FRAG_DECRYPTED,h),l.on(a.default.FRAG_PARSING_INIT_SEGMENT,h),l.on(a.default.FRAG_PARSING_DATA,h),l.on(a.default.FRAG_PARSED,h),l.on(a.default.ERROR,h),l.on(a.default.FRAG_PARSING_METADATA,h),l.on(a.default.FRAG_PARSING_USERDATA,h),l.on(a.default.INIT_PTS_FOUND,h);var p={mp4:f.isTypeSupported("video/mp4"),mpeg:f.isTypeSupported("audio/mpeg"),mp3:f.isTypeSupported('audio/mp4; codecs="mp3"')},g=navigator.vendor;if(u.enableWorker&&"undefined"!=typeof Worker){s.logger.log("demuxing in webworker");var v=void 0;try{v=this.w=i(/*! ../demux/demuxer-worker.js */"./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),v.addEventListener("message",this.onwmsg),v.onerror=function(t){e.trigger(a.default.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:t.message+" ("+t.filename+":"+t.lineno+")"}})},v.postMessage({cmd:"init",typeSupported:p,vendor:g,id:t,config:JSON.stringify(u)})}catch(e){s.logger.warn("Error in worker:",e),s.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),v&&c.URL.revokeObjectURL(v.objectURL),this.demuxer=new n.default(l,p,u,g),this.w=void 0}}else this.demuxer=new n.default(l,p,u,g)}return t.prototype.destroy=function(){var e=this.w;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.w=null;else{var t=this.demuxer;t&&(t.destroy(),this.demuxer=null)}var r=this.observer;r&&(r.removeAllListeners(),this.observer=null)},t.prototype.push=function(t,r,i,a,n,o,l,u){var d=this.w,c=e.isFinite(n.startPTS)?n.startPTS:n.start,f=n.decryptdata,h=this.frag,p=!(h&&n.cc===h.cc),g=!(h&&n.level===h.level),v=h&&n.sn===h.sn+1,m=!g&&v;if(p&&s.logger.log(this.id+":discontinuity detected"),g&&s.logger.log(this.id+":switch detected"),this.frag=n,d)d.postMessage({cmd:"demux",data:t,decryptdata:f,initSegment:r,audioCodec:i,videoCodec:a,timeOffset:c,discontinuity:p,trackSwitch:g,contiguous:m,duration:o,accurateTimeOffset:l,defaultInitPTS:u},t instanceof ArrayBuffer?[t]:[]);else{var y=this.demuxer;y&&y.push(t,f,r,i,a,c,p,g,m,o,l,u)}},t.prototype.onWorkerMessage=function(e){var t=e.data,r=this.hls;switch(t.event){case"init":c.URL.revokeObjectURL(this.w.objectURL);break;case a.default.FRAG_PARSING_DATA:t.data.data1=new Uint8Array(t.data1),t.data2&&(t.data.data2=new Uint8Array(t.data2));default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data)}},t}();t.default=h}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/demux/exp-golomb.js":
/*!*********************************!*\
  !*** ./src/demux/exp-golomb.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=function(){function e(e){this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}return e.prototype.loadWord=function(){var e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),a=Math.min(4,t);if(0===a)throw new Error("no bytes available");i.set(e.subarray(r,r+a)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=8*a,this.bytesAvailable-=a},e.prototype.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},e.prototype.readBits=function(e){var t=Math.min(this.bitsAvailable,e),r=this.word>>>32-t;return e>32&&i.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?r<<t|this.readBits(t):r},e.prototype.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!=(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},e.prototype.skipUEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.skipEG=function(){this.skipBits(1+this.skipLZ())},e.prototype.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},e.prototype.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},e.prototype.readBoolean=function(){return 1===this.readBits(1)},e.prototype.readUByte=function(){return this.readBits(8)},e.prototype.readUShort=function(){return this.readBits(16)},e.prototype.readUInt=function(){return this.readBits(32)},e.prototype.skipScalingList=function(e){var t,r=8,i=8;for(t=0;t<e;t++)0!==i&&(i=(r+this.readEG()+256)%256),r=0===i?r:i},e.prototype.readSPS=function(){var e,t,r,i,a,n,s,o=0,l=0,u=0,d=0,c=this.readUByte.bind(this),f=this.readBits.bind(this),h=this.readUEG.bind(this),p=this.readBoolean.bind(this),g=this.skipBits.bind(this),v=this.skipEG.bind(this),m=this.skipUEG.bind(this),y=this.skipScalingList.bind(this);if(c(),e=c(),f(5),g(3),c(),m(),100===e||110===e||122===e||244===e||44===e||83===e||86===e||118===e||128===e){var E=h();if(3===E&&g(1),m(),m(),g(1),p())for(n=3!==E?8:12,s=0;s<n;s++)p()&&y(s<6?16:64)}m();var _=h();if(0===_)h();else if(1===_)for(g(1),v(),v(),t=h(),s=0;s<t;s++)v();m(),g(1),r=h(),i=h(),0===(a=f(1))&&g(1),g(1),p()&&(o=h(),l=h(),u=h(),d=h());var T=[1,1];if(p()&&p())switch(c()){case 1:T=[1,1];break;case 2:T=[12,11];break;case 3:T=[10,11];break;case 4:T=[16,11];break;case 5:T=[40,33];break;case 6:T=[24,11];break;case 7:T=[20,11];break;case 8:T=[32,11];break;case 9:T=[80,33];break;case 10:T=[18,11];break;case 11:T=[15,11];break;case 12:T=[64,33];break;case 13:T=[160,99];break;case 14:T=[4,3];break;case 15:T=[3,2];break;case 16:T=[2,1];break;case 255:T=[c()<<8|c(),c()<<8|c()]}return{width:Math.ceil(16*(r+1)-2*o-2*l),height:(2-a)*(i+1)*16-(a?2:4)*(u+d),pixelRatio:T}},e.prototype.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=a},"./src/demux/id3.js":
/*!**************************!*\
  !*** ./src/demux/id3.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isHeader=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.isFooter=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},e.getID3Data=function(t,r){for(var i=r,a=0;e.isHeader(t,r);)a+=10,a+=e._readSize(t,r+6),e.isFooter(t,r+10)&&(a+=10),r+=a;if(a>0)return t.subarray(i,i+a)},e._readSize=function(e,t){var r=0;return r=(127&e[t])<<21,r|=(127&e[t+1])<<14,r|=(127&e[t+2])<<7,r|=127&e[t+3]},e.getTimeStamp=function(t){for(var r=e.getID3Frames(t),i=0;i<r.length;i++){var a=r[i];if(e.isTimeStampFrame(a))return e._readTimeStamp(a)}},e.isTimeStampFrame=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},e._getFrameData=function(t){var r=String.fromCharCode(t[0],t[1],t[2],t[3]),i=e._readSize(t,4);return{type:r,size:i,data:t.subarray(10,10+i)}},e.getID3Frames=function(t){for(var r=0,i=[];e.isHeader(t,r);){for(var a=e._readSize(t,r+6),n=(r+=10)+a;r+8<n;){var s=e._getFrameData(t.subarray(r)),o=e._decodeFrame(s);o&&i.push(o),r+=s.size+10}e.isFooter(t,r)&&(r+=10)}return i},e._decodeFrame=function(t){return"PRIV"===t.type?e._decodePrivFrame(t):"T"===t.type[0]?e._decodeTextFrame(t):"W"===t.type[0]?e._decodeURLFrame(t):void 0},e._readTimeStamp=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),r=1&t[3],i=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return i/=45,r&&(i+=47721858.84),Math.round(i)}},e._decodePrivFrame=function(t){if(!(t.size<2)){var r=e._utf8ArrayToStr(t.data,!0),i=new Uint8Array(t.data.subarray(r.length+1));return{key:t.type,info:r,data:i.buffer}}},e._decodeTextFrame=function(t){if(!(t.size<2)){if("TXXX"===t.type){var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var a=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:a}}var n=e._utf8ArrayToStr(t.data.subarray(1));return{key:t.type,data:n}}},e._decodeURLFrame=function(t){if("WXXX"===t.type){if(t.size<2)return;var r=1,i=e._utf8ArrayToStr(t.data.subarray(r));r+=i.length+1;var a=e._utf8ArrayToStr(t.data.subarray(r));return{key:t.type,info:i,data:a}}var n=e._utf8ArrayToStr(t.data);return{key:t.type,data:n}},e._utf8ArrayToStr=function(e,t){void 0===t&&(t=!1);for(var r,i,a,n=e.length,s="",o=0;o<n;){if(0===(r=e[o++])&&t)return s;if(0!==r&&3!==r)switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:s+=String.fromCharCode(r);break;case 12:case 13:i=e[o++],s+=String.fromCharCode((31&r)<<6|63&i);break;case 14:i=e[o++],a=e[o++],s+=String.fromCharCode((15&r)<<12|(63&i)<<6|(63&a)<<0)}}return s},e}(),a=i._utf8ArrayToStr;t.utf8ArrayToStr=a,t.default=i},"./src/demux/mp3demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp3demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../demux/id3 */"./src/demux/id3.js"),a=r(/*! ../utils/logger */"./src/utils/logger.js"),n=r(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),s=function(){function e(e,t,r){this.observer=e,this.config=r,this.remuxer=t}return e.prototype.resetInitSegment=function(e,t,r,i){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:t,duration:i,inputTimeScale:9e4}},e.prototype.resetTimeStamp=function(){},e.probe=function(e){var t,r,s=i.default.getID3Data(e,0);if(s&&void 0!==i.default.getTimeStamp(s))for(t=s.length,r=Math.min(e.length-1,t+100);t<r;t++)if(n.default.probe(e,t))return a.logger.log("MPEG Audio sync word found !"),!0;return!1},e.prototype.append=function(e,t,r,a){for(var s=i.default.getID3Data(e,0),o=i.default.getTimeStamp(s),l=o?90*o:9e4*t,u=s.length,d=e.length,c=0,f=0,h=this._audioTrack,p=[{pts:l,dts:l,data:s}];u<d;)if(n.default.isHeader(e,u)){var g=n.default.appendFrame(h,e,u,l,c);if(!g)break;u+=g.length,f=g.sample.pts,c++}else i.default.isHeader(e,u)?(s=i.default.getID3Data(e,u),p.push({pts:f,dts:f,data:s}),u+=s.length):u++;this.remuxer.remux(h,{samples:[]},{samples:p,inputTimeScale:9e4},{samples:[]},t,r,a)},e.prototype.destroy=function(){},e}();t.default=s},"./src/demux/mp4demuxer.js":
/*!*********************************!*\
  !*** ./src/demux/mp4demuxer.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=r(/*! ../events */"./src/events.js"),n=Math.pow(2,32)-1,s=function(){function e(e,t){this.observer=e,this.remuxer=t}return e.prototype.resetTimeStamp=function(e){this.initPTS=e},e.prototype.resetInitSegment=function(t,r,i,n){if(t&&t.byteLength){var s=this.initData=e.parseInitSegment(t);null==r&&(r="mp4a.40.5"),null==i&&(i="avc1.42e01e");var o={};s.audio&&s.video?o.audiovideo={container:"video/mp4",codec:r+","+i,initSegment:n?t:null}:(s.audio&&(o.audio={container:"audio/mp4",codec:r,initSegment:n?t:null}),s.video&&(o.video={container:"video/mp4",codec:i,initSegment:n?t:null})),this.observer.trigger(a.default.FRAG_PARSING_INIT_SEGMENT,{tracks:o})}else r&&(this.audioCodec=r),i&&(this.videoCodec=i)},e.probe=function(t){return e.findBox({data:t,start:0,end:Math.min(t.length,16384)},["moof"]).length>0},e.bin2str=function(e){return String.fromCharCode.apply(null,e)},e.readUint16=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<8|e[t+1];return r<0?65536+r:r},e.readUint32=function(e,t){e.data&&(t+=e.start,e=e.data);var r=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3];return r<0?4294967296+r:r},e.writeUint32=function(e,t,r){e.data&&(t+=e.start,e=e.data),e[t]=r>>24,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},e.findBox=function(t,r){var i,a,n,s,o,l,u=[];if(t.data?(o=t.start,n=t.end,t=t.data):(o=0,n=t.byteLength),!r.length)return null;for(i=o;i<n;)l=(a=e.readUint32(t,i))>1?i+a:n,e.bin2str(t.subarray(i+4,i+8))===r[0]&&(1===r.length?u.push({data:t,start:i+8,end:l}):(s=e.findBox({data:t,start:i+8,end:l},r.slice(1))).length&&(u=u.concat(s))),i=l;return u},e.parseSegmentIndex=function(t){var r,i=e.findBox(t,["moov"])[0],a=i?i.end:null,n=0,s=e.findBox(t,["sidx"]);if(!s||!s[0])return null;r=[];var o=(s=s[0]).data[0];n=0===o?8:16;var l=e.readUint32(s,n);n+=4,n+=0===o?8:16,n+=2;var u=s.end+0,d=e.readUint16(s,n);n+=2;for(var c=0;c<d;c++){var f=n,h=e.readUint32(s,f);f+=4;var p=2147483647&h;if(1==(2147483648&h)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var g=e.readUint32(s,f);f+=4,r.push({referenceSize:p,subsegmentDuration:g,info:{duration:g/l,start:u,end:u+p-1}}),u+=p,n=f+=4}return{earliestPresentationTime:0,timescale:l,version:o,referencesCount:d,references:r,moovEndOffset:a}},e.parseInitSegment=function(t){var r=[];return e.findBox(t,["moov","trak"]).forEach((function(t){var a=e.findBox(t,["tkhd"])[0];if(a){var n=a.data[a.start],s=0===n?12:20,o=e.readUint32(a,s),l=e.findBox(t,["mdia","mdhd"])[0];if(l){s=0===(n=l.data[l.start])?12:20;var u=e.readUint32(l,s),d=e.findBox(t,["mdia","hdlr"])[0];if(d){var c={soun:"audio",vide:"video"}[e.bin2str(d.data.subarray(d.start+8,d.start+12))];if(c){var f=e.findBox(t,["mdia","minf","stbl","stsd"]);if(f.length){f=f[0];var h=e.bin2str(f.data.subarray(f.start+12,f.start+16));i.logger.log("MP4Demuxer:"+c+":"+h+" found")}r[o]={timescale:u,type:c},r[c]={timescale:u,id:o}}}}}})),r},e.getStartDTS=function(t,r){var i,a,n;return i=e.findBox(r,["moof","traf"]),a=[].concat.apply([],i.map((function(r){return e.findBox(r,["tfhd"]).map((function(i){var a,n;return a=e.readUint32(i,4),n=t[a].timescale||9e4,e.findBox(r,["tfdt"]).map((function(t){var r,i;return r=t.data[t.start],i=e.readUint32(t,4),1===r&&(i*=Math.pow(2,32),i+=e.readUint32(t,8)),i}))[0]/n}))}))),n=Math.min.apply(null,a),isFinite(n)?n:0},e.offsetStartDTS=function(t,r,i){e.findBox(r,["moof","traf"]).map((function(r){return e.findBox(r,["tfhd"]).map((function(a){var s=e.readUint32(a,4),o=t[s].timescale||9e4;e.findBox(r,["tfdt"]).map((function(t){var r=t.data[t.start],a=e.readUint32(t,4);if(0===r)e.writeUint32(t,4,a-i*o);else{a*=Math.pow(2,32),a+=e.readUint32(t,8),a-=i*o,a=Math.max(a,0);var s=Math.floor(a/(n+1)),l=Math.floor(a%(n+1));e.writeUint32(t,4,s),e.writeUint32(t,8,l)}}))}))}))},e.prototype.append=function(t,r,i,n){var s=this.initData;s||(this.resetInitSegment(t,this.audioCodec,this.videoCodec,!1),s=this.initData);var o,l=this.initPTS;if(void 0===l){var u=e.getStartDTS(s,t);this.initPTS=l=u-r,this.observer.trigger(a.default.INIT_PTS_FOUND,{initPTS:l})}e.offsetStartDTS(s,t,l),o=e.getStartDTS(s,t),this.remuxer.remux(s.audio,s.video,null,null,o,i,n,t)},e.prototype.destroy=function(){},e}();t.default=s},"./src/demux/mpegaudio.js":
/*!********************************!*\
  !*** ./src/demux/mpegaudio.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(e,t,r,i,a){if(!(r+24>t.length)){var n=this.parseHeader(t,r);if(n&&r+n.frameLength<=t.length){var s=i+a*(9e4*n.samplesPerFrame/n.sampleRate),o={unit:t.subarray(r,r+n.frameLength),pts:s,dts:s};return e.config=[],e.channelCount=n.channelCount,e.samplerate=n.sampleRate,e.samples.push(o),e.len+=n.frameLength,{sample:o,length:n.frameLength}}}},parseHeader:function(e,t){var r=e[t+1]>>3&3,a=e[t+1]>>1&3,n=e[t+2]>>4&15,s=e[t+2]>>2&3,o=e[t+2]>>1&1;if(1!==r&&0!==n&&15!==n&&3!==s){var l=3===r?3-a:3===a?3:4,u=1e3*i.BitratesMap[14*l+n-1],d=3===r?0:2===r?1:2,c=i.SamplingRateMap[3*d+s],f=e[t+3]>>6==3?1:2,h=i.SamplesCoefficients[r][a],p=i.BytesInSlot[a],g=8*h*p;return{sampleRate:c,channelCount:f,frameLength:parseInt(h*u/c+o,10)*p,samplesPerFrame:g}}},isHeaderPattern:function(e,t){return 255===e[t]&&224==(224&e[t+1])&&0!=(6&e[t+1])},isHeader:function(e,t){return!!(t+1<e.length&&this.isHeaderPattern(e,t))},probe:function(e,t){if(t+1<e.length&&this.isHeaderPattern(e,t)){var r=this.parseHeader(e,t),i=4;r&&r.frameLength&&(i=r.frameLength);var a=t+i;if(a===e.length||a+1<e.length&&this.isHeaderPattern(e,a))return!0}return!1}};t.default=i},"./src/demux/sample-aes.js":
/*!*********************************!*\
  !*** ./src/demux/sample-aes.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../crypt/decrypter */"./src/crypt/decrypter.js"),a=function(){function e(e,t,r,a){this.decryptdata=r,this.discardEPB=a,this.decrypter=new i.default(e,t,{removePKCS7Padding:!1})}return e.prototype.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,t)},e.prototype.decryptAacSample=function(e,t,r,i){var a=e[t].unit,n=a.subarray(16,a.length-a.length%16),s=n.buffer.slice(n.byteOffset,n.byteOffset+n.length),o=this;this.decryptBuffer(s,(function(n){n=new Uint8Array(n),a.set(n,16),i||o.decryptAacSamples(e,t+1,r)}))},e.prototype.decryptAacSamples=function(e,t,r){for(;;t++){if(t>=e.length)return void r();if(!(e[t].unit.length<32)){var i=this.decrypter.isSync();if(this.decryptAacSample(e,t,r,i),!i)return}}},e.prototype.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,r=new Int8Array(t),i=0,a=32;a<=e.length-16;a+=160,i+=16)r.set(e.subarray(a,a+16),i);return r},e.prototype.getAvcDecryptedUnit=function(e,t){t=new Uint8Array(t);for(var r=0,i=32;i<=e.length-16;i+=160,r+=16)e.set(t.subarray(r,r+16),i);return e},e.prototype.decryptAvcSample=function(e,t,r,i,a,n){var s=this.discardEPB(a.data),o=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(o.buffer,(function(o){a.data=l.getAvcDecryptedUnit(s,o),n||l.decryptAvcSamples(e,t,r+1,i)}))},e.prototype.decryptAvcSamples=function(e,t,r,i){for(;;t++,r=0){if(t>=e.length)return void i();for(var a=e[t].units;!(r>=a.length);r++){var n=a[r];if(!(n.length<=48||1!==n.type&&5!==n.type)){var s=this.decrypter.isSync();if(this.decryptAvcSample(e,t,r,i,n,s),!s)return}}}},e}();t.default=a},"./src/demux/tsdemuxer.js":
/*!********************************!*\
  !*** ./src/demux/tsdemuxer.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./adts */"./src/demux/adts.js"),a=r(/*! ./mpegaudio */"./src/demux/mpegaudio.js"),n=r(/*! ../events */"./src/events.js"),s=r(/*! ./exp-golomb */"./src/demux/exp-golomb.js"),o=r(/*! ./sample-aes */"./src/demux/sample-aes.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../errors */"./src/errors.js"),d={video:1,audio:2,id3:3,text:4},c=function(){function e(e,t,r,i){this.observer=e,this.config=r,this.typeSupported=i,this.remuxer=t,this.sampleAes=null}return e.prototype.setDecryptData=function(e){null!=e&&null!=e.key&&"SAMPLE-AES"===e.method?this.sampleAes=new o.default(this.observer,this.config,e,this.discardEPB):this.sampleAes=null},e.probe=function(t){var r=e._syncOffset(t);return!(r<0||(r&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+r+", junk ahead ?"),0))},e._syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),r=0;r<t;){if(71===e[r]&&71===e[r+188]&&71===e[r+376])return r;r++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:d[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],len:0,dropped:"video"===e?0:void 0,isAAC:"audio"===e||void 0,duration:"audio"===e?t:void 0}},e.prototype.resetInitSegment=function(t,r,i,a){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video",a),this._audioTrack=e.createTrack("audio",a),this._id3Track=e.createTrack("id3",a),this._txtTrack=e.createTrack("text",a),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=r,this.videoCodec=i,this._duration=a},e.prototype.resetTimeStamp=function(){},e.prototype.append=function(t,r,i,a){var s,o,d,c,f,h=t.length,p=!1;this.contiguous=i;var g=this.pmtParsed,v=this._avcTrack,m=this._audioTrack,y=this._id3Track,E=v.pid,_=m.pid,T=y.pid,S=this._pmtId,b=v.pesData,A=m.pesData,R=y.pesData,D=this._parsePAT,L=this._parsePMT,w=this._parsePES,O=this._parseAVCPES.bind(this),I=this._parseAACPES.bind(this),k=this._parseMPEGPES.bind(this),P=this._parseID3PES.bind(this),C=e._syncOffset(t);for(h-=(h+C)%188,s=C;s<h;s+=188)if(71===t[s]){if(o=!!(64&t[s+1]),d=((31&t[s+1])<<8)+t[s+2],(48&t[s+3])>>4>1){if((c=s+5+t[s+4])===s+188)continue}else c=s+4;switch(d){case E:o&&(b&&(f=w(b))&&void 0!==f.pts&&O(f,!1),b={data:[],size:0}),b&&(b.data.push(t.subarray(c,s+188)),b.size+=s+188-c);break;case _:o&&(A&&(f=w(A))&&void 0!==f.pts&&(m.isAAC?I(f):k(f)),A={data:[],size:0}),A&&(A.data.push(t.subarray(c,s+188)),A.size+=s+188-c);break;case T:o&&(R&&(f=w(R))&&void 0!==f.pts&&P(f),R={data:[],size:0}),R&&(R.data.push(t.subarray(c,s+188)),R.size+=s+188-c);break;case 0:o&&(c+=t[c]+1),S=this._pmtId=D(t,c);break;case S:o&&(c+=t[c]+1);var x=L(t,c,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(E=x.avc)>0&&(v.pid=E),(_=x.audio)>0&&(m.pid=_,m.isAAC=x.isAAC),(T=x.id3)>0&&(y.pid=T),p&&!g&&(l.logger.log("reparse from beginning"),p=!1,s=C-188),g=this.pmtParsed=!0;break;case 17:case 8191:break;default:p=!0}}else this.observer.trigger(n.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});b&&(f=w(b))&&void 0!==f.pts?(O(f,!0),v.pesData=null):v.pesData=b,A&&(f=w(A))&&void 0!==f.pts?(m.isAAC?I(f):k(f),m.pesData=null):(A&&A.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),m.pesData=A),R&&(f=w(R))&&void 0!==f.pts?(P(f),y.pesData=null):y.pesData=R,null==this.sampleAes?this.remuxer.remux(m,v,y,this._txtTrack,r,i,a):this.decryptAndRemux(m,v,y,this._txtTrack,r,i,a)},e.prototype.decryptAndRemux=function(e,t,r,i,a,n,s){if(e.samples&&e.isAAC){var o=this;this.sampleAes.decryptAacSamples(e.samples,0,(function(){o.decryptAndRemuxAvc(e,t,r,i,a,n,s)}))}else this.decryptAndRemuxAvc(e,t,r,i,a,n,s)},e.prototype.decryptAndRemuxAvc=function(e,t,r,i,a,n,s){if(t.samples){var o=this;this.sampleAes.decryptAvcSamples(t.samples,0,0,(function(){o.remuxer.remux(e,t,r,i,a,n,s)}))}else this.remuxer.remux(e,t,r,i,a,n,s)},e.prototype.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},e.prototype._parsePAT=function(e,t){return(31&e[t+10])<<8|e[t+11]},e.prototype._parsePMT=function(e,t,r,i){var a,n,s={audio:-1,avc:-1,id3:-1,isAAC:!0};for(a=t+3+((15&e[t+1])<<8|e[t+2])-4,t+=12+((15&e[t+10])<<8|e[t+11]);t<a;){switch(n=(31&e[t+1])<<8|e[t+2],e[t]){case 207:if(!i){l.logger.log("unkown stream type:"+e[t]);break}case 15:-1===s.audio&&(s.audio=n);break;case 21:-1===s.id3&&(s.id3=n);break;case 219:if(!i){l.logger.log("unkown stream type:"+e[t]);break}case 27:-1===s.avc&&(s.avc=n);break;case 3:case 4:r?-1===s.audio&&(s.audio=n,s.isAAC=!1):l.logger.log("MPEG audio found, not supported in this browser for now");break;case 36:l.logger.warn("HEVC stream type found, not supported for now");break;default:l.logger.log("unkown stream type:"+e[t])}t+=5+((15&e[t+3])<<8|e[t+4])}return s},e.prototype._parsePES=function(e){var t,r,i,a,n,s,o,u,d=0,c=e.data;if(!e||0===e.size)return null;for(;c[0].length<19&&c.length>1;){var f=new Uint8Array(c[0].length+c[1].length);f.set(c[0]),f.set(c[1],c[0].length),c[0]=f,c.splice(1,1)}if(1===((t=c[0])[0]<<16)+(t[1]<<8)+t[2]){if((i=(t[4]<<8)+t[5])&&i>e.size-6)return null;192&(r=t[7])&&((s=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2)>4294967295&&(s-=8589934592),64&r?((o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>4294967295&&(o-=8589934592),s-o>54e5&&(l.logger.warn(Math.round((s-o)/9e4)+"s delta between PTS and DTS, align them"),s=o)):o=s),u=(a=t[8])+9,e.size-=u,n=new Uint8Array(e.size);for(var h=0,p=c.length;h<p;h++){var g=(t=c[h]).byteLength;if(u){if(u>g){u-=g;continue}t=t.subarray(u),g-=u,u=0}n.set(t,d),d+=g}return i&&(i-=a+3),{data:n,pts:s,dts:o,len:i}}return null},e.prototype.pushAccesUnit=function(e,t){if(e.units.length&&e.frame){var r=t.samples,i=r.length;!this.config.forceKeyFrameOnDiscontinuity||!0===e.key||t.sps&&(i||this.contiguous)?(e.id=i,r.push(e)):t.dropped++}e.debug.length&&l.logger.log(e.pts+"/"+e.dts+":"+e.debug)},e.prototype._parseAVCPES=function(e,t){var r,i,a,n=this,o=this._avcTrack,l=this._parseAVCNALu(e.data),u=this.avcSample,d=!1,c=this.pushAccesUnit.bind(this),f=function(e,t,r,i){return{key:e,pts:t,dts:r,units:[],debug:i}};e.data=null,u&&l.length&&!o.audFound&&(c(u,o),u=this.avcSample=f(!1,e.pts,e.dts,"")),l.forEach((function(t){switch(t.type){case 1:i=!0,u||(u=n.avcSample=f(!0,e.pts,e.dts,"")),u.frame=!0;var l=t.data;if(d&&l.length>4){var h=new s.default(l).readSliceType();2!==h&&4!==h&&7!==h&&9!==h||(u.key=!0)}break;case 5:i=!0,u||(u=n.avcSample=f(!0,e.pts,e.dts,"")),u.key=!0,u.frame=!0;break;case 6:i=!0,(r=new s.default(n.discardEPB(t.data))).readUByte();for(var p=0,g=0,v=!1,m=0;!v&&r.bytesAvailable>1;){p=0;do{p+=m=r.readUByte()}while(255===m);g=0;do{g+=m=r.readUByte()}while(255===m);if(4===p&&0!==r.bytesAvailable){if(v=!0,181===r.readUByte()&&49===r.readUShort()&&1195456820===r.readUInt()&&3===r.readUByte()){var y=r.readUByte(),E=31&y,_=[y,r.readUByte()];for(a=0;a<E;a++)_.push(r.readUByte()),_.push(r.readUByte()),_.push(r.readUByte());n._insertSampleInOrder(n._txtTrack.samples,{type:3,pts:e.pts,bytes:_})}}else if(g<r.bytesAvailable)for(a=0;a<g;a++)r.readUByte()}break;case 7:if(i=!0,d=!0,!o.sps){var T=(r=new s.default(t.data)).readSPS();o.width=T.width,o.height=T.height,o.pixelRatio=T.pixelRatio,o.sps=[t.data],o.duration=n._duration;var S=t.data.subarray(1,4),b="avc1.";for(a=0;a<3;a++){var A=S[a].toString(16);A.length<2&&(A="0"+A),b+=A}o.codec=b}break;case 8:i=!0,o.pps||(o.pps=[t.data]);break;case 9:i=!1,o.audFound=!0,u&&c(u,o),u=n.avcSample=f(!1,e.pts,e.dts,"");break;case 12:i=!1;break;default:i=!1,u&&(u.debug+="unknown NAL "+t.type+" ")}u&&i&&u.units.push(t)})),t&&u&&(c(u,o),this.avcSample=null)},e.prototype._insertSampleInOrder=function(e,t){var r=e.length;if(r>0){if(t.pts>=e[r-1].pts)e.push(t);else for(var i=r-1;i>=0;i--)if(t.pts<e[i].pts){e.splice(i,0,t);break}}else e.push(t)},e.prototype._getLastNalUnit=function(){var e,t=this.avcSample;if(!t||0===t.units.length){var r=this._avcTrack.samples;t=r[r.length-1]}if(t){var i=t.units;e=i[i.length-1]}return e},e.prototype._parseAVCNALu=function(e){var t,r,i,a,n=0,s=e.byteLength,o=this._avcTrack,l=o.naluState||0,u=l,d=[],c=-1;for(-1===l&&(c=0,a=31&e[0],l=0,n=1);n<s;)if(t=e[n++],l)if(1!==l)if(t)if(1===t){var f,h;c>=0?(i={data:e.subarray(c,n-l-1),type:a},d.push(i)):(f=this._getLastNalUnit())&&(u&&n<=4-u&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-u)),(r=n-l-1)>0&&((h=new Uint8Array(f.data.byteLength+r)).set(f.data,0),h.set(e.subarray(0,r),f.data.byteLength),f.data=h)),n<s?(c=n,a=31&e[n],l=0):l=-1}else l=0;else l=3;else l=t?0:2;else l=t?0:1;return c>=0&&l>=0&&(i={data:e.subarray(c,s),type:a,state:l},d.push(i)),0===d.length&&(f=this._getLastNalUnit())&&((h=new Uint8Array(f.data.byteLength+e.byteLength)).set(f.data,0),h.set(e,f.data.byteLength),f.data=h),o.naluState=l,d},e.prototype.discardEPB=function(e){for(var t,r,i=e.byteLength,a=[],n=1;n<i-2;)0===e[n]&&0===e[n+1]&&3===e[n+2]?(a.push(n+2),n+=2):n++;if(0===a.length)return e;t=i-a.length,r=new Uint8Array(t);var s=0;for(n=0;n<t;s++,n++)s===a[0]&&(s++,a.shift()),r[n]=e[s];return r},e.prototype._parseAACPES=function(e){var t,r,a,s,o,d=this._audioTrack,c=e.data,f=e.pts,h=this.aacOverFlow,p=this.aacLastPTS;if(h){var g=new Uint8Array(h.byteLength+c.byteLength);g.set(h,0),g.set(c,h.byteLength),c=g}for(a=0,o=c.length;a<o-1&&!i.isHeader(c,a);a++);if(a){var v=void 0,m=void 0;if(a<o-1?(v="AAC PES did not start with ADTS header,offset:"+a,m=!1):(v="no ADTS header found in AAC PES",m=!0),l.logger.warn("parsing error:"+v),this.observer.trigger(n.default.ERROR,{type:u.ErrorTypes.MEDIA_ERROR,details:u.ErrorDetails.FRAG_PARSING_ERROR,fatal:m,reason:v}),m)return}if(i.initTrackConfig(d,this.observer,c,a,this.audioCodec),r=0,t=i.getFrameDuration(d.samplerate),h&&p){var y=p+t;Math.abs(y-f)>1&&(l.logger.log("AAC: align PTS for overlapping frames by "+Math.round((y-f)/90)),f=y)}for(;a<o;)if(i.isHeader(c,a)&&a+5<o){var E=i.appendFrame(d,c,a,f,r);if(!E)break;a+=E.length,s=E.sample.pts,r++}else a++;h=a<o?c.subarray(a,o):null,this.aacOverFlow=h,this.aacLastPTS=s},e.prototype._parseMPEGPES=function(e){for(var t=e.data,r=t.length,i=0,n=0,s=e.pts;n<r;)if(a.default.isHeader(t,n)){var o=a.default.appendFrame(this._audioTrack,t,n,s,i);if(!o)break;n+=o.length,i++}else n++},e.prototype._parseID3PES=function(e){this._id3Track.samples.push(e)},e}();t.default=c},"./src/errors.js":
/*!***********************!*\
  !*** ./src/errors.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorTypes={NETWORK_ERROR:"networkError",MEDIA_ERROR:"mediaError",KEY_SYSTEM_ERROR:"keySystemError",MUX_ERROR:"muxError",OTHER_ERROR:"otherError"},t.ErrorDetails={KEY_SYSTEM_NO_KEYS:"keySystemNoKeys",KEY_SYSTEM_NO_ACCESS:"keySystemNoAccess",KEY_SYSTEM_NO_SESSION:"keySystemNoSession",KEY_SYSTEM_LICENSE_REQUEST_FAILED:"keySystemLicenseRequestFailed",MANIFEST_LOAD_ERROR:"manifestLoadError",MANIFEST_LOAD_TIMEOUT:"manifestLoadTimeOut",MANIFEST_PARSING_ERROR:"manifestParsingError",MANIFEST_INCOMPATIBLE_CODECS_ERROR:"manifestIncompatibleCodecsError",LEVEL_LOAD_ERROR:"levelLoadError",LEVEL_LOAD_TIMEOUT:"levelLoadTimeOut",LEVEL_SWITCH_ERROR:"levelSwitchError",AUDIO_TRACK_LOAD_ERROR:"audioTrackLoadError",AUDIO_TRACK_LOAD_TIMEOUT:"audioTrackLoadTimeOut",FRAG_LOAD_ERROR:"fragLoadError",FRAG_LOAD_TIMEOUT:"fragLoadTimeOut",FRAG_DECRYPT_ERROR:"fragDecryptError",FRAG_PARSING_ERROR:"fragParsingError",REMUX_ALLOC_ERROR:"remuxAllocError",KEY_LOAD_ERROR:"keyLoadError",KEY_LOAD_TIMEOUT:"keyLoadTimeOut",BUFFER_ADD_CODEC_ERROR:"bufferAddCodecError",BUFFER_APPEND_ERROR:"bufferAppendError",BUFFER_APPENDING_ERROR:"bufferAppendingError",BUFFER_STALLED_ERROR:"bufferStalledError",BUFFER_FULL_ERROR:"bufferFullError",BUFFER_SEEK_OVER_HOLE:"bufferSeekOverHole",BUFFER_NUDGE_ON_STALL:"bufferNudgeOnStall",INTERNAL_EXCEPTION:"internalException"}},"./src/event-handler.js":
/*!******************************!*\
  !*** ./src/event-handler.js ***!
  \******************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./utils/logger */"./src/utils/logger.js"),a=r(/*! ./errors */"./src/errors.js"),n=r(/*! ./events */"./src/events.js"),s={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},o=function(){function e(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.hls=e,this.onEvent=this.onEvent.bind(this),this.handledEvents=t,this.useGenericHandler=!0,this.registerListeners()}return e.prototype.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},e.prototype.onHandlerDestroying=function(){},e.prototype.onHandlerDestroyed=function(){},e.prototype.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},e.prototype.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){if(s[e])throw new Error("Forbidden event-name: "+e);this.hls.on(e,this.onEvent)}),this)},e.prototype.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach((function(e){this.hls.off(e,this.onEvent)}),this)},e.prototype.onEvent=function(e,t){this.onEventGeneric(e,t)},e.prototype.onEventGeneric=function(e,t){try{(function(e,t){var r="on"+e.replace("hls","");if("function"!=typeof this[r])throw new Error("Event "+e+" has no generic handler in this "+this.constructor.name+" class (tried "+r+")");return this[r].bind(this,t)}).call(this,e,t).call()}catch(t){i.logger.error("An internal error happened while handling event "+e+'. Error message: "'+t.message+'". Here is a stacktrace:',t),this.hls.trigger(n.default.ERROR,{type:a.ErrorTypes.OTHER_ERROR,details:a.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,err:t})}},e}();t.default=o},"./src/events.js":
/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition"}},"./src/hls.js":
/*!********************!*\
  !*** ./src/hls.js ***!
  \********************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),s=r(/*! ./errors */"./src/errors.js"),o=r(/*! ./loader/playlist-loader */"./src/loader/playlist-loader.js"),l=r(/*! ./loader/fragment-loader */"./src/loader/fragment-loader.js"),u=r(/*! ./loader/key-loader */"./src/loader/key-loader.js"),d=r(/*! ./controller/fragment-tracker */"./src/controller/fragment-tracker.js"),c=r(/*! ./controller/stream-controller */"./src/controller/stream-controller.js"),f=r(/*! ./controller/level-controller */"./src/controller/level-controller.js"),h=r(/*! ./controller/id3-track-controller */"./src/controller/id3-track-controller.js"),p=r(/*! ./is-supported */"./src/is-supported.js"),g=r(/*! ./utils/logger */"./src/utils/logger.js"),v=r(/*! ./config */"./src/config.js"),m=r(/*! ./events */"./src/events.js"),y=function(e){function t(r){void 0===r&&(r={});var i=e.call(this)||this,a=t.DefaultConfig;if((r.liveSyncDurationCount||r.liveMaxLatencyDurationCount)&&(r.liveSyncDuration||r.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");for(var n in a)n in r||(r[n]=a[n]);if(void 0!==r.liveMaxLatencyDurationCount&&r.liveMaxLatencyDurationCount<=r.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==r.liveMaxLatencyDuration&&(r.liveMaxLatencyDuration<=r.liveSyncDuration||void 0===r.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');g.enableLogs(r.debug),i.config=r,i._autoLevelCapping=-1;var s=i.abrController=new r.abrController(i),p=new r.bufferController(i),v=new r.capLevelController(i),m=new r.fpsController(i),y=new o.default(i),E=new l.default(i),_=new u.default(i),T=new h.default(i),S=i.levelController=new f.default(i),b=new d.FragmentTracker(i),A=[S,i.streamController=new c.default(i,b)],R=r.audioStreamController;R&&A.push(new R(i,b)),i.networkControllers=A;var D=[y,E,_,s,p,v,m,T,b];if(R=r.audioTrackController){var L=new R(i);i.audioTrackController=L,D.push(L)}if(R=r.subtitleTrackController){var w=new R(i);i.subtitleTrackController=w,D.push(w)}if(R=r.emeController){var O=new R(i);i.emeController=O,D.push(O)}return(R=r.subtitleStreamController)&&D.push(new R(i,b)),(R=r.timelineController)&&D.push(new R(i)),i.coreComponents=D,i}return a(t,e),Object.defineProperty(t,"version",{get:function(){return"0.12.2"},enumerable:!0,configurable:!0}),t.isSupported=function(){return p.isSupported()},Object.defineProperty(t,"Events",{get:function(){return m.default},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorTypes",{get:function(){return s.ErrorTypes},enumerable:!0,configurable:!0}),Object.defineProperty(t,"ErrorDetails",{get:function(){return s.ErrorDetails},enumerable:!0,configurable:!0}),Object.defineProperty(t,"DefaultConfig",{get:function(){return t.defaultConfig?t.defaultConfig:v.hlsDefaultConfig},set:function(e){t.defaultConfig=e},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){g.logger.log("destroy"),this.trigger(m.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach((function(e){e.destroy()})),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},t.prototype.attachMedia=function(e){g.logger.log("attachMedia"),this.media=e,this.trigger(m.default.MEDIA_ATTACHING,{media:e})},t.prototype.detachMedia=function(){g.logger.log("detachMedia"),this.trigger(m.default.MEDIA_DETACHING),this.media=null},t.prototype.loadSource=function(e){e=n.buildAbsoluteURL(window.location.href,e,{alwaysNormalize:!0}),g.logger.log("loadSource:"+e),this.url=e,this.trigger(m.default.MANIFEST_LOADING,{url:e})},t.prototype.startLoad=function(e){void 0===e&&(e=-1),g.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},t.prototype.stopLoad=function(){g.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},t.prototype.swapAudioCodec=function(){g.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},t.prototype.recoverMediaError=function(){g.logger.log("recoverMediaError");var e=this.media;this.detachMedia(),this.attachMedia(e)},Object.defineProperty(t.prototype,"levels",{get:function(){return this.levelController.levels},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentLevel",{get:function(){return this.streamController.currentLevel},set:function(e){g.logger.log("set currentLevel:"+e),this.loadLevel=e,this.streamController.immediateLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLevel",{get:function(){return this.streamController.nextLevel},set:function(e){g.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loadLevel",{get:function(){return this.levelController.level},set:function(e){g.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextLoadLevel",{get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstLevel",{get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){g.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startLevel",{get:function(){return this.levelController.startLevel},set:function(e){g.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelCapping",{get:function(){return this._autoLevelCapping},set:function(e){g.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoLevelEnabled",{get:function(){return-1===this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"manualLevel",{get:function(){return this.levelController.manualLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minAutoLevel",{get:function(){for(var e=this.levels,t=this.config.minAutoBitrate,r=e?e.length:0,i=0;i<r;i++)if((e[i].realBitrate?Math.max(e[i].realBitrate,e[i].bitrate):e[i].bitrate)>t)return i;return 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxAutoLevel",{get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"nextAutoLevel",{get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTracks",{get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"audioTrack",{get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"liveSyncPosition",{get:function(){return this.streamController.liveSyncPosition},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTracks",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleTrack",{get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subtitleDisplay",{get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)},enumerable:!0,configurable:!0}),t}(r(/*! ./observer */"./src/observer.js").Observer);t.default=y},"./src/is-supported.js":
/*!*****************************!*\
  !*** ./src/is-supported.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./utils/mediasource-helper */"./src/utils/mediasource-helper.js");t.isSupported=function(){var e=i.getMediaSource(),t=window.SourceBuffer||window.WebKitSourceBuffer,r=e&&"function"==typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),a=!t||t.prototype&&"function"==typeof t.prototype.appendBuffer&&"function"==typeof t.prototype.remove;return!!r&&!!a}},"./src/loader/fragment-loader.js":
/*!***************************************!*\
  !*** ./src/loader/fragment-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=function(t){function r(e){var r=t.call(this,e,n.default.FRAG_LOADING)||this;return r.loaders={},r}return a(r,t),r.prototype.destroy=function(){var e=this.loaders;for(var r in e){var i=e[r];i&&i.destroy()}this.loaders={},t.prototype.destroy.call(this)},r.prototype.onFragLoading=function(t){var r=t.frag,i=r.type,a=this.loaders,n=this.hls.config,s=n.fLoader,o=n.loader;r.loaded=0;var u,d,c,f=a[i];f&&(l.logger.warn("abort previous fragment loader for type: "+i),f.abort()),f=a[i]=r.loader=n.fLoader?new s(n):new o(n),u={url:r.url,frag:r,responseType:"arraybuffer",progressData:!1};var h=r.byteRangeStartOffset,p=r.byteRangeEndOffset;e.isFinite(h)&&e.isFinite(p)&&(u.rangeStart=h,u.rangeEnd=p),d={timeout:n.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:n.fragLoadingMaxRetryTimeout},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},f.load(u,d,c)},r.prototype.loadsuccess=function(e,t,r,i){void 0===i&&(i=null);var a=e.data,s=r.frag;s.loader=void 0,this.loaders[s.type]=void 0,this.hls.trigger(n.default.FRAG_LOADED,{payload:a,frag:s,stats:t,networkDetails:i})},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null);var i=t.frag,a=i.loader;a&&a.abort(),this.loaders[i.type]=void 0,this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:t.frag,response:e,networkDetails:r})},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null);var i=t.frag,a=i.loader;a&&a.abort(),this.loaders[i.type]=void 0,this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:t.frag,networkDetails:r})},r.prototype.loadprogress=function(e,t,r,i){void 0===i&&(i=null);var a=t.frag;a.loaded=e.loaded,this.hls.trigger(n.default.FRAG_LOAD_PROGRESS,{frag:a,stats:e,networkDetails:i})},r}(s.default);t.default=u}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/fragment.js":
/*!********************************!*\
  !*** ./src/loader/fragment.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),a=r(/*! ./level-key */"./src/loader/level-key.js"),n=function(){function t(){var e;this._url=null,this._byteRange=null,this._decryptdata=null,this.tagList=[],this.programDateTime=null,this.rawProgramDateTime=null,this._elementaryStreams=((e={})[t.ElementaryStreamTypes.AUDIO]=!1,e[t.ElementaryStreamTypes.VIDEO]=!1,e)}return Object.defineProperty(t,"ElementaryStreamTypes",{get:function(){return{AUDIO:"audio",VIDEO:"video"}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"url",{get:function(){return!this._url&&this.relurl&&(this._url=i.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(e){this._url=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRange",{get:function(){if(!this._byteRange&&!this.rawByteRange)return[];if(this._byteRange)return this._byteRange;var e=[];if(this.rawByteRange){var t=this.rawByteRange.split("@",2);if(1===t.length){var r=this.lastByteRangeEndOffset;e[0]=r||0}else e[0]=parseInt(t[1]);e[1]=parseInt(t[0])+e[0],this._byteRange=e}return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeStartOffset",{get:function(){return this.byteRange[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"byteRangeEndOffset",{get:function(){return this.byteRange[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decryptdata",{get:function(){return this._decryptdata||(this._decryptdata=this.fragmentDecryptdataFromLevelkey(this.levelkey,this.sn)),this._decryptdata},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endProgramDateTime",{get:function(){if(!e.isFinite(this.programDateTime))return null;var t=e.isFinite(this.duration)?this.duration:0;return this.programDateTime+1e3*t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encrypted",{get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)},enumerable:!0,configurable:!0}),t.prototype.addElementaryStream=function(e){this._elementaryStreams[e]=!0},t.prototype.hasElementaryStream=function(e){return!0===this._elementaryStreams[e]},t.prototype.createInitializationVector=function(e){for(var t=new Uint8Array(16),r=12;r<16;r++)t[r]=e>>8*(15-r)&255;return t},t.prototype.fragmentDecryptdataFromLevelkey=function(e,t){var r=e;return e&&e.method&&e.uri&&!e.iv&&((r=new a.default).method=e.method,r.baseuri=e.baseuri,r.reluri=e.reluri,r.iv=this.createInitializationVector(t)),r},t}();t.default=n}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/key-loader.js":
/*!**********************************!*\
  !*** ./src/loader/key-loader.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=function(e){function t(t){var r=e.call(this,t,n.default.KEY_LOADING)||this;return r.loaders={},r.decryptkey=null,r.decrypturl=null,r}return a(t,e),t.prototype.destroy=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={},s.default.prototype.destroy.call(this)},t.prototype.onKeyLoading=function(e){var t=e.frag,r=t.type,i=this.loaders[r],a=t.decryptdata,s=a.uri;if(s!==this.decrypturl||null===this.decryptkey){var o,u,d,c=this.hls.config;i&&(l.logger.warn("abort previous key loader for type:"+r),i.abort()),t.loader=this.loaders[r]=new c.loader(c),this.decrypturl=s,this.decryptkey=null,o={url:s,frag:t,responseType:"arraybuffer"},u={timeout:c.fragLoadingTimeOut,maxRetry:0,retryDelay:c.fragLoadingRetryDelay,maxRetryDelay:c.fragLoadingMaxRetryTimeout},d={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)},t.loader.load(o,u,d)}else this.decryptkey&&(a.key=this.decryptkey,this.hls.trigger(n.default.KEY_LOADED,{frag:t}))},t.prototype.loadsuccess=function(e,t,r){var i=r.frag;this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=void 0,this.loaders[i.type]=void 0,this.hls.trigger(n.default.KEY_LOADED,{frag:i})},t.prototype.loaderror=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:r,response:e})},t.prototype.loadtimeout=function(e,t){var r=t.frag,i=r.loader;i&&i.abort(),this.loaders[t.type]=void 0,this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:r})},t}(s.default);t.default=u},"./src/loader/level-key.js":
/*!*********************************!*\
  !*** ./src/loader/level-key.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),a=function(){function e(){this.method=null,this.key=null,this.iv=null,this._uri=null}return Object.defineProperty(e.prototype,"uri",{get:function(){return!this._uri&&this.reluri&&(this._uri=i.buildAbsoluteURL(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri},enumerable:!0,configurable:!0}),e}();t.default=a},"./src/loader/level.js":
/*!*****************************!*\
  !*** ./src/loader/level.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function t(e){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=e,this.version=null}return Object.defineProperty(t.prototype,"hasProgramDateTime",{get:function(){return!(!this.fragments[0]||!e.isFinite(this.fragments[0].programDateTime))},enumerable:!0,configurable:!0}),t}();t.default=r}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/m3u8-parser.js":
/*!***********************************!*\
  !*** ./src/loader/m3u8-parser.js ***!
  \***********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! url-toolkit */"./node_modules/url-toolkit/src/url-toolkit.js"),a=r(/*! ./fragment */"./src/loader/fragment.js"),n=r(/*! ./level */"./src/loader/level.js"),s=r(/*! ./level-key */"./src/loader/level-key.js"),o=r(/*! ../utils/attr-list */"./src/utils/attr-list.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../utils/codecs */"./src/utils/codecs.js"),d=/#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)/g,c=/#EXT-X-MEDIA:(.*)/g,f=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),h=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,p=/\.(mp4|m4s|m4v|m4a)$/i,g=function(){function t(){}return t.findGroup=function(e,t){if(!e)return null;for(var r=null,i=0;i<e.length;i++){var a=e[i];a.id===t&&(r=a)}return r},t.convertAVC1ToAVCOTI=function(e){var t,r=e.split(".");return r.length>2?(t=r.shift()+".",t+=parseInt(r.shift()).toString(16),t+=("000"+parseInt(r.shift()).toString(16)).substr(-4)):t=e,t},t.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},t.parseMasterPlaylist=function(e,r){var i,a=[];function n(e,t){["video","audio"].forEach((function(r){var i=e.filter((function(e){return u.isCodecType(e,r)}));if(i.length){var a=i.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[r+"Codec"]=a.length>0?a[0]:i[0],e=e.filter((function(e){return-1===i.indexOf(e)}))}})),t.unknownCodecs=e}for(d.lastIndex=0;null!=(i=d.exec(e));){var s={},l=s.attrs=new o.default(i[1]);s.url=t.resolve(i[2],r);var c=l.decimalResolution("RESOLUTION");c&&(s.width=c.width,s.height=c.height),s.bitrate=l.decimalInteger("AVERAGE-BANDWIDTH")||l.decimalInteger("BANDWIDTH"),s.name=l.NAME,n([].concat((l.CODECS||"").split(/[ ,]+/)),s),s.videoCodec&&-1!==s.videoCodec.indexOf("avc1")&&(s.videoCodec=t.convertAVC1ToAVCOTI(s.videoCodec)),a.push(s)}return a},t.parseMasterPlaylistMedia=function(e,r,i,a){var n;void 0===a&&(a=[]);var s=[],l=0;for(c.lastIndex=0;null!==(n=c.exec(e));){var u={},d=new o.default(n[1]);if(d.TYPE===i){if(u.groupId=d["GROUP-ID"],u.name=d.NAME,u.type=i,u.default="YES"===d.DEFAULT,u.autoselect="YES"===d.AUTOSELECT,u.forced="YES"===d.FORCED,d.URI&&(u.url=t.resolve(d.URI,r)),u.lang=d.LANGUAGE,u.name||(u.name=u.lang),a.length){var f=t.findGroup(a,u.groupId);u.audioCodec=f?f.codec:a[0].codec}u.id=l++,s.push(u)}}return s},t.parseLevelPlaylist=function(t,r,i,u,d){var c,g,m=0,y=0,E=new n.default(r),_=new s.default,T=0,S=null,b=new a.default,A=null;for(f.lastIndex=0;null!==(c=f.exec(t));){var R=c[1];if(R){b.duration=parseFloat(R);var D=(" "+c[2]).slice(1);b.title=D||null,b.tagList.push(D?["INF",R,D]:["INF",R])}else if(c[3]){if(e.isFinite(b.duration)){var L=m++;b.type=u,b.start=y,b.levelkey=_,b.sn=L,b.level=i,b.cc=T,b.urlId=d,b.baseurl=r,b.relurl=(" "+c[3]).slice(1),v(b,S),E.fragments.push(b),S=b,y+=b.duration,b=new a.default}}else if(c[4]){if(b.rawByteRange=(" "+c[4]).slice(1),S){var w=S.byteRangeEndOffset;w&&(b.lastByteRangeEndOffset=w)}}else if(c[5])b.rawProgramDateTime=(" "+c[5]).slice(1),b.tagList.push(["PROGRAM-DATE-TIME",b.rawProgramDateTime]),null===A&&(A=E.fragments.length);else{for(c=c[0].match(h),g=1;g<c.length&&void 0===c[g];g++);var O=(" "+c[g+1]).slice(1),I=(" "+c[g+2]).slice(1);switch(c[g]){case"#":b.tagList.push(I?[O,I]:[O]);break;case"PLAYLIST-TYPE":E.type=O.toUpperCase();break;case"MEDIA-SEQUENCE":m=E.startSN=parseInt(O);break;case"TARGETDURATION":E.targetduration=parseFloat(O);break;case"VERSION":E.version=parseInt(O);break;case"EXTM3U":break;case"ENDLIST":E.live=!1;break;case"DIS":T++,b.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":T=parseInt(O);break;case"KEY":var k=O,P=new o.default(k),C=P.enumeratedString("METHOD"),x=P.URI,F=P.hexadecimalInteger("IV");C&&(_=new s.default,x&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(C)>=0&&(_.method=C,_.baseuri=r,_.reluri=x,_.key=null,_.iv=F));break;case"START":var M=O,N=new o.default(M).decimalFloatingPoint("TIME-OFFSET");e.isFinite(N)&&(E.startTimeOffset=N);break;case"MAP":var j=new o.default(O);b.relurl=j.URI,b.rawByteRange=j.BYTERANGE,b.baseurl=r,b.level=i,b.type=u,b.sn="initSegment",E.initSegment=b,(b=new a.default).rawProgramDateTime=E.initSegment.rawProgramDateTime;break;default:l.logger.warn("line parsed but not handled: "+c)}}}return(b=S)&&!b.relurl&&(E.fragments.pop(),y-=b.duration),E.totalduration=y,E.averagetargetduration=y/E.fragments.length,E.endSN=m-1,E.startCC=E.fragments[0]?E.fragments[0].cc:0,E.endCC=T,!E.initSegment&&E.fragments.length&&E.fragments.every((function(e){return p.test(e.relurl)}))&&(l.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(b=new a.default).relurl=E.fragments[0].relurl,b.baseurl=r,b.level=i,b.type=u,b.sn="initSegment",E.initSegment=b,E.needSidxRanges=!0),A&&function(e,t){for(var r=e[t],i=t-1;i>=0;i--){var a=e[i];a.programDateTime=r.programDateTime-1e3*a.duration,r=a}}(E.fragments,A),E},t}();function v(t,r){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):r&&r.programDateTime&&(t.programDateTime=r.endProgramDateTime),e.isFinite(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}t.default=g}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/loader/playlist-loader.js":
/*!***************************************!*\
  !*** ./src/loader/playlist-loader.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=r(/*! ../events */"./src/events.js"),s=r(/*! ../event-handler */"./src/event-handler.js"),o=r(/*! ../errors */"./src/errors.js"),l=r(/*! ../utils/logger */"./src/utils/logger.js"),u=r(/*! ../demux/mp4demuxer */"./src/demux/mp4demuxer.js"),d=r(/*! ./m3u8-parser */"./src/loader/m3u8-parser.js"),c=window.performance,f={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},h={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"},p=function(t){function r(e){var r=t.call(this,e,n.default.MANIFEST_LOADING,n.default.LEVEL_LOADING,n.default.AUDIO_TRACK_LOADING,n.default.SUBTITLE_TRACK_LOADING)||this;return r.loaders={},r}return a(r,t),Object.defineProperty(r,"ContextType",{get:function(){return f},enumerable:!0,configurable:!0}),Object.defineProperty(r,"LevelType",{get:function(){return h},enumerable:!0,configurable:!0}),r.canHaveQualityLevels=function(e){return e!==f.AUDIO_TRACK&&e!==f.SUBTITLE_TRACK},r.mapContextToLevelType=function(e){switch(e.type){case f.AUDIO_TRACK:return h.AUDIO;case f.SUBTITLE_TRACK:return h.SUBTITLE;default:return h.MAIN}},r.getResponseUrl=function(e,t){var r=e.url;return void 0!==r&&0!==r.indexOf("data:")||(r=t.url),r},r.prototype.createInternalLoader=function(e){var t=this.hls.config,r=t.pLoader,i=t.loader,a=new(r||i)(t);return e.loader=a,this.loaders[e.type]=a,a},r.prototype.getInternalLoader=function(e){return this.loaders[e.type]},r.prototype.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},r.prototype.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},r.prototype.destroy=function(){this.destroyInternalLoaders(),t.prototype.destroy.call(this)},r.prototype.onManifestLoading=function(e){this.load(e.url,{type:f.MANIFEST,level:0,id:null})},r.prototype.onLevelLoading=function(e){this.load(e.url,{type:f.LEVEL,level:e.level,id:e.id})},r.prototype.onAudioTrackLoading=function(e){this.load(e.url,{type:f.AUDIO_TRACK,level:null,id:e.id})},r.prototype.onSubtitleTrackLoading=function(e){this.load(e.url,{type:f.SUBTITLE_TRACK,level:null,id:e.id})},r.prototype.load=function(e,t){var r=this.hls.config;l.logger.debug("Loading playlist of type "+t.type+", level: "+t.level+", id: "+t.id);var i,a,n,s,o=this.getInternalLoader(t);if(o){var u=o.context;if(u&&u.url===e)return l.logger.trace("playlist request ongoing"),!1;l.logger.warn("aborting previous loader for type: "+t.type),o.abort()}switch(t.type){case f.MANIFEST:i=r.manifestLoadingMaxRetry,a=r.manifestLoadingTimeOut,n=r.manifestLoadingRetryDelay,s=r.manifestLoadingMaxRetryTimeout;break;case f.LEVEL:i=0,a=r.levelLoadingTimeOut;break;default:i=r.levelLoadingMaxRetry,a=r.levelLoadingTimeOut,n=r.levelLoadingRetryDelay,s=r.levelLoadingMaxRetryTimeout}o=this.createInternalLoader(t),t.url=e,t.responseType=t.responseType||"";var d={timeout:a,maxRetry:i,retryDelay:n,maxRetryDelay:s},c={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return l.logger.debug("Calling internal loader delegate for URL: "+e),o.load(t,d,c),!0},r.prototype.loadsuccess=function(e,t,r,i){if(void 0===i&&(i=null),r.isSidxRequest)return this._handleSidxRequest(e,r),void this._handlePlaylistLoaded(e,t,r,i);this.resetInternalLoader(r.type);var a=e.data;t.tload=c.now(),0===a.indexOf("#EXTM3U")?a.indexOf("#EXTINF:")>0||a.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(e,t,r,i):this._handleMasterPlaylist(e,t,r,i):this._handleManifestParsingError(e,r,"no EXTM3U delimiter",i)},r.prototype.loaderror=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!1,e)},r.prototype.loadtimeout=function(e,t,r){void 0===r&&(r=null),this._handleNetworkError(t,r,!0)},r.prototype._handleMasterPlaylist=function(e,t,i,a){var s=this.hls,o=e.data,u=r.getResponseUrl(e,i),c=d.default.parseMasterPlaylist(o,u);if(c.length){var f=c.map((function(e){return{id:e.attrs.AUDIO,codec:e.audioCodec}})),h=d.default.parseMasterPlaylistMedia(o,u,"AUDIO",f),p=d.default.parseMasterPlaylistMedia(o,u,"SUBTITLES");if(h.length){var g=!1;h.forEach((function(e){e.url||(g=!0)})),!1===g&&c[0].audioCodec&&!c[0].attrs.AUDIO&&(l.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),h.unshift({type:"main",name:"main"}))}s.trigger(n.default.MANIFEST_LOADED,{levels:c,audioTracks:h,subtitles:p,url:u,stats:t,networkDetails:a})}else this._handleManifestParsingError(e,i,"no level found in manifest",a)},r.prototype._handleTrackOrLevelPlaylist=function(t,i,a,s){var o=this.hls,l=a.id,u=a.level,h=a.type,p=r.getResponseUrl(t,a),g=e.isFinite(l)?l:0,v=e.isFinite(u)?u:g,m=r.mapContextToLevelType(a),y=d.default.parseLevelPlaylist(t.data,p,v,m,g);if(y.tload=i.tload,h===f.MANIFEST){var E={url:p,details:y};o.trigger(n.default.MANIFEST_LOADED,{levels:[E],audioTracks:[],url:p,stats:i,networkDetails:s})}if(i.tparsed=c.now(),y.needSidxRanges){var _=y.initSegment.url;this.load(_,{isSidxRequest:!0,type:h,level:u,levelDetails:y,id:l,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"})}else a.levelDetails=y,this._handlePlaylistLoaded(t,i,a,s)},r.prototype._handleSidxRequest=function(e,t){var r=u.default.parseSegmentIndex(new Uint8Array(e.data));if(r){var i=r.references,a=t.levelDetails;i.forEach((function(e,t){var r=e.info,i=a.fragments[t];0===i.byteRange.length&&(i.rawByteRange=String(1+r.end-r.start)+"@"+String(r.start))})),a.initSegment.rawByteRange=String(r.moovEndOffset)+"@0"}},r.prototype._handleManifestParsingError=function(e,t,r,i){this.hls.trigger(n.default.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:e.url,reason:r,networkDetails:i})},r.prototype._handleNetworkError=function(e,t,r,i){var a,s;void 0===r&&(r=!1),void 0===i&&(i=null),l.logger.info("A network error occured while loading a "+e.type+"-type playlist");var u=this.getInternalLoader(e);switch(e.type){case f.MANIFEST:a=r?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,s=!0;break;case f.LEVEL:a=r?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,s=!1;break;case f.AUDIO_TRACK:a=r?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,s=!1;break;default:s=!1}u&&(u.abort(),this.resetInternalLoader(e.type));var d={type:o.ErrorTypes.NETWORK_ERROR,details:a,fatal:s,url:u.url,loader:u,context:e,networkDetails:t};i&&(d.response=i),this.hls.trigger(n.default.ERROR,d)},r.prototype._handlePlaylistLoaded=function(e,t,i,a){var s=i.type,o=i.level,l=i.id,u=i.levelDetails;if(u.targetduration)if(r.canHaveQualityLevels(i.type))this.hls.trigger(n.default.LEVEL_LOADED,{details:u,level:o||0,id:l||0,stats:t,networkDetails:a});else switch(s){case f.AUDIO_TRACK:this.hls.trigger(n.default.AUDIO_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:a});break;case f.SUBTITLE_TRACK:this.hls.trigger(n.default.SUBTITLE_TRACK_LOADED,{details:u,id:l,stats:t,networkDetails:a})}else this._handleManifestParsingError(e,i,"invalid target duration",a)},r}(s.default);t.default=p}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/observer.js":
/*!*************************!*\
  !*** ./src/observer.js ***!
  \*************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.trigger=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];this.emit.apply(this,[e,e].concat(t))},t}(r(/*! eventemitter3 */"./node_modules/eventemitter3/index.js").EventEmitter);t.Observer=n},"./src/polyfills/number.js":
/*!*********************************!*\
  !*** ./src/polyfills/number.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/get-self-scope */"./src/utils/get-self-scope.js").getSelfScope().Number;t.Number=i,i.isFinite=i.isFinite||function(e){return"number"==typeof e&&isFinite(e)}},"./src/remux/aac-helper.js":
/*!*********************************!*\
  !*** ./src/remux/aac-helper.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.getSilentFrame=function(e,t){switch(e){case"mp4a.40.2":if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},e}();t.default=i},"./src/remux/mp4-generator.js":
/*!************************************!*\
  !*** ./src/remux/mp4-generator.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Math.pow(2,32)-1,a=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var r=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:r,audio:i};var a=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),n=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=n,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var s=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,s,l,s,o),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,a))},e.box=function(e){for(var t,r=Array.prototype.slice.call(arguments,1),i=8,a=r.length,n=a;a--;)i+=r[a].byteLength;for((t=new Uint8Array(i))[0]=i>>24&255,t[1]=i>>16&255,t[2]=i>>8&255,t[3]=255&i,t.set(e,4),a=0,i=8;a<n;a++)t.set(r[a],i),i+=r[a].byteLength;return t},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,r){r*=t;var a=Math.floor(r/(i+1)),n=Math.floor(r%(i+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24,a>>16&255,a>>8&255,255&a,n>>24,n>>16&255,n>>8&255,255&n,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,r,i){return e.box(e.types.moof,e.mfhd(t),e.traf(i,r))},e.moov=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trak(t[r]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(i).concat(e.mvex(t)))},e.mvex=function(t){for(var r=t.length,i=[];r--;)i[r]=e.trex(t[r]);return e.box.apply(null,[e.types.mvex].concat(i))},e.mvhd=function(t,r){r*=t;var a=Math.floor(r/(i+1)),n=Math.floor(r%(i+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24,a>>16&255,a>>8&255,255&a,n>>24,n>>16&255,n>>8&255,255&n,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,s)},e.sdtp=function(t){var r,i,a=t.samples||[],n=new Uint8Array(4+a.length);for(i=0;i<a.length;i++)r=a[i].flags,n[i+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,n)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var r,i,a,n=[],s=[];for(r=0;r<t.sps.length;r++)a=(i=t.sps[r]).byteLength,n.push(a>>>8&255),n.push(255&a),n=n.concat(Array.prototype.slice.call(i));for(r=0;r<t.pps.length;r++)a=(i=t.pps[r]).byteLength,s.push(a>>>8&255),s.push(255&a),s=s.concat(Array.prototype.slice.call(i));var o=e.box(e.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|t.sps.length].concat(n).concat([t.pps.length]).concat(s))),l=t.width,u=t.height,d=t.pixelRatio[0],c=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,255&l,u>>8&255,255&u,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([d>>24,d>>16&255,d>>8&255,255&d,c>>24,c>>16&255,c>>8&255,255&c])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var r=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var r=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,r>>8&255,255&r,0,0]))},e.stsd=function(t){return"audio"===t.type?t.isAAC||"mp3"!==t.codec?e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var r=t.id,a=t.duration*t.timescale,n=t.width,s=t.height,o=Math.floor(a/(i+1)),l=Math.floor(a%(i+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,r>>24&255,r>>16&255,r>>8&255,255&r,0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o,l>>24,l>>16&255,l>>8&255,255&l,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,n>>8&255,255&n,0,0,s>>8&255,255&s,0,0]))},e.traf=function(t,r){var a=e.sdtp(t),n=t.id,s=Math.floor(r/(i+1)),o=Math.floor(r%(i+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,o>>24,o>>16&255,o>>8&255,255&o])),e.trun(t,a.length+16+20+8+16+8+8),a)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var r=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,255&r,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,r){var i,a,n,s,o,l,u=t.samples||[],d=u.length,c=12+16*d,f=new Uint8Array(c);for(r+=8+c,f.set([0,0,15,1,d>>>24&255,d>>>16&255,d>>>8&255,255&d,r>>>24&255,r>>>16&255,r>>>8&255,255&r],0),i=0;i<d;i++)n=(a=u[i]).duration,s=a.size,o=a.flags,l=a.cts,f.set([n>>>24&255,n>>>16&255,n>>>8&255,255&n,s>>>24&255,s>>>16&255,s>>>8&255,255&s,o.isLeading<<2|o.dependsOn,o.isDependedOn<<6|o.hasRedundancy<<4|o.paddingValue<<1|o.isNonSync,61440&o.degradPrio,15&o.degradPrio,l>>>24&255,l>>>16&255,l>>>8&255,255&l],12+16*i);return e.box(e.types.trun,f)},e.initSegment=function(t){e.types||e.init();var r,i=e.moov(t);return(r=new Uint8Array(e.FTYP.byteLength+i.byteLength)).set(e.FTYP),r.set(i,e.FTYP.byteLength),r},e}();t.default=a},"./src/remux/mp4-remuxer.js":
/*!**********************************!*\
  !*** ./src/remux/mp4-remuxer.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./aac-helper */"./src/remux/aac-helper.js"),a=r(/*! ./mp4-generator */"./src/remux/mp4-generator.js"),n=r(/*! ../events */"./src/events.js"),s=r(/*! ../errors */"./src/errors.js"),o=r(/*! ../utils/logger */"./src/utils/logger.js"),l=function(){function e(e,t,r,i){this.observer=e,this.config=t,this.typeSupported=r;var a=navigator.userAgent;this.isSafari=i&&i.indexOf("Apple")>-1&&a&&!a.match("CriOS"),this.ISGenerated=!1}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(e){this._initPTS=this._initDTS=e},e.prototype.resetInitSegment=function(){this.ISGenerated=!1},e.prototype.remux=function(e,t,r,i,a,s,l){if(this.ISGenerated||this.generateIS(e,t,a),this.ISGenerated){var u=e.samples.length,d=t.samples.length,c=a,f=a;if(u&&d){var h=(e.samples[0].pts-t.samples[0].pts)/t.inputTimeScale;c+=Math.max(0,h),f+=Math.max(0,-h)}if(u){e.timescale||(o.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(e,t,a));var p=this.remuxAudio(e,c,s,l);if(d){var g=void 0;p&&(g=p.endPTS-p.startPTS),t.timescale||(o.logger.warn("regenerate InitSegment as video detected"),this.generateIS(e,t,a)),this.remuxVideo(t,f,s,g,l)}}else if(d){var v=this.remuxVideo(t,f,s,0,l);v&&e.codec&&this.remuxEmptyAudio(e,c,s,v)}}r.samples.length&&this.remuxID3(r,a),i.samples.length&&this.remuxText(i,a),this.observer.trigger(n.default.FRAG_PARSED)},e.prototype.generateIS=function(e,t,r){var i,l,u=this.observer,d=e.samples,c=t.samples,f=this.typeSupported,h="audio/mp4",p={},g={tracks:p},v=void 0===this._initPTS;if(v&&(i=l=1/0),e.config&&d.length&&(e.timescale=e.samplerate,o.logger.log("audio sampling rate : "+e.samplerate),e.isAAC||(f.mpeg?(h="audio/mpeg",e.codec=""):f.mp3&&(e.codec="mp3")),p.audio={container:h,codec:e.codec,initSegment:!e.isAAC&&f.mpeg?new Uint8Array:a.default.initSegment([e]),metadata:{channelCount:e.channelCount}},v&&(i=l=d[0].pts-e.inputTimeScale*r)),t.sps&&t.pps&&c.length){var m=t.inputTimeScale;t.timescale=m,p.video={container:"video/mp4",codec:t.codec,initSegment:a.default.initSegment([t]),metadata:{width:t.width,height:t.height}},v&&(i=Math.min(i,c[0].pts-m*r),l=Math.min(l,c[0].dts-m*r),this.observer.trigger(n.default.INIT_PTS_FOUND,{initPTS:i}))}Object.keys(p).length?(u.trigger(n.default.FRAG_PARSING_INIT_SEGMENT,g),this.ISGenerated=!0,v&&(this._initPTS=i,this._initDTS=l)):u.trigger(n.default.ERROR,{type:s.ErrorTypes.MEDIA_ERROR,details:s.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},e.prototype.remuxVideo=function(e,t,r,i,l){var u,d,c,f,h,p,g,v=8,m=e.timescale,y=e.samples,E=[],_=y.length,T=this._PTSNormalize,S=this._initPTS,b=this.nextAvcDts,A=this.isSafari;if(0!==_){A&&(r|=y.length&&b&&(l&&Math.abs(t-b/m)<.1||Math.abs(y[0].pts-b-S)<m/5)),r||(b=t*m),y.forEach((function(e){e.pts=T(e.pts-S,b),e.dts=T(e.dts-S,b)})),y.sort((function(e,t){var r=e.dts-t.dts,i=e.pts-t.pts;return r||i||e.id-t.id}));var R=y.reduce((function(e,t){return Math.max(Math.min(e,t.pts-t.dts),-18e3)}),0);if(R<0){o.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Math.round(R/90)+" ms to overcome this issue");for(var D=0;D<y.length;D++)y[D].dts+=R}var L=y[0];h=Math.max(L.dts,0),f=Math.max(L.pts,0);var w=Math.round((h-b)/90);r&&w&&(w>1?o.logger.log("AVC:"+w+" ms hole between fragments detected,filling it"):w<-1&&o.logger.log("AVC:"+-w+" ms overlapping between fragments detected"),h=b,y[0].dts=h,f=Math.max(f-w,b),y[0].pts=f,o.logger.log("Video/PTS/DTS adjusted: "+Math.round(f/90)+"/"+Math.round(h/90)+",delta:"+w+" ms")),L=y[y.length-1],g=Math.max(L.dts,0),p=Math.max(L.pts,0,g),A&&(u=Math.round((g-h)/(y.length-1)));var O=0,I=0;for(D=0;D<_;D++){for(var k=y[D],P=k.units,C=P.length,x=0,F=0;F<C;F++)x+=P[F].data.length;I+=x,O+=C,k.length=x,k.dts=A?h+D*u:Math.max(k.dts,h),k.pts=Math.max(k.pts,k.dts)}var M=I+4*O+8;try{d=new Uint8Array(M)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:M,reason:"fail allocating video mdat "+M})}var N=new DataView(d.buffer);for(N.setUint32(0,M),d.set(a.default.types.mdat,4),D=0;D<_;D++){var j=y[D],U=j.units,B=0,G=void 0;for(F=0,C=U.length;F<C;F++){var K=U[F],H=K.data,V=K.data.byteLength;N.setUint32(v,V),v+=4,d.set(H,v),v+=V,B+=4+V}if(A)G=Math.max(0,u*Math.round((j.pts-j.dts)/u));else{if(D<_-1)u=y[D+1].dts-j.dts;else{var W=this.config,Y=j.dts-y[D>0?D-1:D].dts;if(W.stretchShortVideoTrack){var q=W.maxBufferHole,X=Math.floor(q*m),z=(i?f+i*m:this.nextAudioPts)-j.pts;z>X?((u=z-Y)<0&&(u=Y),o.logger.log("It is approximately "+z/90+" ms to the next segment; using duration "+u/90+" ms for the last video frame.")):u=Y}else u=Y}G=Math.round(j.pts-j.dts)}E.push({size:B,duration:u,cts:G,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:j.key?2:1,isNonSync:j.key?0:1}})}this.nextAvcDts=g+u;var Q=e.dropped;if(e.len=0,e.nbNalu=0,e.dropped=0,E.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var J=E[0].flags;J.dependsOn=2,J.isNonSync=0}e.samples=E,c=a.default.moof(e.sequenceNumber++,h,e),e.samples=[];var $={data1:c,data2:d,startPTS:f/m,endPTS:(p+u)/m,startDTS:h/m,endDTS:this.nextAvcDts/m,type:"video",hasAudio:!1,hasVideo:!0,nb:E.length,dropped:Q};return this.observer.trigger(n.default.FRAG_PARSING_DATA,$),$}},e.prototype.remuxAudio=function(e,t,r,l){var u,d,c,f,h,p,g,v=e.inputTimeScale,m=e.timescale,y=v/m,E=(e.isAAC?1024:1152)*y,_=this._PTSNormalize,T=this._initPTS,S=!e.isAAC&&this.typeSupported.mpeg,b=e.samples,A=[],R=this.nextAudioPts;if(r|=b.length&&R&&(l&&Math.abs(t-R/v)<.1||Math.abs(b[0].pts-R-T)<20*E),b.forEach((function(e){e.pts=e.dts=_(e.pts-T,t*v)})),0!==(b=b.filter((function(e){return e.pts>=0}))).length){if(r||(R=l?t*v:b[0].pts),e.isAAC)for(var D=this.config.maxAudioFramesDrift,L=0,w=R;L<b.length;){var O,I=b[L];O=(j=I.pts)-w;var k=Math.abs(1e3*O/v);if(O<=-D*E)o.logger.warn("Dropping 1 audio frame @ "+(w/v).toFixed(3)+"s due to "+Math.round(k)+" ms overlap."),b.splice(L,1),e.len-=I.unit.length;else if(O>=D*E&&k<1e4&&w){var P=Math.round(O/E);o.logger.warn("Injecting "+P+" audio frame @ "+(w/v).toFixed(3)+"s due to "+Math.round(1e3*O/v)+" ms gap.");for(var C=0;C<P;C++){var x=Math.max(w,0);(c=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),c=I.unit.subarray()),b.splice(L,0,{unit:c,pts:x,dts:x}),e.len+=c.length,w+=E,L++}I.pts=I.dts=w,w+=E,L++}else Math.abs(O),I.pts=I.dts=w,w+=E,L++}C=0;for(var F=b.length;C<F;C++){var M=b[C],N=M.unit,j=M.pts;if(void 0!==g)d.duration=Math.round((j-g)/y);else{var U=Math.round(1e3*(j-R)/v),B=0;if(r&&e.isAAC&&U){if(U>0&&U<1e4)B=Math.round((j-R)/E),o.logger.log(U+" ms hole between AAC samples detected,filling it"),B>0&&((c=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(c=N.subarray()),e.len+=B*c.length);else if(U<-12){o.logger.log("drop overlapping AAC sample, expected/parsed/delta:"+(R/v).toFixed(3)+"s/"+(j/v).toFixed(3)+"s/"+-U+"ms"),e.len-=N.byteLength;continue}j=R}if(p=j,!(e.len>0))return;var G=S?e.len:e.len+8;u=S?0:8;try{f=new Uint8Array(G)}catch(e){return void this.observer.trigger(n.default.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:G,reason:"fail allocating audio mdat "+G})}for(S||(new DataView(f.buffer).setUint32(0,G),f.set(a.default.types.mdat,4)),L=0;L<B;L++)(c=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount))||(o.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),c=N.subarray()),f.set(c,u),u+=c.byteLength,d={size:c.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},A.push(d)}f.set(N,u);var K=N.byteLength;u+=K,d={size:K,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}},A.push(d),g=j}var H=0,V=A.length;if(V>=2&&(H=A[V-2].duration,d.duration=H),V){this.nextAudioPts=R=g+y*H,e.len=0,e.samples=A,h=S?new Uint8Array:a.default.moof(e.sequenceNumber++,p/y,e),e.samples=[];var W=p/v,Y=R/v,q={data1:h,data2:f,startPTS:W,endPTS:Y,startDTS:W,endDTS:Y,type:"audio",hasAudio:!0,hasVideo:!1,nb:V};return this.observer.trigger(n.default.FRAG_PARSING_DATA,q),q}return null}},e.prototype.remuxEmptyAudio=function(e,t,r,a){var n=e.inputTimeScale,s=n/(e.samplerate?e.samplerate:n),l=this.nextAudioPts,u=(void 0!==l?l:a.startDTS*n)+this._initDTS,d=a.endDTS*n+this._initDTS,c=1024*s,f=Math.ceil((d-u)/c),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(o.logger.warn("remux empty Audio"),h){for(var p=[],g=0;g<f;g++){var v=u+g*c;p.push({unit:h,pts:v,dts:v}),e.len+=h.length}e.samples=p,this.remuxAudio(e,t,r)}else o.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},e.prototype.remuxID3=function(e){var t,r=e.samples.length,i=e.inputTimeScale,a=this._initPTS,s=this._initDTS;if(r){for(var o=0;o<r;o++)(t=e.samples[o]).pts=(t.pts-a)/i,t.dts=(t.dts-s)/i;this.observer.trigger(n.default.FRAG_PARSING_METADATA,{samples:e.samples})}e.samples=[]},e.prototype.remuxText=function(e){e.samples.sort((function(e,t){return e.pts-t.pts}));var t,r=e.samples.length,i=e.inputTimeScale,a=this._initPTS;if(r){for(var s=0;s<r;s++)(t=e.samples[s]).pts=(t.pts-a)/i;this.observer.trigger(n.default.FRAG_PARSING_USERDATA,{samples:e.samples})}e.samples=[]},e.prototype._PTSNormalize=function(e,t){var r;if(void 0===t)return e;for(r=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=r;return e},e}();t.default=l},"./src/remux/passthrough-remuxer.js":
/*!******************************************!*\
  !*** ./src/remux/passthrough-remuxer.js ***!
  \******************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../events */"./src/events.js"),a=function(){function e(e){this.observer=e}return e.prototype.destroy=function(){},e.prototype.resetTimeStamp=function(){},e.prototype.resetInitSegment=function(){},e.prototype.remux=function(e,t,r,a,n,s,o,l){var u=this.observer,d="";e&&(d+="audio"),t&&(d+="video"),u.trigger(i.default.FRAG_PARSING_DATA,{data1:l,startPTS:n,startDTS:n,type:d,hasAudio:!!e,hasVideo:!!t,nb:1,dropped:0}),u.trigger(i.default.FRAG_PARSED)},e}();t.default=a},"./src/task-loop.js":
/*!**************************!*\
  !*** ./src/task-loop.js ***!
  \**************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";var i,a=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var a=e.apply(this,[t].concat(r))||this;return a._tickInterval=null,a._tickTimer=null,a._tickCallCount=0,a._boundTick=a.tick.bind(a),a}return a(t,e),t.prototype.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.prototype.hasInterval=function(){return!!this._tickInterval},t.prototype.hasNextTick=function(){return!!this._tickTimer},t.prototype.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=setInterval(this._boundTick,e),!0)},t.prototype.clearInterval=function(){return!!this._tickInterval&&(clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.prototype.clearNextTick=function(){return!!this._tickTimer&&(clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.prototype.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=setTimeout(this._boundTick,0)),this._tickCallCount=0)},t.prototype.doTick=function(){},t}(r(/*! ./event-handler */"./src/event-handler.js").default);t.default=n},"./src/utils/attr-list.js":
/*!********************************!*\
  !*** ./src/utils/attr-list.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,a=function(){function t(e){for(var r in"string"==typeof e&&(e=t.parseAttrList(e)),e)e.hasOwnProperty(r)&&(this[r]=e[r])}return t.prototype.decimalInteger=function(t){var r=parseInt(this[t],10);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var r=new Uint8Array(t.length/2),i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(2*i,2*i+2),16);return r}return null},t.prototype.hexadecimalIntegerAsNumber=function(t){var r=parseInt(this[t],16);return r>e.MAX_SAFE_INTEGER?1/0:r},t.prototype.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.prototype.enumeratedString=function(e){return this[e]},t.prototype.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},t.parseAttrList=function(e){var t,r={};for(i.lastIndex=0;null!==(t=i.exec(e));){var a=t[2];0===a.indexOf('"')&&a.lastIndexOf('"')===a.length-1&&(a=a.slice(1,-1)),r[t[1]]=a}return r},t}();t.default=a}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/binary-search.js":
/*!************************************!*\
  !*** ./src/utils/binary-search.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={search:function(e,t){for(var r=0,i=e.length-1,a=null,n=null;r<=i;){var s=t(n=e[a=(r+i)/2|0]);if(s>0)r=a+1;else{if(!(s<0))return n;i=a-1}}return null}}},"./src/utils/buffer-helper.js":
/*!************************************!*\
  !*** ./src/utils/buffer-helper.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.isBuffered=function(e,t){try{if(e)for(var r=e.buffered,i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0}catch(e){}return!1},e.bufferInfo=function(e,t,r){try{if(e){var i=e.buffered,a=[],n=void 0;for(n=0;n<i.length;n++)a.push({start:i.start(n),end:i.end(n)});return this.bufferedInfo(a,t,r)}}catch(e){}return{len:0,start:t,end:t,nextStart:void 0}},e.bufferedInfo=function(e,t,r){var i,a,n,s,o,l=[];for(e.sort((function(e,t){var r=e.start-t.start;return r||t.end-e.end})),o=0;o<e.length;o++){var u=l.length;if(u){var d=l[u-1].end;e[o].start-d<r?e[o].end>d&&(l[u-1].end=e[o].end):l.push(e[o])}else l.push(e[o])}for(o=0,i=0,a=n=t;o<l.length;o++){var c=l[o].start,f=l[o].end;if(t+r>=c&&t<f)a=c,i=(n=f)-t;else if(t+r<c){s=c;break}}return{len:i,start:a,end:n,nextStart:s}},e}();t.BufferHelper=i},"./src/utils/cea-608-parser.js":
/*!*************************************!*\
  !*** ./src/utils/cea-608-parser.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(e){var t=e;return i.hasOwnProperty(e)&&(t=i[e]),String.fromCharCode(t)},n={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},s={17:2,18:4,21:6,22:8,23:10,19:13,20:15},o={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},l={25:2,26:4,29:6,30:8,31:10,27:13,28:15},u=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],d={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){this.verboseFilter[e],this.verboseLevel}},c=function(e){for(var t=[],r=0;r<e.length;r++)t.push(e[r].toString(16));return t},f=function(){function e(e,t,r,i,a){this.foreground=e||"white",this.underline=t||!1,this.italics=r||!1,this.background=i||"black",this.flash=a||!1}return e.prototype.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},e.prototype.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],r=0;r<t.length;r++){var i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}},e.prototype.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},e.prototype.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},e.prototype.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},e.prototype.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),h=function(){function e(e,t,r,i,a,n){this.uchar=e||" ",this.penState=new f(t,r,i,a,n)}return e.prototype.reset=function(){this.uchar=" ",this.penState.reset()},e.prototype.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},e.prototype.setPenState=function(e){this.penState.copy(e)},e.prototype.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},e.prototype.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},e.prototype.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),p=function(){function e(){this.chars=[];for(var e=0;e<100;e++)this.chars.push(new h);this.pos=0,this.currPenState=new f}return e.prototype.equals=function(e){for(var t=!0,r=0;r<100;r++)if(!this.chars[r].equals(e.chars[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<100;t++)this.chars[t].copy(e.chars[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<100;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},e.prototype.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(d.log("ERROR","Negative cursor position "+this.pos),this.pos=0):this.pos>100&&(d.log("ERROR","Too large cursor position "+this.pos),this.pos=100)},e.prototype.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)},e.prototype.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},e.prototype.insertChar=function(e){e>=144&&this.backSpace();var t=a(e);this.pos>=100?d.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},e.prototype.clearFromPos=function(e){var t;for(t=e;t<100;t++)this.chars[t].reset()},e.prototype.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},e.prototype.clearToEndOfRow=function(){this.clearFromPos(this.pos)},e.prototype.getTextString=function(){for(var e=[],t=!0,r=0;r<100;r++){var i=this.chars[r].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},e.prototype.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),g=function(){function e(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new p);this.currRow=14,this.nrRollUpRows=null,this.reset()}return e.prototype.reset=function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},e.prototype.equals=function(e){for(var t=!0,r=0;r<15;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t},e.prototype.copy=function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},e.prototype.isEmpty=function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},e.prototype.backSpace=function(){this.rows[this.currRow].backSpace()},e.prototype.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},e.prototype.insertChar=function(e){this.rows[this.currRow].insertChar(e)},e.prototype.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},e.prototype.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},e.prototype.setCursor=function(e){d.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},e.prototype.setPAC=function(e){d.log("INFO","pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var r=0;r<15;r++)this.rows[r].clear();var i=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){var n=a.rows[i].cueStartTime;if(n&&n<d.time)for(r=0;r<this.nrRollUpRows;r++)this.rows[t-this.nrRollUpRows+r+1].copy(a.rows[i+r])}}this.currRow=t;var s=this.rows[this.currRow];if(null!==e.indent){var o=e.indent,l=Math.max(o-1,0);s.setCursor(e.indent),e.color=s.chars[l].penState.foreground}var u={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(u)},e.prototype.setBkgData=function(e){d.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},e.prototype.setRollUpRows=function(e){this.nrRollUpRows=e},e.prototype.rollUp=function(){if(null!==this.nrRollUpRows){d.log("TEXT",this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),d.log("INFO","Rolling up")}else d.log("DEBUG","roll_up but nrRollUpRows not set yet")},e.prototype.getDisplayText=function(e){e=e||!1;for(var t=[],r="",i=-1,a=0;a<15;a++){var n=this.rows[a].getTextString();n&&(i=a+1,e?t.push("Row "+i+": '"+n+"'"):t.push(n.trim()))}return t.length>0&&(r=e?"["+t.join(" | ")+"]":t.join("\n")),r},e.prototype.getTextAndFormat=function(){return this.rows},e}(),v=function(){function e(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new g,this.nonDisplayedMemory=new g,this.lastOutputScreen=new g,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}return e.prototype.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},e.prototype.getHandler=function(){return this.outputFilter},e.prototype.setHandler=function(e){this.outputFilter=e},e.prototype.setPAC=function(e){this.writeScreen.setPAC(e)},e.prototype.setBkgData=function(e){this.writeScreen.setBkgData(e)},e.prototype.setMode=function(e){e!==this.mode&&(this.mode=e,d.log("INFO","MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},e.prototype.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var r=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";d.log("INFO",r+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(d.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},e.prototype.ccRCL=function(){d.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},e.prototype.ccBS=function(){d.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},e.prototype.ccAOF=function(){},e.prototype.ccAON=function(){},e.prototype.ccDER=function(){d.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},e.prototype.ccRU=function(e){d.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},e.prototype.ccFON=function(){d.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},e.prototype.ccRDC=function(){d.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},e.prototype.ccTR=function(){d.log("INFO","TR"),this.setMode("MODE_TEXT")},e.prototype.ccRTD=function(){d.log("INFO","RTD"),this.setMode("MODE_TEXT")},e.prototype.ccEDM=function(){d.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},e.prototype.ccCR=function(){d.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},e.prototype.ccENM=function(){d.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},e.prototype.ccEOC=function(){if(d.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,d.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},e.prototype.ccTO=function(e){d.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},e.prototype.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2==1,t.italics=e>=46,t.italics)t.foreground="white";else{var r=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][r]}d.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},e.prototype.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=d.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),!0===e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue()),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},e.prototype.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),m=function(){function e(e,t,r){this.field=e||1,this.outputs=[t,r],this.channels=[new v(1,t),new v(2,r)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}return e.prototype.getHandler=function(e){return this.channels[e].getHandler()},e.prototype.setHandler=function(e,t){this.channels[e].setHandler(t)},e.prototype.addData=function(e,t){var r,i,a,n=!1;this.lastTime=e,d.setTime(e);for(var s=0;s<t.length;s+=2)i=127&t[s],a=127&t[s+1],0!==i||0!==a?(d.log("DATA","["+c([t[s],t[s+1]])+"] -> ("+c([i,a])+")"),(r=this.parseCmd(i,a))||(r=this.parseMidrow(i,a)),r||(r=this.parsePAC(i,a)),r||(r=this.parseBackgroundAttributes(i,a)),r||(n=this.parseChars(i,a))&&(this.currChNr&&this.currChNr>=0?this.channels[this.currChNr-1].insertChars(n):d.log("WARNING","No channel found yet. TEXT-MODE?")),r?this.dataCounters.cmd+=2:n?this.dataCounters.char+=2:(this.dataCounters.other+=2,d.log("WARNING","Couldn't parse cleaned data "+c([i,a])+" orig: "+c([t[s],t[s+1]])))):this.dataCounters.padding+=2},e.prototype.parseCmd=function(e,t){var r=null;if(!((20===e||28===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=33&&t<=35))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,d.log("DEBUG","Repeated command ("+c([e,t])+") is dropped"),!0;r=20===e||23===e?1:2;var i=this.channels[r-1];return 20===e||28===e?32===t?i.ccRCL():33===t?i.ccBS():34===t?i.ccAOF():35===t?i.ccAON():36===t?i.ccDER():37===t?i.ccRU(2):38===t?i.ccRU(3):39===t?i.ccRU(4):40===t?i.ccFON():41===t?i.ccRDC():42===t?i.ccTR():43===t?i.ccRTD():44===t?i.ccEDM():45===t?i.ccCR():46===t?i.ccENM():47===t&&i.ccEOC():i.ccTO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.parseMidrow=function(e,t){var r=null;return(17===e||25===e)&&t>=32&&t<=47&&((r=17===e?1:2)!==this.currChNr?(d.log("ERROR","Mismatch channel in midrow parsing"),!1):(this.channels[r-1].ccMIDROW(t),d.log("DEBUG","MIDROW ("+c([e,t])+")"),!0))},e.prototype.parsePAC=function(e,t){var r,i=null;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127||(16===e||24===e)&&t>=64&&t<=95))return!1;if(e===this.lastCmdA&&t===this.lastCmdB)return this.lastCmdA=null,this.lastCmdB=null,!0;r=e<=23?1:2,i=t>=64&&t<=95?1===r?n[e]:o[e]:1===r?s[e]:l[e];var a=this.interpretPAC(i,t);return this.channels[r-1].setPAC(a),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=r,!0},e.prototype.interpretPAC=function(e,t){var r=t,i={color:null,italics:!1,indent:null,underline:!1,row:e};return r=t>95?t-96:t-64,i.underline=1==(1&r),r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=4*Math.floor((r-16)/2),i},e.prototype.parseChars=function(e,t){var r=null,i=null,n=null;if(e>=25?(r=2,n=e-8):(r=1,n=e),n>=17&&n<=19){var s=t;s=17===n?t+80:18===n?t+112:t+144,d.log("INFO","Special char '"+a(s)+"' in channel "+r),i=[s]}else e>=32&&e<=127&&(i=0===t?[e]:[e,t]);if(i){var o=c(i);d.log("DEBUG","Char codes =  "+o.join(",")),this.lastCmdA=null,this.lastCmdB=null}return i},e.prototype.parseBackgroundAttributes=function(e,t){var r,i,a;return((16===e||24===e)&&t>=32&&t<=47||(23===e||31===e)&&t>=45&&t<=47)&&(r={},16===e||24===e?(i=Math.floor((t-32)/2),r.background=u[i],t%2==1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0)),a=e<24?1:2,this.channels[a-1].setBkgData(r),this.lastCmdA=null,this.lastCmdB=null,!0)},e.prototype.reset=function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},e.prototype.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)},e}();t.default=m},"./src/utils/codecs.js":
/*!*****************************!*\
  !*** ./src/utils/codecs.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};t.isCodecType=function(e,t){var r=i[t];return!!r&&!0===r[e.slice(0,4)]},t.isCodecSupportedInMp4=function(e,t){return window.MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.js":
/*!***************************!*\
  !*** ./src/utils/cues.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./vttparser */"./src/utils/vttparser.js");t.newCue=function(e,t,r,a){for(var n,s,o,l,u,d=window.VTTCue||window.TextTrackCue,c=0;c<a.rows.length;c++)if(o=!0,l=0,u="",!(n=a.rows[c]).isEmpty()){for(var f=0;f<n.chars.length;f++)n.chars[f].uchar.match(/\s/)&&o?l++:(u+=n.chars[f].uchar,o=!1);n.cueStartTime=t,t===r&&(r+=1e-4),s=new d(t,r,i.fixLineBreaks(u.trim())),l>=16?l--:l++,navigator.userAgent.match(/Firefox\//)?s.line=c+1:s.line=c>7?c-2:c+1,s.align="left",s.position=Math.max(0,Math.min(100,l/32*100+(navigator.userAgent.match(/Firefox\//)?50:0))),e.addCue(s)}}},"./src/utils/discontinuities.js":
/*!**************************************!*\
  !*** ./src/utils/discontinuities.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./binary-search */"./src/utils/binary-search.js"),a=r(/*! ../utils/logger */"./src/utils/logger.js");function n(e,t){for(var r=null,i=0;i<e.length;i+=1){var a=e[i];if(a&&a.cc===t){r=a;break}}return r}function s(e,t,r){var i=!1;return t&&t.details&&r&&(r.endCC>r.startCC||e&&e.cc<r.startCC)&&(i=!0),i}function o(e,t){var r=e.fragments,i=t.fragments;if(i.length&&r.length){var s=n(r,i[0].cc);if(s&&(!s||s.startPTS))return s;a.logger.log("No frag in previous level to align on")}else a.logger.log("No fragments to align")}function l(e,t){t.fragments.forEach((function(t){if(t){var r=t.start+e;t.start=t.startPTS=r,t.endPTS=r+t.duration}})),t.PTSKnown=!0}function u(e,t,r){if(s(e,r,t)){var i=o(r.details,t);i&&(a.logger.log("Adjusting PTS using last level due to CC increase within current level"),l(i.start,t))}}function d(t,r){if(r&&r.fragments.length){if(!t.hasProgramDateTime||!r.hasProgramDateTime)return;var i=r.fragments[0].programDateTime,n=(t.fragments[0].programDateTime-i)/1e3+r.fragments[0].start;e.isFinite(n)&&(a.logger.log("adjusting PTS using programDateTime delta, sliding:"+n.toFixed(3)),l(n,t))}}t.findFirstFragWithCC=n,t.findFragWithCC=function(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))},t.shouldAlignOnDiscontinuities=s,t.findDiscontinuousReferenceFrag=o,t.adjustPts=l,t.alignStream=function(e,t,r){u(e,r,t),!r.PTSKnown&&t&&d(r,t.details)},t.alignDiscontinuities=u,t.alignPDT=d}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/ewma-bandwidth-estimator.js":
/*!***********************************************!*\
  !*** ./src/utils/ewma-bandwidth-estimator.js ***!
  \***********************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/ewma */"./src/utils/ewma.js"),a=function(){function e(e,t,r,a){this.hls=e,this.defaultEstimate_=a,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new i.default(t),this.fast_=new i.default(r)}return e.prototype.sample=function(e,t){var r=8e3*t/(e=Math.max(e,this.minDelayMs_)),i=e/1e3;this.fast_.sample(i,r),this.slow_.sample(i,r)},e.prototype.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},e.prototype.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},e.prototype.destroy=function(){},e}();t.default=a},"./src/utils/ewma.js":
/*!***************************!*\
  !*** ./src/utils/ewma.js ***!
  \***************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e){this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=0,this.totalWeight_=0}return e.prototype.sample=function(e,t){var r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e},e.prototype.getTotalWeight=function(){return this.totalWeight_},e.prototype.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/e}return this.estimate_},e}();t.default=i},"./src/utils/get-self-scope.js":
/*!*************************************!*\
  !*** ./src/utils/get-self-scope.js ***!
  \*************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelfScope=function(){return"undefined"==typeof window?self:window}},"./src/utils/logger.js":
/*!*****************************!*\
  !*** ./src/utils/logger.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./get-self-scope */"./src/utils/get-self-scope.js");function a(){}var n={trace:a,debug:a,log:a,warn:a,info:a,error:a},s=n;function o(e,t){return t="["+e+"] > "+t}var l=i.getSelfScope();function u(e){var t=l.console[e];return t?function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];r[0]&&(r[0]=o(e,r[0])),t.apply(l.console,r)}:a}t.enableLogs=function(e){if(!0===e||"object"==typeof e){!function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];t.forEach((function(t){s[t]=e[t]?e[t].bind(e):u(t)}))}(e,"debug","log","info","warn","error");try{s.log()}catch(e){s=n}}else s=n},t.logger=s},"./src/utils/mediakeys-helper.js":
/*!***************************************!*\
  !*** ./src/utils/mediakeys-helper.js ***!
  \***************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="undefined"!=typeof window&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;t.requestMediaKeySystemAccess=i},"./src/utils/mediasource-helper.js":
/*!*****************************************!*\
  !*** ./src/utils/mediasource-helper.js ***!
  \*****************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMediaSource=function(){if("undefined"!=typeof window)return window.MediaSource||window.WebKitMediaSource}},"./src/utils/output-filter.js":
/*!************************************!*\
  !*** ./src/utils/output-filter.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.timelineController=e,this.trackName=t,this.startTime=null,this.endTime=null,this.screen=null}return e.prototype.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen),this.startTime=null)},e.prototype.newCue=function(e,t,r){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)},e}();t.default=i},"./src/utils/texttrack-utils.js":
/*!**************************************!*\
  !*** ./src/utils/texttrack-utils.js ***!
  \**************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendAddTrackEvent=function(e,t){var r=null;try{r=new window.Event("addtrack")}catch(e){(r=document.createEvent("Event")).initEvent("addtrack",!1,!1)}r.track=e,t.dispatchEvent(r)},t.clearCurrentCues=function(e){if(e&&e.cues)for(;e.cues.length>0;)e.removeCue(e.cues[0])}},"./src/utils/time-ranges.js":
/*!**********************************!*\
  !*** ./src/utils/time-ranges.js ***!
  \**********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={toString:function(e){for(var t="",r=e.length,i=0;i<r;i++)t+="["+e.start(i).toFixed(3)+","+e.end(i).toFixed(3)+"]";return t}}},"./src/utils/vttcue.js":
/*!*****************************!*\
  !*** ./src/utils/vttcue.js ***!
  \*****************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if("undefined"!=typeof window&&window.VTTCue)return window.VTTCue;var e={"":!0,lr:!0,rl:!0},t={start:!0,middle:!0,end:!0,left:!0,right:!0};function r(e){return"string"==typeof e&&!!t[e.toLowerCase()]&&e.toLowerCase()}function i(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)e[i]=r[i]}return e}function a(t,a,n){var s=this,o=function(){if("undefined"!=typeof navigator)return/MSIE\s8\.0/.test(navigator.userAgent)}(),l={};o?s=document.createElement("custom"):l.enumerable=!0,s.hasBeenReset=!1;var u="",d=!1,c=t,f=a,h=n,p=null,g="",v=!0,m="auto",y="start",E=50,_="middle",T=50,S="middle";if(Object.defineProperty(s,"id",i({},l,{get:function(){return u},set:function(e){u=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},l,{get:function(){return d},set:function(e){d=!!e}})),Object.defineProperty(s,"startTime",i({},l,{get:function(){return c},set:function(e){if("number"!=typeof e)throw new TypeError("Start time must be set to a number.");c=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},l,{get:function(){return f},set:function(e){if("number"!=typeof e)throw new TypeError("End time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},l,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},l,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},l,{get:function(){return g},set:function(t){var r=function(t){return"string"==typeof t&&!!e[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");g=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},l,{get:function(){return v},set:function(e){v=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},l,{get:function(){return m},set:function(e){if("number"!=typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},l,{get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},l,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},l,{get:function(){return _},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},l,{get:function(){return T},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");T=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},l,{get:function(){return S},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),s.displayState=void 0,o)return s}return a.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},a}()},"./src/utils/vttparser.js":
/*!********************************!*\
  !*** ./src/utils/vttparser.js ***!
  \********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./vttcue */"./src/utils/vttcue.js"),a=function(){return{decode:function(e){if(!e)return"";if("string"!=typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}};function n(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new a,this.regionList=[]}function s(){this.values=Object.create(null)}function o(e,t,r,i){var a=i?e.split(i):[e];for(var n in a)if("string"==typeof a[n]){var s=a[n].split(r);2===s.length&&t(s[0],s[1])}}s.prototype={set:function(e,t){this.get(e)||""===t||(this.values[e]=t)},get:function(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t},has:function(e){return e in this.values},alt:function(e,t,r){for(var i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}},integer:function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},percent:function(e,t){return!!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(t=parseFloat(t))>=0&&t<=100)&&(this.set(e,t),!0)}};var l=new i.default(0,0,0),u="middle"===l.align?"middle":"center";function d(e,t,r){var i=e;function a(){var t=function(e){function t(e,t,r,i){return 3600*(0|e)+60*(0|t)+(0|r)+(0|i)/1e3}var r=e.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return r?r[3]?t(r[1],r[2],r[3].replace(":",""),r[4]):r[1]>59?t(r[1],r[2],0,r[4]):t(0,r[1],r[2],r[4]):null}(e);if(null===t)throw new Error("Malformed timestamp: "+i);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function n(){e=e.replace(/^\s+/,"")}if(n(),t.startTime=a(),n(),"--\x3e"!==e.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+i);e=e.substr(3),n(),t.endTime=a(),n(),function(e,t){var i=new s;o(e,(function(e,t){switch(e){case"region":for(var a=r.length-1;a>=0;a--)if(r[a].id===t){i.set(e,r[a].region);break}break;case"vertical":i.alt(e,t,["rl","lr"]);break;case"line":var n=t.split(","),s=n[0];i.integer(e,s),i.percent(e,s)&&i.set("snapToLines",!1),i.alt(e,s,["auto"]),2===n.length&&i.alt("lineAlign",n[1],["start",u,"end"]);break;case"position":n=t.split(","),i.percent(e,n[0]),2===n.length&&i.alt("positionAlign",n[1],["start",u,"end","line-left","line-right","auto"]);break;case"size":i.percent(e,t);break;case"align":i.alt(e,t,["start",u,"end","left","right"])}}),/:/,/\s/),t.region=i.get("region",null),t.vertical=i.get("vertical","");var a=i.get("line","auto");"auto"===a&&-1===l.line&&(a=-1),t.line=a,t.lineAlign=i.get("lineAlign","start"),t.snapToLines=i.get("snapToLines",!0),t.size=i.get("size",100),t.align=i.get("align",u);var n=i.get("position","auto");"auto"===n&&50===l.position&&(n="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=n}(e,t)}function c(e){return e.replace(/<br(?: \/)?>/gi,"\n")}t.fixLineBreaks=c,n.prototype={parse:function(e){var t=this;function r(){var e=t.buffer,r=0;for(e=c(e);r<e.length&&"\r"!==e[r]&&"\n"!==e[r];)++r;var i=e.substr(0,r);return"\r"===e[r]&&++r,"\n"===e[r]&&++r,t.buffer=e.substr(r),i}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var a=void 0;if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var n=(a=r()).match(/^()?WEBVTT([ \t].*)?$/);if(!n||!n[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var s=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(s?s=!1:a=r(),t.state){case"HEADER":/:/.test(a)?o(a,(function(e,t){}),/:/):a||(t.state="ID");continue;case"NOTE":a||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){t.state="NOTE";break}if(!a)continue;if(t.cue=new i.default(0,0,""),t.state="CUE",-1===a.indexOf("--\x3e")){t.cue.id=a;continue}case"CUE":try{d(a,t.cue,t.regionList)}catch(e){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var l=-1!==a.indexOf("--\x3e");if(!a||l&&(s=!0)){t.oncue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}t.cue.text&&(t.cue.text+="\n"),t.cue.text+=a;continue;case"BADCUE":a||(t.state="ID");continue}}}catch(e){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new Error("Malformed WebVTT signature.")}catch(e){throw e}return this.onflush&&this.onflush(),this}},t.default=n},"./src/utils/webvtt-parser.js":
/*!************************************!*\
  !*** ./src/utils/webvtt-parser.js ***!
  \************************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ./vttparser */"./src/utils/vttparser.js"),a=r(/*! ../demux/id3 */"./src/demux/id3.js"),n=function(e,t,r){return e.substr(r||0,t.length)===t},s=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return(t>>>0).toString()},o={parse:function(t,r,o,l,u,d){var c,f=a.utf8ArrayToStr(new Uint8Array(t)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),h="00:00.000",p=0,g=0,v=0,m=[],y=!0,E=new i.default;E.oncue=function(e){var t=o[l],r=o.ccOffset;t&&t.new&&(void 0!==g?r=o.ccOffset=t.start:function(e,t,r){var i=e[t],a=e[i.prevCC];if(!a||!a.new&&i.new)return e.ccOffset=e.presentationOffset=i.start,void(i.new=!1);for(;a&&a.new;)e.ccOffset+=i.start-a.start,i.new=!1,a=e[(i=a).prevCC];e.presentationOffset=r}(o,l,v)),v&&(r=v-o.presentationOffset),e.startTime+=r-g,e.endTime+=r-g,e.id=s(e.startTime.toString())+s(e.endTime.toString())+s(e.text),e.text=decodeURIComponent(encodeURIComponent(e.text)),e.endTime>0&&m.push(e)},E.onparsingerror=function(e){c=e},E.onflush=function(){c&&d?d(c):u(m)},f.forEach((function(t){if(y){if(n(t,"X-TIMESTAMP-MAP=")){y=!1,t.substr(16).split(",").forEach((function(e){n(e,"LOCAL:")?h=e.substr(6):n(e,"MPEGTS:")&&(p=parseInt(e.substr(7)))}));try{r+(9e4*o[l].start||0)<0&&(r+=8589934592),p-=r,i=h,a=parseInt(i.substr(-3)),s=parseInt(i.substr(-6,2)),u=parseInt(i.substr(-9,2)),d=i.length>9?parseInt(i.substr(0,i.indexOf(":"))):0,g=(e.isFinite(a)&&e.isFinite(s)&&e.isFinite(u)&&e.isFinite(d)?(a+=1e3*s,a+=6e4*u,a+=36e5*d):-1)/1e3,v=p/9e4,-1===g&&(c=new Error("Malformed X-TIMESTAMP-MAP: "+t))}catch(e){c=new Error("Malformed X-TIMESTAMP-MAP: "+t)}return}""===t&&(y=!1)}var i,a,s,u,d;E.parse(t+"\n")})),E.flush()}};t.default=o}).call(this,r(/*! ./src/polyfills/number */"./src/polyfills/number.js").Number)},"./src/utils/xhr-loader.js":
/*!*********************************!*\
  !*** ./src/utils/xhr-loader.js ***!
  \*********************************/
/*! no static exports found */
/*! ModuleConcatenation bailout: Module is not an ECMAScript module */function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(/*! ../utils/logger */"./src/utils/logger.js"),a=window.performance,n=window.XMLHttpRequest,s=function(){function e(e){e&&e.xhrSetup&&(this.xhrSetup=e.xhrSetup)}return e.prototype.destroy=function(){this.abort(),this.loader=null},e.prototype.abort=function(){var e=this.loader;e&&4!==e.readyState&&(this.stats.aborted=!0,e.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},e.prototype.load=function(e,t,r){this.context=e,this.config=t,this.callbacks=r,this.stats={trequest:a.now(),retry:0},this.retryDelay=t.retryDelay,this.loadInternal()},e.prototype.loadInternal=function(){var e,t=this.context;e=this.loader=new n;var r=this.stats;r.tfirst=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(e,t.url)}catch(r){e.open("GET",t.url,!0),i(e,t.url)}e.readyState||e.open("GET",t.url,!0)}catch(r){return void this.callbacks.onError({code:e.status,text:r.message},t,e)}t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),e.send()},e.prototype.readystatechange=function(e){var t=e.currentTarget,r=t.readyState,n=this.stats,s=this.context,o=this.config;if(!n.aborted&&r>=2)if(window.clearTimeout(this.requestTimeout),0===n.tfirst&&(n.tfirst=Math.max(a.now(),n.trequest)),4===r){var l=t.status;if(l>=200&&l<300){n.tload=Math.max(n.tfirst,a.now());var u=void 0,d=void 0;d="arraybuffer"===s.responseType?(u=t.response).byteLength:(u=t.responseText).length,n.loaded=n.total=d;var c={url:t.responseURL,data:u};this.callbacks.onSuccess(c,n,s,t)}else n.retry>=o.maxRetry||l>=400&&l<499?(i.logger.error(l+" while loading "+s.url),this.callbacks.onError({code:l,text:t.statusText},s,t)):(i.logger.warn(l+" while loading "+s.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),o.timeout)},e.prototype.loadtimeout=function(){i.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},e.prototype.loadprogress=function(e){var t=e.currentTarget,r=this.stats;r.loaded=e.loaded,e.lengthComputable&&(r.total=e.total);var i=this.callbacks.onProgress;i&&i(r,this.context,null,t)},e}();t.default=s}}).default},e.exports=i())}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGxzLmpzL2Rpc3QvaGxzLmpzIl0sIm5hbWVzIjpbImZhY3RvcnkiLCJ3aW5kb3ciLCJtb2R1bGVzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImhhcyIsInByZWZpeCIsIkV2ZW50cyIsIkVFIiwiZm4iLCJjb250ZXh0Iiwib25jZSIsInRoaXMiLCJhZGRMaXN0ZW5lciIsImVtaXR0ZXIiLCJldmVudCIsIlR5cGVFcnJvciIsImxpc3RlbmVyIiwiZXZ0IiwiX2V2ZW50cyIsInB1c2giLCJfZXZlbnRzQ291bnQiLCJjbGVhckV2ZW50IiwiRXZlbnRFbWl0dGVyIiwiX19wcm90b19fIiwiZXZlbnROYW1lcyIsImV2ZW50cyIsIm5hbWVzIiwic2xpY2UiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJjb25jYXQiLCJsaXN0ZW5lcnMiLCJoYW5kbGVycyIsImxlbmd0aCIsImVlIiwiQXJyYXkiLCJsaXN0ZW5lckNvdW50IiwiZW1pdCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJhcmdzIiwibGVuIiwiYXJndW1lbnRzIiwicmVtb3ZlTGlzdGVuZXIiLCJ1bmRlZmluZWQiLCJhcHBseSIsImoiLCJvbiIsInJlbW92ZUFsbExpc3RlbmVycyIsIm9mZiIsInByZWZpeGVkIiwiX21heExpc3RlbmVycyIsImlzRnVuY3Rpb24iLCJhcmciLCJpc09iamVjdCIsImlzVW5kZWZpbmVkIiwiZGVmYXVsdE1heExpc3RlbmVycyIsInNldE1heExpc3RlbmVycyIsImlzTmFOIiwidHlwZSIsImVyIiwiaGFuZGxlciIsImVycm9yIiwiRXJyb3IiLCJlcnIiLCJuZXdMaXN0ZW5lciIsIndhcm5lZCIsImNvbnNvbGUiLCJ0cmFjZSIsImZpcmVkIiwiZyIsImxpc3QiLCJwb3NpdGlvbiIsInNwbGljZSIsImV2bGlzdGVuZXIiLCJVUkxfUkVHRVgiLCJGSVJTVF9TRUdNRU5UX1JFR0VYIiwiU0xBU0hfRE9UX1JFR0VYIiwiU0xBU0hfRE9UX0RPVF9SRUdFWCIsIlVSTFRvb2xraXQiLCJidWlsZEFic29sdXRlVVJMIiwiYmFzZVVSTCIsInJlbGF0aXZlVVJMIiwib3B0cyIsInRyaW0iLCJhbHdheXNOb3JtYWxpemUiLCJiYXNlUGFydHNGb3JOb3JtYWxpc2UiLCJwYXJzZVVSTCIsInBhdGgiLCJub3JtYWxpemVQYXRoIiwiYnVpbGRVUkxGcm9tUGFydHMiLCJyZWxhdGl2ZVBhcnRzIiwic2NoZW1lIiwiYmFzZVBhcnRzIiwibmV0TG9jIiwicGF0aFBhcnRzIiwiZXhlYyIsImJ1aWx0UGFydHMiLCJwYXJhbXMiLCJxdWVyeSIsImZyYWdtZW50IiwiYmFzZVVSTFBhdGgiLCJuZXdQYXRoIiwic3Vic3RyaW5nIiwibGFzdEluZGV4T2YiLCJ1cmwiLCJwYXJ0cyIsInNwbGl0IiwicmV2ZXJzZSIsImpvaW4iLCJyZXBsYWNlIiwid2VicGFja0Jvb3RzdHJhcEZ1bmMiLCJjb25maWd1cmFibGUiLCJvZSIsImYiLCJFTlRSWV9NT0RVTEUiLCJkZWZhdWx0IiwicXVvdGVSZWdFeHAiLCJzdHIiLCJnZXRNb2R1bGVEZXBlbmRlbmNpZXMiLCJzb3VyY2VzIiwicXVldWVOYW1lIiwicmV0dmFsIiwiZm5TdHJpbmciLCJ0b1N0cmluZyIsIndyYXBwZXJTaWduYXR1cmUiLCJtYXRjaCIsIndlYnBhY2tSZXF1aXJlTmFtZSIsInJlIiwiUmVnRXhwIiwia2V5cyIsImhhc1ZhbHVlc0luUXVldWVzIiwicXVldWVzIiwicmVkdWNlIiwiaGFzVmFsdWVzIiwib3B0aW9ucyIsIm1haW4iLCJyZXF1aXJlZE1vZHVsZXMiLCJhbGwiLCJtb2R1bGVzUXVldWUiLCJzZWVuTW9kdWxlcyIsIm1vZHVsZVRvQ2hlY2siLCJwb3AiLCJuZXdNb2R1bGVzIiwibmV3TW9kdWxlc0tleXMiLCJnZXRSZXF1aXJlZE1vZHVsZXMiLCJzcmMiLCJmaWx0ZXIiLCJmb3JFYWNoIiwiZW50cnlNb2R1bGUiLCJKU09OIiwic3RyaW5naWZ5IiwibWFwIiwiaWQiLCJibG9iIiwiQmxvYiIsImJhcmUiLCJ3b3JrZXJVcmwiLCJVUkwiLCJ3ZWJraXRVUkwiLCJtb3pVUkwiLCJtc1VSTCIsImNyZWF0ZU9iamVjdFVSTCIsIndvcmtlciIsIldvcmtlciIsIm9iamVjdFVSTCIsImFicl9jb250cm9sbGVyXzEiLCJidWZmZXJfY29udHJvbGxlcl8xIiwiY2FwX2xldmVsX2NvbnRyb2xsZXJfMSIsImZwc19jb250cm9sbGVyXzEiLCJ4aHJfbG9hZGVyXzEiLCJhdWRpb190cmFja19jb250cm9sbGVyXzEiLCJhdWRpb19zdHJlYW1fY29udHJvbGxlcl8xIiwiQ3VlcyIsInRpbWVsaW5lX2NvbnRyb2xsZXJfMSIsInN1YnRpdGxlX3RyYWNrX2NvbnRyb2xsZXJfMSIsInN1YnRpdGxlX3N0cmVhbV9jb250cm9sbGVyXzEiLCJlbWVfY29udHJvbGxlcl8xIiwibWVkaWFrZXlzX2hlbHBlcl8xIiwiaGxzRGVmYXVsdENvbmZpZyIsImF1dG9TdGFydExvYWQiLCJzdGFydFBvc2l0aW9uIiwiZGVmYXVsdEF1ZGlvQ29kZWMiLCJkZWJ1ZyIsImNhcExldmVsT25GUFNEcm9wIiwiY2FwTGV2ZWxUb1BsYXllclNpemUiLCJpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSIsIm1heEJ1ZmZlckxlbmd0aCIsIm1heEJ1ZmZlclNpemUiLCJtYXhCdWZmZXJIb2xlIiwibG93QnVmZmVyV2F0Y2hkb2dQZXJpb2QiLCJoaWdoQnVmZmVyV2F0Y2hkb2dQZXJpb2QiLCJudWRnZU9mZnNldCIsIm51ZGdlTWF4UmV0cnkiLCJtYXhGcmFnTG9va1VwVG9sZXJhbmNlIiwibGl2ZVN5bmNEdXJhdGlvbkNvdW50IiwibGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IiwiSW5maW5pdHkiLCJsaXZlU3luY0R1cmF0aW9uIiwibGl2ZU1heExhdGVuY3lEdXJhdGlvbiIsImxpdmVEdXJhdGlvbkluZmluaXR5IiwibGl2ZUJhY2tCdWZmZXJMZW5ndGgiLCJtYXhNYXhCdWZmZXJMZW5ndGgiLCJlbmFibGVXb3JrZXIiLCJlbmFibGVTb2Z0d2FyZUFFUyIsIm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQiLCJtYW5pZmVzdExvYWRpbmdNYXhSZXRyeSIsIm1hbmlmZXN0TG9hZGluZ1JldHJ5RGVsYXkiLCJtYW5pZmVzdExvYWRpbmdNYXhSZXRyeVRpbWVvdXQiLCJzdGFydExldmVsIiwibGV2ZWxMb2FkaW5nVGltZU91dCIsImxldmVsTG9hZGluZ01heFJldHJ5IiwibGV2ZWxMb2FkaW5nUmV0cnlEZWxheSIsImxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dCIsImZyYWdMb2FkaW5nVGltZU91dCIsImZyYWdMb2FkaW5nTWF4UmV0cnkiLCJmcmFnTG9hZGluZ1JldHJ5RGVsYXkiLCJmcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCIsInN0YXJ0RnJhZ1ByZWZldGNoIiwiZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2QiLCJmcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZCIsImFwcGVuZEVycm9yTWF4UmV0cnkiLCJsb2FkZXIiLCJmTG9hZGVyIiwicExvYWRlciIsInhoclNldHVwIiwibGljZW5zZVhoclNldHVwIiwiYWJyQ29udHJvbGxlciIsImJ1ZmZlckNvbnRyb2xsZXIiLCJjYXBMZXZlbENvbnRyb2xsZXIiLCJmcHNDb250cm9sbGVyIiwic3RyZXRjaFNob3J0VmlkZW9UcmFjayIsIm1heEF1ZGlvRnJhbWVzRHJpZnQiLCJmb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5IiwiYWJyRXdtYUZhc3RMaXZlIiwiYWJyRXdtYVNsb3dMaXZlIiwiYWJyRXdtYUZhc3RWb0QiLCJhYnJFd21hU2xvd1ZvRCIsImFickV3bWFEZWZhdWx0RXN0aW1hdGUiLCJhYnJCYW5kV2lkdGhGYWN0b3IiLCJhYnJCYW5kV2lkdGhVcEZhY3RvciIsImFick1heFdpdGhSZWFsQml0cmF0ZSIsIm1heFN0YXJ2YXRpb25EZWxheSIsIm1heExvYWRpbmdEZWxheSIsIm1pbkF1dG9CaXRyYXRlIiwiZW1lRW5hYmxlZCIsIndpZGV2aW5lTGljZW5zZVVybCIsInJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc0Z1bmMiLCJyZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MiLCJzdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIiLCJTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIiLCJzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciIsInRpbWVsaW5lQ29udHJvbGxlciIsImN1ZUhhbmRsZXIiLCJlbmFibGVDRUE3MDhDYXB0aW9ucyIsImVuYWJsZVdlYlZUVCIsImNhcHRpb25zVGV4dFRyYWNrMUxhYmVsIiwiY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlIiwiY2FwdGlvbnNUZXh0VHJhY2syTGFiZWwiLCJjYXB0aW9uc1RleHRUcmFjazJMYW5ndWFnZUNvZGUiLCJhdWRpb1N0cmVhbUNvbnRyb2xsZXIiLCJhdWRpb1RyYWNrQ29udHJvbGxlciIsImVtZUNvbnRyb2xsZXIiLCJOdW1iZXIiLCJleHRlbmRTdGF0aWNzIiwiX19leHRlbmRzIiwic2V0UHJvdG90eXBlT2YiLCJiIiwiX18iLCJjb25zdHJ1Y3RvciIsImV2ZW50c18xIiwiZXZlbnRfaGFuZGxlcl8xIiwiYnVmZmVyX2hlbHBlcl8xIiwiZXJyb3JzXzEiLCJsb2dnZXJfMSIsImV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl8xIiwicGVyZm9ybWFuY2UiLCJBYnJDb250cm9sbGVyIiwiX3N1cGVyIiwiaGxzIiwiX3RoaXMiLCJGUkFHX0xPQURJTkciLCJGUkFHX0xPQURFRCIsIkZSQUdfQlVGRkVSRUQiLCJFUlJPUiIsImxhc3RMb2FkZWRGcmFnTGV2ZWwiLCJfbmV4dEF1dG9MZXZlbCIsInRpbWVyIiwiX2J3RXN0aW1hdG9yIiwib25DaGVjayIsIl9hYmFuZG9uUnVsZXNDaGVjayIsImRlc3Ryb3kiLCJjbGVhclRpbWVyIiwib25GcmFnTG9hZGluZyIsImRhdGEiLCJmcmFnIiwiZnJhZ0N1cnJlbnQiLCJzZXRJbnRlcnZhbCIsImhsc18xIiwiY29uZmlnIiwibGV2ZWwiLCJld21hRmFzdCIsImV3bWFTbG93IiwibGV2ZWxzIiwiZGV0YWlscyIsImxpdmUiLCJ2aWRlbyIsIm1lZGlhIiwibWluQXV0b0xldmVsIiwic3RhdHMiLCJhYm9ydGVkIiwibG9nZ2VyIiwid2FybiIsInBhdXNlZCIsInBsYXliYWNrUmF0ZSIsInJlYWR5U3RhdGUiLCJhdXRvTGV2ZWwiLCJyZXF1ZXN0RGVsYXkiLCJub3ciLCJ0cmVxdWVzdCIsIk1hdGgiLCJhYnMiLCJkdXJhdGlvbiIsImxvYWRSYXRlIiwibWF4IiwiYnciLCJsb2FkZWQiLCJsZXZlbEJpdHJhdGUiLCJyZWFsQml0cmF0ZSIsImJpdHJhdGUiLCJleHBlY3RlZExlbiIsInRvdGFsIiwicm91bmQiLCJwb3MiLCJjdXJyZW50VGltZSIsImZyYWdMb2FkZWREZWxheSIsImJ1ZmZlclN0YXJ2YXRpb25EZWxheSIsIkJ1ZmZlckhlbHBlciIsImJ1ZmZlckluZm8iLCJlbmQiLCJmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkiLCJuZXh0TG9hZExldmVsIiwibGV2ZWxOZXh0Qml0cmF0ZSIsInRvRml4ZWQiLCJzYW1wbGUiLCJhYm9ydCIsInRyaWdnZXIiLCJGUkFHX0xPQURfRU1FUkdFTkNZX0FCT1JURUQiLCJvbkZyYWdMb2FkZWQiLCJpc0Zpbml0ZSIsInNuIiwibG9hZGVkQnl0ZXMiLCJieXRlcyIsImxvYWRlZER1cmF0aW9uIiwiYml0cmF0ZVRlc3QiLCJ0cGFyc2VkIiwidGJ1ZmZlcmVkIiwidGxvYWQiLCJvbkZyYWdCdWZmZXJlZCIsImZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zIiwibG9nIiwidGZpcnN0IiwiYndFc3RpbWF0ZSIsImdldEVzdGltYXRlIiwiYml0cmF0ZVRlc3REZWxheSIsIm9uRXJyb3IiLCJFcnJvckRldGFpbHMiLCJGUkFHX0xPQURfRVJST1IiLCJGUkFHX0xPQURfVElNRU9VVCIsImNsZWFySW50ZXJ2YWwiLCJmb3JjZWRBdXRvTGV2ZWwiLCJid0VzdGltYXRvciIsImNhbkVzdGltYXRlIiwibmV4dEFCUkF1dG9MZXZlbCIsIl9uZXh0QUJSQXV0b0xldmVsIiwibWluIiwic2V0IiwibmV4dExldmVsIiwibWF4QXV0b0xldmVsIiwiY3VycmVudExldmVsIiwiY3VycmVudEZyYWdEdXJhdGlvbiIsImF2Z2J3IiwiYmVzdExldmVsIiwiX2ZpbmRCZXN0TGV2ZWwiLCJid0ZhY3RvciIsImJ3VXBGYWN0b3IiLCJjdXJyZW50QnciLCJtYXhGZXRjaER1cmF0aW9uIiwibGV2ZWxJbmZvIiwibGV2ZWxEZXRhaWxzIiwiYXZnRHVyYXRpb24iLCJ0b3RhbGR1cmF0aW9uIiwiZnJhZ21lbnRzIiwiYWRqdXN0ZWRidyIsImZldGNoRHVyYXRpb24iLCJiaW5hcnlfc2VhcmNoXzEiLCJkZW11eGVyXzEiLCJMZXZlbEhlbHBlciIsInRpbWVfcmFuZ2VzXzEiLCJkaXNjb250aW51aXRpZXNfMSIsImZyYWdtZW50X3RyYWNrZXJfMSIsImZyYWdtZW50XzEiLCJiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEiLCJBdWRpb1N0cmVhbUNvbnRyb2xsZXIiLCJmcmFnbWVudFRyYWNrZXIiLCJNRURJQV9BVFRBQ0hFRCIsIk1FRElBX0RFVEFDSElORyIsIkFVRElPX1RSQUNLU19VUERBVEVEIiwiQVVESU9fVFJBQ0tfU1dJVENISU5HIiwiQVVESU9fVFJBQ0tfTE9BREVEIiwiS0VZX0xPQURFRCIsIkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQiLCJGUkFHX1BBUlNJTkdfREFUQSIsIkZSQUdfUEFSU0VEIiwiQlVGRkVSX1JFU0VUIiwiQlVGRkVSX0NSRUFURUQiLCJCVUZGRVJfQVBQRU5ERUQiLCJCVUZGRVJfRkxVU0hFRCIsIklOSVRfUFRTX0ZPVU5EIiwiYXVkaW9Db2RlY1N3YXAiLCJfc3RhdGUiLCJTdGF0ZSIsIlNUT1BQRUQiLCJpbml0UFRTIiwid2FpdGluZ0ZyYWdtZW50IiwidmlkZW9UcmFja0NDIiwib25IYW5kbGVyRGVzdHJveWluZyIsInN0b3BMb2FkIiwib25IYW5kbGVyRGVzdHJveWVkIiwic3RhdGUiLCJvbkluaXRQdHNGb3VuZCIsImRlbXV4ZXJJZCIsImNjIiwiV0FJVElOR19JTklUX1BUUyIsInRpY2siLCJzdGFydExvYWQiLCJ0cmFja3MiLCJsYXN0Q3VycmVudFRpbWUiLCJmcmFnTG9hZEVycm9yIiwiSURMRSIsIlNUQVJUSU5HIiwibmV4dExvYWRQb3NpdGlvbiIsInJlbW92ZUZyYWdtZW50IiwiZnJhZ1ByZXZpb3VzIiwiZGVtdXhlciIsIm5leHRTdGF0ZSIsInByZXZpb3VzU3RhdGUiLCJkb1RpY2siLCJ0cmFjayIsInRyYWNrRGV0YWlscyIsIlBBVVNFRCIsIkJVRkZFUl9GTFVTSElORyIsIldBSVRJTkdfVFJBQ0siLCJsb2FkZWRtZXRhZGF0YSIsInN0YXJ0RnJhZ1JlcXVlc3RlZCIsIm1lZGlhQnVmZmVyIiwidmlkZW9CdWZmZXIiLCJtYWluQnVmZmVySW5mbyIsImJ1ZmZlckxlbiIsImJ1ZmZlckVuZF8xIiwibWF4Q29uZmlnQnVmZmVyIiwibWF4QnVmTGVuIiwiYXVkaW9Td2l0Y2giLCJ0cmFja0lkIiwiX3N0cmVhbUVuZGVkIiwiQlVGRkVSX0VPUyIsIkVOREVEIiwiZnJhZ0xlbiIsInN0YXJ0IiwiUFRTS25vd24iLCJuZXh0U3RhcnQiLCJpbml0U2VnbWVudCIsImZpbmRGcmFnV2l0aENDIiwibG9hZElkeCIsImZyYWdMb2FkSWR4IiwibmV4dEJ1ZmZlcmVkIiwiZm91bmRGcmFnIiwibWF4RnJhZ0xvb2tVcFRvbGVyYW5jZV8xIiwiZnJhZ05leHQiLCJmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QiLCJjYW5kaWRhdGUiLCJjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UiLCJzZWFyY2giLCJlbmRTTiIsInN0YXJ0U04iLCJlbmNyeXB0ZWQiLCJLRVlfTE9BRElORyIsImdldFN0YXRlIiwiRnJhZ21lbnRTdGF0ZSIsIk5PVF9MT0FERUQiLCJGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWSIsInJldHJ5RGF0ZSIsImlzU2Vla2luZyIsInNlZWtpbmciLCJ3YWl0aW5nRnJhZyIsIndhaXRpbmdGcmFnQ0MiLCJQQVJTSU5HIiwiUEFSU0VEIiwib25NZWRpYUF0dGFjaGVkIiwib252c2Vla2luZyIsIm9uTWVkaWFTZWVraW5nIiwib252ZW5kZWQiLCJvbk1lZGlhRW5kZWQiLCJhZGRFdmVudExpc3RlbmVyIiwib25NZWRpYURldGFjaGluZyIsImVuZGVkIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9udnNlZWtlZCIsIm9uQXVkaW9UcmFja3NVcGRhdGVkIiwiYXVkaW9UcmFja3MiLCJvbkF1ZGlvVHJhY2tTd2l0Y2hpbmciLCJhbHRBdWRpbyIsIm9uQXVkaW9UcmFja0xvYWRlZCIsIm5ld0RldGFpbHMiLCJzbGlkaW5nIiwiY3VyRGV0YWlscyIsIm1lcmdlRGV0YWlscyIsInN0YXJ0VGltZU9mZnNldCIsIm9uS2V5TG9hZGVkIiwiZnJhZ0xvYWRlZCIsImF1ZGlvQ29kZWMiLCJwYXlsb2FkIiwiYXBwZW5kZWQiLCJpbml0U2VnbWVudERhdGEiLCJwZW5kaW5nQnVmZmVyaW5nIiwib25GcmFnUGFyc2luZ0luaXRTZWdtZW50IiwiZnJhZ05ldyIsImF1ZGlvIiwibGV2ZWxDb2RlYyIsImNvZGVjIiwiQlVGRkVSX0NPREVDUyIsImNvbnRhaW5lciIsImFwcGVuZE9iaiIsInBhcmVudCIsImNvbnRlbnQiLCJwZW5kaW5nRGF0YSIsIkJVRkZFUl9BUFBFTkRJTkciLCJvbkZyYWdQYXJzaW5nRGF0YSIsImVuZFBUUyIsInN0YXJ0UFRTIiwiZW5kRFRTIiwic3RhcnREVFMiLCJhZGRFbGVtZW50YXJ5U3RyZWFtIiwiRWxlbWVudGFyeVN0cmVhbVR5cGVzIiwiQVVESU8iLCJuYiIsInVwZGF0ZUZyYWdQVFNEVFMiLCJhcHBlbmRPbkJ1ZmZlckZsdXNoIiwic3RhcnRPZmZzZXQiLCJlbmRPZmZzZXQiLCJQT1NJVElWRV9JTkZJTklUWSIsIkFVRElPX1RSQUNLX1NXSVRDSEVEIiwicGVuZGluZ0RhdGFfMSIsIkVycm9yVHlwZXMiLCJNRURJQV9FUlJPUiIsImZhdGFsIiwiZGF0YTEiLCJkYXRhMiIsImJ1ZmZlciIsIm9uRnJhZ1BhcnNlZCIsIl9jaGVja0FwcGVuZGVkUGFyc2VkIiwib25CdWZmZXJSZXNldCIsIm9uQnVmZmVyQ3JlYXRlZCIsImF1ZGlvVHJhY2siLCJvbkJ1ZmZlckFwcGVuZGVkIiwicGVuZGluZyIsImhsc18yIiwiYnVmZmVyZWQiLCJmcmFnXzEiLCJsb2FkRXJyb3IiLCJkZWxheSIsInBvdyIsIkFVRElPX1RSQUNLX0xPQURfRVJST1IiLCJBVURJT19UUkFDS19MT0FEX1RJTUVPVVQiLCJLRVlfTE9BRF9FUlJPUiIsIktFWV9MT0FEX1RJTUVPVVQiLCJCVUZGRVJfRlVMTF9FUlJPUiIsImlzQnVmZmVyZWQiLCJvbkJ1ZmZlckZsdXNoZWQiLCJ0YXNrX2xvb3BfMSIsIkF1ZGlvVHJhY2tDb250cm9sbGVyIiwiTUFOSUZFU1RfTE9BRElORyIsIk1BTklGRVNUX1BBUlNFRCIsIkxFVkVMX0xPQURFRCIsIl90cmFja0lkIiwiX3NlbGVjdERlZmF1bHRUcmFjayIsInRyYWNrSWRCbGFja2xpc3QiLCJhdWRpb0dyb3VwSWQiLCJvbk1hbmlmZXN0TG9hZGluZyIsIm9uTWFuaWZlc3RQYXJzZWQiLCJoYXNJbnRlcnZhbCIsInVwZGF0ZVBlcmlvZE1zIiwidGFyZ2V0ZHVyYXRpb24iLCJvbkF1ZGlvVHJhY2tTd2l0Y2hlZCIsImdyb3VwSWQiLCJvbkxldmVsTG9hZGVkIiwiYXVkaW9Hcm91cElkcyIsInVybElkIiwiX3NlbGVjdEluaXRpYWxBdWRpb1RyYWNrIiwiTkVUV09SS19FUlJPUiIsIl9oYW5kbGVMb2FkRXJyb3IiLCJuZXdJZCIsIl9zZXRBdWRpb1RyYWNrIiwiX2xvYWRUcmFja0RldGFpbHNJZk5lZWRlZCIsIl91cGRhdGVUcmFjayIsImN1cnJlbnRBdWRpb1RyYWNrIiwiZGVmYXVsdFRyYWNrcyIsInRyYWNrRm91bmQiLCJ0cmF2ZXJzZVRyYWNrcyIsIl9uZWVkc1RyYWNrTG9hZGluZyIsIkFVRElPX1RSQUNLX0xPQURJTkciLCJwcmV2aW91c0lkIiwiX2EiLCJsYW5ndWFnZSIsIldBSVRJTkdfTEVWRUwiLCJCYXNlU3RyZWFtQ29udHJvbGxlciIsImJhY2t0cmFja2VkIiwiZnJhZ1N0YXRlIiwiUEFSVElBTCIsIk9LIiwidG9sZXJhbmNlIiwiZnJhZ1N0YXJ0T2Zmc2V0IiwiZnJhZ0VuZE9mZnNldCIsIk1lZGlhU291cmNlIiwiZ2V0TWVkaWFTb3VyY2UiLCJCdWZmZXJDb250cm9sbGVyIiwiTUVESUFfQVRUQUNISU5HIiwiTEVWRUxfUFRTX1VQREFURUQiLCJMRVZFTF9VUERBVEVEIiwiX21zRHVyYXRpb24iLCJfbGV2ZWxEdXJhdGlvbiIsIl9sZXZlbFRhcmdldER1cmF0aW9uIiwiX2xpdmUiLCJfb2JqZWN0VXJsIiwiYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCIsIm9uc2J1ZSIsIm9uU0JVcGRhdGVFbmQiLCJvbnNiZSIsIm9uU0JVcGRhdGVFcnJvciIsInBlbmRpbmdUcmFja3MiLCJvbkxldmVsUHRzVXBkYXRlZCIsImF1ZGlvQnVmZmVyIiwic291cmNlQnVmZmVyIiwidGltZXN0YW1wT2Zmc2V0IiwidXBkYXRpbmciLCJhdWRpb1RpbWVzdGFtcE9mZnNldCIsIm9uTWVkaWFBdHRhY2hpbmciLCJtcyIsIm1lZGlhU291cmNlIiwib25tc28iLCJvbk1lZGlhU291cmNlT3BlbiIsIm9ubXNlIiwib25NZWRpYVNvdXJjZUVuZGVkIiwib25tc2MiLCJvbk1lZGlhU291cmNlQ2xvc2UiLCJlbmRPZlN0cmVhbSIsIm1lc3NhZ2UiLCJyZXZva2VPYmplY3RVUkwiLCJyZW1vdmVBdHRyaWJ1dGUiLCJsb2FkIiwiZmx1c2hSYW5nZSIsInNlZ21lbnRzIiwiTUVESUFfREVUQUNIRUQiLCJjaGVja1BlbmRpbmdUcmFja3MiLCJwZW5kaW5nVHJhY2tzQ291bnQiLCJjcmVhdGVTb3VyY2VCdWZmZXJzIiwiZG9BcHBlbmRpbmciLCJfbmVlZHNGbHVzaCIsImRvRmx1c2giLCJfbmVlZHNFb3MiLCJjaGVja0VvcyIsImFwcGVuZGluZyIsImNvdW50ZXIiLCJzZWdtZW50IiwidGltZVJhbmdlcyIsInN0cmVhbVR5cGUiLCJ1cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbiIsImZsdXNoTGl2ZUJhY2tCdWZmZXIiLCJCVUZGRVJfQVBQRU5ESU5HX0VSUk9SIiwic2IiLCJyZW1vdmVTb3VyY2VCdWZmZXIiLCJvbkJ1ZmZlckNvZGVjcyIsInRyYWNrTmFtZSIsIm1pbWVUeXBlIiwiYWRkU291cmNlQnVmZmVyIiwiQlVGRkVSX0FERF9DT0RFQ19FUlJPUiIsIm9uQnVmZmVyQXBwZW5kaW5nIiwib25CdWZmZXJBcHBlbmRGYWlsIiwib25CdWZmZXJFb3MiLCJkYXRhVHlwZSIsInNib2JqIiwiZSIsIm9uQnVmZmVyRmx1c2hpbmciLCJmbHVzaEJ1ZmZlckNvdW50ZXIiLCJidWZmZXJUeXBlcyIsInRhcmdldEJhY2tCdWZmZXJQb3NpdGlvbiIsImluZGV4IiwiYnVmZmVyVHlwZSIsInJlbW92ZUJ1ZmZlclJhbmdlIiwib25MZXZlbFVwZGF0ZWQiLCJhdmVyYWdldGFyZ2V0ZHVyYXRpb24iLCJyYW5nZSIsImZsdXNoQnVmZmVyIiwic2hpZnQiLCJ1bnNoaWZ0IiwiYXBwZW5kQnVmZmVyIiwiYXBwZW5kRXJyb3IiLCJldmVudF8xIiwiY29kZSIsIkJVRkZFUl9BUFBFTkRfRVJST1IiLCJ0eXBlSW4iLCJidWZTdGFydCIsImJ1ZkVuZCIsInJlbW92ZVN0YXJ0IiwicmVtb3ZlRW5kIiwicmVtb3ZlIiwiQ2FwTGV2ZWxDb250cm9sbGVyIiwiRlBTX0RST1BfTEVWRUxfQ0FQUElORyIsImF1dG9MZXZlbENhcHBpbmciLCJmaXJzdExldmVsIiwicmVzdHJpY3RlZExldmVscyIsIl9zdG9wQ2FwcGluZyIsIm9uRnBzRHJvcExldmVsQ2FwcGluZyIsImlzTGV2ZWxBbGxvd2VkIiwiZHJvcHBlZExldmVsIiwiSFRNTFZpZGVvRWxlbWVudCIsIl9zdGFydENhcHBpbmciLCJvbkxldmVsc1VwZGF0ZWQiLCJkZXRlY3RQbGF5ZXJTaXplIiwibGV2ZWxzTGVuZ3RoIiwiZ2V0TWF4TGV2ZWwiLCJzdHJlYW1Db250cm9sbGVyIiwibmV4dExldmVsU3dpdGNoIiwiY2FwTGV2ZWxJbmRleCIsInZhbGlkTGV2ZWxzIiwiZ2V0TWF4TGV2ZWxCeU1lZGlhU2l6ZSIsIm1lZGlhV2lkdGgiLCJtZWRpYUhlaWdodCIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJvZmZzZXRXaWR0aCIsImNvbnRlbnRTY2FsZUZhY3RvciIsImhlaWdodCIsImNsaWVudEhlaWdodCIsIm9mZnNldEhlaWdodCIsInBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwiaW5kZXhPZiIsImN1ckxldmVsIiwibWF4TGV2ZWxJbmRleCIsIlhNTEh0dHBSZXF1ZXN0IiwiS2V5U3lzdGVtcyIsIkVNRUNvbnRyb2xsZXIiLCJfd2lkZXZpbmVMaWNlbnNlVXJsIiwiX2xpY2Vuc2VYaHJTZXR1cCIsIl9lbWVFbmFibGVkIiwiX3JlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyIsIl9tZWRpYUtleXNMaXN0IiwiX21lZGlhIiwiX2hhc1NldE1lZGlhS2V5cyIsIl9pc01lZGlhRW5jcnlwdGVkIiwiX3JlcXVlc3RMaWNlbnNlRmFpbHVyZUNvdW50IiwiZ2V0TGljZW5zZVNlcnZlclVybCIsImtleVN5c3RlbSIsIktFWV9TWVNURU1fRVJST1IiLCJLRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQiLCJfYXR0ZW1wdEtleVN5c3RlbUFjY2VzcyIsImF1ZGlvQ29kZWNzIiwidmlkZW9Db2RlY3MiLCJtZWRpYUtleVN5c3RlbUNvbmZpZ3MiLCJkcm1TeXN0ZW1PcHRpb25zIiwiYmFzZUNvbmZpZyIsInZpZGVvQ2FwYWJpbGl0aWVzIiwiY29udGVudFR5cGUiLCJjcmVhdGVXaWRldmluZU1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMiLCJnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zIiwidGhlbiIsIm1lZGlhS2V5U3lzdGVtQWNjZXNzIiwiX29uTWVkaWFLZXlTeXN0ZW1BY2Nlc3NPYnRhaW5lZCIsImNhdGNoIiwibWVkaWFLZXlzTGlzdEl0ZW0iLCJtZWRpYUtleXMiLCJtZWRpYUtleXNTZXNzaW9uIiwibWVkaWFLZXlzU2Vzc2lvbkluaXRpYWxpemVkIiwibWVkaWFLZXlTeXN0ZW1Eb21haW4iLCJjcmVhdGVNZWRpYUtleXMiLCJfb25NZWRpYUtleXNDcmVhdGVkIiwiY3JlYXRlU2Vzc2lvbiIsIl9vbk5ld01lZGlhS2V5U2Vzc2lvbiIsImtleVNlc3Npb24iLCJzZXNzaW9uSWQiLCJfb25LZXlTZXNzaW9uTWVzc2FnZSIsIl9yZXF1ZXN0TGljZW5zZSIsInVwZGF0ZSIsIl9vbk1lZGlhRW5jcnlwdGVkIiwiaW5pdERhdGFUeXBlIiwiaW5pdERhdGEiLCJfbWVkaWFFbmNyeXB0aW9uSW5pdERhdGFUeXBlIiwiX21lZGlhRW5jcnlwdGlvbkluaXREYXRhIiwiX2F0dGVtcHRTZXRNZWRpYUtleXMiLCJfZ2VuZXJhdGVSZXF1ZXN0V2l0aFByZWZlcnJlZEtleVNlc3Npb24iLCJrZXlzTGlzdEl0ZW0iLCJLRVlfU1lTVEVNX05PX0tFWVMiLCJzZXRNZWRpYUtleXMiLCJLRVlfU1lTVEVNX05PX0FDQ0VTUyIsIktFWV9TWVNURU1fTk9fU0VTU0lPTiIsImdlbmVyYXRlUmVxdWVzdCIsIl9jcmVhdGVMaWNlbnNlWGhyIiwia2V5TWVzc2FnZSIsImNhbGxiYWNrIiwieGhyIiwib3BlbiIsInJlc3BvbnNlVHlwZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIl9vbkxpY2Vuc2VSZXF1ZXN0UmVhZHlTdGFnZUNoYW5nZSIsInN0YXR1cyIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsImF0dGVtcHRzTGVmdCIsIl9nZW5lcmF0ZUxpY2Vuc2VSZXF1ZXN0Q2hhbGxlbmdlIiwiY2hhbGxlbmdlIiwic2VuZCIsInZpZGVvQ29kZWMiLCJGUFNDb250cm9sbGVyIiwiaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSIsImdldFZpZGVvUGxheWJhY2tRdWFsaXR5IiwiY2hlY2tGUFNJbnRlcnZhbCIsImNoZWNrRlBTIiwiZGVjb2RlZEZyYW1lcyIsImRyb3BwZWRGcmFtZXMiLCJsYXN0VGltZSIsImN1cnJlbnRQZXJpb2QiLCJjdXJyZW50RHJvcHBlZCIsImxhc3REcm9wcGVkRnJhbWVzIiwiY3VycmVudERlY29kZWQiLCJsYXN0RGVjb2RlZEZyYW1lcyIsImRyb3BwZWRGUFMiLCJGUFNfRFJPUCIsInRvdGFsRHJvcHBlZEZyYW1lcyIsInZpZGVvUGxheWJhY2tRdWFsaXR5IiwidG90YWxWaWRlb0ZyYW1lcyIsImRyb3BwZWRWaWRlb0ZyYW1lcyIsIndlYmtpdERlY29kZWRGcmFtZUNvdW50Iiwid2Via2l0RHJvcHBlZEZyYW1lQ291bnQiLCJidWZmZXJFbmQiLCJkZWx0YVBUUyIsInBkdFdpdGhpblRvbGVyYW5jZVRlc3QiLCJwZHRCdWZmZXJFbmQiLCJlbmRQcm9ncmFtRGF0ZVRpbWUiLCJmaW5kRnJhZ21lbnRCeVBEVCIsIlBEVFZhbHVlIiwiaXNBcnJheSIsInByb2dyYW1EYXRlVGltZSIsInNlZyIsImZpbmRGcmFnbWVudEJ5UFRTIiwiQVBQRU5ESU5HIiwiRnJhZ21lbnRUcmFja2VyIiwiYnVmZmVyUGFkZGluZyIsImdldEJ1ZmZlcmVkRnJhZyIsImxldmVsVHlwZSIsImJ1ZmZlcmVkRnJhZ3MiLCJmcmFnbWVudEVudGl0eSIsImJvZHkiLCJidWZmZXJlZEZyYWdLZXkiLCJkZXRlY3RFdmljdGVkRnJhZ21lbnRzIiwiZWxlbWVudGFyeVN0cmVhbSIsInRpbWVSYW5nZSIsImZyYWdtZW50VGltZXMiLCJ0aW1lIiwiZXNEYXRhIiwiaXNUaW1lQnVmZmVyZWQiLCJkZXRlY3RQYXJ0aWFsRnJhZ21lbnRzIiwiZnJhZ0tleSIsImdldEZyYWdtZW50S2V5IiwiaGFzRWxlbWVudGFyeVN0cmVhbSIsImdldEJ1ZmZlcmVkVGltZXMiLCJzdGFydFRpbWUiLCJlbmRUaW1lIiwiZnJhZ21lbnRQYXJ0aWFsIiwicGFydGlhbCIsImdldFBhcnRpYWxGcmFnbWVudCIsInRpbWVQYWRkaW5nIiwiYmVzdEZyYWdtZW50IiwiYmVzdE92ZXJsYXAiLCJpc1BhcnRpYWwiLCJoYXNGcmFnbWVudCIsInJlbW92ZUFsbEZyYWdtZW50cyIsIkdhcENvbnRyb2xsZXIiLCJzdGFsbFJlcG9ydGVkIiwicG9sbCIsInRub3ciLCJzdGFsbGVkIiwibnVkZ2VSZXRyeSIsInN0YWxsZWREdXJhdGlvbiIsIl9yZXBvcnRTdGFsbCIsIl90cnlGaXhCdWZmZXJTdGFsbCIsIl90cnlTa2lwQnVmZmVySG9sZSIsIl90cnlOdWRnZUJ1ZmZlciIsIkJVRkZFUl9TVEFMTEVEX0VSUk9SIiwibGFzdEVuZFRpbWUiLCJCVUZGRVJfU0VFS19PVkVSX0hPTEUiLCJyZWFzb24iLCJ0YXJnZXRUaW1lIiwiQlVGRkVSX05VREdFX09OX1NUQUxMIiwiaWQzXzEiLCJ0ZXh0dHJhY2tfdXRpbHNfMSIsIklEM1RyYWNrQ29udHJvbGxlciIsIkZSQUdfUEFSU0lOR19NRVRBREFUQSIsImlkM1RyYWNrIiwiY2xlYXJDdXJyZW50Q3VlcyIsImdldElEM1RyYWNrIiwidGV4dFRyYWNrcyIsInRleHRUcmFjayIsImtpbmQiLCJsYWJlbCIsInNlbmRBZGRUcmFja0V2ZW50IiwiYWRkVGV4dFRyYWNrIiwib25GcmFnUGFyc2luZ01ldGFkYXRhIiwic2FtcGxlcyIsIkN1ZSIsIldlYktpdERhdGFDdWUiLCJWVFRDdWUiLCJUZXh0VHJhY2tDdWUiLCJmcmFtZXNfMSIsImdldElEM0ZyYW1lcyIsInB0cyIsImZyYW1lIiwiaXNUaW1lU3RhbXBGcmFtZSIsImN1ZSIsImFkZEN1ZSIsImNocm9tZU9yRmlyZWZveCIsImNvZGVjc18xIiwibGV2ZWxfaGVscGVyXzEiLCJMZXZlbENvbnRyb2xsZXIiLCJNQU5JRkVTVF9MT0FERUQiLCJjYW5sb2FkIiwiY3VycmVudExldmVsSW5kZXgiLCJtYW51YWxMZXZlbEluZGV4IiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwiY2xlYXJUaW1lb3V0IiwiX2xldmVscyIsImxldmVsUmV0cnlDb3VudCIsImxvYWRMZXZlbCIsIm9uTWFuaWZlc3RMb2FkZWQiLCJiaXRyYXRlU3RhcnQiLCJsZXZlbFNldCIsImxldmVsRnJvbVNldCIsInZpZGVvQ29kZWNGb3VuZCIsImF1ZGlvQ29kZWNGb3VuZCIsImF0dHJpYnV0ZXMiLCJhdHRycyIsImZyYWdtZW50RXJyb3IiLCJhZGRHcm91cElkIiwiU1VCVElUTEVTIiwiaXNDb2RlY1N1cHBvcnRlZEluTXA0Iiwic29ydCIsImEiLCJfZmlyc3RMZXZlbCIsInNvbWUiLCJNQU5JRkVTVF9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SIiwibmV3TGV2ZWwiLCJzZXRMZXZlbEludGVybmFsIiwibGV2ZWxQcm9wZXJ0aWVzIiwiTEVWRUxfU1dJVENISU5HIiwiTEVWRUxfTE9BRElORyIsIk9USEVSX0VSUk9SIiwiTEVWRUxfU1dJVENIX0VSUk9SIiwiX3N0YXJ0TGV2ZWwiLCJjb25maWdTdGFydExldmVsIiwibGV2ZWxJbmRleCIsImxldmVsRXJyb3IiLCJMRVZFTF9MT0FEX0VSUk9SIiwiTEVWRUxfTE9BRF9USU1FT1VUIiwiUkVNVVhfQUxMT0NfRVJST1IiLCJyZWNvdmVyTGV2ZWwiLCJlcnJvckV2ZW50IiwicmVkdW5kYW50TGV2ZWxzIiwiZXJyb3JEZXRhaWxzIiwic2V0VGltZW91dCIsImxldmVsUmV0cnkiLCJuZXh0QXV0b0xldmVsIiwibGV2ZWxJZCIsInRhcmdldGR1cmF0aW9uTXMiLCJyZWxvYWRJbnRlcnZhbCIsImZpbmRJbmRleCIsImxldmVsT2JqZWN0IiwidXBkYXRlUFRTIiwiZnJvbUlkeCIsInRvSWR4IiwiZnJhZ0Zyb20iLCJmcmFnVG8iLCJmcmFnVG9QVFMiLCJtYXhTdGFydFBUUyIsImRyaWZ0IiwiZnJhZ0lkeCIsInRleHRHcm91cElkcyIsIm9sZERldGFpbHMiLCJQVFNGcmFnIiwiZGVsdGEiLCJvbGRmcmFnbWVudHMiLCJuZXdmcmFnbWVudHMiLCJjY09mZnNldCIsIm9sZEZyYWciLCJuZXdGcmFnIiwiZHJvcHBlZCIsInBsYXlsaXN0X2xvYWRlcl8xIiwiZnJhZ21lbnRfZmluZGVyc18xIiwiZ2FwX2NvbnRyb2xsZXJfMSIsIlN0cmVhbUNvbnRyb2xsZXIiLCJnYXBDb250cm9sbGVyIiwiZm9yY2VTdGFydExvYWQiLCJfZG9UaWNrSWRsZSIsIl9jaGVja0J1ZmZlciIsIl9jaGVja0ZyYWdtZW50Q2hhbmdlZCIsImxldmVsTGFzdExvYWRlZCIsIl9mZXRjaFBheWxvYWRPckVvcyIsIl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50IiwiX2ZpbmRGcmFnbWVudCIsIl9sb2FkS2V5IiwiX2xvYWRGcmFnbWVudCIsIm1heExhdGVuY3kiLCJsaXZlU3luY1Bvc2l0aW9uIiwiY29tcHV0ZUxpdmVQb3NpdGlvbiIsImhhc1Byb2dyYW1EYXRlVGltZSIsInRhcmdldFNOIiwibG9va3VwVG9sZXJhbmNlIiwiY3VyU05JZHgiLCJzYW1lTGV2ZWwiLCJwcmV2RnJhZyIsIm5leHRGcmFnIiwiYXV0b0xldmVsRW5hYmxlZCIsIl9yZWR1Y2VNYXhCdWZmZXJMZW5ndGgiLCJTVFJFQU1fU1RBVEVfVFJBTlNJVElPTiIsIkxldmVsVHlwZSIsIk1BSU4iLCJmb2xsb3dpbmdCdWZmZXJlZEZyYWciLCJuZXh0QnVmZmVyZWRGcmFnIiwiZnJhZ1BsYXlpbmdDdXJyZW50IiwiZnJhZ1BsYXlpbmciLCJGUkFHX0NIQU5HRUQiLCJmcmFnUGxheWluZ0xldmVsIiwiTEVWRUxfU1dJVENIRUQiLCJpbW1lZGlhdGVMZXZlbFN3aXRjaCIsImltbWVkaWF0ZVN3aXRjaCIsInByZXZpb3VzbHlQYXVzZWQiLCJwYXVzZSIsImZsdXNoTWFpbkJ1ZmZlciIsImltbWVkaWF0ZUxldmVsU3dpdGNoRW5kIiwicGxheSIsImZldGNoZGVsYXkiLCJuZXh0TGV2ZWxJZCIsImZyYWdMYXN0S2JwcyIsImZsdXNoU2NvcGUiLCJvbk1lZGlhU2Vla2VkIiwiYWFjIiwiaGVhYWMiLCJhdWRpb0NvZGVjU3dpdGNoIiwibmV3TGV2ZWxJZCIsImxhc3RMZXZlbCIsImFsaWduU3RyZWFtIiwiYWNjdXJhdGVUaW1lT2Zmc2V0IiwiX2dldEF1ZGlvQ29kZWMiLCJ1YSIsIm1ldGFkYXRhIiwiY2hhbm5lbENvdW50IiwiaGFzQXVkaW8iLCJoYXNWaWRlbyIsIlZJREVPIiwiaGxzXzMiLCJtZWRpYVRyYWNrIiwiYWx0ZXJuYXRlIiwibWVkaWFCdWZmZXJlZCIsIm1pbkxlbmd0aCIsIl9zZWVrVG9TdGFydFBvcyIsIm9uRnJhZ0xvYWRFbWVyZ2VuY3lBYm9ydGVkIiwic3dhcEF1ZGlvQ29kZWMiLCJ0YXJnZXRMYXRlbmN5IiwiX2xpdmVTeW5jUG9zaXRpb24iLCJkZWNyeXB0ZXJfMSIsIlN1YnRpdGxlU3RyZWFtQ29udHJvbGxlclN0YXRlIiwiU1VCVElUTEVfVFJBQ0tTX1VQREFURUQiLCJTVUJUSVRMRV9UUkFDS19TV0lUQ0giLCJTVUJUSVRMRV9UUkFDS19MT0FERUQiLCJTVUJUSVRMRV9GUkFHX1BST0NFU1NFRCIsInRyYWNrc0J1ZmZlcmVkIiwiY3VycmVudFRyYWNrSWQiLCJkZWNyeXB0ZXIiLCJvblN1YnRpdGxlRnJhZ1Byb2Nlc3NlZCIsInN1Y2Nlc3MiLCJvblN1YnRpdGxlVHJhY2tzVXBkYXRlZCIsInN1YnRpdGxlVHJhY2tzIiwib25TdWJ0aXRsZVRyYWNrU3dpdGNoIiwiY3VycmVudFRyYWNrIiwib25TdWJ0aXRsZVRyYWNrTG9hZGVkIiwiZGVjcnlwdERhdGEiLCJkZWNyeXB0ZGF0YSIsImJ5dGVMZW5ndGgiLCJtZXRob2QiLCJzdGFydFRpbWVfMSIsImRlY3J5cHQiLCJpdiIsImRlY3J5cHRlZERhdGEiLCJGUkFHX0RFQ1JZUFRFRCIsInRzdGFydCIsInRkZWNyeXB0IiwiYnVmZmVyZWRJbmZvIiwiX2dldEJ1ZmZlcmVkIiwiZmlsdGVyU3VidGl0bGVUcmFja3MiLCJ0ZXh0VHJhY2tMaXN0IiwiU3VidGl0bGVUcmFja0NvbnRyb2xsZXIiLCJzdWJ0aXRsZURpc3BsYXkiLCJfb25UZXh0VHJhY2tzQ2hhbmdlZCIsInN1YnRpdGxlVHJhY2siLCJxdWV1ZWREZWZhdWx0VHJhY2siLCJ0cmFja0NoYW5nZUxpc3RlbmVyIiwidXNlVGV4dFRyYWNrUG9sbGluZyIsInN1YnRpdGxlUG9sbGluZ0ludGVydmFsIiwic3VidGl0bGVzIiwib25UaWNrIiwiU1VCVElUTEVfVFJBQ0tfTE9BRElORyIsIl9zdG9wVGltZXIiLCJzdWJ0aXRsZVRyYWNrSWQiLCJfdG9nZ2xlVHJhY2tNb2RlcyIsInNldFN1YnRpdGxlVHJhY2tJbnRlcm5hbCIsIm9sZFRyYWNrIiwibmV4dFRyYWNrIiwiY2VhXzYwOF9wYXJzZXJfMSIsIm91dHB1dF9maWx0ZXJfMSIsIndlYnZ0dF9wYXJzZXJfMSIsIlRpbWVsaW5lQ29udHJvbGxlciIsIkZSQUdfUEFSU0lOR19VU0VSREFUQSIsImVuYWJsZWQiLCJ1bnBhcnNlZFZ0dEZyYWdzIiwiY3VlUmFuZ2VzIiwiY2FwdGlvbnNUcmFja3MiLCJjYXB0aW9uc1Byb3BlcnRpZXMiLCJ0ZXh0VHJhY2sxIiwibGFuZ3VhZ2VDb2RlIiwidGV4dFRyYWNrMiIsImNoYW5uZWwxIiwiY2hhbm5lbDIiLCJjZWE2MDhQYXJzZXIiLCJhZGRDdWVzIiwic2NyZWVuIiwieDEiLCJ4MiIsInkxIiwieTIiLCJyYW5nZXMiLCJtZXJnZWQiLCJjdWVSYW5nZSIsIm92ZXJsYXAiLCJuZXdDdWUiLCJnZXRFeGlzdGluZ1RyYWNrIiwiY3JlYXRlQ2FwdGlvbnNUcmFjayIsImV4aXN0aW5nVHJhY2siLCJjcmVhdGVUZXh0VHJhY2siLCJsYW5nIiwiX2NsZWFuVHJhY2tzIiwibGFzdFNuIiwicHJldkNDIiwidnR0Q0NzIiwicHJlc2VudGF0aW9uT2Zmc2V0IiwiMCIsIm5ldyIsImluVXNlVHJhY2tzXzEiLCJpblVzZVRyYWNrIiwiZmluZCIsIm1hbmlmZXN0VHJhY2siLCJjYW5SZXVzZVZ0dFRleHRUcmFjayIsIm9uTGV2ZWxTd2l0Y2hpbmciLCJjbG9zZWRDYXB0aW9ucyIsInJlc2V0IiwiX3BhcnNlVlRUcyIsInBhcnNlIiwiY3VlcyIsImdldEN1ZUJ5SWQiLCJ0ZXh0VHJhY2tDdWUiLCJ0ZXh0Iiwib25GcmFnRGVjcnlwdGVkIiwib25GcmFnUGFyc2luZ1VzZXJkYXRhIiwiY2NkYXRhcyIsImV4dHJhY3RDZWE2MDhEYXRhIiwiYWRkRGF0YSIsImJ5dGVBcnJheSIsInRtcEJ5dGUiLCJjY2J5dGUxIiwiY2NieXRlMiIsImNvdW50IiwiYWN0dWFsQ0NCeXRlcyIsIkFFU0NyeXB0byIsInN1YnRsZSIsImFlc0lWIiwicmVtb3ZlUGFkZGluZyIsIm91dHB1dEJ5dGVzIiwicGFkZGluZ0J5dGVzIiwiRGF0YVZpZXciLCJnZXRVaW50OCIsIkFFU0RlY3J5cHRvciIsInJjb24iLCJzdWJNaXgiLCJVaW50MzJBcnJheSIsImludlN1Yk1peCIsInNCb3giLCJpbnZTQm94IiwiaW5pdFRhYmxlIiwidWludDhBcnJheVRvVWludDMyQXJyYXlfIiwiYXJyYXlCdWZmZXIiLCJ2aWV3IiwibmV3QXJyYXkiLCJnZXRVaW50MzIiLCJzdWJNaXgwIiwic3ViTWl4MSIsInN1Yk1peDIiLCJzdWJNaXgzIiwiaW52U3ViTWl4MCIsImludlN1Yk1peDEiLCJpbnZTdWJNaXgyIiwiaW52U3ViTWl4MyIsIngiLCJ4aSIsInN4IiwieDQiLCJ4OCIsImV4cGFuZEtleSIsImtleUJ1ZmZlciIsInNhbWVLZXkiLCJvZmZzZXQiLCJrZXlTaXplIiwia3NSb3ciLCJpbnZLc1JvdyIsInByZXYiLCJrc1Jvd3MiLCJrZXlTY2hlZHVsZSIsImludktleVNjaGVkdWxlIiwic2JveCIsIm5ldHdvcmtUb0hvc3RPcmRlclN3YXAiLCJ3b3JkIiwiaW5wdXRBcnJheUJ1ZmZlciIsInJlbW92ZVBLQ1M3UGFkZGluZyIsInQwIiwidDEiLCJ0MiIsInQzIiwiczAiLCJzMSIsInMyIiwiczMiLCJpbnB1dFdvcmRzMCIsImlucHV0V29yZHMxIiwiaW5wdXRXb3JkczIiLCJpbnB1dFdvcmRzMyIsIm5Sb3VuZHMiLCJpbnZTQk9YIiwiaW5pdFZlY3RvciIsImluaXRWZWN0b3IwIiwiaW5pdFZlY3RvcjEiLCJpbml0VmVjdG9yMiIsImluaXRWZWN0b3IzIiwiaW5wdXRJbnQzMiIsIkludDMyQXJyYXkiLCJvdXRwdXRJbnQzMiIsInN3YXBXb3JkIiwiYWVzX2NyeXB0b18xIiwiZmFzdF9hZXNfa2V5XzEiLCJhZXNfZGVjcnlwdG9yXzEiLCJnbG9iYWwiLCJnZXRTZWxmU2NvcGUiLCJEZWNyeXB0ZXIiLCJvYnNlcnZlciIsIl9iIiwibG9nRW5hYmxlZCIsImJyb3dzZXJDcnlwdG8iLCJjcnlwdG8iLCJ3ZWJraXRTdWJ0bGUiLCJkaXNhYmxlV2ViQ3J5cHRvIiwiaXNTeW5jIiwiZGVjcnlwdG9yIiwic3VidGxlXzEiLCJmYXN0QWVzS2V5IiwiYWVzS2V5Iiwib25XZWJDcnlwdG9FcnJvciIsInJlc3VsdCIsIkZSQUdfREVDUllQVF9FUlJPUiIsIkZhc3RBRVNLZXkiLCJpbXBvcnRLZXkiLCJBRFRTIiwiQUFDRGVtdXhlciIsInJlbXV4ZXIiLCJyZXNldEluaXRTZWdtZW50IiwiX2F1ZGlvVHJhY2siLCJzZXF1ZW5jZU51bWJlciIsImlzQUFDIiwibWFuaWZlc3RDb2RlYyIsImlucHV0VGltZVNjYWxlIiwicmVzZXRUaW1lU3RhbXAiLCJwcm9iZSIsImdldElEM0RhdGEiLCJsZW5ndGhfMSIsImFwcGVuZCIsInRpbWVPZmZzZXQiLCJjb250aWd1b3VzIiwiaWQzRGF0YSIsInRpbWVzdGFtcCIsImdldFRpbWVTdGFtcCIsImZyYW1lSW5kZXgiLCJzdGFtcCIsImlkM1NhbXBsZXMiLCJkdHMiLCJpc0hlYWRlciIsImluaXRUcmFja0NvbmZpZyIsImFwcGVuZEZyYW1lIiwicmVtdXgiLCJnZXRBdWRpb0NvbmZpZyIsImFkdHNPYmplY3RUeXBlIiwiYWR0c1NhbXBsZWluZ0luZGV4IiwiYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4IiwiYWR0c0NoYW5lbENvbmZpZyIsImFkdHNTYW1wbGVpbmdSYXRlcyIsInNhbXBsZXJhdGUiLCJGUkFHX1BBUlNJTkdfRVJST1IiLCJpc0hlYWRlclBhdHRlcm4iLCJnZXRIZWFkZXJMZW5ndGgiLCJnZXRGdWxsRnJhbWVMZW5ndGgiLCJnZXRGcmFtZUR1cmF0aW9uIiwicGFyc2VGcmFtZUhlYWRlciIsImZyYW1lRHVyYXRpb24iLCJoZWFkZXJMZW5ndGgiLCJmcmFtZUxlbmd0aCIsIm5ld09mZnNldCIsImhlYWRlciIsImFhY1NhbXBsZSIsInVuaXQiLCJzdWJhcnJheSIsImFhY2RlbXV4ZXJfMSIsIm1wNGRlbXV4ZXJfMSIsInRzZGVtdXhlcl8xIiwibXAzZGVtdXhlcl8xIiwibXA0X3JlbXV4ZXJfMSIsInBhc3N0aHJvdWdoX3JlbXV4ZXJfMSIsImdldF9zZWxmX3Njb3BlXzEiLCJEYXRlIiwiRGVtdXhlcklubGluZSIsInR5cGVTdXBwb3J0ZWQiLCJ2ZW5kb3IiLCJkaXNjb250aW51aXR5IiwidHJhY2tTd2l0Y2giLCJkZWZhdWx0SW5pdFBUUyIsInB1c2hEZWNyeXB0ZWQiLCJVaW50OEFycmF5IiwibXV4Q29uZmlnIiwiZGVtdXgiLCJtdXgiLCJyZW11eGVyXzEiLCJzZXREZWNyeXB0RGF0YSIsImRlbXV4ZXJfaW5saW5lXzEiLCJldmVudHNfMiIsInNlbGYiLCJfaSIsImZvcndhcmRNZXNzYWdlIiwiZXYiLCJwb3N0TWVzc2FnZSIsImNtZCIsImVuYWJsZUxvZ3MiLCJ0cmFuc2ZlcmFibGUiLCJ3b3JrIiwibWVkaWFzb3VyY2VfaGVscGVyXzEiLCJvYnNlcnZlcl8xIiwiRGVtdXhlciIsIk9ic2VydmVyIiwibXA0IiwiaXNUeXBlU3VwcG9ydGVkIiwibXBlZyIsIm1wMyIsInciLCJvbndtc2ciLCJvbldvcmtlck1lc3NhZ2UiLCJvbmVycm9yIiwiSU5URVJOQUxfRVhDRVBUSU9OIiwiZmlsZW5hbWUiLCJsaW5lbm8iLCJ0ZXJtaW5hdGUiLCJsYXN0RnJhZyIsIm5leHRTTiIsIkFycmF5QnVmZmVyIiwiRXhwR29sb21iIiwiYnl0ZXNBdmFpbGFibGUiLCJiaXRzQXZhaWxhYmxlIiwibG9hZFdvcmQiLCJ3b3JraW5nQnl0ZXMiLCJhdmFpbGFibGVCeXRlcyIsInNraXBCaXRzIiwic2tpcEJ5dGVzIiwicmVhZEJpdHMiLCJzaXplIiwiYml0cyIsInZhbHUiLCJza2lwTFoiLCJsZWFkaW5nWmVyb0NvdW50Iiwic2tpcFVFRyIsInNraXBFRyIsInJlYWRVRUciLCJjbHoiLCJyZWFkRUciLCJyZWFkQm9vbGVhbiIsInJlYWRVQnl0ZSIsInJlYWRVU2hvcnQiLCJyZWFkVUludCIsInNraXBTY2FsaW5nTGlzdCIsImxhc3RTY2FsZSIsIm5leHRTY2FsZSIsInJlYWRTUFMiLCJwcm9maWxlSWRjIiwibnVtUmVmRnJhbWVzSW5QaWNPcmRlckNudEN5Y2xlIiwicGljV2lkdGhJbk1ic01pbnVzMSIsInBpY0hlaWdodEluTWFwVW5pdHNNaW51czEiLCJmcmFtZU1ic09ubHlGbGFnIiwic2NhbGluZ0xpc3RDb3VudCIsImZyYW1lQ3JvcExlZnRPZmZzZXQiLCJmcmFtZUNyb3BSaWdodE9mZnNldCIsImZyYW1lQ3JvcFRvcE9mZnNldCIsImZyYW1lQ3JvcEJvdHRvbU9mZnNldCIsImNocm9tYUZvcm1hdElkYyIsInBpY09yZGVyQ250VHlwZSIsImNlaWwiLCJyZWFkU2xpY2VUeXBlIiwiSUQzIiwiaXNGb290ZXIiLCJmcm9udCIsIl9yZWFkU2l6ZSIsImZyYW1lcyIsIl9yZWFkVGltZVN0YW1wIiwiaW5mbyIsIl9nZXRGcmFtZURhdGEiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJmcmFtZURhdGEiLCJfZGVjb2RlRnJhbWUiLCJfZGVjb2RlUHJpdkZyYW1lIiwiX2RlY29kZVRleHRGcmFtZSIsIl9kZWNvZGVVUkxGcmFtZSIsInRpbWVTdGFtcEZyYW1lIiwicHRzMzNCaXQiLCJvd25lciIsIl91dGY4QXJyYXlUb1N0ciIsInByaXZhdGVEYXRhIiwiZGVzY3JpcHRpb24iLCJhcnJheSIsImV4aXRPbk51bGwiLCJjaGFyMiIsImNoYXIzIiwib3V0IiwidXRmOEFycmF5VG9TdHIiLCJtcGVnYXVkaW9fMSIsIk1QM0RlbXV4ZXIiLCJVSU5UMzJfTUFYIiwiTVA0RGVtdXhlciIsInBhcnNlSW5pdFNlZ21lbnQiLCJhdWRpb3ZpZGVvIiwiZmluZEJveCIsImJpbjJzdHIiLCJyZWFkVWludDE2IiwidmFsIiwicmVhZFVpbnQzMiIsIndyaXRlVWludDMyIiwic3VicmVzdWx0cyIsImVuZGJveCIsInJlc3VsdHMiLCJwYXJzZVNlZ21lbnRJbmRleCIsInJlZmVyZW5jZXMiLCJtb292IiwibW9vdkVuZE9mZnNldCIsInNpZHgiLCJ2ZXJzaW9uIiwidGltZXNjYWxlIiwic3RhcnRCeXRlIiwicmVmZXJlbmNlc0NvdW50IiwicmVmZXJlbmNlSW5kZXgiLCJyZWZlcmVuY2VJbmZvIiwicmVmZXJlbmNlU2l6ZSIsInN1YnNlZ21lbnREdXJhdGlvbiIsImVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSIsInRyYWsiLCJ0a2hkIiwibWRoZCIsImhkbHIiLCJjb2RlY0JveCIsImNvZGVjVHlwZSIsImdldFN0YXJ0RFRTIiwidHJhZnMiLCJiYXNlVGltZXMiLCJ0cmFmIiwidGZoZCIsInNjYWxlIiwidGZkdCIsIm9mZnNldFN0YXJ0RFRTIiwiYmFzZU1lZGlhRGVjb2RlVGltZSIsInVwcGVyIiwiZmxvb3IiLCJsb3dlciIsInN0YXJ0RFRTXzEiLCJNcGVnQXVkaW8iLCJCaXRyYXRlc01hcCIsIlNhbXBsaW5nUmF0ZU1hcCIsIlNhbXBsZXNDb2VmZmljaWVudHMiLCJCeXRlc0luU2xvdCIsInBhcnNlSGVhZGVyIiwic2FtcGxlc1BlckZyYW1lIiwic2FtcGxlUmF0ZSIsImhlYWRlckIiLCJoZWFkZXJDIiwiaGVhZGVyRSIsImhlYWRlckYiLCJoZWFkZXJHIiwiY29sdW1uSW5CaXRyYXRlcyIsImJpdFJhdGUiLCJjb2x1bW5JblNhbXBsZVJhdGVzIiwic2FtcGxlQ29lZmZpY2llbnQiLCJieXRlc0luU2xvdCIsInBhcnNlSW50IiwiU2FtcGxlQWVzRGVjcnlwdGVyIiwiZGlzY2FyZEVQQiIsImRlY3J5cHRCdWZmZXIiLCJlbmNyeXB0ZWREYXRhIiwiZGVjcnlwdEFhY1NhbXBsZSIsInNhbXBsZUluZGV4Iiwic3luYyIsImN1clVuaXQiLCJlbmNyeXB0ZWRCdWZmZXIiLCJieXRlT2Zmc2V0IiwibG9jYWx0aGlzIiwiZGVjcnlwdEFhY1NhbXBsZXMiLCJnZXRBdmNFbmNyeXB0ZWREYXRhIiwiZGVjb2RlZERhdGEiLCJlbmNyeXB0ZWREYXRhTGVuIiwiSW50OEFycmF5Iiwib3V0cHV0UG9zIiwiaW5wdXRQb3MiLCJnZXRBdmNEZWNyeXB0ZWRVbml0IiwiZGVjcnlwdEF2Y1NhbXBsZSIsInVuaXRJbmRleCIsImRlY3J5cHRBdmNTYW1wbGVzIiwiY3VyVW5pdHMiLCJ1bml0cyIsImV4cF9nb2xvbWJfMSIsInNhbXBsZV9hZXNfMSIsIlJlbXV4ZXJUcmFja0lkQ29uZmlnIiwiaWQzIiwiVFNEZW11eGVyIiwic2FtcGxlQWVzIiwic3luY09mZnNldCIsIl9zeW5jT2Zmc2V0Iiwic2NhbndpbmRvdyIsImNyZWF0ZVRyYWNrIiwicGlkIiwicG10UGFyc2VkIiwiX3BtdElkIiwiX2F2Y1RyYWNrIiwiX2lkM1RyYWNrIiwiX3R4dFRyYWNrIiwiYWFjT3ZlckZsb3ciLCJhYWNMYXN0UFRTIiwiYXZjU2FtcGxlIiwiX2R1cmF0aW9uIiwic3R0IiwicGVzIiwidW5rbm93blBJRHMiLCJhdmNUcmFjayIsImF2Y0lkIiwiYXVkaW9JZCIsImlkM0lkIiwicG10SWQiLCJhdmNEYXRhIiwicGVzRGF0YSIsImF1ZGlvRGF0YSIsInBhcnNlUEFUIiwiX3BhcnNlUEFUIiwicGFyc2VQTVQiLCJfcGFyc2VQTVQiLCJwYXJzZVBFUyIsIl9wYXJzZVBFUyIsInBhcnNlQVZDUEVTIiwiX3BhcnNlQVZDUEVTIiwicGFyc2VBQUNQRVMiLCJfcGFyc2VBQUNQRVMiLCJwYXJzZU1QRUdQRVMiLCJfcGFyc2VNUEVHUEVTIiwicGFyc2VJRDNQRVMiLCJfcGFyc2VJRDNQRVMiLCJwYXJzZWRQSURzIiwiYXZjIiwiZGVjcnlwdEFuZFJlbXV4IiwidmlkZW9UcmFjayIsImxvY2FsdGhpc18xIiwiZGVjcnlwdEFuZFJlbXV4QXZjIiwibG9jYWx0aGlzXzIiLCJfaW5pdFBUUyIsIl9pbml0RFRTIiwibXBlZ1N1cHBvcnRlZCIsImlzU2FtcGxlQWVzIiwidGFibGVFbmQiLCJzdHJlYW0iLCJwZXNGbGFncyIsInBlc0xlbiIsInBlc0hkckxlbiIsInBlc1B0cyIsInBlc0R0cyIsInBheWxvYWRTdGFydE9mZnNldCIsIm5ld0RhdGEiLCJkYXRhTGVuIiwicHVzaEFjY2VzVW5pdCIsIm5iU2FtcGxlcyIsInNwcyIsImxhc3QiLCJleHBHb2xvbWJEZWNvZGVyIiwiX3BhcnNlQVZDTkFMdSIsInNwc2ZvdW5kIiwiY3JlYXRlQVZDU2FtcGxlIiwiYXVkRm91bmQiLCJzbGljZVR5cGUiLCJwYXlsb2FkVHlwZSIsInBheWxvYWRTaXplIiwiZW5kT2ZDYXB0aW9ucyIsImZpcnN0Qnl0ZSIsInRvdGFsQ0NzIiwiX2luc2VydFNhbXBsZUluT3JkZXIiLCJjb2RlY2FycmF5IiwiY29kZWNzdHJpbmciLCJoIiwicHBzIiwiYXJyIiwiX2dldExhc3ROYWxVbml0IiwibGFzdFVuaXQiLCJvdmVyZmxvdyIsImxhc3RVbml0VHlwZSIsIm5hbHVTdGF0ZSIsImxhc3RTdGF0ZSIsImxhc3RVbml0U3RhcnQiLCJ0bXAiLCJuZXdMZW5ndGgiLCJFUEJQb3NpdGlvbnMiLCJzb3VyY2VJbmRleCIsIm5ld1BUUyIsIk1VWF9FUlJPUiIsIk1BTklGRVNUX0xPQURfRVJST1IiLCJNQU5JRkVTVF9MT0FEX1RJTUVPVVQiLCJNQU5JRkVTVF9QQVJTSU5HX0VSUk9SIiwiRk9SQklEREVOX0VWRU5UX05BTUVTIiwiRXZlbnRIYW5kbGVyIiwib25FdmVudCIsImhhbmRsZWRFdmVudHMiLCJ1c2VHZW5lcmljSGFuZGxlciIsInJlZ2lzdGVyTGlzdGVuZXJzIiwidW5yZWdpc3Rlckxpc3RlbmVycyIsImlzRXZlbnRIYW5kbGVyIiwib25FdmVudEdlbmVyaWMiLCJmdW5jTmFtZSIsIkZSQUdfTE9BRF9QUk9HUkVTUyIsIkRFU1RST1lJTkciLCJmcmFnbWVudF9sb2FkZXJfMSIsImtleV9sb2FkZXJfMSIsInN0cmVhbV9jb250cm9sbGVyXzEiLCJsZXZlbF9jb250cm9sbGVyXzEiLCJpZDNfdHJhY2tfY29udHJvbGxlcl8xIiwiaXNfc3VwcG9ydGVkXzEiLCJjb25maWdfMSIsIkhscyIsImRlZmF1bHRDb25maWciLCJEZWZhdWx0Q29uZmlnIiwicHJvcCIsIl9hdXRvTGV2ZWxDYXBwaW5nIiwicGxheUxpc3RMb2FkZXIiLCJmcmFnbWVudExvYWRlciIsImtleUxvYWRlciIsImlkM1RyYWNrQ29udHJvbGxlciIsImxldmVsQ29udHJvbGxlciIsIm5ldHdvcmtDb250cm9sbGVycyIsIkNvbnRyb2xsZXIiLCJjb3JlQ29tcG9uZW50cyIsImlzU3VwcG9ydGVkIiwiZGV0YWNoTWVkaWEiLCJjb21wb25lbnQiLCJhdHRhY2hNZWRpYSIsImxvYWRTb3VyY2UiLCJsb2NhdGlvbiIsImhyZWYiLCJjb250cm9sbGVyIiwicmVjb3Zlck1lZGlhRXJyb3IiLCJtYW51YWxMZXZlbCIsImF1ZGlvVHJhY2tJZCIsIlNvdXJjZUJ1ZmZlciIsIldlYktpdFNvdXJjZUJ1ZmZlciIsInNvdXJjZUJ1ZmZlclZhbGlkQVBJIiwiRnJhZ21lbnRMb2FkZXIiLCJsb2FkZXJzIiwibG9hZGVyTmFtZSIsIkZyYWdtZW50SUxvYWRlciIsIkRlZmF1bHRJTG9hZGVyIiwibG9hZGVyQ29udGV4dCIsImxvYWRlckNvbmZpZyIsImxvYWRlckNhbGxiYWNrcyIsInByb2dyZXNzRGF0YSIsImJ5dGVSYW5nZVN0YXJ0T2Zmc2V0IiwiYnl0ZVJhbmdlRW5kT2Zmc2V0IiwicmFuZ2VTdGFydCIsInJhbmdlRW5kIiwidGltZW91dCIsIm1heFJldHJ5IiwicmV0cnlEZWxheSIsIm1heFJldHJ5RGVsYXkiLCJvblN1Y2Nlc3MiLCJsb2Fkc3VjY2VzcyIsImxvYWRlcnJvciIsIm9uVGltZW91dCIsImxvYWR0aW1lb3V0Iiwib25Qcm9ncmVzcyIsImxvYWRwcm9ncmVzcyIsIm5ldHdvcmtEZXRhaWxzIiwibGV2ZWxfa2V5XzEiLCJGcmFnbWVudCIsIl91cmwiLCJfYnl0ZVJhbmdlIiwiX2RlY3J5cHRkYXRhIiwidGFnTGlzdCIsInJhd1Byb2dyYW1EYXRlVGltZSIsIl9lbGVtZW50YXJ5U3RyZWFtcyIsInJlbHVybCIsImJhc2V1cmwiLCJyYXdCeXRlUmFuZ2UiLCJieXRlUmFuZ2UiLCJsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0IiwiZnJhZ21lbnREZWNyeXB0ZGF0YUZyb21MZXZlbGtleSIsImxldmVsa2V5IiwidXJpIiwiY3JlYXRlSW5pdGlhbGl6YXRpb25WZWN0b3IiLCJzZWdtZW50TnVtYmVyIiwidWludDhWaWV3IiwiYmFzZXVyaSIsInJlbHVyaSIsIktleUxvYWRlciIsImRlY3J5cHRrZXkiLCJkZWNyeXB0dXJsIiwib25LZXlMb2FkaW5nIiwiTGV2ZWxLZXkiLCJfdXJpIiwiTGV2ZWwiLCJiYXNlVXJsIiwiZW5kQ0MiLCJuZWVkU2lkeFJhbmdlcyIsInN0YXJ0Q0MiLCJsZXZlbF8xIiwiYXR0cl9saXN0XzEiLCJNQVNURVJfUExBWUxJU1RfUkVHRVgiLCJNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVgiLCJMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNUIiwic291cmNlIiwiTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyIsIk1QNF9SRUdFWF9TVUZGSVgiLCJNM1U4UGFyc2VyIiwiZmluZEdyb3VwIiwiZ3JvdXBzIiwibWVkaWFHcm91cElkIiwibWF0Y2hpbmdHcm91cCIsImdyb3VwIiwiY29udmVydEFWQzFUb0FWQ09USSIsImF2Y2RhdGEiLCJzdWJzdHIiLCJyZXNvbHZlIiwicGFyc2VNYXN0ZXJQbGF5bGlzdCIsInN0cmluZyIsInNldENvZGVjcyIsImNvZGVjcyIsImZpbHRlcmVkIiwiaXNDb2RlY1R5cGUiLCJwcmVmZXJyZWQiLCJ1bmtub3duQ29kZWNzIiwibGFzdEluZGV4IiwicmVzb2x1dGlvbiIsImRlY2ltYWxSZXNvbHV0aW9uIiwiZGVjaW1hbEludGVnZXIiLCJOQU1FIiwiQ09ERUNTIiwicGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhIiwiYXVkaW9Hcm91cHMiLCJtZWRpYXMiLCJUWVBFIiwiREVGQVVMVCIsImF1dG9zZWxlY3QiLCJBVVRPU0VMRUNUIiwiZm9yY2VkIiwiRk9SQ0VEIiwiVVJJIiwiTEFOR1VBR0UiLCJncm91cENvZGVjIiwicGFyc2VMZXZlbFBsYXlsaXN0IiwibGV2ZWxVcmxJZCIsImN1cnJlbnRTTiIsImZpcnN0UGR0SW5kZXgiLCJwYXJzZUZsb2F0IiwidGl0bGUiLCJhc3NpZ25Qcm9ncmFtRGF0ZVRpbWUiLCJ2YWx1ZTEiLCJ2YWx1ZTIiLCJ0b1VwcGVyQ2FzZSIsImRlY3J5cHRwYXJhbXMiLCJrZXlBdHRycyIsImRlY3J5cHRtZXRob2QiLCJlbnVtZXJhdGVkU3RyaW5nIiwiZGVjcnlwdHVyaSIsImRlY3J5cHRpdiIsImhleGFkZWNpbWFsSW50ZWdlciIsInN0YXJ0UGFyYW1zIiwiZGVjaW1hbEZsb2F0aW5nUG9pbnQiLCJtYXBBdHRycyIsIkJZVEVSQU5HRSIsImV2ZXJ5Iiwic3RhcnRJbmRleCIsImZyYWdQcmV2IiwiYmFja2ZpbGxQcm9ncmFtRGF0ZVRpbWVzIiwibTN1OF9wYXJzZXJfMSIsIkNvbnRleHRUeXBlIiwiTUFOSUZFU1QiLCJMRVZFTCIsIkFVRElPX1RSQUNLIiwiU1VCVElUTEVfVFJBQ0siLCJTVUJUSVRMRSIsIlBsYXlsaXN0TG9hZGVyIiwiY2FuSGF2ZVF1YWxpdHlMZXZlbHMiLCJtYXBDb250ZXh0VG9MZXZlbFR5cGUiLCJnZXRSZXNwb25zZVVybCIsImNyZWF0ZUludGVybmFsTG9hZGVyIiwiUExvYWRlciIsIkxvYWRlciIsImdldEludGVybmFsTG9hZGVyIiwicmVzZXRJbnRlcm5hbExvYWRlciIsImNvbnRleHRUeXBlIiwiZGVzdHJveUludGVybmFsTG9hZGVycyIsIm9uTGV2ZWxMb2FkaW5nIiwib25BdWRpb1RyYWNrTG9hZGluZyIsIm9uU3VidGl0bGVUcmFja0xvYWRpbmciLCJpc1NpZHhSZXF1ZXN0IiwiX2hhbmRsZVNpZHhSZXF1ZXN0IiwiX2hhbmRsZVBsYXlsaXN0TG9hZGVkIiwiX2hhbmRsZVRyYWNrT3JMZXZlbFBsYXlsaXN0IiwiX2hhbmRsZU1hc3RlclBsYXlsaXN0IiwiX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yIiwiX2hhbmRsZU5ldHdvcmtFcnJvciIsImVtYmVkZGVkQXVkaW9Gb3VuZF8xIiwic2luZ2xlTGV2ZWwiLCJzaWR4VXJsIiwic2lkeEluZm8iLCJzaWR4UmVmZXJlbmNlcyIsInNlZ21lbnRSZWYiLCJzZWdSZWZJbmZvIiwiZXJyb3JEYXRhIiwiQUFDIiwiZ2V0U2lsZW50RnJhbWUiLCJNUDQiLCJpbml0IiwidHlwZXMiLCJhdmMxIiwiYXZjQyIsImJ0cnQiLCJkaW5mIiwiZHJlZiIsImVzZHMiLCJmdHlwIiwibWRhdCIsIm1kaWEiLCJtZmhkIiwibWluZiIsIm1vb2YiLCJtcDRhIiwibXZleCIsIm12aGQiLCJwYXNwIiwic2R0cCIsInN0YmwiLCJzdGNvIiwic3RzYyIsInN0c2QiLCJzdHN6Iiwic3R0cyIsInRydW4iLCJ0cmV4Iiwidm1oZCIsInNtaGQiLCJjaGFyQ29kZUF0IiwidmlkZW9IZGxyIiwiYXVkaW9IZGxyIiwiSERMUl9UWVBFUyIsIlNUVFMiLCJTVFNDIiwiU1RDTyIsIlNUU1oiLCJWTUhEIiwiU01IRCIsIlNUU0QiLCJtYWpvckJyYW5kIiwiYXZjMUJyYW5kIiwibWlub3JWZXJzaW9uIiwiRlRZUCIsImJveCIsIkRJTkYiLCJ1cHBlcldvcmREdXJhdGlvbiIsImxvd2VyV29yZER1cmF0aW9uIiwiYm94ZXMiLCJmbGFncyIsImRlcGVuZHNPbiIsImlzRGVwZW5kZWRPbiIsImF2Y2MiLCJoU3BhY2luZyIsInZTcGFjaW5nIiwiY29uZmlnbGVuIiwic2FtcGxlRGVwZW5kZW5jeVRhYmxlIiwidXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSIsImxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUiLCJjdHMiLCJhcnJheWxlbiIsImlzTGVhZGluZyIsImhhc1JlZHVuZGFuY3kiLCJwYWRkaW5nVmFsdWUiLCJpc05vblN5bmMiLCJkZWdyYWRQcmlvIiwibW92aWUiLCJhYWNfaGVscGVyXzEiLCJtcDRfZ2VuZXJhdG9yXzEiLCJNUDRSZW11eGVyIiwiaXNTYWZhcmkiLCJJU0dlbmVyYXRlZCIsImRlZmF1bHRUaW1lU3RhbXAiLCJnZW5lcmF0ZUlTIiwibmJBdWRpb1NhbXBsZXMiLCJuYlZpZGVvU2FtcGxlcyIsImF1ZGlvVGltZU9mZnNldCIsInZpZGVvVGltZU9mZnNldCIsImF1ZGlvdmlkZW9EZWx0YUR0cyIsInJlbXV4QXVkaW8iLCJhdWRpb1RyYWNrTGVuZ3RoIiwicmVtdXhWaWRlbyIsInZpZGVvRGF0YSIsInJlbXV4RW1wdHlBdWRpbyIsInJlbXV4SUQzIiwicmVtdXhUZXh0IiwiaW5pdERUUyIsImF1ZGlvU2FtcGxlcyIsInZpZGVvU2FtcGxlcyIsImNvbXB1dGVQVFNEVFMiLCJtcDRTYW1wbGVEdXJhdGlvbiIsImZpcnN0UFRTIiwiZmlyc3REVFMiLCJsYXN0UFRTIiwibGFzdERUUyIsInRpbWVTY2FsZSIsImlucHV0U2FtcGxlcyIsIm91dHB1dFNhbXBsZXMiLCJwdHNOb3JtYWxpemUiLCJfUFRTTm9ybWFsaXplIiwibmV4dEF2Y0R0cyIsImRlbHRhZHRzIiwiZGVsdGFwdHMiLCJQVFNEVFNzaGlmdCIsImN1cnIiLCJuYk5hbHUiLCJuYWx1TGVuIiwic2FtcGxlXzEiLCJuYlVuaXRzIiwic2FtcGxlTGVuIiwibWRhdFNpemUiLCJzZXRVaW50MzIiLCJhdmNTYW1wbGVVbml0cyIsIm1wNFNhbXBsZUxlbmd0aCIsImNvbXBvc2l0aW9uVGltZU9mZnNldCIsInVuaXREYXRhIiwidW5pdERhdGFMZW4iLCJsYXN0RnJhbWVEdXJhdGlvbiIsImdhcFRvbGVyYW5jZSIsImRlbHRhVG9GcmFtZUVuZCIsIm5leHRBdWRpb1B0cyIsIm1wNFNhbXBsZSIsImZpbGxGcmFtZSIsIm1wNHRpbWVTY2FsZSIsInNjYWxlRmFjdG9yIiwiaW5wdXRTYW1wbGVEdXJhdGlvbiIsInJhd01QRUciLCJuZXh0UHRzIiwibWlzc2luZyIsIm5ld1N0YW1wIiwibmJTYW1wbGVzXzEiLCJhdWRpb1NhbXBsZSIsImRlbHRhXzEiLCJudW1NaXNzaW5nRnJhbWVzIiwidW5pdExlbiIsImxhc3RTYW1wbGVEdXJhdGlvbiIsInNpbGVudEZyYW1lIiwicmVmZXJlbmNlIiwiUGFzc1Rocm91Z2hSZW11eGVyIiwicmF3RGF0YSIsIlRhc2tMb29wIiwiX3RpY2tJbnRlcnZhbCIsIl90aWNrVGltZXIiLCJfdGlja0NhbGxDb3VudCIsIl9ib3VuZFRpY2siLCJjbGVhck5leHRUaWNrIiwiaGFzTmV4dFRpY2siLCJtaWxsaXMiLCJERUNJTUFMX1JFU09MVVRJT05fUkVHRVgiLCJBVFRSX0xJU1RfUkVHRVgiLCJBdHRyTGlzdCIsImF0dHIiLCJwYXJzZUF0dHJMaXN0IiwiYXR0ck5hbWUiLCJpbnRWYWx1ZSIsIk1BWF9TQUZFX0lOVEVHRVIiLCJzdHJpbmdWYWx1ZSIsImhleGFkZWNpbWFsSW50ZWdlckFzTnVtYmVyIiwicmVzIiwiaW5wdXQiLCJjb21wYXJpc29uRnVuY3Rpb24iLCJtaW5JbmRleCIsIm1heEluZGV4IiwiY3VycmVudEluZGV4IiwiY3VycmVudEVsZW1lbnQiLCJjb21wYXJpc29uUmVzdWx0IiwibWF4SG9sZUR1cmF0aW9uIiwidmJ1ZmZlcmVkIiwiYnVmZmVyU3RhcnQiLCJidWZmZXJTdGFydE5leHQiLCJidWZmZXJlZDIiLCJkaWZmIiwiYnVmMmxlbiIsImJ1ZjJlbmQiLCJzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyIsImdldENoYXJGb3JCeXRlIiwiYnl0ZSIsImNoYXJDb2RlIiwicm93c0xvd0NoMSIsInJvd3NIaWdoQ2gxIiwicm93c0xvd0NoMiIsInJvd3NIaWdoQ2gyIiwiYmFja2dyb3VuZENvbG9ycyIsInZlcmJvc2VGaWx0ZXIiLCJ2ZXJib3NlTGV2ZWwiLCJzZXRUaW1lIiwibmV3VGltZSIsInNldmVyaXR5IiwibXNnIiwibnVtQXJyYXlUb0hleEFycmF5IiwibnVtQXJyYXkiLCJoZXhBcnJheSIsIlBlblN0YXRlIiwiZm9yZWdyb3VuZCIsInVuZGVybGluZSIsIml0YWxpY3MiLCJiYWNrZ3JvdW5kIiwiZmxhc2giLCJzZXRTdHlsZXMiLCJzdHlsZXMiLCJhdHRyaWJzIiwic3R5bGUiLCJpc0RlZmF1bHQiLCJlcXVhbHMiLCJvdGhlciIsImNvcHkiLCJuZXdQZW5TdGF0ZSIsIlN0eWxlZFVuaWNvZGVDaGFyIiwidWNoYXIiLCJwZW5TdGF0ZSIsInNldENoYXIiLCJzZXRQZW5TdGF0ZSIsIm5ld0NoYXIiLCJpc0VtcHR5IiwiUm93IiwiY2hhcnMiLCJjdXJyUGVuU3RhdGUiLCJlcXVhbCIsImVtcHR5Iiwic2V0Q3Vyc29yIiwiYWJzUG9zIiwibW92ZUN1cnNvciIsInJlbFBvcyIsIm5ld1BvcyIsImJhY2tTcGFjZSIsImluc2VydENoYXIiLCJjaGFyIiwiY2xlYXJGcm9tUG9zIiwic3RhcnRQb3MiLCJjbGVhciIsImNsZWFyVG9FbmRPZlJvdyIsImdldFRleHRTdHJpbmciLCJzZXRQZW5TdHlsZXMiLCJDYXB0aW9uU2NyZWVuIiwicm93cyIsImN1cnJSb3ciLCJOUl9ST1dTIiwibnJSb2xsVXBSb3dzIiwic2V0UGVuIiwic2V0UEFDIiwicGFjRGF0YSIsIm5ld1JvdyIsInJvdyIsInRvcFJvd0luZGV4IiwibGFzdE91dHB1dFNjcmVlbiIsInByZXZMaW5lVGltZSIsImN1ZVN0YXJ0VGltZSIsImluZGVudCIsInByZXZQb3MiLCJjb2xvciIsInNldEJrZ0RhdGEiLCJia2dEYXRhIiwic2V0Um9sbFVwUm93cyIsIm5yUm93cyIsInJvbGxVcCIsImdldERpc3BsYXlUZXh0IiwidG9wUm93IiwiYXNPbmVSb3ciLCJkaXNwbGF5VGV4dCIsInJvd05yIiwicm93VGV4dCIsImdldFRleHRBbmRGb3JtYXQiLCJDZWE2MDhDaGFubmVsIiwiY2hhbm5lbE51bWJlciIsIm91dHB1dEZpbHRlciIsImNoTnIiLCJ2ZXJib3NlIiwiZGlzcGxheWVkTWVtb3J5Iiwibm9uRGlzcGxheWVkTWVtb3J5IiwiY3VyclJvbGxVcFJvdyIsIndyaXRlU2NyZWVuIiwibGFzdEN1ZUVuZFRpbWUiLCJnZXRIYW5kbGVyIiwic2V0SGFuZGxlciIsIm5ld0hhbmRsZXIiLCJzZXRNb2RlIiwibmV3TW9kZSIsImluc2VydENoYXJzIiwib3V0cHV0RGF0YVVwZGF0ZSIsImNjUkNMIiwiY2NCUyIsImNjQU9GIiwiY2NBT04iLCJjY0RFUiIsImNjUlUiLCJjY0ZPTiIsImNjUkRDIiwiY2NUUiIsImNjUlREIiwiY2NFRE0iLCJjY0NSIiwiY2NFTk0iLCJjY0VPQyIsImNjVE8iLCJuckNvbHMiLCJjY01JRFJPVyIsInNlY29uZEJ5dGUiLCJjb2xvckluZGV4IiwiZGlzcGF0Y2giLCJkaXNwYXRjaEN1ZSIsImN1ZVNwbGl0QXRUaW1lIiwiQ2VhNjA4UGFyc2VyIiwiZmllbGQiLCJvdXQxIiwib3V0MiIsIm91dHB1dHMiLCJjaGFubmVscyIsImN1cnJDaE5yIiwibGFzdENtZEEiLCJsYXN0Q21kQiIsImJ1ZmZlcmVkRGF0YSIsImRhdGFDb3VudGVycyIsImJ5dGVMaXN0IiwiY21kRm91bmQiLCJjaGFyc0ZvdW5kIiwicGFyc2VDbWQiLCJwYXJzZU1pZHJvdyIsInBhcnNlUEFDIiwicGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyIsInBhcnNlQ2hhcnMiLCJwYWRkaW5nIiwiY2hhbm5lbCIsImludGVycHJldFBBQyIsInBhY0luZGV4IiwiY2hhbm5lbE5yIiwiY2hhckNvZGVzIiwiY2hhckNvZGUxIiwib25lQ29kZSIsImhleENvZGVzIiwic2FtcGxlRW50cnlDb2Rlc0lTTyIsInR5cGVDb2RlcyIsInZ0dHBhcnNlcl8xIiwiY2FwdGlvblNjcmVlbiIsImluZGVudGluZyIsImZpeExpbmVCcmVha3MiLCJsaW5lIiwiYWxpZ24iLCJmaW5kRmlyc3RGcmFnV2l0aENDIiwiZmlyc3RGcmFnIiwiY3VycmVudEZyYWciLCJzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzIiwic2hvdWxkQWxpZ24iLCJmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWciLCJwcmV2RGV0YWlscyIsInByZXZGcmFncyIsImN1ckZyYWdzIiwicHJldlN0YXJ0RnJhZyIsImFkanVzdFB0cyIsImFsaWduRGlzY29udGludWl0aWVzIiwicmVmZXJlbmNlRnJhZyIsImFsaWduUERUIiwibGFzdERldGFpbHMiLCJsYXN0UERUIiwiQ0MiLCJld21hXzEiLCJFd21hQmFuZFdpZHRoRXN0aW1hdG9yIiwic2xvdyIsImZhc3QiLCJkZWZhdWx0RXN0aW1hdGUiLCJkZWZhdWx0RXN0aW1hdGVfIiwibWluV2VpZ2h0XyIsIm1pbkRlbGF5TXNfIiwic2xvd18iLCJmYXN0XyIsImR1cmF0aW9uTXMiLCJudW1CeXRlcyIsImJhbmR3aWR0aCIsIndlaWdodCIsImdldFRvdGFsV2VpZ2h0IiwiRVdNQSIsImhhbGZMaWZlIiwiYWxwaGFfIiwiZXhwIiwiZXN0aW1hdGVfIiwidG90YWxXZWlnaHRfIiwiYWRqQWxwaGEiLCJ6ZXJvRmFjdG9yIiwibm9vcCIsImZha2VMb2dnZXIiLCJleHBvcnRlZExvZ2dlciIsImZvcm1hdE1zZyIsImNvbnNvbGVQcmludEZuIiwiZnVuYyIsImRlYnVnQ29uZmlnIiwiZnVuY3Rpb25zIiwiZXhwb3J0TG9nZ2VyRnVuY3Rpb25zIiwiV2ViS2l0TWVkaWFTb3VyY2UiLCJPdXRwdXRGaWx0ZXIiLCJ2aWRlb0VsIiwiRXZlbnQiLCJkb2N1bWVudCIsImNyZWF0ZUV2ZW50IiwiaW5pdEV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInJlbW92ZUN1ZSIsImRpcmVjdGlvblNldHRpbmciLCJsciIsInJsIiwiYWxpZ25TZXR0aW5nIiwibWlkZGxlIiwibGVmdCIsInJpZ2h0IiwiZmluZEFsaWduU2V0dGluZyIsImV4dGVuZCIsIm9iaiIsImNvYmoiLCJpc0lFOCIsImJhc2VPYmoiLCJjcmVhdGVFbGVtZW50IiwiaGFzQmVlblJlc2V0IiwiX2lkIiwiX3BhdXNlT25FeGl0IiwiX3N0YXJ0VGltZSIsIl9lbmRUaW1lIiwiX3RleHQiLCJfcmVnaW9uIiwiX3ZlcnRpY2FsIiwiX3NuYXBUb0xpbmVzIiwiX2xpbmUiLCJfbGluZUFsaWduIiwiX3Bvc2l0aW9uIiwiX3Bvc2l0aW9uQWxpZ24iLCJfc2l6ZSIsIl9hbGlnbiIsInNldHRpbmciLCJmaW5kRGlyZWN0aW9uU2V0dGluZyIsIlN5bnRheEVycm9yIiwiZGlzcGxheVN0YXRlIiwiZ2V0Q3VlQXNIVE1MIiwiV2ViVlRUIiwiY29udmVydEN1ZVRvRE9NVHJlZSIsInZ0dGN1ZV8xIiwiU3RyaW5nRGVjb2RlciIsImRlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVVSSUNvbXBvbmVudCIsIlZUVFBhcnNlciIsImRlY29kZXIiLCJyZWdpb25MaXN0IiwiU2V0dGluZ3MiLCJ2YWx1ZXMiLCJwYXJzZU9wdGlvbnMiLCJrZXlWYWx1ZURlbGltIiwiZ3JvdXBEZWxpbSIsImt2IiwiayIsInYiLCJkZmx0IiwiZGVmYXVsdEtleSIsImFsdCIsImludGVnZXIiLCJwZXJjZW50IiwiZGVmYXVsdHMiLCJjZW50ZXIiLCJwYXJzZUN1ZSIsIm9JbnB1dCIsImNvbnN1bWVUaW1lU3RhbXAiLCJ0cyIsImNvbXB1dGVTZWNvbmRzIiwicGFyc2VUaW1lU3RhbXAiLCJza2lwV2hpdGVzcGFjZSIsInNldHRpbmdzIiwicmVnaW9uIiwidmFscyIsInZhbHMwIiwidmVydGljYWwiLCJsaW5lQWxpZ24iLCJzbmFwVG9MaW5lcyIsImNvbnN1bWVDdWVTZXR0aW5ncyIsImNvbGxlY3ROZXh0TGluZSIsImFscmVhZHlDb2xsZWN0ZWRMaW5lIiwiaGFzU3Vic3RyaW5nIiwib25jdWUiLCJmbHVzaCIsIm9uZmx1c2giLCJzdGFydHNXaXRoIiwiaW5wdXRTdHJpbmciLCJzZWFyY2hTdHJpbmciLCJoYXNoIiwiV2ViVlRUUGFyc2VyIiwidnR0Qnl0ZUFycmF5Iiwic3luY1BUUyIsImNhbGxCYWNrIiwiZXJyb3JDYWxsQmFjayIsInBhcnNpbmdFcnJvciIsInZ0dExpbmVzIiwiY3VlVGltZSIsIm1wZWdUcyIsImxvY2FsVGltZSIsInByZXNlbnRhdGlvblRpbWUiLCJpbkhlYWRlciIsInBhcnNlciIsImN1cnJDQyIsImN1ZU9mZnNldCIsImNhbGN1bGF0ZU9mZnNldCIsIm9ucGFyc2luZ2Vycm9yIiwidGltZVN0cmluZyIsInNlY3MiLCJtaW5zIiwiaG91cnMiLCJYaHJMb2FkZXIiLCJyZXF1ZXN0VGltZW91dCIsInJldHJ5VGltZW91dCIsImNhbGxiYWNrcyIsInJldHJ5IiwibG9hZEludGVybmFsIiwic2V0UmVxdWVzdEhlYWRlciIsInJlYWR5c3RhdGVjaGFuZ2UiLCJvbnByb2dyZXNzIiwiY3VycmVudFRhcmdldCIsInN0YXR1c18xIiwicmVzcG9uc2VUZXh0IiwicmVzcG9uc2VVUkwiLCJsZW5ndGhDb21wdXRhYmxlIl0sIm1hcHBpbmdzIjoiK0VBQ0EsSUFBaURBLEVBRC9CLG9CQUFYQyxTQUMwQ0QsRUFTeEMsV0FDVCxPQUFnQixTQUFVRSxHQUVoQixJQUFJQyxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUosRUFBUUcsR0FBVUssS0FBS0gsRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUEwRGYsT0FyREFGLEVBQW9CTyxFQUFJVCxFQUd4QkUsRUFBb0JRLEVBQUlULEVBR3hCQyxFQUFvQlMsRUFBSSxTQUFTUCxFQUFTUSxFQUFNQyxHQUMzQ1gsRUFBb0JZLEVBQUVWLEVBQVNRLElBQ2xDRyxPQUFPQyxlQUFlWixFQUFTUSxFQUFNLENBQUVLLFlBQVks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SUFBSTZSLFdBQVcsQ0FBQyxFQUFNLElBQU0sRUFBTSxJQUFNLEdBQU0sSUFBTSxFQUFNLEdBQU0sR0FBTSxFQUFNLElBQU0sRUFBTSxJQUFNLEdBQU0sRUFBTSxJQUFNLEVBQU0sR0FBTSxJQUFNLEVBQU0sS0FFOUksR0FBcUIsSUFBakI3UixFQUNMLE9BQU8sSUFBSTZSLFdBQVcsQ0FBQyxFQUFNLElBQU0sRUFBTSxJQUFNLEdBQU0sSUFBTSxFQUFNLEdBQU0sR0FBTSxFQUFNLElBQU0sRUFBTSxJQUFNLEdBQU0sRUFBTSxJQUFNLEVBQU0sR0FBTSxJQUFNLEVBQU0sRUFBTSxJQUFNLEVBQU0sR0FBTSxFQUFNLE1BRWpMLE1BRUosUUFDSSxHQUFxQixJQUFqQjdSLEVBRUEsT0FBTyxJQUFJNlIsV0FBVyxDQUFDLEVBQUssR0FBTSxHQUFNLElBQU0sSUFBTSxHQUFNLElBQU0sSUFBTSxJQUFNLEVBQUssRUFBSyxFQUFLLEVBQUssR0FBTSxFQUFLLElBQU0sSUFBTSxHQUFLLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sS0FFM1csR0FBcUIsSUFBakI3UixFQUVMLE9BQU8sSUFBSTZSLFdBQVcsQ0FBQyxFQUFLLEdBQU0sR0FBTSxJQUFNLElBQU0sR0FBTSxJQUFNLElBQU0sSUFBTSxFQUFLLEVBQUssRUFBSyxFQUFLLEVBQUssSUFBTSxFQUFLLEVBQUssSUFBTSxJQUFNLEdBQUssR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdBQU0sR0FBTSxHQUFNLEdB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QixHQTZJOUJ4MUUsRUFBUW1KLFFBQVVxc0UsS0FLRyxTQWx2akJuQnYxRSxFQUFPRCxRQUFVTiIsImZpbGUiOiIxNi5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmXG4oZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJIbHNcIl0gPSBmYWN0b3J5KCk7XG5cdGVsc2Vcblx0XHRyb290W1wiSGxzXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gLyoqKioqKi8gKGZ1bmN0aW9uKG1vZHVsZXMpIHsgLy8gd2VicGFja0Jvb3RzdHJhcFxuLyoqKioqKi8gXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuLyoqKioqKi8gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRpOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGw6IGZhbHNlLFxuLyoqKioqKi8gXHRcdFx0ZXhwb3J0czoge31cbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbi8qKioqKiovIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyBcdH1cbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbi8qKioqKiovIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4vKioqKioqLyBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4vKioqKioqLyBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuLyoqKioqKi8gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbi8qKioqKiovIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4vKioqKioqLyBcdFx0cmV0dXJuIG5zO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4vKioqKioqLyBcdFx0cmV0dXJuIGdldHRlcjtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIi9kaXN0L1wiO1xuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2hscy5qc1wiKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKHtcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9ldmVudGVtaXR0ZXIzL2luZGV4LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5XG4gICwgcHJlZml4ID0gJ34nO1xuXG4vKipcbiAqIENvbnN0cnVjdG9yIHRvIGNyZWF0ZSBhIHN0b3JhZ2UgZm9yIG91ciBgRUVgIG9iamVjdHMuXG4gKiBBbiBgRXZlbnRzYCBpbnN0YW5jZSBpcyBhIHBsYWluIG9iamVjdCB3aG9zZSBwcm9wZXJ0aWVzIGFyZSBldmVudCBuYW1lcy5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIEV2ZW50cygpIHt9XG5cbi8vXG4vLyBXZSB0cnkgdG8gbm90IGluaGVyaXQgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAuIEluIHNvbWUgZW5naW5lcyBjcmVhdGluZyBhblxuLy8gaW5zdGFuY2UgaW4gdGhpcyB3YXkgaXMgZmFzdGVyIHRoYW4gY2FsbGluZyBgT2JqZWN0LmNyZWF0ZShudWxsKWAgZGlyZWN0bHkuXG4vLyBJZiBgT2JqZWN0LmNyZWF0ZShudWxsKWAgaXMgbm90IHN1cHBvcnRlZCB3ZSBwcmVmaXggdGhlIGV2ZW50IG5hbWVzIHdpdGggYVxuLy8gY2hhcmFjdGVyIHRvIG1ha2Ugc3VyZSB0aGF0IHRoZSBidWlsdC1pbiBvYmplY3QgcHJvcGVydGllcyBhcmUgbm90XG4vLyBvdmVycmlkZGVuIG9yIHVzZWQgYXMgYW4gYXR0YWNrIHZlY3Rvci5cbi8vXG5pZiAoT2JqZWN0LmNyZWF0ZSkge1xuICBFdmVudHMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuICAvL1xuICAvLyBUaGlzIGhhY2sgaXMgbmVlZGVkIGJlY2F1c2UgdGhlIGBfX3Byb3RvX19gIHByb3BlcnR5IGlzIHN0aWxsIGluaGVyaXRlZCBpblxuICAvLyBzb21lIG9sZCBicm93c2VycyBsaWtlIEFuZHJvaWQgNCwgaVBob25lIDUuMSwgT3BlcmEgMTEgYW5kIFNhZmFyaSA1LlxuICAvL1xuICBpZiAoIW5ldyBFdmVudHMoKS5fX3Byb3RvX18pIHByZWZpeCA9IGZhbHNlO1xufVxuXG4vKipcbiAqIFJlcHJlc2VudGF0aW9uIG9mIGEgc2luZ2xlIGV2ZW50IGxpc3RlbmVyLlxuICpcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IFtvbmNlPWZhbHNlXSBTcGVjaWZ5IGlmIHRoZSBsaXN0ZW5lciBpcyBhIG9uZS10aW1lIGxpc3RlbmVyLlxuICogQGNvbnN0cnVjdG9yXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBFRShmbiwgY29udGV4dCwgb25jZSkge1xuICB0aGlzLmZuID0gZm47XG4gIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gIHRoaXMub25jZSA9IG9uY2UgfHwgZmFsc2U7XG59XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHtFdmVudEVtaXR0ZXJ9IGVtaXR0ZXIgUmVmZXJlbmNlIHRvIHRoZSBgRXZlbnRFbWl0dGVyYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gY29udGV4dCBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcGFyYW0ge0Jvb2xlYW59IG9uY2UgU3BlY2lmeSBpZiB0aGUgbGlzdGVuZXIgaXMgYSBvbmUtdGltZSBsaXN0ZW5lci5cbiAqIEByZXR1cm5zIHtFdmVudEVtaXR0ZXJ9XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRMaXN0ZW5lcihlbWl0dGVyLCBldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgaWYgKHR5cGVvZiBmbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIHZhciBsaXN0ZW5lciA9IG5ldyBFRShmbiwgY29udGV4dCB8fCBlbWl0dGVyLCBvbmNlKVxuICAgICwgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudDtcblxuICBpZiAoIWVtaXR0ZXIuX2V2ZW50c1tldnRdKSBlbWl0dGVyLl9ldmVudHNbZXZ0XSA9IGxpc3RlbmVyLCBlbWl0dGVyLl9ldmVudHNDb3VudCsrO1xuICBlbHNlIGlmICghZW1pdHRlci5fZXZlbnRzW2V2dF0uZm4pIGVtaXR0ZXIuX2V2ZW50c1tldnRdLnB1c2gobGlzdGVuZXIpO1xuICBlbHNlIGVtaXR0ZXIuX2V2ZW50c1tldnRdID0gW2VtaXR0ZXIuX2V2ZW50c1tldnRdLCBsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIGVtaXR0ZXI7XG59XG5cbi8qKlxuICogQ2xlYXIgZXZlbnQgYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0ge0V2ZW50RW1pdHRlcn0gZW1pdHRlciBSZWZlcmVuY2UgdG8gdGhlIGBFdmVudEVtaXR0ZXJgIGluc3RhbmNlLlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2dCBUaGUgRXZlbnQgbmFtZS5cbiAqIEBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGNsZWFyRXZlbnQoZW1pdHRlciwgZXZ0KSB7XG4gIGlmICgtLWVtaXR0ZXIuX2V2ZW50c0NvdW50ID09PSAwKSBlbWl0dGVyLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIGVsc2UgZGVsZXRlIGVtaXR0ZXIuX2V2ZW50c1tldnRdO1xufVxuXG4vKipcbiAqIE1pbmltYWwgYEV2ZW50RW1pdHRlcmAgaW50ZXJmYWNlIHRoYXQgaXMgbW9sZGVkIGFnYWluc3QgdGhlIE5vZGUuanNcbiAqIGBFdmVudEVtaXR0ZXJgIGludGVyZmFjZS5cbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBwdWJsaWNcbiAqL1xuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSBuZXcgRXZlbnRzKCk7XG4gIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm4gYW4gYXJyYXkgbGlzdGluZyB0aGUgZXZlbnRzIGZvciB3aGljaCB0aGUgZW1pdHRlciBoYXMgcmVnaXN0ZXJlZFxuICogbGlzdGVuZXJzLlxuICpcbiAqIEByZXR1cm5zIHtBcnJheX1cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgdmFyIG5hbWVzID0gW11cbiAgICAsIGV2ZW50c1xuICAgICwgbmFtZTtcblxuICBpZiAodGhpcy5fZXZlbnRzQ291bnQgPT09IDApIHJldHVybiBuYW1lcztcblxuICBmb3IgKG5hbWUgaW4gKGV2ZW50cyA9IHRoaXMuX2V2ZW50cykpIHtcbiAgICBpZiAoaGFzLmNhbGwoZXZlbnRzLCBuYW1lKSkgbmFtZXMucHVzaChwcmVmaXggPyBuYW1lLnNsaWNlKDEpIDogbmFtZSk7XG4gIH1cblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHJldHVybiBuYW1lcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhldmVudHMpKTtcbiAgfVxuXG4gIHJldHVybiBuYW1lcztcbn07XG5cbi8qKlxuICogUmV0dXJuIHRoZSBsaXN0ZW5lcnMgcmVnaXN0ZXJlZCBmb3IgYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7QXJyYXl9IFRoZSByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnQpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnRcbiAgICAsIGhhbmRsZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFoYW5kbGVycykgcmV0dXJuIFtdO1xuICBpZiAoaGFuZGxlcnMuZm4pIHJldHVybiBbaGFuZGxlcnMuZm5dO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsID0gaGFuZGxlcnMubGVuZ3RoLCBlZSA9IG5ldyBBcnJheShsKTsgaSA8IGw7IGkrKykge1xuICAgIGVlW2ldID0gaGFuZGxlcnNbaV0uZm47XG4gIH1cblxuICByZXR1cm4gZWU7XG59O1xuXG4vKipcbiAqIFJldHVybiB0aGUgbnVtYmVyIG9mIGxpc3RlbmVycyBsaXN0ZW5pbmcgdG8gYSBnaXZlbiBldmVudC5cbiAqXG4gKiBAcGFyYW0geyhTdHJpbmd8U3ltYm9sKX0gZXZlbnQgVGhlIGV2ZW50IG5hbWUuXG4gKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtYmVyIG9mIGxpc3RlbmVycy5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24gbGlzdGVuZXJDb3VudChldmVudCkge1xuICB2YXIgZXZ0ID0gcHJlZml4ID8gcHJlZml4ICsgZXZlbnQgOiBldmVudFxuICAgICwgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybiAwO1xuICBpZiAobGlzdGVuZXJzLmZuKSByZXR1cm4gMTtcbiAgcmV0dXJuIGxpc3RlbmVycy5sZW5ndGg7XG59O1xuXG4vKipcbiAqIENhbGxzIGVhY2ggb2YgdGhlIGxpc3RlbmVycyByZWdpc3RlcmVkIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEByZXR1cm5zIHtCb29sZWFufSBgdHJ1ZWAgaWYgdGhlIGV2ZW50IGhhZCBsaXN0ZW5lcnMsIGVsc2UgYGZhbHNlYC5cbiAqIEBwdWJsaWNcbiAqL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdChldmVudCwgYTEsIGEyLCBhMywgYTQsIGE1KSB7XG4gIHZhciBldnQgPSBwcmVmaXggPyBwcmVmaXggKyBldmVudCA6IGV2ZW50O1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW2V2dF0pIHJldHVybiBmYWxzZTtcblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF1cbiAgICAsIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGhcbiAgICAsIGFyZ3NcbiAgICAsIGk7XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChsaXN0ZW5lcnMub25jZSkgdGhpcy5yZW1vdmVMaXN0ZW5lcihldmVudCwgbGlzdGVuZXJzLmZuLCB1bmRlZmluZWQsIHRydWUpO1xuXG4gICAgc3dpdGNoIChsZW4pIHtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0KSwgdHJ1ZTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSksIHRydWU7XG4gICAgICBjYXNlIDM6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNDogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzKSwgdHJ1ZTtcbiAgICAgIGNhc2UgNTogcmV0dXJuIGxpc3RlbmVycy5mbi5jYWxsKGxpc3RlbmVycy5jb250ZXh0LCBhMSwgYTIsIGEzLCBhNCksIHRydWU7XG4gICAgICBjYXNlIDY6IHJldHVybiBsaXN0ZW5lcnMuZm4uY2FsbChsaXN0ZW5lcnMuY29udGV4dCwgYTEsIGEyLCBhMywgYTQsIGE1KSwgdHJ1ZTtcbiAgICB9XG5cbiAgICBmb3IgKGkgPSAxLCBhcmdzID0gbmV3IEFycmF5KGxlbiAtMSk7IGkgPCBsZW47IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuXG4gICAgbGlzdGVuZXJzLmZuLmFwcGx5KGxpc3RlbmVycy5jb250ZXh0LCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuZ3RoID0gbGlzdGVuZXJzLmxlbmd0aFxuICAgICAgLCBqO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdGVuZXJzW2ldLm9uY2UpIHRoaXMucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyc1tpXS5mbiwgdW5kZWZpbmVkLCB0cnVlKTtcblxuICAgICAgc3dpdGNoIChsZW4pIHtcbiAgICAgICAgY2FzZSAxOiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCk7IGJyZWFrO1xuICAgICAgICBjYXNlIDI6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSk7IGJyZWFrO1xuICAgICAgICBjYXNlIDM6IGxpc3RlbmVyc1tpXS5mbi5jYWxsKGxpc3RlbmVyc1tpXS5jb250ZXh0LCBhMSwgYTIpOyBicmVhaztcbiAgICAgICAgY2FzZSA0OiBsaXN0ZW5lcnNbaV0uZm4uY2FsbChsaXN0ZW5lcnNbaV0uY29udGV4dCwgYTEsIGEyLCBhMyk7IGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmICghYXJncykgZm9yIChqID0gMSwgYXJncyA9IG5ldyBBcnJheShsZW4gLTEpOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaiAtIDFdID0gYXJndW1lbnRzW2pdO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGxpc3RlbmVyc1tpXS5mbi5hcHBseShsaXN0ZW5lcnNbaV0uY29udGV4dCwgYXJncyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBsaXN0ZW5lciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7Kn0gW2NvbnRleHQ9dGhpc10gVGhlIGNvbnRleHQgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciB3aXRoLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gZnVuY3Rpb24gb24oZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIGZhbHNlKTtcbn07XG5cbi8qKlxuICogQWRkIGEgb25lLXRpbWUgbGlzdGVuZXIgZm9yIGEgZ2l2ZW4gZXZlbnQuXG4gKlxuICogQHBhcmFtIHsoU3RyaW5nfFN5bWJvbCl9IGV2ZW50IFRoZSBldmVudCBuYW1lLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gVGhlIGxpc3RlbmVyIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBbY29udGV4dD10aGlzXSBUaGUgY29udGV4dCB0byBpbnZva2UgdGhlIGxpc3RlbmVyIHdpdGguXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UoZXZlbnQsIGZuLCBjb250ZXh0KSB7XG4gIHJldHVybiBhZGRMaXN0ZW5lcih0aGlzLCBldmVudCwgZm4sIGNvbnRleHQsIHRydWUpO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGxpc3RlbmVycyBvZiBhIGdpdmVuIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBldmVudCBUaGUgZXZlbnQgbmFtZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBtYXRjaCB0aGlzIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IE9ubHkgcmVtb3ZlIHRoZSBsaXN0ZW5lcnMgdGhhdCBoYXZlIHRoaXMgY29udGV4dC5cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gb25jZSBPbmx5IHJlbW92ZSBvbmUtdGltZSBsaXN0ZW5lcnMuXG4gKiBAcmV0dXJucyB7RXZlbnRFbWl0dGVyfSBgdGhpc2AuXG4gKiBAcHVibGljXG4gKi9cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcihldmVudCwgZm4sIGNvbnRleHQsIG9uY2UpIHtcbiAgdmFyIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHNbZXZ0XSkgcmV0dXJuIHRoaXM7XG4gIGlmICghZm4pIHtcbiAgICBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2dF07XG5cbiAgaWYgKGxpc3RlbmVycy5mbikge1xuICAgIGlmIChcbiAgICAgIGxpc3RlbmVycy5mbiA9PT0gZm4gJiZcbiAgICAgICghb25jZSB8fCBsaXN0ZW5lcnMub25jZSkgJiZcbiAgICAgICghY29udGV4dCB8fCBsaXN0ZW5lcnMuY29udGV4dCA9PT0gY29udGV4dClcbiAgICApIHtcbiAgICAgIGNsZWFyRXZlbnQodGhpcywgZXZ0KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGV2ZW50cyA9IFtdLCBsZW5ndGggPSBsaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChcbiAgICAgICAgbGlzdGVuZXJzW2ldLmZuICE9PSBmbiB8fFxuICAgICAgICAob25jZSAmJiAhbGlzdGVuZXJzW2ldLm9uY2UpIHx8XG4gICAgICAgIChjb250ZXh0ICYmIGxpc3RlbmVyc1tpXS5jb250ZXh0ICE9PSBjb250ZXh0KVxuICAgICAgKSB7XG4gICAgICAgIGV2ZW50cy5wdXNoKGxpc3RlbmVyc1tpXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBSZXNldCB0aGUgYXJyYXksIG9yIHJlbW92ZSBpdCBjb21wbGV0ZWx5IGlmIHdlIGhhdmUgbm8gbW9yZSBsaXN0ZW5lcnMuXG4gICAgLy9cbiAgICBpZiAoZXZlbnRzLmxlbmd0aCkgdGhpcy5fZXZlbnRzW2V2dF0gPSBldmVudHMubGVuZ3RoID09PSAxID8gZXZlbnRzWzBdIDogZXZlbnRzO1xuICAgIGVsc2UgY2xlYXJFdmVudCh0aGlzLCBldnQpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbGwgbGlzdGVuZXJzLCBvciB0aG9zZSBvZiB0aGUgc3BlY2lmaWVkIGV2ZW50LlxuICpcbiAqIEBwYXJhbSB7KFN0cmluZ3xTeW1ib2wpfSBbZXZlbnRdIFRoZSBldmVudCBuYW1lLlxuICogQHJldHVybnMge0V2ZW50RW1pdHRlcn0gYHRoaXNgLlxuICogQHB1YmxpY1xuICovXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudCkge1xuICB2YXIgZXZ0O1xuXG4gIGlmIChldmVudCkge1xuICAgIGV2dCA9IHByZWZpeCA/IHByZWZpeCArIGV2ZW50IDogZXZlbnQ7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldnRdKSBjbGVhckV2ZW50KHRoaXMsIGV2dCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fZXZlbnRzID0gbmV3IEV2ZW50cygpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxuLy9cbi8vIEFsaWFzIG1ldGhvZHMgbmFtZXMgYmVjYXVzZSBwZW9wbGUgcm9sbCBsaWtlIHRoYXQuXG4vL1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUub247XG5cbi8vXG4vLyBFeHBvc2UgdGhlIHByZWZpeC5cbi8vXG5FdmVudEVtaXR0ZXIucHJlZml4ZWQgPSBwcmVmaXg7XG5cbi8vXG4vLyBBbGxvdyBgRXZlbnRFbWl0dGVyYCB0byBiZSBpbXBvcnRlZCBhcyBtb2R1bGUgbmFtZXNwYWNlLlxuLy9cbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbi8vXG4vLyBFeHBvc2UgdGhlIG1vZHVsZS5cbi8vXG5pZiAodHJ1ZSkge1xuICBtb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG4vLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbkV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKG4pIHtcbiAgaWYgKCFpc051bWJlcihuKSB8fCBuIDwgMCB8fCBpc05hTihuKSlcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlcicpO1xuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgdmFyIGVyLCBoYW5kbGVyLCBsZW4sIGFyZ3MsIGksIGxpc3RlbmVycztcblxuICBpZiAoIXRoaXMuX2V2ZW50cylcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgaWYgKCF0aGlzLl9ldmVudHMuZXJyb3IgfHxcbiAgICAgICAgKGlzT2JqZWN0KHRoaXMuX2V2ZW50cy5lcnJvcikgJiYgIXRoaXMuX2V2ZW50cy5lcnJvci5sZW5ndGgpKSB7XG4gICAgICBlciA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgICAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmNhdWdodCwgdW5zcGVjaWZpZWQgXCJlcnJvclwiIGV2ZW50LiAoJyArIGVyICsgJyknKTtcbiAgICAgICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGhhbmRsZXIgPSB0aGlzLl9ldmVudHNbdHlwZV07XG5cbiAgaWYgKGlzVW5kZWZpbmVkKGhhbmRsZXIpKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAoaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgLy8gZmFzdCBjYXNlc1xuICAgICAgY2FzZSAxOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAyOlxuICAgICAgICBoYW5kbGVyLmNhbGwodGhpcywgYXJndW1lbnRzWzFdKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM6XG4gICAgICAgIGhhbmRsZXIuY2FsbCh0aGlzLCBhcmd1bWVudHNbMV0sIGFyZ3VtZW50c1syXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLy8gc2xvd2VyXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgaGFuZGxlci5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoaXNPYmplY3QoaGFuZGxlcikpIHtcbiAgICBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBsaXN0ZW5lcnMgPSBoYW5kbGVyLnNsaWNlKCk7XG4gICAgbGVuID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspXG4gICAgICBsaXN0ZW5lcnNbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgbTtcblxuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgdGhpcy5fZXZlbnRzID0ge307XG5cbiAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICBpZiAodGhpcy5fZXZlbnRzLm5ld0xpc3RlbmVyKVxuICAgIHRoaXMuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICBpc0Z1bmN0aW9uKGxpc3RlbmVyLmxpc3RlbmVyKSA/XG4gICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gIGlmICghdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIHRoaXMuX2V2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICBlbHNlIGlmIChpc09iamVjdCh0aGlzLl9ldmVudHNbdHlwZV0pKVxuICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0ucHVzaChsaXN0ZW5lcik7XG4gIGVsc2VcbiAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICB0aGlzLl9ldmVudHNbdHlwZV0gPSBbdGhpcy5fZXZlbnRzW3R5cGVdLCBsaXN0ZW5lcl07XG5cbiAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgaWYgKGlzT2JqZWN0KHRoaXMuX2V2ZW50c1t0eXBlXSkgJiYgIXRoaXMuX2V2ZW50c1t0eXBlXS53YXJuZWQpIHtcbiAgICBpZiAoIWlzVW5kZWZpbmVkKHRoaXMuX21heExpc3RlbmVycykpIHtcbiAgICAgIG0gPSB0aGlzLl9tYXhMaXN0ZW5lcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG0gPSBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgICB9XG5cbiAgICBpZiAobSAmJiBtID4gMCAmJiB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoID4gbSkge1xuICAgICAgdGhpcy5fZXZlbnRzW3R5cGVdLndhcm5lZCA9IHRydWU7XG4gICAgICBjb25zb2xlLmVycm9yKCcobm9kZSkgd2FybmluZzogcG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSAnICtcbiAgICAgICAgICAgICAgICAgICAgJ2xlYWsgZGV0ZWN0ZWQuICVkIGxpc3RlbmVycyBhZGRlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICdVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdC4nLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudHNbdHlwZV0ubGVuZ3RoKTtcbiAgICAgIGlmICh0eXBlb2YgY29uc29sZS50cmFjZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBub3Qgc3VwcG9ydGVkIGluIElFIDEwXG4gICAgICAgIGNvbnNvbGUudHJhY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbih0eXBlLCBsaXN0ZW5lcikge1xuICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKVxuICAgIHRocm93IFR5cGVFcnJvcignbGlzdGVuZXIgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XG5cbiAgdmFyIGZpcmVkID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gZygpIHtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGcpO1xuXG4gICAgaWYgKCFmaXJlZCkge1xuICAgICAgZmlyZWQgPSB0cnVlO1xuICAgICAgbGlzdGVuZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICB9XG4gIH1cblxuICBnLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHRoaXMub24odHlwZSwgZyk7XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBlbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWZmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZFxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBsaXN0LCBwb3NpdGlvbiwgbGVuZ3RoLCBpO1xuXG4gIGlmICghaXNGdW5jdGlvbihsaXN0ZW5lcikpXG4gICAgdGhyb3cgVHlwZUVycm9yKCdsaXN0ZW5lciBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblxuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldHVybiB0aGlzO1xuXG4gIGxpc3QgPSB0aGlzLl9ldmVudHNbdHlwZV07XG4gIGxlbmd0aCA9IGxpc3QubGVuZ3RoO1xuICBwb3NpdGlvbiA9IC0xO1xuXG4gIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fFxuICAgICAgKGlzRnVuY3Rpb24obGlzdC5saXN0ZW5lcikgJiYgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICBpZiAodGhpcy5fZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3RlbmVyKTtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KGxpc3QpKSB7XG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gPiAwOykge1xuICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8XG4gICAgICAgICAgKGxpc3RbaV0ubGlzdGVuZXIgJiYgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpKSB7XG4gICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKSB7XG4gICAgICBsaXN0Lmxlbmd0aCA9IDA7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW3R5cGVdO1xuICAgIH0gZWxzZSB7XG4gICAgICBsaXN0LnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0ZW5lcik7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIga2V5LCBsaXN0ZW5lcnM7XG5cbiAgaWYgKCF0aGlzLl9ldmVudHMpXG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICBpZiAoIXRoaXMuX2V2ZW50cy5yZW1vdmVMaXN0ZW5lcikge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgdGhpcy5fZXZlbnRzID0ge307XG4gICAgZWxzZSBpZiAodGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgICAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIGZvciAoa2V5IGluIHRoaXMuX2V2ZW50cykge1xuICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgIH1cbiAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICB0aGlzLl9ldmVudHMgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcnMpKSB7XG4gICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICB9IGVsc2UgaWYgKGxpc3RlbmVycykge1xuICAgIC8vIExJRk8gb3JkZXJcbiAgICB3aGlsZSAobGlzdGVuZXJzLmxlbmd0aClcbiAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2xpc3RlbmVycy5sZW5ndGggLSAxXSk7XG4gIH1cbiAgZGVsZXRlIHRoaXMuX2V2ZW50c1t0eXBlXTtcblxuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24odHlwZSkge1xuICB2YXIgcmV0O1xuICBpZiAoIXRoaXMuX2V2ZW50cyB8fCAhdGhpcy5fZXZlbnRzW3R5cGVdKVxuICAgIHJldCA9IFtdO1xuICBlbHNlIGlmIChpc0Z1bmN0aW9uKHRoaXMuX2V2ZW50c1t0eXBlXSkpXG4gICAgcmV0ID0gW3RoaXMuX2V2ZW50c1t0eXBlXV07XG4gIGVsc2VcbiAgICByZXQgPSB0aGlzLl9ldmVudHNbdHlwZV0uc2xpY2UoKTtcbiAgcmV0dXJuIHJldDtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKHR5cGUpIHtcbiAgaWYgKHRoaXMuX2V2ZW50cykge1xuICAgIHZhciBldmxpc3RlbmVyID0gdGhpcy5fZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKGlzRnVuY3Rpb24oZXZsaXN0ZW5lcikpXG4gICAgICByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChldmxpc3RlbmVyKVxuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICB9XG4gIHJldHVybiAwO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG59O1xuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnbnVtYmVyJztcbn1cblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL25vZGVfbW9kdWxlcy91cmwtdG9vbGtpdC9zcmMvdXJsLXRvb2xraXQuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cbi8vIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMTgwOFxuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4oZnVuY3Rpb24ocm9vdCkgeyBcbi8qIGpzaGludCBpZ25vcmU6ZW5kICovXG5cbiAgdmFyIFVSTF9SRUdFWCA9IC9eKCg/OlthLXpBLVowLTkrXFwtLl0rOik/KShcXC9cXC9bXlxcLz8jXSopPygoPzpbXlxcL1xcPyNdKlxcLykqLio/KT8/KDsuKj8pPyhcXD8uKj8pPygjLio/KT8kLztcbiAgdmFyIEZJUlNUX1NFR01FTlRfUkVHRVggPSAvXihbXlxcLz8jXSopKC4qKSQvO1xuICB2YXIgU0xBU0hfRE9UX1JFR0VYID0gLyg/OlxcL3xeKVxcLig/PVxcLykvZztcbiAgdmFyIFNMQVNIX0RPVF9ET1RfUkVHRVggPSAvKD86XFwvfF4pXFwuXFwuXFwvKD8hXFwuXFwuXFwvKS4qPyg/PVxcLykvZztcblxuICB2YXIgVVJMVG9vbGtpdCA9IHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG4gICAgLy8gSWYgb3B0cy5hbHdheXNOb3JtYWxpemUgaXMgdHJ1ZSB0aGVuIHRoZSBwYXRoIHdpbGwgYWx3YXlzIGJlIG5vcm1hbGl6ZWQgZXZlbiB3aGVuIGl0IHN0YXJ0cyB3aXRoIC8gb3IgLy9cbiAgICAvLyBFLmdcbiAgICAvLyBXaXRoIG9wdHMuYWx3YXlzTm9ybWFsaXplID0gZmFsc2UgKGRlZmF1bHQsIHNwZWMgY29tcGxpYW50KVxuICAgIC8vIGh0dHA6Ly9hLmNvbS9iL2NkICsgL2UvZi8uLi9nID0+IGh0dHA6Ly9hLmNvbS9lL2YvLi4vZ1xuICAgIC8vIFdpdGggb3B0cy5hbHdheXNOb3JtYWxpemUgPSB0cnVlIChub3Qgc3BlYyBjb21wbGlhbnQpXG4gICAgLy8gaHR0cDovL2EuY29tL2IvY2QgKyAvZS9mLy4uL2cgPT4gaHR0cDovL2EuY29tL2UvZ1xuICAgIGJ1aWxkQWJzb2x1dGVVUkw6IGZ1bmN0aW9uKGJhc2VVUkwsIHJlbGF0aXZlVVJMLCBvcHRzKSB7XG4gICAgICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgICAgIC8vIHJlbW92ZSBhbnkgcmVtYWluaW5nIHNwYWNlIGFuZCBDUkxGXG4gICAgICBiYXNlVVJMID0gYmFzZVVSTC50cmltKCk7XG4gICAgICByZWxhdGl2ZVVSTCA9IHJlbGF0aXZlVVJMLnRyaW0oKTtcbiAgICAgIGlmICghcmVsYXRpdmVVUkwpIHtcbiAgICAgICAgLy8gMmEpIElmIHRoZSBlbWJlZGRlZCBVUkwgaXMgZW50aXJlbHkgZW1wdHksIGl0IGluaGVyaXRzIHRoZVxuICAgICAgICAvLyBlbnRpcmUgYmFzZSBVUkwgKGkuZS4sIGlzIHNldCBlcXVhbCB0byB0aGUgYmFzZSBVUkwpXG4gICAgICAgIC8vIGFuZCB3ZSBhcmUgZG9uZS5cbiAgICAgICAgaWYgKCFvcHRzLmFsd2F5c05vcm1hbGl6ZSkge1xuICAgICAgICAgIHJldHVybiBiYXNlVVJMO1xuICAgICAgICB9XG4gICAgICAgIHZhciBiYXNlUGFydHNGb3JOb3JtYWxpc2UgPSBVUkxUb29sa2l0LnBhcnNlVVJMKGJhc2VVUkwpO1xuICAgICAgICBpZiAoIWJhc2VQYXJ0c0Zvck5vcm1hbGlzZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgdHJ5aW5nIHRvIHBhcnNlIGJhc2UgVVJMLicpO1xuICAgICAgICB9XG4gICAgICAgIGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKGJhc2VQYXJ0c0Zvck5vcm1hbGlzZS5wYXRoKTtcbiAgICAgICAgcmV0dXJuIFVSTFRvb2xraXQuYnVpbGRVUkxGcm9tUGFydHMoYmFzZVBhcnRzRm9yTm9ybWFsaXNlKTtcbiAgICAgIH1cbiAgICAgIHZhciByZWxhdGl2ZVBhcnRzID0gVVJMVG9vbGtpdC5wYXJzZVVSTChyZWxhdGl2ZVVSTCk7XG4gICAgICBpZiAoIXJlbGF0aXZlUGFydHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciB0cnlpbmcgdG8gcGFyc2UgcmVsYXRpdmUgVVJMLicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlbGF0aXZlUGFydHMuc2NoZW1lKSB7XG4gICAgICAgIC8vIDJiKSBJZiB0aGUgZW1iZWRkZWQgVVJMIHN0YXJ0cyB3aXRoIGEgc2NoZW1lIG5hbWUsIGl0IGlzXG4gICAgICAgIC8vIGludGVycHJldGVkIGFzIGFuIGFic29sdXRlIFVSTCBhbmQgd2UgYXJlIGRvbmUuXG4gICAgICAgIGlmICghb3B0cy5hbHdheXNOb3JtYWxpemUpIHtcbiAgICAgICAgICByZXR1cm4gcmVsYXRpdmVVUkw7XG4gICAgICAgIH1cbiAgICAgICAgcmVsYXRpdmVQYXJ0cy5wYXRoID0gVVJMVG9vbGtpdC5ub3JtYWxpemVQYXRoKHJlbGF0aXZlUGFydHMucGF0aCk7XG4gICAgICAgIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkVVJMRnJvbVBhcnRzKHJlbGF0aXZlUGFydHMpO1xuICAgICAgfVxuICAgICAgdmFyIGJhc2VQYXJ0cyA9IFVSTFRvb2xraXQucGFyc2VVUkwoYmFzZVVSTCk7XG4gICAgICBpZiAoIWJhc2VQYXJ0cykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIHRyeWluZyB0byBwYXJzZSBiYXNlIFVSTC4nKTtcbiAgICAgIH1cbiAgICAgIGlmICghYmFzZVBhcnRzLm5ldExvYyAmJiBiYXNlUGFydHMucGF0aCAmJiBiYXNlUGFydHMucGF0aFswXSAhPT0gJy8nKSB7XG4gICAgICAgIC8vIElmIG5ldExvYyBtaXNzaW5nIGFuZCBwYXRoIGRvZXNuJ3Qgc3RhcnQgd2l0aCAnLycsIGFzc3VtZSBldmVydGhpbmcgYmVmb3JlIHRoZSBmaXJzdCAnLycgaXMgdGhlIG5ldExvY1xuICAgICAgICAvLyBUaGlzIGNhdXNlcyAnZXhhbXBsZS5jb20vYScgdG8gYmUgaGFuZGxlZCBhcyAnLy9leGFtcGxlLmNvbS9hJyBpbnN0ZWFkIG9mICcvZXhhbXBsZS5jb20vYSdcbiAgICAgICAgdmFyIHBhdGhQYXJ0cyA9IEZJUlNUX1NFR01FTlRfUkVHRVguZXhlYyhiYXNlUGFydHMucGF0aCk7XG4gICAgICAgIGJhc2VQYXJ0cy5uZXRMb2MgPSBwYXRoUGFydHNbMV07XG4gICAgICAgIGJhc2VQYXJ0cy5wYXRoID0gcGF0aFBhcnRzWzJdO1xuICAgICAgfVxuICAgICAgaWYgKGJhc2VQYXJ0cy5uZXRMb2MgJiYgIWJhc2VQYXJ0cy5wYXRoKSB7XG4gICAgICAgIGJhc2VQYXJ0cy5wYXRoID0gJy8nO1xuICAgICAgfVxuICAgICAgdmFyIGJ1aWx0UGFydHMgPSB7XG4gICAgICAgIC8vIDJjKSBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIHNjaGVtZSBvZlxuICAgICAgICAvLyB0aGUgYmFzZSBVUkwuXG4gICAgICAgIHNjaGVtZTogYmFzZVBhcnRzLnNjaGVtZSxcbiAgICAgICAgbmV0TG9jOiByZWxhdGl2ZVBhcnRzLm5ldExvYyxcbiAgICAgICAgcGF0aDogbnVsbCxcbiAgICAgICAgcGFyYW1zOiByZWxhdGl2ZVBhcnRzLnBhcmFtcyxcbiAgICAgICAgcXVlcnk6IHJlbGF0aXZlUGFydHMucXVlcnksXG4gICAgICAgIGZyYWdtZW50OiByZWxhdGl2ZVBhcnRzLmZyYWdtZW50XG4gICAgICB9O1xuICAgICAgaWYgKCFyZWxhdGl2ZVBhcnRzLm5ldExvYykge1xuICAgICAgICAvLyAzKSBJZiB0aGUgZW1iZWRkZWQgVVJMJ3MgPG5ldF9sb2M+IGlzIG5vbi1lbXB0eSwgd2Ugc2tpcCB0b1xuICAgICAgICAvLyBTdGVwIDcuICBPdGhlcndpc2UsIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIDxuZXRfbG9jPlxuICAgICAgICAvLyAoaWYgYW55KSBvZiB0aGUgYmFzZSBVUkwuXG4gICAgICAgIGJ1aWx0UGFydHMubmV0TG9jID0gYmFzZVBhcnRzLm5ldExvYztcbiAgICAgICAgLy8gNCkgSWYgdGhlIGVtYmVkZGVkIFVSTCBwYXRoIGlzIHByZWNlZGVkIGJ5IGEgc2xhc2ggXCIvXCIsIHRoZVxuICAgICAgICAvLyBwYXRoIGlzIG5vdCByZWxhdGl2ZSBhbmQgd2Ugc2tpcCB0byBTdGVwIDcuXG4gICAgICAgIGlmIChyZWxhdGl2ZVBhcnRzLnBhdGhbMF0gIT09ICcvJykge1xuICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXRoKSB7XG4gICAgICAgICAgICAvLyA1KSBJZiB0aGUgZW1iZWRkZWQgVVJMIHBhdGggaXMgZW1wdHkgKGFuZCBub3QgcHJlY2VkZWQgYnkgYVxuICAgICAgICAgICAgLy8gc2xhc2gpLCB0aGVuIHRoZSBlbWJlZGRlZCBVUkwgaW5oZXJpdHMgdGhlIGJhc2UgVVJMIHBhdGhcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IGJhc2VQYXJ0cy5wYXRoO1xuICAgICAgICAgICAgLy8gNWEpIGlmIHRoZSBlbWJlZGRlZCBVUkwncyA8cGFyYW1zPiBpcyBub24tZW1wdHksIHdlIHNraXAgdG9cbiAgICAgICAgICAgIC8vIHN0ZXAgNzsgb3RoZXJ3aXNlLCBpdCBpbmhlcml0cyB0aGUgPHBhcmFtcz4gb2YgdGhlIGJhc2VcbiAgICAgICAgICAgIC8vIFVSTCAoaWYgYW55KSBhbmRcbiAgICAgICAgICAgIGlmICghcmVsYXRpdmVQYXJ0cy5wYXJhbXMpIHtcbiAgICAgICAgICAgICAgYnVpbHRQYXJ0cy5wYXJhbXMgPSBiYXNlUGFydHMucGFyYW1zO1xuICAgICAgICAgICAgICAvLyA1YikgaWYgdGhlIGVtYmVkZGVkIFVSTCdzIDxxdWVyeT4gaXMgbm9uLWVtcHR5LCB3ZSBza2lwIHRvXG4gICAgICAgICAgICAgIC8vIHN0ZXAgNzsgb3RoZXJ3aXNlLCBpdCBpbmhlcml0cyB0aGUgPHF1ZXJ5PiBvZiB0aGUgYmFzZVxuICAgICAgICAgICAgICAvLyBVUkwgKGlmIGFueSkgYW5kIHdlIHNraXAgdG8gc3RlcCA3LlxuICAgICAgICAgICAgICBpZiAoIXJlbGF0aXZlUGFydHMucXVlcnkpIHtcbiAgICAgICAgICAgICAgICBidWlsdFBhcnRzLnF1ZXJ5ID0gYmFzZVBhcnRzLnF1ZXJ5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIDYpIFRoZSBsYXN0IHNlZ21lbnQgb2YgdGhlIGJhc2UgVVJMJ3MgcGF0aCAoYW55dGhpbmdcbiAgICAgICAgICAgIC8vIGZvbGxvd2luZyB0aGUgcmlnaHRtb3N0IHNsYXNoIFwiL1wiLCBvciB0aGUgZW50aXJlIHBhdGggaWYgbm9cbiAgICAgICAgICAgIC8vIHNsYXNoIGlzIHByZXNlbnQpIGlzIHJlbW92ZWQgYW5kIHRoZSBlbWJlZGRlZCBVUkwncyBwYXRoIGlzXG4gICAgICAgICAgICAvLyBhcHBlbmRlZCBpbiBpdHMgcGxhY2UuXG4gICAgICAgICAgICB2YXIgYmFzZVVSTFBhdGggPSBiYXNlUGFydHMucGF0aDtcbiAgICAgICAgICAgIHZhciBuZXdQYXRoID0gYmFzZVVSTFBhdGguc3Vic3RyaW5nKDAsIGJhc2VVUkxQYXRoLmxhc3RJbmRleE9mKCcvJykgKyAxKSArIHJlbGF0aXZlUGFydHMucGF0aDtcbiAgICAgICAgICAgIGJ1aWx0UGFydHMucGF0aCA9IFVSTFRvb2xraXQubm9ybWFsaXplUGF0aChuZXdQYXRoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChidWlsdFBhcnRzLnBhdGggPT09IG51bGwpIHtcbiAgICAgICAgYnVpbHRQYXJ0cy5wYXRoID0gb3B0cy5hbHdheXNOb3JtYWxpemUgPyBVUkxUb29sa2l0Lm5vcm1hbGl6ZVBhdGgocmVsYXRpdmVQYXJ0cy5wYXRoKSA6IHJlbGF0aXZlUGFydHMucGF0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBVUkxUb29sa2l0LmJ1aWxkVVJMRnJvbVBhcnRzKGJ1aWx0UGFydHMpO1xuICAgIH0sXG4gICAgcGFyc2VVUkw6IGZ1bmN0aW9uKHVybCkge1xuICAgICAgdmFyIHBhcnRzID0gVVJMX1JFR0VYLmV4ZWModXJsKTtcbiAgICAgIGlmICghcGFydHMpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWU6IHBhcnRzWzFdIHx8ICcnLFxuICAgICAgICBuZXRMb2M6IHBhcnRzWzJdIHx8ICcnLFxuICAgICAgICBwYXRoOiBwYXJ0c1szXSB8fCAnJyxcbiAgICAgICAgcGFyYW1zOiBwYXJ0c1s0XSB8fCAnJyxcbiAgICAgICAgcXVlcnk6IHBhcnRzWzVdIHx8ICcnLFxuICAgICAgICBmcmFnbWVudDogcGFydHNbNl0gfHwgJydcbiAgICAgIH07XG4gICAgfSxcbiAgICBub3JtYWxpemVQYXRoOiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAvLyBUaGUgZm9sbG93aW5nIG9wZXJhdGlvbnMgYXJlXG4gICAgICAvLyB0aGVuIGFwcGxpZWQsIGluIG9yZGVyLCB0byB0aGUgbmV3IHBhdGg6XG4gICAgICAvLyA2YSkgQWxsIG9jY3VycmVuY2VzIG9mIFwiLi9cIiwgd2hlcmUgXCIuXCIgaXMgYSBjb21wbGV0ZSBwYXRoXG4gICAgICAvLyBzZWdtZW50LCBhcmUgcmVtb3ZlZC5cbiAgICAgIC8vIDZiKSBJZiB0aGUgcGF0aCBlbmRzIHdpdGggXCIuXCIgYXMgYSBjb21wbGV0ZSBwYXRoIHNlZ21lbnQsXG4gICAgICAvLyB0aGF0IFwiLlwiIGlzIHJlbW92ZWQuXG4gICAgICBwYXRoID0gcGF0aC5zcGxpdCgnJykucmV2ZXJzZSgpLmpvaW4oJycpLnJlcGxhY2UoU0xBU0hfRE9UX1JFR0VYLCAnJyk7XG4gICAgICAvLyA2YykgQWxsIG9jY3VycmVuY2VzIG9mIFwiPHNlZ21lbnQ+Ly4uL1wiLCB3aGVyZSA8c2VnbWVudD4gaXMgYVxuICAgICAgLy8gY29tcGxldGUgcGF0aCBzZWdtZW50IG5vdCBlcXVhbCB0byBcIi4uXCIsIGFyZSByZW1vdmVkLlxuICAgICAgLy8gUmVtb3ZhbCBvZiB0aGVzZSBwYXRoIHNlZ21lbnRzIGlzIHBlcmZvcm1lZCBpdGVyYXRpdmVseSxcbiAgICAgIC8vIHJlbW92aW5nIHRoZSBsZWZ0bW9zdCBtYXRjaGluZyBwYXR0ZXJuIG9uIGVhY2ggaXRlcmF0aW9uLFxuICAgICAgLy8gdW50aWwgbm8gbWF0Y2hpbmcgcGF0dGVybiByZW1haW5zLlxuICAgICAgLy8gNmQpIElmIHRoZSBwYXRoIGVuZHMgd2l0aCBcIjxzZWdtZW50Pi8uLlwiLCB3aGVyZSA8c2VnbWVudD4gaXMgYVxuICAgICAgLy8gY29tcGxldGUgcGF0aCBzZWdtZW50IG5vdCBlcXVhbCB0byBcIi4uXCIsIHRoYXRcbiAgICAgIC8vIFwiPHNlZ21lbnQ+Ly4uXCIgaXMgcmVtb3ZlZC5cbiAgICAgIHdoaWxlIChwYXRoLmxlbmd0aCAhPT0gKHBhdGggPSBwYXRoLnJlcGxhY2UoU0xBU0hfRE9UX0RPVF9SRUdFWCwgJycpKS5sZW5ndGgpIHt9IC8vIGpzaGludCBpZ25vcmU6bGluZVxuICAgICAgcmV0dXJuIHBhdGguc3BsaXQoJycpLnJldmVyc2UoKS5qb2luKCcnKTtcbiAgICB9LFxuICAgIGJ1aWxkVVJMRnJvbVBhcnRzOiBmdW5jdGlvbihwYXJ0cykge1xuICAgICAgcmV0dXJuIHBhcnRzLnNjaGVtZSArIHBhcnRzLm5ldExvYyArIHBhcnRzLnBhdGggKyBwYXJ0cy5wYXJhbXMgKyBwYXJ0cy5xdWVyeSArIHBhcnRzLmZyYWdtZW50O1xuICAgIH1cbiAgfTtcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICBpZih0cnVlKVxuICAgIG1vZHVsZS5leHBvcnRzID0gVVJMVG9vbGtpdDtcbiAgZWxzZSB7fVxufSkodGhpcyk7XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vbm9kZV9tb2R1bGVzL3dlYndvcmtpZnktd2VicGFjay9pbmRleC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9ub2RlX21vZHVsZXMvd2Vid29ya2lmeS13ZWJwYWNrL2luZGV4LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5mdW5jdGlvbiB3ZWJwYWNrQm9vdHN0cmFwRnVuYyAobW9kdWxlcykge1xuLyoqKioqKi8gIC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovICB2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4vKioqKioqLyAgLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovICBmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbi8qKioqKiovICAgIC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuLyoqKioqKi8gICAgaWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyAgICAgIHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4vKioqKioqLyAgICAvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gICAgdmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gICAgICBpOiBtb2R1bGVJZCxcbi8qKioqKiovICAgICAgbDogZmFsc2UsXG4vKioqKioqLyAgICAgIGV4cG9ydHM6IHt9XG4vKioqKioqLyAgICB9O1xuXG4vKioqKioqLyAgICAvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovICAgIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4vKioqKioqLyAgICAvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyAgICBtb2R1bGUubCA9IHRydWU7XG5cbi8qKioqKiovICAgIC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4vKioqKioqLyAgfVxuXG4vKioqKioqLyAgLy8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4vKioqKioqLyAgLy8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovICBfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4vKioqKioqLyAgLy8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuLyoqKioqKi8gIC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gICAgaWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuLyoqKioqKi8gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovICAgICAgICBnZXQ6IGdldHRlclxuLyoqKioqKi8gICAgICB9KTtcbi8qKioqKiovICAgIH1cbi8qKioqKiovICB9O1xuXG4vKioqKioqLyAgLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbi8qKioqKiovICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4vKioqKioqLyAgfTtcblxuLyoqKioqKi8gIC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4vKioqKioqLyAgICB2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovICAgICAgZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovICAgICAgZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbi8qKioqKiovICAgIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovICAgIHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyAgfTtcblxuLyoqKioqKi8gIC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuLyoqKioqKi8gIC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyAgX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbi8qKioqKiovICAvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuLyoqKioqKi8gIF9fd2VicGFja19yZXF1aXJlX18ub2UgPSBmdW5jdGlvbihlcnIpIHsgY29uc29sZS5lcnJvcihlcnIpOyB0aHJvdyBlcnI7IH07XG5cbiAgdmFyIGYgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IEVOVFJZX01PRFVMRSlcbiAgcmV0dXJuIGYuZGVmYXVsdCB8fCBmIC8vIHRyeSB0byBjYWxsIGRlZmF1bHQgaWYgZGVmaW5lZCB0byBhbHNvIHN1cHBvcnQgYmFiZWwgZXNtb2R1bGUgZXhwb3J0c1xufVxuXG52YXIgbW9kdWxlTmFtZVJlcUV4cCA9ICdbXFxcXC58XFxcXC18XFxcXCt8XFxcXHd8XFwvfEBdKydcbnZhciBkZXBlbmRlbmN5UmVnRXhwID0gJ1xcXFwoKFxcL1xcXFwqLio/XFxcXCpcXC8pP1xccz8uKj8oJyArIG1vZHVsZU5hbWVSZXFFeHAgKyAnKS4qP1xcXFwpJyAvLyBhZGRpdGlvbmFsIGNoYXJzIHdoZW4gb3V0cHV0LnBhdGhpbmZvIGlzIHRydWVcblxuLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMjU5MzY2MS8xMzA0NDJcbmZ1bmN0aW9uIHF1b3RlUmVnRXhwIChzdHIpIHtcbiAgcmV0dXJuIChzdHIgKyAnJykucmVwbGFjZSgvWy4/KiteJFtcXF1cXFxcKCl7fXwtXS9nLCAnXFxcXCQmJylcbn1cblxuZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcbiAgcmV0dXJuICFpc05hTigxICogbik7IC8vIDEgKiBuIGNvbnZlcnRzIGludGVnZXJzLCBpbnRlZ2VycyBhcyBzdHJpbmcgKFwiMTIzXCIpLCAxZTMgYW5kIFwiMWUzXCIgdG8gaW50ZWdlcnMgYW5kIHN0cmluZ3MgdG8gTmFOXG59XG5cbmZ1bmN0aW9uIGdldE1vZHVsZURlcGVuZGVuY2llcyAoc291cmNlcywgbW9kdWxlLCBxdWV1ZU5hbWUpIHtcbiAgdmFyIHJldHZhbCA9IHt9XG4gIHJldHZhbFtxdWV1ZU5hbWVdID0gW11cblxuICB2YXIgZm5TdHJpbmcgPSBtb2R1bGUudG9TdHJpbmcoKVxuICB2YXIgd3JhcHBlclNpZ25hdHVyZSA9IGZuU3RyaW5nLm1hdGNoKC9eZnVuY3Rpb25cXHM/XFwoXFx3KyxcXHMqXFx3KyxcXHMqKFxcdyspXFwpLylcbiAgaWYgKCF3cmFwcGVyU2lnbmF0dXJlKSByZXR1cm4gcmV0dmFsXG4gIHZhciB3ZWJwYWNrUmVxdWlyZU5hbWUgPSB3cmFwcGVyU2lnbmF0dXJlWzFdXG5cbiAgLy8gbWFpbiBidW5kbGUgZGVwc1xuICB2YXIgcmUgPSBuZXcgUmVnRXhwKCcoXFxcXFxcXFxufFxcXFxXKScgKyBxdW90ZVJlZ0V4cCh3ZWJwYWNrUmVxdWlyZU5hbWUpICsgZGVwZW5kZW5jeVJlZ0V4cCwgJ2cnKVxuICB2YXIgbWF0Y2hcbiAgd2hpbGUgKChtYXRjaCA9IHJlLmV4ZWMoZm5TdHJpbmcpKSkge1xuICAgIGlmIChtYXRjaFszXSA9PT0gJ2RsbC1yZWZlcmVuY2UnKSBjb250aW51ZVxuICAgIHJldHZhbFtxdWV1ZU5hbWVdLnB1c2gobWF0Y2hbM10pXG4gIH1cblxuICAvLyBkbGwgZGVwc1xuICByZSA9IG5ldyBSZWdFeHAoJ1xcXFwoJyArIHF1b3RlUmVnRXhwKHdlYnBhY2tSZXF1aXJlTmFtZSkgKyAnXFxcXChcIihkbGwtcmVmZXJlbmNlXFxcXHMoJyArIG1vZHVsZU5hbWVSZXFFeHAgKyAnKSlcIlxcXFwpXFxcXCknICsgZGVwZW5kZW5jeVJlZ0V4cCwgJ2cnKVxuICB3aGlsZSAoKG1hdGNoID0gcmUuZXhlYyhmblN0cmluZykpKSB7XG4gICAgaWYgKCFzb3VyY2VzW21hdGNoWzJdXSkge1xuICAgICAgcmV0dmFsW3F1ZXVlTmFtZV0ucHVzaChtYXRjaFsxXSlcbiAgICAgIHNvdXJjZXNbbWF0Y2hbMl1dID0gX193ZWJwYWNrX3JlcXVpcmVfXyhtYXRjaFsxXSkubVxuICAgIH1cbiAgICByZXR2YWxbbWF0Y2hbMl1dID0gcmV0dmFsW21hdGNoWzJdXSB8fCBbXVxuICAgIHJldHZhbFttYXRjaFsyXV0ucHVzaChtYXRjaFs0XSlcbiAgfVxuXG4gIC8vIGNvbnZlcnQgMWUzIGJhY2sgdG8gMTAwMCAtIHRoaXMgY2FuIGJlIGltcG9ydGFudCBhZnRlciB1Z2xpZnktanMgY29udmVydGVkIDEwMDAgdG8gMWUzXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmV0dmFsKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCByZXR2YWxba2V5c1tpXV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChpc051bWVyaWMocmV0dmFsW2tleXNbaV1dW2pdKSkge1xuICAgICAgICByZXR2YWxba2V5c1tpXV1bal0gPSAxICogcmV0dmFsW2tleXNbaV1dW2pdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXR2YWxcbn1cblxuZnVuY3Rpb24gaGFzVmFsdWVzSW5RdWV1ZXMgKHF1ZXVlcykge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHF1ZXVlcylcbiAgcmV0dXJuIGtleXMucmVkdWNlKGZ1bmN0aW9uIChoYXNWYWx1ZXMsIGtleSkge1xuICAgIHJldHVybiBoYXNWYWx1ZXMgfHwgcXVldWVzW2tleV0ubGVuZ3RoID4gMFxuICB9LCBmYWxzZSlcbn1cblxuZnVuY3Rpb24gZ2V0UmVxdWlyZWRNb2R1bGVzIChzb3VyY2VzLCBtb2R1bGVJZCkge1xuICB2YXIgbW9kdWxlc1F1ZXVlID0ge1xuICAgIG1haW46IFttb2R1bGVJZF1cbiAgfVxuICB2YXIgcmVxdWlyZWRNb2R1bGVzID0ge1xuICAgIG1haW46IFtdXG4gIH1cbiAgdmFyIHNlZW5Nb2R1bGVzID0ge1xuICAgIG1haW46IHt9XG4gIH1cblxuICB3aGlsZSAoaGFzVmFsdWVzSW5RdWV1ZXMobW9kdWxlc1F1ZXVlKSkge1xuICAgIHZhciBxdWV1ZXMgPSBPYmplY3Qua2V5cyhtb2R1bGVzUXVldWUpXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBxdWV1ZU5hbWUgPSBxdWV1ZXNbaV1cbiAgICAgIHZhciBxdWV1ZSA9IG1vZHVsZXNRdWV1ZVtxdWV1ZU5hbWVdXG4gICAgICB2YXIgbW9kdWxlVG9DaGVjayA9IHF1ZXVlLnBvcCgpXG4gICAgICBzZWVuTW9kdWxlc1txdWV1ZU5hbWVdID0gc2Vlbk1vZHVsZXNbcXVldWVOYW1lXSB8fCB7fVxuICAgICAgaWYgKHNlZW5Nb2R1bGVzW3F1ZXVlTmFtZV1bbW9kdWxlVG9DaGVja10gfHwgIXNvdXJjZXNbcXVldWVOYW1lXVttb2R1bGVUb0NoZWNrXSkgY29udGludWVcbiAgICAgIHNlZW5Nb2R1bGVzW3F1ZXVlTmFtZV1bbW9kdWxlVG9DaGVja10gPSB0cnVlXG4gICAgICByZXF1aXJlZE1vZHVsZXNbcXVldWVOYW1lXSA9IHJlcXVpcmVkTW9kdWxlc1txdWV1ZU5hbWVdIHx8IFtdXG4gICAgICByZXF1aXJlZE1vZHVsZXNbcXVldWVOYW1lXS5wdXNoKG1vZHVsZVRvQ2hlY2spXG4gICAgICB2YXIgbmV3TW9kdWxlcyA9IGdldE1vZHVsZURlcGVuZGVuY2llcyhzb3VyY2VzLCBzb3VyY2VzW3F1ZXVlTmFtZV1bbW9kdWxlVG9DaGVja10sIHF1ZXVlTmFtZSlcbiAgICAgIHZhciBuZXdNb2R1bGVzS2V5cyA9IE9iamVjdC5rZXlzKG5ld01vZHVsZXMpXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld01vZHVsZXNLZXlzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIG1vZHVsZXNRdWV1ZVtuZXdNb2R1bGVzS2V5c1tqXV0gPSBtb2R1bGVzUXVldWVbbmV3TW9kdWxlc0tleXNbal1dIHx8IFtdXG4gICAgICAgIG1vZHVsZXNRdWV1ZVtuZXdNb2R1bGVzS2V5c1tqXV0gPSBtb2R1bGVzUXVldWVbbmV3TW9kdWxlc0tleXNbal1dLmNvbmNhdChuZXdNb2R1bGVzW25ld01vZHVsZXNLZXlzW2pdXSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVxdWlyZWRNb2R1bGVzXG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG1vZHVsZUlkLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBzb3VyY2VzID0ge1xuICAgIG1haW46IF9fd2VicGFja19yZXF1aXJlX18ubVxuICB9XG5cbiAgdmFyIHJlcXVpcmVkTW9kdWxlcyA9IG9wdGlvbnMuYWxsID8geyBtYWluOiBPYmplY3Qua2V5cyhzb3VyY2VzLm1haW4pIH0gOiBnZXRSZXF1aXJlZE1vZHVsZXMoc291cmNlcywgbW9kdWxlSWQpXG5cbiAgdmFyIHNyYyA9ICcnXG5cbiAgT2JqZWN0LmtleXMocmVxdWlyZWRNb2R1bGVzKS5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0gIT09ICdtYWluJyB9KS5mb3JFYWNoKGZ1bmN0aW9uIChtb2R1bGUpIHtcbiAgICB2YXIgZW50cnlNb2R1bGUgPSAwXG4gICAgd2hpbGUgKHJlcXVpcmVkTW9kdWxlc1ttb2R1bGVdW2VudHJ5TW9kdWxlXSkge1xuICAgICAgZW50cnlNb2R1bGUrK1xuICAgIH1cbiAgICByZXF1aXJlZE1vZHVsZXNbbW9kdWxlXS5wdXNoKGVudHJ5TW9kdWxlKVxuICAgIHNvdXJjZXNbbW9kdWxlXVtlbnRyeU1vZHVsZV0gPSAnKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykgeyBtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19yZXF1aXJlX187IH0pJ1xuICAgIHNyYyA9IHNyYyArICd2YXIgJyArIG1vZHVsZSArICcgPSAoJyArIHdlYnBhY2tCb290c3RyYXBGdW5jLnRvU3RyaW5nKCkucmVwbGFjZSgnRU5UUllfTU9EVUxFJywgSlNPTi5zdHJpbmdpZnkoZW50cnlNb2R1bGUpKSArICcpKHsnICsgcmVxdWlyZWRNb2R1bGVzW21vZHVsZV0ubWFwKGZ1bmN0aW9uIChpZCkgeyByZXR1cm4gJycgKyBKU09OLnN0cmluZ2lmeShpZCkgKyAnOiAnICsgc291cmNlc1ttb2R1bGVdW2lkXS50b1N0cmluZygpIH0pLmpvaW4oJywnKSArICd9KTtcXG4nXG4gIH0pXG5cbiAgc3JjID0gc3JjICsgJ25ldyAoKCcgKyB3ZWJwYWNrQm9vdHN0cmFwRnVuYy50b1N0cmluZygpLnJlcGxhY2UoJ0VOVFJZX01PRFVMRScsIEpTT04uc3RyaW5naWZ5KG1vZHVsZUlkKSkgKyAnKSh7JyArIHJlcXVpcmVkTW9kdWxlcy5tYWluLm1hcChmdW5jdGlvbiAoaWQpIHsgcmV0dXJuICcnICsgSlNPTi5zdHJpbmdpZnkoaWQpICsgJzogJyArIHNvdXJjZXMubWFpbltpZF0udG9TdHJpbmcoKSB9KS5qb2luKCcsJykgKyAnfSkpKHNlbGYpOydcblxuICB2YXIgYmxvYiA9IG5ldyB3aW5kb3cuQmxvYihbc3JjXSwgeyB0eXBlOiAndGV4dC9qYXZhc2NyaXB0JyB9KVxuICBpZiAob3B0aW9ucy5iYXJlKSB7IHJldHVybiBibG9iIH1cblxuICB2YXIgVVJMID0gd2luZG93LlVSTCB8fCB3aW5kb3cud2Via2l0VVJMIHx8IHdpbmRvdy5tb3pVUkwgfHwgd2luZG93Lm1zVVJMXG5cbiAgdmFyIHdvcmtlclVybCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYilcbiAgdmFyIHdvcmtlciA9IG5ldyB3aW5kb3cuV29ya2VyKHdvcmtlclVybClcbiAgd29ya2VyLm9iamVjdFVSTCA9IHdvcmtlclVybFxuXG4gIHJldHVybiB3b3JrZXJcbn1cblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb25maWcuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbmZpZy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogSExTIGNvbmZpZ1xuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgYWJyX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9hYnItY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYWJyLWNvbnRyb2xsZXIuanNcIik7XG52YXIgYnVmZmVyX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9idWZmZXItY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYnVmZmVyLWNvbnRyb2xsZXIuanNcIik7XG52YXIgY2FwX2xldmVsX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9jYXAtbGV2ZWwtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvY2FwLWxldmVsLWNvbnRyb2xsZXIuanNcIik7XG52YXIgZnBzX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9mcHMtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZnBzLWNvbnRyb2xsZXIuanNcIik7XG52YXIgeGhyX2xvYWRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy94aHItbG9hZGVyICovIFwiLi9zcmMvdXRpbHMveGhyLWxvYWRlci5qc1wiKTtcbi8vIGltcG9ydCBGZXRjaExvYWRlciBmcm9tICcuL3V0aWxzL2ZldGNoLWxvYWRlcic7XG52YXIgYXVkaW9fdHJhY2tfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIuanNcIik7XG52YXIgYXVkaW9fc3RyZWFtX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9hdWRpby1zdHJlYW0tY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIuanNcIik7XG52YXIgQ3VlcyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdXRpbHMvY3VlcyAqLyBcIi4vc3JjL3V0aWxzL2N1ZXMuanNcIik7XG52YXIgdGltZWxpbmVfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL3RpbWVsaW5lLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL3RpbWVsaW5lLWNvbnRyb2xsZXIuanNcIik7XG52YXIgc3VidGl0bGVfdHJhY2tfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIuanNcIik7XG52YXIgc3VidGl0bGVfc3RyZWFtX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9zdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIuanNcIik7XG52YXIgZW1lX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vY29udHJvbGxlci9lbWUtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZW1lLWNvbnRyb2xsZXIuanNcIik7XG52YXIgbWVkaWFrZXlzX2hlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9tZWRpYWtleXMtaGVscGVyICovIFwiLi9zcmMvdXRpbHMvbWVkaWFrZXlzLWhlbHBlci5qc1wiKTtcbmV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZyA9IHtcbiAgICBhdXRvU3RhcnRMb2FkOiB0cnVlLFxuICAgIHN0YXJ0UG9zaXRpb246IC0xLFxuICAgIGRlZmF1bHRBdWRpb0NvZGVjOiB1bmRlZmluZWQsXG4gICAgZGVidWc6IGZhbHNlLFxuICAgIGNhcExldmVsT25GUFNEcm9wOiBmYWxzZSxcbiAgICBjYXBMZXZlbFRvUGxheWVyU2l6ZTogZmFsc2UsXG4gICAgaW5pdGlhbExpdmVNYW5pZmVzdFNpemU6IDEsXG4gICAgbWF4QnVmZmVyTGVuZ3RoOiAzMCxcbiAgICBtYXhCdWZmZXJTaXplOiA2MCAqIDEwMDAgKiAxMDAwLFxuICAgIG1heEJ1ZmZlckhvbGU6IDAuNSxcbiAgICBsb3dCdWZmZXJXYXRjaGRvZ1BlcmlvZDogMC41LFxuICAgIGhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZDogMyxcbiAgICBudWRnZU9mZnNldDogMC4xLFxuICAgIG51ZGdlTWF4UmV0cnk6IDMsXG4gICAgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTogMC4yNSxcbiAgICBsaXZlU3luY0R1cmF0aW9uQ291bnQ6IDMsXG4gICAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50OiBJbmZpbml0eSxcbiAgICBsaXZlU3luY0R1cmF0aW9uOiB1bmRlZmluZWQsXG4gICAgbGl2ZU1heExhdGVuY3lEdXJhdGlvbjogdW5kZWZpbmVkLFxuICAgIGxpdmVEdXJhdGlvbkluZmluaXR5OiBmYWxzZSxcbiAgICBsaXZlQmFja0J1ZmZlckxlbmd0aDogSW5maW5pdHksXG4gICAgbWF4TWF4QnVmZmVyTGVuZ3RoOiA2MDAsXG4gICAgZW5hYmxlV29ya2VyOiB0cnVlLFxuICAgIGVuYWJsZVNvZnR3YXJlQUVTOiB0cnVlLFxuICAgIG1hbmlmZXN0TG9hZGluZ1RpbWVPdXQ6IDEwMDAwLFxuICAgIG1hbmlmZXN0TG9hZGluZ01heFJldHJ5OiAxLFxuICAgIG1hbmlmZXN0TG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsXG4gICAgbWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0OiA2NDAwMCxcbiAgICBzdGFydExldmVsOiB1bmRlZmluZWQsXG4gICAgbGV2ZWxMb2FkaW5nVGltZU91dDogMTAwMDAsXG4gICAgbGV2ZWxMb2FkaW5nTWF4UmV0cnk6IDQsXG4gICAgbGV2ZWxMb2FkaW5nUmV0cnlEZWxheTogMTAwMCxcbiAgICBsZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IDY0MDAwLFxuICAgIGZyYWdMb2FkaW5nVGltZU91dDogMjAwMDAsXG4gICAgZnJhZ0xvYWRpbmdNYXhSZXRyeTogNixcbiAgICBmcmFnTG9hZGluZ1JldHJ5RGVsYXk6IDEwMDAsXG4gICAgZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQ6IDY0MDAwLFxuICAgIHN0YXJ0RnJhZ1ByZWZldGNoOiBmYWxzZSxcbiAgICBmcHNEcm9wcGVkTW9uaXRvcmluZ1BlcmlvZDogNTAwMCxcbiAgICBmcHNEcm9wcGVkTW9uaXRvcmluZ1RocmVzaG9sZDogMC4yLFxuICAgIGFwcGVuZEVycm9yTWF4UmV0cnk6IDMsXG4gICAgbG9hZGVyOiB4aHJfbG9hZGVyXzEuZGVmYXVsdCxcbiAgICAvLyBsb2FkZXI6IEZldGNoTG9hZGVyLFxuICAgIGZMb2FkZXI6IHVuZGVmaW5lZCxcbiAgICBwTG9hZGVyOiB1bmRlZmluZWQsXG4gICAgeGhyU2V0dXA6IHVuZGVmaW5lZCxcbiAgICBsaWNlbnNlWGhyU2V0dXA6IHVuZGVmaW5lZCxcbiAgICAvLyBmZXRjaFNldHVwOiB1bmRlZmluZWQsXG4gICAgYWJyQ29udHJvbGxlcjogYWJyX2NvbnRyb2xsZXJfMS5kZWZhdWx0LFxuICAgIGJ1ZmZlckNvbnRyb2xsZXI6IGJ1ZmZlcl9jb250cm9sbGVyXzEuZGVmYXVsdCxcbiAgICBjYXBMZXZlbENvbnRyb2xsZXI6IGNhcF9sZXZlbF9jb250cm9sbGVyXzEuZGVmYXVsdCxcbiAgICBmcHNDb250cm9sbGVyOiBmcHNfY29udHJvbGxlcl8xLmRlZmF1bHQsXG4gICAgc3RyZXRjaFNob3J0VmlkZW9UcmFjazogZmFsc2UsXG4gICAgbWF4QXVkaW9GcmFtZXNEcmlmdDogMSxcbiAgICBmb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5OiB0cnVlLFxuICAgIGFickV3bWFGYXN0TGl2ZTogMyxcbiAgICBhYnJFd21hU2xvd0xpdmU6IDksXG4gICAgYWJyRXdtYUZhc3RWb0Q6IDMsXG4gICAgYWJyRXdtYVNsb3dWb0Q6IDksXG4gICAgYWJyRXdtYURlZmF1bHRFc3RpbWF0ZTogNWU1LFxuICAgIGFickJhbmRXaWR0aEZhY3RvcjogMC45NSxcbiAgICBhYnJCYW5kV2lkdGhVcEZhY3RvcjogMC43LFxuICAgIGFick1heFdpdGhSZWFsQml0cmF0ZTogZmFsc2UsXG4gICAgbWF4U3RhcnZhdGlvbkRlbGF5OiA0LFxuICAgIG1heExvYWRpbmdEZWxheTogNCxcbiAgICBtaW5BdXRvQml0cmF0ZTogMCxcbiAgICBlbWVFbmFibGVkOiBmYWxzZSxcbiAgICB3aWRldmluZUxpY2Vuc2VVcmw6IHVuZGVmaW5lZCxcbiAgICByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jOiBtZWRpYWtleXNfaGVscGVyXzEucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIC8vIHVzZWQgYnkgZW1lLWNvbnRyb2xsZXJcbn07XG5pZiAodHJ1ZSkge1xuICAgIGV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZy5zdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSBzdWJ0aXRsZV9zdHJlYW1fY29udHJvbGxlcl8xLlN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSBzdWJ0aXRsZV90cmFja19jb250cm9sbGVyXzEuZGVmYXVsdDtcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcudGltZWxpbmVDb250cm9sbGVyID0gdGltZWxpbmVfY29udHJvbGxlcl8xLmRlZmF1bHQ7XG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmN1ZUhhbmRsZXIgPSBDdWVzOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuZW5hYmxlQ0VBNzA4Q2FwdGlvbnMgPSB0cnVlOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuZW5hYmxlV2ViVlRUID0gdHJ1ZTsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhYmVsID0gJ0VuZ2xpc2gnOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2sxTGFuZ3VhZ2VDb2RlID0gJ2VuJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhYmVsID0gJ1NwYW5pc2gnOyAvLyB1c2VkIGJ5IHRpbWVsaW5lLWNvbnRyb2xsZXJcbiAgICBleHBvcnRzLmhsc0RlZmF1bHRDb25maWcuY2FwdGlvbnNUZXh0VHJhY2syTGFuZ3VhZ2VDb2RlID0gJ2VzJzsgLy8gdXNlZCBieSB0aW1lbGluZS1jb250cm9sbGVyXG59XG5pZiAodHJ1ZSkge1xuICAgIGV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZy5hdWRpb1N0cmVhbUNvbnRyb2xsZXIgPSBhdWRpb19zdHJlYW1fY29udHJvbGxlcl8xLmRlZmF1bHQ7XG4gICAgZXhwb3J0cy5obHNEZWZhdWx0Q29uZmlnLmF1ZGlvVHJhY2tDb250cm9sbGVyID0gYXVkaW9fdHJhY2tfY29udHJvbGxlcl8xLmRlZmF1bHQ7XG59XG5pZiAodHJ1ZSkge1xuICAgIGV4cG9ydHMuaGxzRGVmYXVsdENvbmZpZy5lbWVDb250cm9sbGVyID0gZW1lX2NvbnRyb2xsZXJfMS5kZWZhdWx0O1xufVxuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYWJyLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2Fici1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogc2ltcGxlIEFCUiBDb250cm9sbGVyXG4gKiAgLSBjb21wdXRlIG5leHQgbGV2ZWwgYmFzZWQgb24gbGFzdCBmcmFnbWVudCBidyBoZXVyaXN0aWNzXG4gKiAgLSBpbXBsZW1lbnQgYW4gYWJhbmRvbiBydWxlcyB0cmlnZ2VyZWQgaWYgd2UgaGF2ZSBsZXNzIHRoYW4gMiBmcmFnIGJ1ZmZlcmVkIGFuZCBpZiBjb21wdXRlZCBidyBzaG93cyB0aGF0IHdlIHJpc2sgYnVmZmVyIHN0YWxsaW5nXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGV2ZW50X2hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50LWhhbmRsZXIgKi8gXCIuL3NyYy9ldmVudC1oYW5kbGVyLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGVycm9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXJyb3JzICovIFwiLi9zcmMvZXJyb3JzLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yICovIFwiLi9zcmMvdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yLmpzXCIpO1xudmFyIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlO1xudmFyIEFickNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEFickNvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQWJyQ29udHJvbGxlcihobHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRElORywgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURFRCwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0JVRkZFUkVELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sYXN0TG9hZGVkRnJhZ0xldmVsID0gMDtcbiAgICAgICAgX3RoaXMuX25leHRBdXRvTGV2ZWwgPSAtMTtcbiAgICAgICAgX3RoaXMuaGxzID0gaGxzO1xuICAgICAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIF90aGlzLl9id0VzdGltYXRvciA9IG51bGw7XG4gICAgICAgIF90aGlzLm9uQ2hlY2sgPSBfdGhpcy5fYWJhbmRvblJ1bGVzQ2hlY2suYmluZChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQWJyQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgIGV2ZW50X2hhbmRsZXJfMS5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgICAgIGlmIChmcmFnLnR5cGUgPT09ICdtYWluJykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IGZyYWc7XG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMub25DaGVjaywgMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxhenkgaW5pdCBvZiBCd0VzdGltYXRvciwgcmF0aW9uYWxlIGlzIHRoYXQgd2UgdXNlIGRpZmZlcmVudCBwYXJhbXMgZm9yIExpdmUvVm9EXG4gICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIHdhaXQgZm9yIHN0cmVhbSBtYW5pZmVzdCAvIHBsYXlsaXN0IHR5cGUgdG8gaW5zdGFudGlhdGUgaXQuXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2J3RXN0aW1hdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhsc18xID0gdGhpcy5obHM7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IGhsc18xLmNvbmZpZztcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWwgPSBmcmFnLmxldmVsO1xuICAgICAgICAgICAgICAgIHZhciBpc0xpdmUgPSBobHNfMS5sZXZlbHNbbGV2ZWxdLmRldGFpbHMubGl2ZTtcbiAgICAgICAgICAgICAgICB2YXIgZXdtYUZhc3QgPSB2b2lkIDAsIGV3bWFTbG93ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChpc0xpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXdtYUZhc3QgPSBjb25maWcuYWJyRXdtYUZhc3RMaXZlO1xuICAgICAgICAgICAgICAgICAgICBld21hU2xvdyA9IGNvbmZpZy5hYnJFd21hU2xvd0xpdmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBld21hRmFzdCA9IGNvbmZpZy5hYnJFd21hRmFzdFZvRDtcbiAgICAgICAgICAgICAgICAgICAgZXdtYVNsb3cgPSBjb25maWcuYWJyRXdtYVNsb3dWb0Q7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yID0gbmV3IGV3bWFfYmFuZHdpZHRoX2VzdGltYXRvcl8xLmRlZmF1bHQoaGxzXzEsIGV3bWFTbG93LCBld21hRmFzdCwgY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBBYnJDb250cm9sbGVyLnByb3RvdHlwZS5fYWJhbmRvblJ1bGVzQ2hlY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qXG4gICAgICAgICAgbW9uaXRvciBmcmFnbWVudCByZXRyaWV2YWwgdGltZS4uLlxuICAgICAgICAgIHdlIGNvbXB1dGUgZXhwZWN0ZWQgdGltZSBvZiBhcnJpdmFsIG9mIHRoZSBjb21wbGV0ZSBmcmFnbWVudC5cbiAgICAgICAgICB3ZSBjb21wYXJlIGl0IHRvIGV4cGVjdGVkIHRpbWUgb2YgYnVmZmVyIHN0YXJ2YXRpb25cbiAgICAgICAgKi9cbiAgICAgICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgICAgICB2YXIgdmlkZW8gPSBobHMubWVkaWE7XG4gICAgICAgIHZhciBmcmFnID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgaWYgKCFmcmFnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvYWRlciA9IGZyYWcubG9hZGVyO1xuICAgICAgICB2YXIgbWluQXV0b0xldmVsID0gaGxzLm1pbkF1dG9MZXZlbDtcbiAgICAgICAgLy8gaWYgbG9hZGVyIGhhcyBiZWVuIGRlc3Ryb3llZCBvciBsb2FkaW5nIGhhcyBiZWVuIGFib3J0ZWQsIHN0b3AgdGltZXIgYW5kIHJldHVyblxuICAgICAgICBpZiAoIWxvYWRlciB8fCAobG9hZGVyLnN0YXRzICYmIGxvYWRlci5zdGF0cy5hYm9ydGVkKSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2ZyYWcgbG9hZGVyIGRlc3Ryb3kgb3IgYWJvcnRlZCwgZGlzYXJtIGFiYW5kb25SdWxlcycpO1xuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICAvLyByZXNldCBmb3JjZWQgYXV0byBsZXZlbCB2YWx1ZSBzbyB0aGF0IG5leHQgbGV2ZWwgd2lsbCBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0cyA9IGxvYWRlci5zdGF0cztcbiAgICAgICAgLyogb25seSBtb25pdG9yIGZyYWcgcmV0cmlldmFsIHRpbWUgaWZcbiAgICAgICAgKHZpZGVvIG5vdCBwYXVzZWQgT1IgZmlyc3QgZnJhZ21lbnQgYmVpbmcgbG9hZGVkKHJlYWR5IHN0YXRlID09PSBIQVZFX05PVEhJTkcgPSAwKSkgQU5EIGF1dG9zd2l0Y2hpbmcgZW5hYmxlZCBBTkQgbm90IGxvd2VzdCBsZXZlbCAoPT4gbWVhbnMgdGhhdCB3ZSBoYXZlIHNldmVyYWwgbGV2ZWxzKSAqL1xuICAgICAgICBpZiAodmlkZW8gJiYgc3RhdHMgJiYgKCghdmlkZW8ucGF1c2VkICYmICh2aWRlby5wbGF5YmFja1JhdGUgIT09IDApKSB8fCAhdmlkZW8ucmVhZHlTdGF0ZSkgJiYgZnJhZy5hdXRvTGV2ZWwgJiYgZnJhZy5sZXZlbCkge1xuICAgICAgICAgICAgdmFyIHJlcXVlc3REZWxheSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhdHMudHJlcXVlc3QsIHBsYXliYWNrUmF0ZSA9IE1hdGguYWJzKHZpZGVvLnBsYXliYWNrUmF0ZSk7XG4gICAgICAgICAgICAvLyBtb25pdG9yIGZyYWdtZW50IGxvYWQgcHJvZ3Jlc3MgYWZ0ZXIgaGFsZiBvZiBleHBlY3RlZCBmcmFnbWVudCBkdXJhdGlvbix0byBzdGFiaWxpemUgYml0cmF0ZVxuICAgICAgICAgICAgaWYgKHJlcXVlc3REZWxheSA+ICg1MDAgKiBmcmFnLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlKSkge1xuICAgICAgICAgICAgICAgIHZhciBsZXZlbHMgPSBobHMubGV2ZWxzLCBsb2FkUmF0ZSA9IE1hdGgubWF4KDEsIHN0YXRzLmJ3ID8gc3RhdHMuYncgLyA4IDogc3RhdHMubG9hZGVkICogMTAwMCAvIHJlcXVlc3REZWxheSksIC8vIGJ5dGUvczsgYXQgbGVhc3QgMSBieXRlL3MgdG8gYXZvaWQgZGl2aXNpb24gYnkgemVyb1xuICAgICAgICAgICAgICAgIC8vIGNvbXB1dGUgZXhwZWN0ZWQgZnJhZ21lbnQgbGVuZ3RoIHVzaW5nIGZyYWcgZHVyYXRpb24gYW5kIGxldmVsIGJpdHJhdGUuIGFsc28gZW5zdXJlIHRoYXQgZXhwZWN0ZWQgbGVuIGlzIGd0ZSB0aGFuIGFscmVhZHkgbG9hZGVkIHNpemVcbiAgICAgICAgICAgICAgICBsZXZlbCA9IGxldmVsc1tmcmFnLmxldmVsXSwgbGV2ZWxCaXRyYXRlID0gbGV2ZWwucmVhbEJpdHJhdGUgPyBNYXRoLm1heChsZXZlbC5yZWFsQml0cmF0ZSwgbGV2ZWwuYml0cmF0ZSkgOiBsZXZlbC5iaXRyYXRlLCBleHBlY3RlZExlbiA9IHN0YXRzLnRvdGFsID8gc3RhdHMudG90YWwgOiBNYXRoLm1heChzdGF0cy5sb2FkZWQsIE1hdGgucm91bmQoZnJhZy5kdXJhdGlvbiAqIGxldmVsQml0cmF0ZSAvIDgpKSwgcG9zID0gdmlkZW8uY3VycmVudFRpbWUsIGZyYWdMb2FkZWREZWxheSA9IChleHBlY3RlZExlbiAtIHN0YXRzLmxvYWRlZCkgLyBsb2FkUmF0ZSwgYnVmZmVyU3RhcnZhdGlvbkRlbGF5ID0gKGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyh2aWRlbywgcG9zLCBobHMuY29uZmlnLm1heEJ1ZmZlckhvbGUpLmVuZCAtIHBvcykgLyBwbGF5YmFja1JhdGU7XG4gICAgICAgICAgICAgICAgLy8gY29uc2lkZXIgZW1lcmdlbmN5IHN3aXRjaCBkb3duIG9ubHkgaWYgd2UgaGF2ZSBsZXNzIHRoYW4gMiBmcmFnIGJ1ZmZlcmVkIEFORFxuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gZmluaXNoIGxvYWRpbmcgY3VycmVudCBmcmFnbWVudCBpcyBiaWdnZXIgdGhhbiBidWZmZXIgc3RhcnZhdGlvbiBkZWxheVxuICAgICAgICAgICAgICAgIC8vIGllIGlmIHdlIHJpc2sgYnVmZmVyIHN0YXJ2YXRpb24gaWYgYncgZG9lcyBub3QgaW5jcmVhc2UgcXVpY2tseVxuICAgICAgICAgICAgICAgIGlmICgoYnVmZmVyU3RhcnZhdGlvbkRlbGF5IDwgKDIgKiBmcmFnLmR1cmF0aW9uIC8gcGxheWJhY2tSYXRlKSkgJiYgKGZyYWdMb2FkZWREZWxheSA+IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA9IHZvaWQgMCwgbmV4dExvYWRMZXZlbCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGV0cyBpdGVyYXRlIHRocm91Z2ggbG93ZXIgbGV2ZWwgYW5kIHRyeSB0byBmaW5kIHRoZSBiaWdnZXN0IG9uZSB0aGF0IGNvdWxkIGF2b2lkIHJlYnVmZmVyaW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHN0YXJ0IGZyb20gY3VycmVudCBsZXZlbCAtIDEgYW5kIHdlIHN0ZXAgZG93biAsIHVudGlsIHdlIGZpbmQgYSBtYXRjaGluZyBsZXZlbFxuICAgICAgICAgICAgICAgICAgICBmb3IgKG5leHRMb2FkTGV2ZWwgPSBmcmFnLmxldmVsIC0gMTsgbmV4dExvYWRMZXZlbCA+IG1pbkF1dG9MZXZlbDsgbmV4dExvYWRMZXZlbC0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wdXRlIHRpbWUgdG8gbG9hZCBuZXh0IGZyYWdtZW50IGF0IGxvd2VyIGxldmVsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAwLjggOiBjb25zaWRlciBvbmx5IDgwJSBvZiBjdXJyZW50IGJ3IHRvIGJlIGNvbnNlcnZhdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gOCA9IGJpdHMgcGVyIGJ5dGUgKGJwcy9CcHMpXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGV2ZWxOZXh0Qml0cmF0ZSA9IGxldmVsc1tuZXh0TG9hZExldmVsXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tuZXh0TG9hZExldmVsXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW25leHRMb2FkTGV2ZWxdLmJpdHJhdGUpIDogbGV2ZWxzW25leHRMb2FkTGV2ZWxdLmJpdHJhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnTGV2ZWxOZXh0TG9hZGVkRGVsYXkgPSBmcmFnLmR1cmF0aW9uICogbGV2ZWxOZXh0Qml0cmF0ZSAvICg4ICogMC44ICogbG9hZFJhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA8IGJ1ZmZlclN0YXJ2YXRpb25EZWxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIGZvdW5kIGEgbG93ZXIgbGV2ZWwgdGhhdCBiZSByZWJ1ZmZlcmluZyBmcmVlIHdpdGggY3VycmVudCBlc3RpbWF0ZWQgYncgIVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgZW1lcmdlbmN5IHN3aXRjaCBkb3duIGlmIGl0IHRha2VzIGxlc3MgdGltZSB0byBsb2FkIG5ldyBmcmFnbWVudCBhdCBsb3dlc3QgbGV2ZWwgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICAvLyBvZiBmaW5pc2hpbmcgbG9hZGluZyBjdXJyZW50IG9uZSAuLi5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdMZXZlbE5leHRMb2FkZWREZWxheSA8IGZyYWdMb2FkZWREZWxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsb2FkaW5nIHRvbyBzbG93LCBhYm9ydCBmcmFnbWVudCBsb2FkaW5nIGFuZCBzd2l0Y2ggdG8gbGV2ZWwgXCIgKyBuZXh0TG9hZExldmVsICsgXCI6ZnJhZ0xvYWRlZERlbGF5W1wiICsgbmV4dExvYWRMZXZlbCArIFwiXTxmcmFnTG9hZGVkRGVsYXlbXCIgKyAoZnJhZy5sZXZlbCAtIDEpICsgXCJdO2J1ZmZlclN0YXJ2YXRpb25EZWxheTpcIiArIGZyYWdMZXZlbE5leHRMb2FkZWREZWxheS50b0ZpeGVkKDEpICsgXCI8XCIgKyBmcmFnTG9hZGVkRGVsYXkudG9GaXhlZCgxKSArIFwiOlwiICsgYnVmZmVyU3RhcnZhdGlvbkRlbGF5LnRvRml4ZWQoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yY2UgbmV4dCBsb2FkIGxldmVsIGluIGF1dG8gbW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgaGxzLm5leHRMb2FkTGV2ZWwgPSBuZXh0TG9hZExldmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJ3IGVzdGltYXRlIGZvciB0aGlzIGZyYWdtZW50IGJlZm9yZSBjYW5jZWxsaW5nIGxvYWQgKHRoaXMgd2lsbCBoZWxwIHJlZHVjaW5nIHRoZSBidylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yLnNhbXBsZShyZXF1ZXN0RGVsYXksIHN0YXRzLmxvYWRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhYm9ydCBmcmFnbWVudCBsb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3AgYWJhbmRvbiBydWxlcyB0aW1lclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgeyBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAoZnJhZy50eXBlID09PSAnbWFpbicgJiYgTnVtYmVyLmlzRmluaXRlKGZyYWcuc24pKSB7XG4gICAgICAgICAgICAvLyBzdG9wIG1vbml0b3JpbmcgYncgb25jZSBmcmFnIGxvYWRlZFxuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICAvLyBzdG9yZSBsZXZlbCBpZCBhZnRlciBzdWNjZXNzZnVsIGZyYWdtZW50IGxvYWRcbiAgICAgICAgICAgIHRoaXMubGFzdExvYWRlZEZyYWdMZXZlbCA9IGZyYWcubGV2ZWw7XG4gICAgICAgICAgICAvLyByZXNldCBmb3JjZWQgYXV0byBsZXZlbCB2YWx1ZSBzbyB0aGF0IG5leHQgbGV2ZWwgd2lsbCBiZSBzZWxlY3RlZFxuICAgICAgICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IC0xO1xuICAgICAgICAgICAgLy8gY29tcHV0ZSBsZXZlbCBhdmVyYWdlIGJpdHJhdGVcbiAgICAgICAgICAgIGlmICh0aGlzLmhscy5jb25maWcuYWJyTWF4V2l0aFJlYWxCaXRyYXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsID0gdGhpcy5obHMubGV2ZWxzW2ZyYWcubGV2ZWxdO1xuICAgICAgICAgICAgICAgIHZhciBsb2FkZWRCeXRlcyA9IChsZXZlbC5sb2FkZWQgPyBsZXZlbC5sb2FkZWQuYnl0ZXMgOiAwKSArIGRhdGEuc3RhdHMubG9hZGVkO1xuICAgICAgICAgICAgICAgIHZhciBsb2FkZWREdXJhdGlvbiA9IChsZXZlbC5sb2FkZWQgPyBsZXZlbC5sb2FkZWQuZHVyYXRpb24gOiAwKSArIGRhdGEuZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBsZXZlbC5sb2FkZWQgPSB7IGJ5dGVzOiBsb2FkZWRCeXRlcywgZHVyYXRpb246IGxvYWRlZER1cmF0aW9uIH07XG4gICAgICAgICAgICAgICAgbGV2ZWwucmVhbEJpdHJhdGUgPSBNYXRoLnJvdW5kKDggKiBsb2FkZWRCeXRlcyAvIGxvYWRlZER1cmF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGlmIGZyYWdtZW50IGhhcyBiZWVuIGxvYWRlZCB0byBwZXJmb3JtIGEgYml0cmF0ZSB0ZXN0LFxuICAgICAgICAgICAgaWYgKGRhdGEuZnJhZy5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0cyA9IGRhdGEuc3RhdHM7XG4gICAgICAgICAgICAgICAgc3RhdHMudHBhcnNlZCA9IHN0YXRzLnRidWZmZXJlZCA9IHN0YXRzLnRsb2FkO1xuICAgICAgICAgICAgICAgIHRoaXMub25GcmFnQnVmZmVyZWQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0J1ZmZlcmVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHN0YXRzID0gZGF0YS5zdGF0cztcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWc7XG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHN0YXRzIG9uIGZpcnN0IGZyYWcgYnVmZmVyaW5nXG4gICAgICAgIC8vIGlmIHNhbWUgZnJhZyBpcyBsb2FkZWQgbXVsdGlwbGUgdGltZXMsIGl0IG1pZ2h0IGJlIGluIGJyb3dzZXIgY2FjaGUsIGFuZCBsb2FkZWQgcXVpY2tseVxuICAgICAgICAvLyBhbmQgbGVhZGluZyB0byB3cm9uZyBidyBlc3RpbWF0aW9uXG4gICAgICAgIC8vIG9uIGJpdHJhdGUgdGVzdCwgYWxzbyBvbmx5IHVwZGF0ZSBzdGF0cyBvbmNlIChpZiB0bG9hZCA9IHRidWZmZXJlZCA9PSBvbiBGUkFHX0xPQURFRClcbiAgICAgICAgaWYgKHN0YXRzLmFib3J0ZWQgIT09IHRydWUgJiYgZnJhZy50eXBlID09PSAnbWFpbicgJiYgTnVtYmVyLmlzRmluaXRlKGZyYWcuc24pICYmICgoIWZyYWcuYml0cmF0ZVRlc3QgfHwgc3RhdHMudGxvYWQgPT09IHN0YXRzLnRidWZmZXJlZCkpKSB7XG4gICAgICAgICAgICAvLyB1c2UgdHBhcnNlZC10cmVxdWVzdCBpbnN0ZWFkIG9mIHRidWZmZXJlZC10cmVxdWVzdCB0byBjb21wdXRlIGZyYWdMb2FkaW5nUHJvY2Vzc2luZzsgcmF0aW9uYWxlIGlzIHRoYXQgIGJ1ZmZlciBhcHBlbmRpbmcgb25seSBoYXBwZW5zIG9uY2UgbWVkaWEgaXMgYXR0YWNoZWRcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugd2UgdXNlIGNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCB3aGlsZSBtZWRpYSBpcyBub3QgYXR0YWNoZWQgeWV0LCBmcmFnbWVudCBtaWdodCBiZSBwYXJzZWQgd2hpbGUgbWVkaWEgbm90IGF0dGFjaGVkIHlldCwgYnV0IGl0IHdpbGwgb25seSBiZSBidWZmZXJlZCBvbiBtZWRpYSBhdHRhY2hlZFxuICAgICAgICAgICAgLy8gYXMgYSBjb25zZXF1ZW5jZSBpdCBjb3VsZCBoYXBwZW4gcmVhbGx5IGxhdGUgaW4gdGhlIHByb2Nlc3MuIG1lYW5pbmcgdGhhdCBhcHBlbmRpbmcgZHVyYXRpb24gbWlnaHQgYXBwZWFycyBodWdlIC4uLiBsZWFkaW5nIHRvIHVuZGVyZXN0aW1hdGVkIHRocm91Z2hwdXQgZXN0aW1hdGlvblxuICAgICAgICAgICAgdmFyIGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zID0gc3RhdHMudHBhcnNlZCAtIHN0YXRzLnRyZXF1ZXN0O1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxhdGVuY3kvbG9hZGluZy9wYXJzaW5nL2FwcGVuZC9rYnBzOlwiICsgTWF0aC5yb3VuZChzdGF0cy50Zmlyc3QgLSBzdGF0cy50cmVxdWVzdCkgKyBcIi9cIiArIE1hdGgucm91bmQoc3RhdHMudGxvYWQgLSBzdGF0cy50Zmlyc3QpICsgXCIvXCIgKyBNYXRoLnJvdW5kKHN0YXRzLnRwYXJzZWQgLSBzdGF0cy50bG9hZCkgKyBcIi9cIiArIE1hdGgucm91bmQoc3RhdHMudGJ1ZmZlcmVkIC0gc3RhdHMudHBhcnNlZCkgKyBcIi9cIiArIE1hdGgucm91bmQoOCAqIHN0YXRzLmxvYWRlZCAvIChzdGF0cy50YnVmZmVyZWQgLSBzdGF0cy50cmVxdWVzdCkpKTtcbiAgICAgICAgICAgIHRoaXMuX2J3RXN0aW1hdG9yLnNhbXBsZShmcmFnTG9hZGluZ1Byb2Nlc3NpbmdNcywgc3RhdHMubG9hZGVkKTtcbiAgICAgICAgICAgIHN0YXRzLmJ3RXN0aW1hdGUgPSB0aGlzLl9id0VzdGltYXRvci5nZXRFc3RpbWF0ZSgpO1xuICAgICAgICAgICAgLy8gaWYgZnJhZ21lbnQgaGFzIGJlZW4gbG9hZGVkIHRvIHBlcmZvcm0gYSBiaXRyYXRlIHRlc3QsIChobHMuc3RhcnRMZXZlbCA9IC0xKSwgc3RvcmUgYml0cmF0ZSB0ZXN0IGRlbGF5IGR1cmF0aW9uXG4gICAgICAgICAgICBpZiAoZnJhZy5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IGZyYWdMb2FkaW5nUHJvY2Vzc2luZ01zIC8gMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYml0cmF0ZVRlc3REZWxheSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBzdG9wIHRpbWVyIGluIGNhc2Ugb2YgZnJhZyBsb2FkaW5nIGVycm9yXG4gICAgICAgIHN3aXRjaCAoZGF0YS5kZXRhaWxzKSB7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX0xPQURfRVJST1I6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVDpcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyVGltZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFickNvbnRyb2xsZXIucHJvdG90eXBlLCBcIm5leHRBdXRvTGV2ZWxcIiwge1xuICAgICAgICAvLyByZXR1cm4gbmV4dCBhdXRvIGxldmVsXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGZvcmNlZEF1dG9MZXZlbCA9IHRoaXMuX25leHRBdXRvTGV2ZWw7XG4gICAgICAgICAgICB2YXIgYndFc3RpbWF0b3IgPSB0aGlzLl9id0VzdGltYXRvcjtcbiAgICAgICAgICAgIC8vIGluIGNhc2UgbmV4dCBhdXRvIGxldmVsIGhhcyBiZWVuIGZvcmNlZCwgYW5kIGJ3IG5vdCBhdmFpbGFibGUgb3Igbm90IHJlbGlhYmxlLCByZXR1cm4gZm9yY2VkIHZhbHVlXG4gICAgICAgICAgICBpZiAoZm9yY2VkQXV0b0xldmVsICE9PSAtMSAmJiAoIWJ3RXN0aW1hdG9yIHx8ICFid0VzdGltYXRvci5jYW5Fc3RpbWF0ZSgpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3JjZWRBdXRvTGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjb21wdXRlIG5leHQgbGV2ZWwgdXNpbmcgQUJSIGxvZ2ljXG4gICAgICAgICAgICB2YXIgbmV4dEFCUkF1dG9MZXZlbCA9IHRoaXMuX25leHRBQlJBdXRvTGV2ZWw7XG4gICAgICAgICAgICAvLyBpZiBmb3JjZWQgYXV0byBsZXZlbCBoYXMgYmVlbiBkZWZpbmVkLCB1c2UgaXQgdG8gY2FwIEFCUiBjb21wdXRlZCBxdWFsaXR5IGxldmVsXG4gICAgICAgICAgICBpZiAoZm9yY2VkQXV0b0xldmVsICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIG5leHRBQlJBdXRvTGV2ZWwgPSBNYXRoLm1pbihmb3JjZWRBdXRvTGV2ZWwsIG5leHRBQlJBdXRvTGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHRBQlJBdXRvTGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5leHRMZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dEF1dG9MZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFickNvbnRyb2xsZXIucHJvdG90eXBlLCBcIl9uZXh0QUJSQXV0b0xldmVsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcy5obHMsIG1heEF1dG9MZXZlbCA9IGhscy5tYXhBdXRvTGV2ZWwsIGxldmVscyA9IGhscy5sZXZlbHMsIGNvbmZpZyA9IGhscy5jb25maWcsIG1pbkF1dG9MZXZlbCA9IGhscy5taW5BdXRvTGV2ZWw7XG4gICAgICAgICAgICB2YXIgdmlkZW8gPSBobHMubWVkaWEsIGN1cnJlbnRMZXZlbCA9IHRoaXMubGFzdExvYWRlZEZyYWdMZXZlbCwgY3VycmVudEZyYWdEdXJhdGlvbiA9IHRoaXMuZnJhZ0N1cnJlbnQgPyB0aGlzLmZyYWdDdXJyZW50LmR1cmF0aW9uIDogMCwgcG9zID0gKHZpZGVvID8gdmlkZW8uY3VycmVudFRpbWUgOiAwKSwgXG4gICAgICAgICAgICAvLyBwbGF5YmFja1JhdGUgaXMgdGhlIGFic29sdXRlIHZhbHVlIG9mIHRoZSBwbGF5YmFjayByYXRlOyBpZiB2aWRlby5wbGF5YmFja1JhdGUgaXMgMCwgd2UgdXNlIDEgdG8gbG9hZCBhc1xuICAgICAgICAgICAgLy8gaWYgd2UncmUgcGxheWluZyBiYWNrIGF0IHRoZSBub3JtYWwgcmF0ZS5cbiAgICAgICAgICAgIHBsYXliYWNrUmF0ZSA9ICgodmlkZW8gJiYgKHZpZGVvLnBsYXliYWNrUmF0ZSAhPT0gMCkpID8gTWF0aC5hYnModmlkZW8ucGxheWJhY2tSYXRlKSA6IDEuMCksIGF2Z2J3ID0gdGhpcy5fYndFc3RpbWF0b3IgPyB0aGlzLl9id0VzdGltYXRvci5nZXRFc3RpbWF0ZSgpIDogY29uZmlnLmFickV3bWFEZWZhdWx0RXN0aW1hdGUsIFxuICAgICAgICAgICAgLy8gYnVmZmVyU3RhcnZhdGlvbkRlbGF5IGlzIHRoZSB3YWxsLWNsb2NrIHRpbWUgbGVmdCB1bnRpbCB0aGUgcGxheWJhY2sgYnVmZmVyIGlzIGV4aGF1c3RlZC5cbiAgICAgICAgICAgIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9IChidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmJ1ZmZlckluZm8odmlkZW8sIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLmVuZCAtIHBvcykgLyBwbGF5YmFja1JhdGU7XG4gICAgICAgICAgICAvLyBGaXJzdCwgbG9vayB0byBzZWUgaWYgd2UgY2FuIGZpbmQgYSBsZXZlbCBtYXRjaGluZyB3aXRoIG91ciBhdmcgYmFuZHdpZHRoIEFORCB0aGF0IGNvdWxkIGFsc28gZ3VhcmFudGVlIG5vIHJlYnVmZmVyaW5nIGF0IGFsbFxuICAgICAgICAgICAgdmFyIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSwgY29uZmlnLmFickJhbmRXaWR0aEZhY3RvciwgY29uZmlnLmFickJhbmRXaWR0aFVwRmFjdG9yLCBsZXZlbHMpO1xuICAgICAgICAgICAgaWYgKGJlc3RMZXZlbCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJlc3RMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci50cmFjZSgncmVidWZmZXJpbmcgZXhwZWN0ZWQgdG8gaGFwcGVuLCBsZXRzIHRyeSB0byBmaW5kIGEgcXVhbGl0eSBsZXZlbCBtaW5pbWl6aW5nIHRoZSByZWJ1ZmZlcmluZycpO1xuICAgICAgICAgICAgICAgIC8vIG5vdCBwb3NzaWJsZSB0byBnZXQgcmlkIG9mIHJlYnVmZmVyaW5nIC4uLiBsZXQncyB0cnkgdG8gZmluZCBsZXZlbCB0aGF0IHdpbGwgZ3VhcmFudGVlIGxlc3MgdGhhbiBtYXhTdGFydmF0aW9uRGVsYXkgb2YgcmVidWZmZXJpbmdcbiAgICAgICAgICAgICAgICAvLyBpZiBubyBtYXRjaGluZyBsZXZlbCBmb3VuZCwgbG9naWMgd2lsbCByZXR1cm4gMFxuICAgICAgICAgICAgICAgIHZhciBtYXhTdGFydmF0aW9uRGVsYXkgPSBjdXJyZW50RnJhZ0R1cmF0aW9uID8gTWF0aC5taW4oY3VycmVudEZyYWdEdXJhdGlvbiwgY29uZmlnLm1heFN0YXJ2YXRpb25EZWxheSkgOiBjb25maWcubWF4U3RhcnZhdGlvbkRlbGF5LCBid0ZhY3RvciA9IGNvbmZpZy5hYnJCYW5kV2lkdGhGYWN0b3IsIGJ3VXBGYWN0b3IgPSBjb25maWcuYWJyQmFuZFdpZHRoVXBGYWN0b3I7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlclN0YXJ2YXRpb25EZWxheSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIGJ1ZmZlciBpcyBlbXB0eSwgbGV0J3MgY2hlY2sgaWYgcHJldmlvdXMgZnJhZ21lbnQgd2FzIGxvYWRlZCB0byBwZXJmb3JtIGEgYml0cmF0ZSB0ZXN0XG4gICAgICAgICAgICAgICAgICAgIHZhciBiaXRyYXRlVGVzdERlbGF5ID0gdGhpcy5iaXRyYXRlVGVzdERlbGF5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0cmF0ZVRlc3REZWxheSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgaXQgaXMgdGhlIGNhc2UsIHRoZW4gd2UgbmVlZCB0byBhZGp1c3Qgb3VyIG1heCBzdGFydmF0aW9uIGRlbGF5IHVzaW5nIG1heExvYWRpbmdEZWxheSBjb25maWcgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1heCB2aWRlbyBsb2FkaW5nIGRlbGF5IHVzZWQgaW4gIGF1dG9tYXRpYyBzdGFydCBsZXZlbCBzZWxlY3Rpb24gOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBtb2RlIEFCUiBjb250cm9sbGVyIHdpbGwgZW5zdXJlIHRoYXQgdmlkZW8gbG9hZGluZyB0aW1lIChpZSB0aGUgdGltZSB0byBmZXRjaCB0aGUgZmlyc3QgZnJhZ21lbnQgYXQgbG93ZXN0IHF1YWxpdHkgbGV2ZWwgK1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHRpbWUgdG8gZmV0Y2ggdGhlIGZyYWdtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBxdWFsaXR5IGxldmVsIGlzIGxlc3MgdGhhbiBgYGBtYXhMb2FkaW5nRGVsYXlgYGAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FwIG1heExvYWRpbmdEZWxheSBhbmQgZW5zdXJlIGl0IGlzIG5vdCBiaWdnZXIgJ3RoYW4gYml0cmF0ZSB0ZXN0JyBmcmFnIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4TG9hZGluZ0RlbGF5ID0gY3VycmVudEZyYWdEdXJhdGlvbiA/IE1hdGgubWluKGN1cnJlbnRGcmFnRHVyYXRpb24sIGNvbmZpZy5tYXhMb2FkaW5nRGVsYXkpIDogY29uZmlnLm1heExvYWRpbmdEZWxheTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFN0YXJ2YXRpb25EZWxheSA9IG1heExvYWRpbmdEZWxheSAtIGJpdHJhdGVUZXN0RGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIudHJhY2UoXCJiaXRyYXRlIHRlc3QgdG9vayBcIiArIE1hdGgucm91bmQoMTAwMCAqIGJpdHJhdGVUZXN0RGVsYXkpICsgXCJtcywgc2V0IGZpcnN0IGZyYWdtZW50IG1heCBmZXRjaER1cmF0aW9uIHRvIFwiICsgTWF0aC5yb3VuZCgxMDAwICogbWF4U3RhcnZhdGlvbkRlbGF5KSArIFwiIG1zXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG9uJ3QgdXNlIGNvbnNlcnZhdGl2ZSBmYWN0b3Igb24gYml0cmF0ZSB0ZXN0XG4gICAgICAgICAgICAgICAgICAgICAgICBid0ZhY3RvciA9IGJ3VXBGYWN0b3IgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJlc3RMZXZlbCA9IHRoaXMuX2ZpbmRCZXN0TGV2ZWwoY3VycmVudExldmVsLCBjdXJyZW50RnJhZ0R1cmF0aW9uLCBhdmdidywgbWluQXV0b0xldmVsLCBtYXhBdXRvTGV2ZWwsIGJ1ZmZlclN0YXJ2YXRpb25EZWxheSArIG1heFN0YXJ2YXRpb25EZWxheSwgYndGYWN0b3IsIGJ3VXBGYWN0b3IsIGxldmVscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGJlc3RMZXZlbCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFickNvbnRyb2xsZXIucHJvdG90eXBlLl9maW5kQmVzdExldmVsID0gZnVuY3Rpb24gKGN1cnJlbnRMZXZlbCwgY3VycmVudEZyYWdEdXJhdGlvbiwgY3VycmVudEJ3LCBtaW5BdXRvTGV2ZWwsIG1heEF1dG9MZXZlbCwgbWF4RmV0Y2hEdXJhdGlvbiwgYndGYWN0b3IsIGJ3VXBGYWN0b3IsIGxldmVscykge1xuICAgICAgICBmb3IgKHZhciBpID0gbWF4QXV0b0xldmVsOyBpID49IG1pbkF1dG9MZXZlbDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWxJbmZvID0gbGV2ZWxzW2ldO1xuICAgICAgICAgICAgaWYgKCFsZXZlbEluZm8pIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsZXZlbERldGFpbHMgPSBsZXZlbEluZm8uZGV0YWlscywgYXZnRHVyYXRpb24gPSBsZXZlbERldGFpbHMgPyBsZXZlbERldGFpbHMudG90YWxkdXJhdGlvbiAvIGxldmVsRGV0YWlscy5mcmFnbWVudHMubGVuZ3RoIDogY3VycmVudEZyYWdEdXJhdGlvbiwgbGl2ZSA9IGxldmVsRGV0YWlscyA/IGxldmVsRGV0YWlscy5saXZlIDogZmFsc2UsIGFkanVzdGVkYncgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBmb2xsb3cgYWxnb3JpdGhtIGNhcHR1cmVkIGZyb20gc3RhZ2VmcmlnaHQgOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9hbmRyb2lkLmdvb2dsZXNvdXJjZS5jb20vcGxhdGZvcm0vZnJhbWV3b3Jrcy9hdi8rL21hc3Rlci9tZWRpYS9saWJzdGFnZWZyaWdodC9odHRwbGl2ZS9MaXZlU2Vzc2lvbi5jcHBcbiAgICAgICAgICAgIC8vIFBpY2sgdGhlIGhpZ2hlc3QgYmFuZHdpZHRoIHN0cmVhbSBiZWxvdyBvciBlcXVhbCB0byBlc3RpbWF0ZWQgYmFuZHdpZHRoLlxuICAgICAgICAgICAgLy8gY29uc2lkZXIgb25seSA4MCUgb2YgdGhlIGF2YWlsYWJsZSBiYW5kd2lkdGgsIGJ1dCBpZiB3ZSBhcmUgc3dpdGNoaW5nIHVwLFxuICAgICAgICAgICAgLy8gYmUgZXZlbiBtb3JlIGNvbnNlcnZhdGl2ZSAoNzAlKSB0byBhdm9pZCBvdmVyZXN0aW1hdGluZyBhbmQgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgIC8vIHN3aXRjaGluZyBiYWNrLlxuICAgICAgICAgICAgaWYgKGkgPD0gY3VycmVudExldmVsKSB7XG4gICAgICAgICAgICAgICAgYWRqdXN0ZWRidyA9IGJ3RmFjdG9yICogY3VycmVudEJ3O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWRqdXN0ZWRidyA9IGJ3VXBGYWN0b3IgKiBjdXJyZW50Qnc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYml0cmF0ZSA9IGxldmVsc1tpXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tpXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW2ldLmJpdHJhdGUpIDogbGV2ZWxzW2ldLmJpdHJhdGUsIGZldGNoRHVyYXRpb24gPSBiaXRyYXRlICogYXZnRHVyYXRpb24gLyBhZGp1c3RlZGJ3O1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLnRyYWNlKFwibGV2ZWwvYWRqdXN0ZWRidy9iaXRyYXRlL2F2Z0R1cmF0aW9uL21heEZldGNoRHVyYXRpb24vZmV0Y2hEdXJhdGlvbjogXCIgKyBpICsgXCIvXCIgKyBNYXRoLnJvdW5kKGFkanVzdGVkYncpICsgXCIvXCIgKyBiaXRyYXRlICsgXCIvXCIgKyBhdmdEdXJhdGlvbiArIFwiL1wiICsgbWF4RmV0Y2hEdXJhdGlvbiArIFwiL1wiICsgZmV0Y2hEdXJhdGlvbik7XG4gICAgICAgICAgICAvLyBpZiBhZGp1c3RlZCBidyBpcyBncmVhdGVyIHRoYW4gbGV2ZWwgYml0cmF0ZSBBTkRcbiAgICAgICAgICAgIGlmIChhZGp1c3RlZGJ3ID4gYml0cmF0ZSAmJlxuICAgICAgICAgICAgICAgIC8vIGZyYWdtZW50IGZldGNoRHVyYXRpb24gdW5rbm93biBPUiBsaXZlIHN0cmVhbSBPUiBmcmFnbWVudCBmZXRjaER1cmF0aW9uIGxlc3MgdGhhbiBtYXggYWxsb3dlZCBmZXRjaCBkdXJhdGlvbiwgdGhlbiB0aGlzIGxldmVsIG1hdGNoZXNcbiAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBhY2NvdW50IGZvciBtYXggRmV0Y2ggRHVyYXRpb24gZm9yIGxpdmUgc3RyZWFtcywgdGhpcyBpcyB0byBhdm9pZCBzd2l0Y2hpbmcgZG93biB3aGVuIG5lYXIgdGhlIGVkZ2Ugb2YgbGl2ZSBzbGlkaW5nIHdpbmRvdyAuLi5cbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsIGNhc2UgdG8gc3VwcG9ydCBzdGFydExldmVsID0gLTEgKGJpdHJhdGVUZXN0KSBvbiBsaXZlIHN0cmVhbXMgOiBpbiB0aGF0IGNhc2Ugd2Ugc2hvdWxkIG5vdCBleGl0IGxvb3Agc28gdGhhdCBfZmluZEJlc3RMZXZlbCB3aWxsIHJldHVybiAtMVxuICAgICAgICAgICAgICAgICghZmV0Y2hEdXJhdGlvbiB8fCAobGl2ZSAmJiAhdGhpcy5iaXRyYXRlVGVzdERlbGF5KSB8fCBmZXRjaER1cmF0aW9uIDwgbWF4RmV0Y2hEdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAvLyBhcyB3ZSBhcmUgbG9vcGluZyBmcm9tIGhpZ2hlc3QgdG8gbG93ZXN0LCB0aGlzIHdpbGwgcmV0dXJuIHRoZSBiZXN0IGFjaGlldmFibGUgcXVhbGl0eSBsZXZlbFxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIG5vdCBlbm91Z2ggdGltZSBidWRnZXQgZXZlbiB3aXRoIHF1YWxpdHkgbGV2ZWwgMCAuLi4gcmVidWZmZXJpbmcgbWlnaHQgaGFwcGVuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9O1xuICAgIHJldHVybiBBYnJDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQWJyQ29udHJvbGxlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9hdWRpby1zdHJlYW0tY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvYXVkaW8tc3RyZWFtLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qXG4gKiBBdWRpbyBTdHJlYW0gQ29udHJvbGxlclxuKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJpbmFyeV9zZWFyY2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2JpbmFyeS1zZWFyY2ggKi8gXCIuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGRlbXV4ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2RlbXV4L2RlbXV4ZXIgKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLmpzXCIpO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIExldmVsSGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1oZWxwZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qc1wiKTtcbnZhciB0aW1lX3Jhbmdlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvdGltZS1yYW5nZXMgKi8gXCIuL3NyYy91dGlscy90aW1lLXJhbmdlcy5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBkaXNjb250aW51aXRpZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2Rpc2NvbnRpbnVpdGllcyAqLyBcIi4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LXRyYWNrZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIik7XG52YXIgZnJhZ21lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2xvYWRlci9mcmFnbWVudCAqLyBcIi4vc3JjL2xvYWRlci9mcmFnbWVudC5qc1wiKTtcbnZhciBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXIuanNcIik7XG52YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG52YXIgVElDS19JTlRFUlZBTCA9IDEwMDsgLy8gaG93IG9mdGVuIHRvIHRpY2sgaW4gbXNcbnZhciBBdWRpb1N0cmVhbUNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEF1ZGlvU3RyZWFtQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBdWRpb1N0cmVhbUNvbnRyb2xsZXIoaGxzLCBmcmFnbWVudFRyYWNrZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0FUVEFDSEVELCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS1NfVVBEQVRFRCwgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19TV0lUQ0hJTkcsIGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LktFWV9MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVCwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfREFUQSwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCwgZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfUkVTRVQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NSRUFURUQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVOREVELCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9GTFVTSEVELCBldmVudHNfMS5kZWZhdWx0LklOSVRfUFRTX0ZPVU5EKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBmcmFnbWVudFRyYWNrZXI7XG4gICAgICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgICAgIF90aGlzLmF1ZGlvQ29kZWNTd2FwID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICBfdGhpcy5pbml0UFRTID0gW107XG4gICAgICAgIF90aGlzLndhaXRpbmdGcmFnbWVudCA9IG51bGw7XG4gICAgICAgIF90aGlzLnZpZGVvVHJhY2tDQyA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZy5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBudWxsO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZC5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLy8gU2lnbmFsIHRoYXQgdmlkZW8gUFRTIHdhcyBmb3VuZFxuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25Jbml0UHRzRm91bmQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZGVtdXhlcklkID0gZGF0YS5pZCwgY2MgPSBkYXRhLmZyYWcuY2MsIGluaXRQVFMgPSBkYXRhLmluaXRQVFM7XG4gICAgICAgIGlmIChkZW11eGVySWQgPT09ICdtYWluJykge1xuICAgICAgICAgICAgLy8gQWx3YXlzIHVwZGF0ZSB0aGUgbmV3IElOSVQgUFRTXG4gICAgICAgICAgICAvLyBDYW4gY2hhbmdlIGR1ZSBsZXZlbCBzd2l0Y2hcbiAgICAgICAgICAgIHRoaXMuaW5pdFBUU1tjY10gPSBpbml0UFRTO1xuICAgICAgICAgICAgdGhpcy52aWRlb1RyYWNrQ0MgPSBjYztcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJJbml0UFRTIGZvciBjYzogXCIgKyBjYyArIFwiIGZvdW5kIGZyb20gdmlkZW8gdHJhY2s6IFwiICsgaW5pdFBUUyk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgd2FpdGluZyB3ZSBuZWVkIHRvIGRlbXV4L3JlbXV4IHRoZSB3YWl0aW5nIGZyYWdcbiAgICAgICAgICAgIC8vIFdpdGggdGhlIG5ldyBpbml0UFRTXG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfSU5JVF9QVFMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy50cmFja3MpIHtcbiAgICAgICAgICAgIHZhciBsYXN0Q3VycmVudFRpbWUgPSB0aGlzLmxhc3RDdXJyZW50VGltZTtcbiAgICAgICAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgICAgICAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgaWYgKGxhc3RDdXJyZW50VGltZSA+IDAgJiYgc3RhcnRQb3NpdGlvbiA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW86b3ZlcnJpZGUgc3RhcnRQb3NpdGlvbiB3aXRoIGxhc3RDdXJyZW50VGltZSBAXCIgKyBsYXN0Q3VycmVudFRpbWUudG9GaXhlZCgzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSB0aGlzLnN0YXJ0UG9zaXRpb24gPyB0aGlzLnN0YXJ0UG9zaXRpb24gOiBzdGFydFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RBUlRJTkc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZTtcbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgaWYgKGZyYWcubG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgZnJhZy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5kZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlNUT1BQRUQ7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSwgXCJzdGF0ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBuZXh0U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBuZXh0U3RhdGU7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImF1ZGlvIHN0cmVhbTpcIiArIHByZXZpb3VzU3RhdGUgKyBcIi0+XCIgKyBuZXh0U3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRvVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvcywgdHJhY2ssIHRyYWNrRGV0YWlscywgaGxzID0gdGhpcy5obHMsIGNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgICAgIC8vIGxvZ2dlci5sb2coJ2F1ZGlvU3RyZWFtOicgKyB0aGlzLnN0YXRlKTtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FUlJPUjpcbiAgICAgICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nIGluIGVycm9yIHN0YXRlIHRvIGF2b2lkIGJyZWFraW5nIGZ1cnRoZXIgLi4uXG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVVTRUQ6XG4gICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpbiBwYXVzZWQgc3RhdGUgZWl0aGVyIC4uLlxuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuQlVGRkVSX0ZMVVNISU5HOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RBUlRJTkc6XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5XQUlUSU5HX1RSQUNLO1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU6XG4gICAgICAgICAgICAgICAgdmFyIHRyYWNrcyA9IHRoaXMudHJhY2tzO1xuICAgICAgICAgICAgICAgIC8vIGF1ZGlvIHRyYWNrcyBub3QgcmVjZWl2ZWQgPT4gZXhpdCBsb29wXG4gICAgICAgICAgICAgICAgaWYgKCF0cmFja3MpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHZpZGVvIG5vdCBhdHRhY2hlZCBBTkRcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBmcmFnbWVudCBhbHJlYWR5IHJlcXVlc3RlZCBPUiBzdGFydCBmcmFnIHByZWZldGNoIGRpc2FibGVcbiAgICAgICAgICAgICAgICAvLyBleGl0IGxvb3BcbiAgICAgICAgICAgICAgICAvLyA9PiBpZiBtZWRpYSBub3QgYXR0YWNoZWQgYnV0IHN0YXJ0IGZyYWcgcHJlZmV0Y2ggaXMgZW5hYmxlZCBhbmQgc3RhcnQgZnJhZyBub3QgcmVxdWVzdGVkIHlldCwgd2Ugd2lsbCBub3QgZXhpdCBsb29wXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLm1lZGlhICYmXG4gICAgICAgICAgICAgICAgICAgICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCB8fCAhY29uZmlnLnN0YXJ0RnJhZ1ByZWZldGNoKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZGV0ZXJtaW5lIG5leHQgY2FuZGlkYXRlIGZyYWdtZW50IHRvIGJlIGxvYWRlZCwgYmFzZWQgb24gY3VycmVudCBwb3NpdGlvbiBhbmRcbiAgICAgICAgICAgICAgICAvLyAgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvblxuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgbm90IHlldCBsb2FkZWQgYW55IGZyYWdtZW50LCBzdGFydCBsb2FkaW5nIGZyb20gc3RhcnQgcG9zaXRpb25cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBwb3MgPSB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gdGhpcy5uZXh0TG9hZFBvc2l0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpZiAocG9zID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPyB0aGlzLm1lZGlhQnVmZmVyIDogdGhpcy5tZWRpYSwgdmlkZW9CdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID8gdGhpcy52aWRlb0J1ZmZlciA6IHRoaXMubWVkaWEsIGJ1ZmZlckluZm8gPSBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmJ1ZmZlckluZm8obWVkaWEsIHBvcywgY29uZmlnLm1heEJ1ZmZlckhvbGUpLCBtYWluQnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyh2aWRlb0J1ZmZlciwgcG9zLCBjb25maWcubWF4QnVmZmVySG9sZSksIGJ1ZmZlckxlbiA9IGJ1ZmZlckluZm8ubGVuLCBidWZmZXJFbmRfMSA9IGJ1ZmZlckluZm8uZW5kLCBmcmFnUHJldmlvdXMgPSB0aGlzLmZyYWdQcmV2aW91cywgXG4gICAgICAgICAgICAgICAgLy8gZW5zdXJlIHdlIGJ1ZmZlciBhdCBsZWFzdCBjb25maWcubWF4QnVmZmVyTGVuZ3RoIChkZWZhdWx0IDMwcykgb3IgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCAoZGVmYXVsdDogNjAwcylcbiAgICAgICAgICAgICAgICAvLyB3aGljaGV2ZXIgaXMgc21hbGxlci5cbiAgICAgICAgICAgICAgICAvLyBvbmNlIHdlIHJlYWNoIHRoYXQgdGhyZXNob2xkLCBkb24ndCBidWZmZXIgbW9yZSB0aGFuIHZpZGVvIChtYWluQnVmZmVySW5mby5sZW4pXG4gICAgICAgICAgICAgICAgbWF4Q29uZmlnQnVmZmVyID0gTWF0aC5taW4oY29uZmlnLm1heEJ1ZmZlckxlbmd0aCwgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCksIG1heEJ1ZkxlbiA9IE1hdGgubWF4KG1heENvbmZpZ0J1ZmZlciwgbWFpbkJ1ZmZlckluZm8ubGVuKSwgYXVkaW9Td2l0Y2ggPSB0aGlzLmF1ZGlvU3dpdGNoLCB0cmFja0lkID0gdGhpcy50cmFja0lkO1xuICAgICAgICAgICAgICAgIC8vIGlmIGJ1ZmZlciBsZW5ndGggaXMgbGVzcyB0aGFuIG1heEJ1ZkxlbiB0cnkgdG8gbG9hZCBhIG5ldyBmcmFnbWVudFxuICAgICAgICAgICAgICAgIGlmICgoYnVmZmVyTGVuIDwgbWF4QnVmTGVuIHx8IGF1ZGlvU3dpdGNoKSAmJiB0cmFja0lkIDwgdHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0cmFja0RldGFpbHMgPSB0cmFja3NbdHJhY2tJZF0uZGV0YWlscztcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdHJhY2sgaW5mbyBub3QgcmV0cmlldmVkIHlldCwgc3dpdGNoIHN0YXRlIGFuZCB3YWl0IGZvciB0cmFjayByZXRyaWV2YWxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmFja0RldGFpbHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfVFJBQ0s7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWF1ZGlvU3dpdGNoICYmIHRoaXMuX3N0cmVhbUVuZGVkKGJ1ZmZlckluZm8sIHRyYWNrRGV0YWlscykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRU9TLCB7IHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVOREVEO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgZnJhZ21lbnQgaW5kZXgsIGNvbnRpZ3VvdXMgd2l0aCBlbmQgb2YgYnVmZmVyIHBvc2l0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudHMgPSB0cmFja0RldGFpbHMuZnJhZ21lbnRzLCBmcmFnTGVuID0gZnJhZ21lbnRzLmxlbmd0aCwgc3RhcnQgPSBmcmFnbWVudHNbMF0uc3RhcnQsIGVuZCA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uc3RhcnQgKyBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLmR1cmF0aW9uLCBmcmFnID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBXaGVuIHN3aXRjaGluZyBhdWRpbyB0cmFjaywgcmVsb2FkIGF1ZGlvIGFzIGNsb3NlIGFzIHBvc3NpYmxlIHRvIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5saXZlICYmICF0cmFja0RldGFpbHMuUFRTS25vd24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzd2l0Y2hpbmcgYXVkaW90cmFjaywgbGl2ZSBzdHJlYW0sIHVua25vd24gUFRTLGxvYWQgZmlyc3QgZnJhZ21lbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJFbmRfMSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXJFbmRfMSA9IHBvcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBjdXJyZW50VGltZSAocG9zKSBpcyBsZXNzIHRoYW4gYWx0IGF1ZGlvIHBsYXlsaXN0IHN0YXJ0IHRpbWUsIGl0IG1lYW5zIHRoYXQgYWx0IGF1ZGlvIGlzIGFoZWFkIG9mIGN1cnJlbnRUaW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5QVFNLbm93biAmJiBwb3MgPCBzdGFydCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBldmVyeXRoaW5nIGlzIGJ1ZmZlcmVkIGZyb20gcG9zIHRvIHN0YXJ0IG9yIGlmIGF1ZGlvIGJ1ZmZlciB1cGZyb250LCBsZXQncyBzZWVrIHRvIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWZmZXJJbmZvLmVuZCA+IHN0YXJ0IHx8IGJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdhbHQgYXVkaW8gdHJhY2sgYWhlYWQgb2YgbWFpbiB0cmFjaywgc2VlayB0byBzdGFydCBvZiBhbHQgYXVkaW8gdHJhY2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubWVkaWEuY3VycmVudFRpbWUgPSBzdGFydCArIDAuMDU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNrRGV0YWlscy5pbml0U2VnbWVudCAmJiAhdHJhY2tEZXRhaWxzLmluaXRTZWdtZW50LmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSB0cmFja0RldGFpbHMuaW5pdFNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBicmFjZS1zdHlsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBidWZmZXJFbmQgYmVmb3JlIHN0YXJ0IG9mIHBsYXlsaXN0LCBsb2FkIGZpcnN0IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJ1ZmZlckVuZF8xIDw9IHN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ21lbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlkZW9UcmFja0NDICE9PSBudWxsICYmIGZyYWcuY2MgIT09IHRoaXMudmlkZW9UcmFja0NDKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGZpbmQgYSBmcmFnbWVudCB3aGljaCBtYXRjaGVzIHRoZSBjb250aW51aXR5IG9mIHRoZSB2aWRlbyB0cmFja1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBkaXNjb250aW51aXRpZXNfMS5maW5kRnJhZ1dpdGhDQyhmcmFnbWVudHMsIHRoaXMudmlkZW9UcmFja0NDKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFja0RldGFpbHMubGl2ZSAmJiBmcmFnLmxvYWRJZHggJiYgZnJhZy5sb2FkSWR4ID09PSB0aGlzLmZyYWdMb2FkSWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UganVzdCBsb2FkZWQgdGhpcyBmaXJzdCBmcmFnbWVudCwgYW5kIHdlIGFyZSBzdGlsbCBsYWdnaW5nIGJlaGluZCB0aGUgc3RhcnQgb2YgdGhlIGxpdmUgcGxheWxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyBmb3JjZSBzZWVrIHRvIHN0YXJ0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRCdWZmZXJlZCA9IGJ1ZmZlckluZm8ubmV4dFN0YXJ0ID8gYnVmZmVySW5mby5uZXh0U3RhcnQgOiBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibm8gYWx0IGF1ZGlvIGF2YWlsYWJsZSBAY3VycmVudFRpbWU6XCIgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lICsgXCIsIHNlZWtpbmcgQFwiICsgKG5leHRCdWZmZXJlZCArIDAuMDUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lID0gbmV4dEJ1ZmZlcmVkICsgMC4wNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm91bmRGcmFnID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1heEZyYWdMb29rVXBUb2xlcmFuY2VfMSA9IGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdOZXh0ID0gZnJhZ1ByZXZpb3VzID8gZnJhZ21lbnRzW2ZyYWdQcmV2aW91cy5zbiAtIGZyYWdtZW50c1swXS5zbiArIDFdIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdCA9IGZ1bmN0aW9uIChjYW5kaWRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiBmcmFnbWVudCBib3VuZGFyeSAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kID0gOS45OTFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcmFnW8OYXSA6IFswLDEwXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnVmZmVyRW5kIGlzIHdpdGhpbiBmcmFnWzBdIHJhbmdlIC4uLiBhbHRob3VnaCB3aGF0IHdlIGFyZSBleHBlY3RpbmcgaXMgdG8gcmV0dXJuIGZyYWdbMV0gaGVyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICBmcmFnIHN0YXJ0ICAgICAgICAgICAgICAgZnJhZyBzdGFydCtkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICA8LS0tPiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAuLi4tLS0tLS0tLT48LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+PC0tLS0tLS0tLS4uLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgcmV0dXJuIC0xICAgICAgICAgICAgIHJldHVybiAwICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYGxldmVsL3NuL3N0YXJ0L2VuZC9idWZFbmQ6JHtsZXZlbH0vJHtjYW5kaWRhdGUuc259LyR7Y2FuZGlkYXRlLnN0YXJ0fS8keyhjYW5kaWRhdGUuc3RhcnQrY2FuZGlkYXRlLmR1cmF0aW9uKX0vJHtidWZmZXJFbmR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZV8xLCBjYW5kaWRhdGUuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoY2FuZGlkYXRlLnN0YXJ0ICsgY2FuZGlkYXRlLmR1cmF0aW9uIC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlKSA8PSBidWZmZXJFbmRfMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kXzEgJiYgY2FuZGlkYXRlLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIG1heEZyYWdMb29rVXBUb2xlcmFuY2Ugd2lsbCBoYXZlIG5lZ2F0aXZlIHZhbHVlIHRoZW4gZG9uJ3QgcmV0dXJuIC0xIGZvciBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlckVuZF8xIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1ZmZlckVuZF8xID4gZW5kIC0gbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZV8xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEZyYWdMb29rVXBUb2xlcmFuY2VfMSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFByZWZlciB0aGUgbmV4dCBmcmFnbWVudCBpZiBpdCdzIHdpdGhpbiB0b2xlcmFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZ05leHQgJiYgIWZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdChmcmFnTmV4dCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRGcmFnID0gZnJhZ05leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3VuZEZyYWcgPSBiaW5hcnlfc2VhcmNoXzEuZGVmYXVsdC5zZWFyY2goZnJhZ21lbnRzLCBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJlYWNoIGVuZCBvZiBwbGF5bGlzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kRnJhZyA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm91bmRGcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IGZvdW5kRnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGZvdW5kRnJhZy5zdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdmaW5kIFNOIG1hdGNoaW5nIHdpdGggcG9zOicgKyAgYnVmZmVyRW5kICsgJzonICsgZnJhZy5zbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdQcmV2aW91cyAmJiBmcmFnLmxldmVsID09PSBmcmFnUHJldmlvdXMubGV2ZWwgJiYgZnJhZy5zbiA9PT0gZnJhZ1ByZXZpb3VzLnNuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLnNuIDwgdHJhY2tEZXRhaWxzLmVuZFNOKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ21lbnRzW2ZyYWcuc24gKyAxIC0gdHJhY2tEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIlNOIGp1c3QgbG9hZGVkLCBsb2FkIG5leHQgb25lOiBcIiArIGZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJyAgICAgIGxvYWRpbmcgZnJhZyAnICsgaSArJyxwb3MvYnVmRW5kOicgKyBwb3MudG9GaXhlZCgzKSArICcvJyArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnLmVuY3J5cHRlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIGtleSBmb3IgXCIgKyBmcmFnLnNuICsgXCIgb2YgW1wiICsgdHJhY2tEZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyB0cmFja0RldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLktFWV9MT0FESU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuS0VZX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIFwiICsgZnJhZy5zbiArIFwiLCBjYzogXCIgKyBmcmFnLmNjICsgXCIgb2YgW1wiICsgdHJhY2tEZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyB0cmFja0RldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkICsgXCIsIGN1cnJlbnRUaW1lOlwiICsgcG9zICsgXCIsYnVmZmVyRW5kOlwiICsgYnVmZmVyRW5kXzEudG9GaXhlZCgzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBsb2FkIGlmIGZyYWdtZW50IGlzIG5vdCBsb2FkZWQgb3IgaWYgaW4gYXVkaW8gc3dpdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UgZm9yY2UgYSBmcmFnIGxvYWRpbmcgaW4gYXVkaW8gc3dpdGNoIGFzIGZyYWdtZW50IHRyYWNrZXIgbWlnaHQgbm90IGhhdmUgZXZpY3RlZCBwcmV2aW91cyBmcmFncyBpbiBjYXNlIG9mIHF1aWNrIGF1ZGlvIHN3aXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCB8fCB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRTdGF0ZShmcmFnKSA9PT0gZnJhZ21lbnRfdHJhY2tlcl8xLkZyYWdtZW50U3RhdGUuTk9UX0xPQURFRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZy5zbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IGZyYWcuc3RhcnQgKyBmcmFnLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfVFJBQ0s6XG4gICAgICAgICAgICAgICAgdHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLnRyYWNrSWRdO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHBsYXlsaXN0IGlzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgICAgICAgICAgaWYgKHRyYWNrICYmIHRyYWNrLmRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZOlxuICAgICAgICAgICAgICAgIHZhciBub3cgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV0cnlEYXRlID0gdGhpcy5yZXRyeURhdGU7XG4gICAgICAgICAgICAgICAgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICAgICAgICAgIHZhciBpc1NlZWtpbmcgPSBtZWRpYSAmJiBtZWRpYS5zZWVraW5nO1xuICAgICAgICAgICAgICAgIC8vIGlmIGN1cnJlbnQgdGltZSBpcyBndCB0aGFuIHJldHJ5RGF0ZSwgb3IgaWYgbWVkaWEgc2Vla2luZyBsZXQncyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgICAgICAgICAgaWYgKCFyZXRyeURhdGUgfHwgKG5vdyA+PSByZXRyeURhdGUpIHx8IGlzU2Vla2luZykge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdhdWRpb1N0cmVhbUNvbnRyb2xsZXI6IHJldHJ5RGF0ZSByZWFjaGVkLCBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5XQUlUSU5HX0lOSVRfUFRTOlxuICAgICAgICAgICAgICAgIHZhciB2aWRlb1RyYWNrQ0MgPSB0aGlzLnZpZGVvVHJhY2tDQztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbml0UFRTW3ZpZGVvVHJhY2tDQ10gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHdlIGRvbid0IGdldCBzdHVjayBpbiB0aGUgV0FJVElOR19JTklUX1BUUyBzdGF0ZSBpZiB0aGUgd2FpdGluZyBmcmFnIENDIGRvZXNuJ3QgbWF0Y2ggYW55IGluaXRQVFNcbiAgICAgICAgICAgICAgICB2YXIgd2FpdGluZ0ZyYWcgPSB0aGlzLndhaXRpbmdGcmFnbWVudDtcbiAgICAgICAgICAgICAgICBpZiAod2FpdGluZ0ZyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdhaXRpbmdGcmFnQ0MgPSB3YWl0aW5nRnJhZy5mcmFnLmNjO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9UcmFja0NDICE9PSB3YWl0aW5nRnJhZ0NDKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjayA9IHRoaXMudHJhY2tzW3RoaXMudHJhY2tJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2suZGV0YWlscyAmJiB0cmFjay5kZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIldhaXRpbmcgZnJhZ21lbnQgQ0MgKFwiICsgd2FpdGluZ0ZyYWdDQyArIFwiKSBkb2VzIG5vdCBtYXRjaCB2aWRlbyB0cmFjayBDQyAoXCIgKyB2aWRlb1RyYWNrQ0MgKyBcIilcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZyYWdMb2FkZWQodGhpcy53YWl0aW5nRnJhZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTRUQ6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FTkRFRDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBkYXRhLm1lZGlhO1xuICAgICAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub252ZW5kZWQgPSB0aGlzLm9uTWVkaWFFbmRlZC5iaW5kKHRoaXMpO1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICAgICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICBpZiAodGhpcy50cmFja3MgJiYgY29uZmlnLmF1dG9TdGFydExvYWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAobWVkaWEgJiYgbWVkaWEuZW5kZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHZpZGVvIGxpc3RlbmVyc1xuICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgICAgICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgICAgICAgIHRoaXMub252c2Vla2luZyA9IHRoaXMub252c2Vla2VkID0gdGhpcy5vbnZlbmRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0b3BMb2FkKCk7XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja3NVcGRhdGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnYXVkaW8gdHJhY2tzIHVwZGF0ZWQnKTtcbiAgICAgICAgdGhpcy50cmFja3MgPSBkYXRhLmF1ZGlvVHJhY2tzO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBpZiBhbnkgVVJMIGZvdW5kIG9uIG5ldyBhdWRpbyB0cmFjaywgaXQgaXMgYW4gYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrXG4gICAgICAgIHZhciBhbHRBdWRpbyA9ICEhZGF0YS51cmw7XG4gICAgICAgIHRoaXMudHJhY2tJZCA9IGRhdGEuaWQ7XG4gICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBVVNFRDtcbiAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBudWxsO1xuICAgICAgICAvLyBkZXN0cm95IHVzZWxlc3MgZGVtdXhlciB3aGVuIHN3aXRjaGluZyBhdWRpbyB0byBtYWluXG4gICAgICAgIGlmICghYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlbXV4ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVtdXhlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBzd2l0Y2hpbmcgdG8gYXVkaW8gdHJhY2ssIHN0YXJ0IHRpbWVyIGlmIG5vdCBhbHJlYWR5IHN0YXJ0ZWRcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2hvdWxkIHdlIHN3aXRjaCB0cmFja3MgP1xuICAgICAgICBpZiAoYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9Td2l0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgLy8gbWFpbiBhdWRpbyB0cmFjayBhcmUgaGFuZGxlZCBieSBzdHJlYW0tY29udHJvbGxlciwganVzdCBkbyBzb21ldGhpbmcgaWYgc3dpdGNoaW5nIHRvIGFsdCBhdWRpbyB0cmFja1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgbmV3RGV0YWlscyA9IGRhdGEuZGV0YWlscywgdHJhY2tJZCA9IGRhdGEuaWQsIHRyYWNrID0gdGhpcy50cmFja3NbdHJhY2tJZF0sIGR1cmF0aW9uID0gbmV3RGV0YWlscy50b3RhbGR1cmF0aW9uLCBzbGlkaW5nID0gMDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInRyYWNrIFwiICsgdHJhY2tJZCArIFwiIGxvYWRlZCBbXCIgKyBuZXdEZXRhaWxzLnN0YXJ0U04gKyBcIixcIiArIG5ld0RldGFpbHMuZW5kU04gKyBcIl0sZHVyYXRpb246XCIgKyBkdXJhdGlvbik7XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIHZhciBjdXJEZXRhaWxzID0gdHJhY2suZGV0YWlscztcbiAgICAgICAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhdmUgZGV0YWlscyBmb3IgdGhhdCBsZXZlbCwgbWVyZ2UgdGhlbVxuICAgICAgICAgICAgICAgIExldmVsSGVscGVyLm1lcmdlRGV0YWlscyhjdXJEZXRhaWxzLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBzbGlkaW5nID0gbmV3RGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ET1xuICAgICAgICAgICAgICAgIC8vIHRoaXMubGl2ZVN5bmNQb3NpdGlvbiA9IHRoaXMuY29tcHV0ZUxpdmVQb3NpdGlvbihzbGlkaW5nLCBjdXJEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3RGV0YWlscy5QVFNLbm93bikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBhdWRpbyBwbGF5bGlzdCBzbGlkaW5nOlwiICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2xpdmUgYXVkaW8gcGxheWxpc3QgLSBvdXRkYXRlZCBQVFMsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdsaXZlIGF1ZGlvIHBsYXlsaXN0IC0gZmlyc3QgbG9hZCwgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2suZGV0YWlscyA9IG5ld0RldGFpbHM7XG4gICAgICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb25cbiAgICAgICAgaWYgKCF0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCkge1xuICAgICAgICAgICAgLy8gY29tcHV0ZSBzdGFydCBwb3NpdGlvbiBpZiBzZXQgdG8gLTEuIHVzZSBpdCBzdHJhaWdodCBhd2F5IGlmIHZhbHVlIGlzIGRlZmluZWRcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gZmlyc3QsIGNoZWNrIGlmIHN0YXJ0IHRpbWUgb2Zmc2V0IGhhcyBiZWVuIHNldCBpbiBwbGF5bGlzdCwgaWYgeWVzLCB1c2UgdGhpcyB2YWx1ZVxuICAgICAgICAgICAgICAgIHZhciBzdGFydFRpbWVPZmZzZXQgPSBuZXdEZXRhaWxzLnN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKHN0YXJ0VGltZU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN0YXJ0IHRpbWUgb2Zmc2V0IGZvdW5kIGluIHBsYXlsaXN0LCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiB0byBcIiArIHN0YXJ0VGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkgc3dpdGNoIGJhdGNrIHRvIElETEUgc3RhdGUgaWYgd2Ugd2VyZSB3YWl0aW5nIGZvciB0cmFjayB0byBzdGFydCBkb3dubG9hZGluZyBhIG5ldyBmcmFnbWVudFxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfVFJBQ0spIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgIHRoaXMudGljaygpO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbktleUxvYWRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5LRVlfTE9BRElORykge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudCwgZnJhZ0xvYWRlZCA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5GUkFHX0xPQURJTkcgJiZcbiAgICAgICAgICAgIGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBmcmFnTG9hZGVkLnR5cGUgPT09ICdhdWRpbycgJiZcbiAgICAgICAgICAgIGZyYWdMb2FkZWQubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmXG4gICAgICAgICAgICBmcmFnTG9hZGVkLnNuID09PSBmcmFnQ3VycmVudC5zbikge1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gdGhpcy50cmFja3NbdGhpcy50cmFja0lkXSwgZGV0YWlscyA9IHRyYWNrLmRldGFpbHMsIGR1cmF0aW9uID0gZGV0YWlscy50b3RhbGR1cmF0aW9uLCB0cmFja0lkID0gZnJhZ0N1cnJlbnQubGV2ZWwsIHNuID0gZnJhZ0N1cnJlbnQuc24sIGNjID0gZnJhZ0N1cnJlbnQuY2MsIGF1ZGlvQ29kZWMgPSB0aGlzLmNvbmZpZy5kZWZhdWx0QXVkaW9Db2RlYyB8fCB0cmFjay5hdWRpb0NvZGVjIHx8ICdtcDRhLjQwLjInLCBzdGF0cyA9IHRoaXMuc3RhdHMgPSBkYXRhLnN0YXRzO1xuICAgICAgICAgICAgaWYgKHNuID09PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgPSBkYXRhLnBheWxvYWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnQ3VycmVudCwgaWQ6ICdhdWRpbycgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc7XG4gICAgICAgICAgICAgICAgLy8gdHJhbnNtdXggdGhlIE1QRUctVFMgZGF0YSB0byBJU08tQk1GRiBzZWdtZW50c1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGVtdXhlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl8xLmRlZmF1bHQodGhpcy5obHMsICdhdWRpbycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIHZpZGVvIGluaXRQVFNcbiAgICAgICAgICAgICAgICAvLyBJZiBub3Qgd2UgbmVlZCB0byB3YWl0IGZvciBpdFxuICAgICAgICAgICAgICAgIHZhciBpbml0UFRTID0gdGhpcy5pbml0UFRTW2NjXTtcbiAgICAgICAgICAgICAgICB2YXIgaW5pdFNlZ21lbnREYXRhID0gZGV0YWlscy5pbml0U2VnbWVudCA/IGRldGFpbHMuaW5pdFNlZ21lbnQuZGF0YSA6IFtdO1xuICAgICAgICAgICAgICAgIGlmIChkZXRhaWxzLmluaXRTZWdtZW50IHx8IGluaXRQVFMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiRGVtdXhpbmcgXCIgKyBzbiArIFwiIG9mIFtcIiArIGRldGFpbHMuc3RhcnRTTiArIFwiICxcIiArIGRldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGltZSBPZmZzZXQgaXMgYWNjdXJhdGUgaWYgbGV2ZWwgUFRTIGlzIGtub3duLCBvciBpZiBwbGF5bGlzdCBpcyBub3Qgc2xpZGluZyAobm90IGxpdmUpXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY2N1cmF0ZVRpbWVPZmZzZXQgPSBmYWxzZTsgLy8gZGV0YWlscy5QVFNLbm93biB8fCAhZGV0YWlscy5saXZlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIucHVzaChkYXRhLnBheWxvYWQsIGluaXRTZWdtZW50RGF0YSwgYXVkaW9Db2RlYywgbnVsbCwgZnJhZ0N1cnJlbnQsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGluaXRQVFMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInVua25vd24gdmlkZW8gUFRTIGZvciBjb250aW51aXR5IGNvdW50ZXIgXCIgKyBjYyArIFwiLCB3YWl0aW5nIGZvciB2aWRlbyBQVFMgYmVmb3JlIGRlbXV4aW5nIGF1ZGlvIGZyYWcgXCIgKyBzbiArIFwiIG9mIFtcIiArIGRldGFpbHMuc3RhcnRTTiArIFwiICxcIiArIGRldGFpbHMuZW5kU04gKyBcIl0sdHJhY2sgXCIgKyB0cmFja0lkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53YWl0aW5nRnJhZ21lbnQgPSBkYXRhO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfSU5JVF9QVFM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhZ0xvYWRFcnJvciA9IDA7XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdJbml0U2VnbWVudCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAoZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGRhdGEuaWQgPT09ICdhdWRpbycgJiZcbiAgICAgICAgICAgIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmXG4gICAgICAgICAgICBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHZhciB0cmFja3MgPSBkYXRhLnRyYWNrcywgdHJhY2sgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBkZWxldGUgYW55IHZpZGVvIHRyYWNrIGZvdW5kIG9uIGF1ZGlvIGRlbXV4ZXJcbiAgICAgICAgICAgIGlmICh0cmFja3MudmlkZW8pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdHJhY2tzLnZpZGVvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW5jbHVkZSBsZXZlbENvZGVjIGluIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3NcbiAgICAgICAgICAgIHRyYWNrID0gdHJhY2tzLmF1ZGlvO1xuICAgICAgICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgdHJhY2subGV2ZWxDb2RlYyA9IHRyYWNrLmNvZGVjO1xuICAgICAgICAgICAgICAgIHRyYWNrLmlkID0gZGF0YS5pZDtcbiAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW8gdHJhY2s6YXVkaW8sY29udGFpbmVyOlwiICsgdHJhY2suY29udGFpbmVyICsgXCIsY29kZWNzW2xldmVsL3BhcnNlZF09W1wiICsgdHJhY2subGV2ZWxDb2RlYyArIFwiL1wiICsgdHJhY2suY29kZWMgKyBcIl1cIik7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRTZWdtZW50ID0gdHJhY2suaW5pdFNlZ21lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGluaXRTZWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcHBlbmRPYmogPSB7IHR5cGU6ICdhdWRpbycsIGRhdGE6IGluaXRTZWdtZW50LCBwYXJlbnQ6ICdhdWRpbycsIGNvbnRlbnQ6ICdpbml0U2VnbWVudCcgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYXVkaW9Td2l0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbYXBwZW5kT2JqXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVORElORywgYXBwZW5kT2JqKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEF1ZGlvU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnUGFyc2luZ0RhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBkYXRhLmlkID09PSAnYXVkaW8nICYmXG4gICAgICAgICAgICBkYXRhLnR5cGUgPT09ICdhdWRpbycgJiZcbiAgICAgICAgICAgIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmXG4gICAgICAgICAgICBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHZhciB0cmFja0lkID0gdGhpcy50cmFja0lkLCB0cmFjayA9IHRoaXMudHJhY2tzW3RyYWNrSWRdLCBobHNfMSA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZGF0YS5lbmRQVFMpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS5lbmRQVFMgPSBkYXRhLnN0YXJ0UFRTICsgZnJhZ0N1cnJlbnQuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgZGF0YS5lbmREVFMgPSBkYXRhLnN0YXJ0RFRTICsgZnJhZ0N1cnJlbnQuZHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmcmFnQ3VycmVudC5hZGRFbGVtZW50YXJ5U3RyZWFtKGZyYWdtZW50XzEuZGVmYXVsdC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8pO1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInBhcnNlZCBcIiArIGRhdGEudHlwZSArIFwiLFBUUzpbXCIgKyBkYXRhLnN0YXJ0UFRTLnRvRml4ZWQoMykgKyBcIixcIiArIGRhdGEuZW5kUFRTLnRvRml4ZWQoMykgKyBcIl0sRFRTOltcIiArIGRhdGEuc3RhcnREVFMudG9GaXhlZCgzKSArIFwiL1wiICsgZGF0YS5lbmREVFMudG9GaXhlZCgzKSArIFwiXSxuYjpcIiArIGRhdGEubmIpO1xuICAgICAgICAgICAgTGV2ZWxIZWxwZXIudXBkYXRlRnJhZ1BUU0RUUyh0cmFjay5kZXRhaWxzLCBmcmFnQ3VycmVudCwgZGF0YS5zdGFydFBUUywgZGF0YS5lbmRQVFMpO1xuICAgICAgICAgICAgdmFyIGF1ZGlvU3dpdGNoID0gdGhpcy5hdWRpb1N3aXRjaCwgbWVkaWEgPSB0aGlzLm1lZGlhLCBhcHBlbmRPbkJ1ZmZlckZsdXNoID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBPbmx5IGZsdXNoIGF1ZGlvIGZyb20gb2xkIGF1ZGlvIHRyYWNrcyB3aGVuIFBUUyBpcyBrbm93biBvbiBuZXcgYXVkaW8gdHJhY2tcbiAgICAgICAgICAgIGlmIChhdWRpb1N3aXRjaCAmJiBtZWRpYSkge1xuICAgICAgICAgICAgICAgIGlmIChtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzd2l0Y2hpbmcgYXVkaW8gdHJhY2sgOiBjdXJyZW50VGltZTonICsgY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gZGF0YS5zdGFydFBUUykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dpdGNoaW5nIGF1ZGlvIHRyYWNrIDogZmx1c2hpbmcgYWxsIGF1ZGlvJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICAgICAgICAgICAgICAgICAgICAgIGhsc18xLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kT25CdWZmZXJGbHVzaCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMZXRzIGFubm91bmNlIHRoYXQgdGhlIGluaXRpYWwgYXVkaW8gdHJhY2sgc3dpdGNoIGZsdXNoIG9jY3VyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvU3dpdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExldHMgYW5ub3VuY2UgdGhhdCB0aGUgaW5pdGlhbCBhdWRpbyB0cmFjayBzd2l0Y2ggZmx1c2ggb2NjdXJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb1N3aXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHBlbmRpbmdEYXRhXzEgPSB0aGlzLnBlbmRpbmdEYXRhO1xuICAgICAgICAgICAgaWYgKCFwZW5kaW5nRGF0YV8xKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0FwcGFyZW50bHkgYXR0ZW1wdCB0byBlbnF1ZXVlIG1lZGlhIHBheWxvYWQgd2l0aG91dCBjb2RlYyBpbml0aWFsaXphdGlvbiBkYXRhIHVwZnJvbnQnKTtcbiAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsczogbnVsbCwgZmF0YWw6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmF1ZGlvU3dpdGNoKSB7XG4gICAgICAgICAgICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyICYmIGJ1ZmZlci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdEYXRhXzEucHVzaCh7IHR5cGU6IGRhdGEudHlwZSwgZGF0YTogYnVmZmVyLCBwYXJlbnQ6ICdhdWRpbycsIGNvbnRlbnQ6ICdkYXRhJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghYXBwZW5kT25CdWZmZXJGbHVzaCAmJiBwZW5kaW5nRGF0YV8xLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nRGF0YV8xLmZvckVhY2goZnVuY3Rpb24gKGFwcGVuZE9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb25seSBhcHBlbmQgaW4gUEFSU0lORyBzdGF0ZSAocmF0aW9uYWxlIGlzIHRoYXQgYW4gYXBwZW5kaW5nIGVycm9yIGNvdWxkIGhhcHBlbiBzeW5jaHJvbm91c2x5IG9uIGZpcnN0IHNlZ21lbnQgYXBwZW5kaW5nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGl0IGlzIHVzZWxlc3MgdG8gYXBwZW5kIGZvbGxvd2luZyBzZWdtZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMucGVuZGluZ0J1ZmZlcmluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nRGF0YSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBkYXRhLmlkID09PSAnYXVkaW8nICYmXG4gICAgICAgICAgICBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJlxuICAgICAgICAgICAgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiZcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTSU5HKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRzLnRwYXJzZWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyUmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBzb3VyY2VidWZmZXJzXG4gICAgICAgIHRoaXMubWVkaWFCdWZmZXIgPSB0aGlzLnZpZGVvQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckNyZWF0ZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgYXVkaW9UcmFjayA9IGRhdGEudHJhY2tzLmF1ZGlvO1xuICAgICAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgICAgICAgdGhpcy5tZWRpYUJ1ZmZlciA9IGF1ZGlvVHJhY2suYnVmZmVyO1xuICAgICAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGEudHJhY2tzLnZpZGVvKSB7XG4gICAgICAgICAgICB0aGlzLnZpZGVvQnVmZmVyID0gZGF0YS50cmFja3MudmlkZW8uYnVmZmVyO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YS5wYXJlbnQgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTSU5HIHx8IHN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYWxsIGJ1ZmZlcnMgaGF2ZSBiZWVuIGFwcGVuZGVkXG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gKGRhdGEucGVuZGluZyA+IDApO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrQXBwZW5kZWRQYXJzZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fY2hlY2tBcHBlbmRlZFBhcnNlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNFRCAmJiAoIXRoaXMuYXBwZW5kZWQgfHwgIXRoaXMucGVuZGluZ0J1ZmZlcmluZykpIHtcbiAgICAgICAgICAgIHZhciBmcmFnID0gdGhpcy5mcmFnQ3VycmVudCwgc3RhdHMgPSB0aGlzLnN0YXRzLCBobHNfMiA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IGZyYWc7XG4gICAgICAgICAgICAgICAgc3RhdHMudGJ1ZmZlcmVkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgaGxzXzIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnLCBpZDogJ2F1ZGlvJyB9KTtcbiAgICAgICAgICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImF1ZGlvIGJ1ZmZlcmVkIDogXCIgKyB0aW1lX3Jhbmdlc18xLmRlZmF1bHQudG9TdHJpbmcobWVkaWEuYnVmZmVyZWQpKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdWRpb1N3aXRjaCAmJiB0aGlzLmFwcGVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Td2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGxzXzIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSEVELCB7IGlkOiB0aGlzLnRyYWNrSWQgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBdWRpb1N0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gYXVkaW8gZnJhZ21lbnRcbiAgICAgICAgaWYgKGZyYWcgJiYgZnJhZy50eXBlICE9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIHZhciBmcmFnXzEgPSBkYXRhLmZyYWc7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gYXVkaW8gZnJhZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ18xICYmIGZyYWdfMS50eXBlICE9PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvYWRFcnJvciA9IHRoaXMuZnJhZ0xvYWRFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZEVycm9yKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkRXJyb3IgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvYWRFcnJvciA8PSBjb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gbG9hZEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwb25lbnRpYWwgYmFja29mZiBjYXBwZWQgdG8gY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsYXkgPSBNYXRoLm1pbihNYXRoLnBvdygyLCBsb2FkRXJyb3IgLSAxKSAqIGNvbmZpZy5mcmFnTG9hZGluZ1JldHJ5RGVsYXksIGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIkF1ZGlvU3RyZWFtQ29udHJvbGxlcjogZnJhZyBsb2FkaW5nIGZhaWxlZCwgcmV0cnkgaW4gXCIgKyBkZWxheSArIFwiIG1zXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXRyeURhdGUgPSBwZXJmb3JtYW5jZS5ub3coKSArIGRlbGF5O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0cnkgbG9hZGluZyBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5GUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIkF1ZGlvU3RyZWFtQ29udHJvbGxlcjogXCIgKyBkYXRhLmRldGFpbHMgKyBcIiByZWFjaGVzIG1heCByZXRyeSwgcmVkaXNwYXRjaCBhcyBmYXRhbCAuLi5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggZXJyb3IgdG8gZmF0YWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuZmF0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FUlJPUjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkFVRElPX1RSQUNLX0xPQURfRVJST1I6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLktFWV9MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICAgICAgLy8gIHdoZW4gaW4gRVJST1Igc3RhdGUsIGRvbid0IHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUgaW4gY2FzZSBhIG5vbi1mYXRhbCBlcnJvciBpcyByZWNlaXZlZFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZmF0YWwgZXJyb3IsIHN0b3AgcHJvY2Vzc2luZywgb3RoZXJ3aXNlIG1vdmUgdG8gSURMRSB0byByZXRyeSBsb2FkaW5nXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBkYXRhLmZhdGFsID8gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVSUk9SIDogYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiQXVkaW9TdHJlYW1Db250cm9sbGVyOiBcIiArIGRhdGEuZGV0YWlscyArIFwiIHdoaWxlIGxvYWRpbmcgZnJhZywgbm93IHN3aXRjaGluZyB0byBcIiArIHRoaXMuc3RhdGUgKyBcIiBzdGF0ZSAuLi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX0ZVTExfRVJST1I6XG4gICAgICAgICAgICAgICAgLy8gaWYgaW4gYXBwZW5kaW5nIHN0YXRlXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEucGFyZW50ID09PSAnYXVkaW8nICYmICh0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyLCBjdXJyZW50VGltZSA9IHRoaXMubWVkaWEuY3VycmVudFRpbWUsIG1lZGlhQnVmZmVyZWQgPSBtZWRpYSAmJiBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIGN1cnJlbnRUaW1lKSAmJiBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIGN1cnJlbnRUaW1lICsgMC41KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVkdWNlIG1heCBidWYgbGVuIGlmIGN1cnJlbnQgcG9zaXRpb24gaXMgYnVmZmVyZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lZGlhQnVmZmVyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoID49IGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgbWF4IGJ1ZmZlciBsZW5ndGggYXMgaXQgbWlnaHQgYmUgdG9vIGhpZ2guIHdlIGRvIHRoaXMgdG8gYXZvaWQgbG9vcCBmbHVzaGluZyAuLi5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoIC89IDI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJBdWRpb1N0cmVhbUNvbnRyb2xsZXI6IHJlZHVjZSBtYXggYnVmZmVyIGxlbmd0aCB0byBcIiArIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGggKyBcInNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCwgYnV0IGJyb3dzZXIgaXMgc3RpbGwgY29tcGxhaW5pbmcgYWJvdXQgYnVmZmVyIGZ1bGwgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFwcGVucyBvbiBJRS9FZGdlLCByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzcwOFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGZsdXNoIHRoZSB3aG9sZSBhdWRpbyBidWZmZXIgdG8gcmVjb3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0F1ZGlvU3RyZWFtQ29udHJvbGxlcjogYnVmZmVyIGZ1bGwgZXJyb3IgYWxzbyBtZWRpYS5jdXJyZW50VGltZSBpcyBub3QgYnVmZmVyZWQsIGZsdXNoIGF1ZGlvIGJ1ZmZlcicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmbHVzaCBldmVyeXRoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkJVRkZFUl9GTFVTSElORztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRkxVU0hJTkcsIHsgc3RhcnRPZmZzZXQ6IDAsIGVuZE9mZnNldDogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0eXBlOiAnYXVkaW8nIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXVkaW9TdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwZW5kaW5nRGF0YSA9IHRoaXMucGVuZGluZ0RhdGE7XG4gICAgICAgIGlmIChwZW5kaW5nRGF0YSAmJiBwZW5kaW5nRGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ0F1ZGlvU3RyZWFtQ29udHJvbGxlcjogYXBwZW5kaW5nIHBlbmRpbmcgYXVkaW8gZGF0YSBhZnRlciBidWZmZXIgZmx1c2hlZCcpO1xuICAgICAgICAgICAgcGVuZGluZ0RhdGEuZm9yRWFjaChmdW5jdGlvbiAoYXBwZW5kT2JqKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQVBQRU5ESU5HLCBhcHBlbmRPYmopO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0RhdGEgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gbW92ZSB0byBJRExFIG9uY2UgZmx1c2ggY29tcGxldGUuIHRoaXMgc2hvdWxkIHRyaWdnZXIgbmV3IGZyYWdtZW50IGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBmcmFnXG4gICAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcbn0oYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEF1ZGlvU3RyZWFtQ29udHJvbGxlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9hdWRpby10cmFjay1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2F1ZGlvLXRyYWNrLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciB0YXNrX2xvb3BfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3Rhc2stbG9vcCAqLyBcIi4vc3JjL3Rhc2stbG9vcC5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbi8qKlxuICogQGNsYXNzIEF1ZGlvVHJhY2tDb250cm9sbGVyXG4gKiBAaW1wbGVtZW50cyB7RXZlbnRIYW5kbGVyfVxuICpcbiAqIEhhbmRsZXMgbWFpbiBtYW5pZmVzdCBhbmQgYXVkaW8tdHJhY2sgbWV0YWRhdGEgbG9hZGVkLFxuICogb3ducyBhbmQgZXhwb3NlcyB0aGUgc2VsZWN0YWJsZSBhdWRpby10cmFja3MgZGF0YS1tb2RlbHMuXG4gKlxuICogRXhwb3NlcyBpbnRlcm5hbCBpbnRlcmZhY2UgdG8gc2VsZWN0IGF2YWlsYWJsZSBhdWRpby10cmFja3MuXG4gKlxuICogSGFuZGxlcyBlcnJvcnMgb24gbG9hZGluZyBhdWRpby10cmFjayBwbGF5bGlzdHMuIE1hbmFnZXMgZmFsbGJhY2sgbWVjaGFuaXNtXG4gKiB3aXRoIHJlZHVuZGFudHMgdHJhY2tzIChncm91cC1JRHMpLlxuICpcbiAqIEhhbmRsZXMgbGV2ZWwtbG9hZGluZyBhbmQgZ3JvdXAtSUQgc3dpdGNoZXMgZm9yIHZpZGVvIChmYWxsYmFjayBvbiB2aWRlbyBsZXZlbHMpLFxuICogYW5kIGV2ZW50dWFsbHkgYWRhcHRzIHRoZSBhdWRpby10cmFjayBncm91cC1JRCB0byBtYXRjaC5cbiAqXG4gKiBAZmlyZXMgQVVESU9fVFJBQ0tfTE9BRElOR1xuICogQGZpcmVzIEFVRElPX1RSQUNLX1NXSVRDSElOR1xuICogQGZpcmVzIEFVRElPX1RSQUNLU19VUERBVEVEXG4gKiBAZmlyZXMgRVJST1JcbiAqXG4gKi9cbnZhciBBdWRpb1RyYWNrQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQXVkaW9UcmFja0NvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXVkaW9UcmFja0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX1BBUlNFRCwgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIGV2ZW50c18xLmRlZmF1bHQuTEVWRUxfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SKSB8fCB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHByaXZhdGVcbiAgICAgICAgICogQ3VycmVudGx5IHNlbGVjdGVkIGluZGV4IGluIGB0cmFja3NgXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcn0gdHJhY2tJZFxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMuX3RyYWNrSWQgPSAtMTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwcml2YXRlXG4gICAgICAgICAqIElmIHNob3VsZCBzZWxlY3QgdHJhY2tzIGFjY29yZGluZyB0byBkZWZhdWx0IHRyYWNrIGF0dHJpYnV0ZVxuICAgICAgICAgKiBAbWVtYmVyIHtib29sZWFufSBfc2VsZWN0RGVmYXVsdFRyYWNrXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5fc2VsZWN0RGVmYXVsdFRyYWNrID0gdHJ1ZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwdWJsaWNcbiAgICAgICAgICogQWxsIHRyYWNrcyBhdmFpbGFibGVcbiAgICAgICAgICogQG1lbWJlciB7QXVkaW9UcmFja1tdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2tzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIExpc3Qgb2YgYmxhY2tsaXN0ZWQgYXVkaW8gdHJhY2sgSURzICh0aGF0IGhhdmUgY2F1c2VkIGZhaWx1cmUpXG4gICAgICAgICAqIEBtZW1iZXIge251bWJlcltdfVxuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMudHJhY2tJZEJsYWNrbGlzdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcHVibGljXG4gICAgICAgICAqIFRoZSBjdXJyZW50bHkgcnVubmluZyBncm91cCBJRCBmb3IgYXVkaW9cbiAgICAgICAgICogKHdlIGdyYWIgdGhpcyBvbiBtYW5pZmVzdC1wYXJzZWQgYW5kIG5ldyBsZXZlbC1sb2FkZWQpXG4gICAgICAgICAqIEBtZW1iZXIge3N0cmluZ31cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmF1ZGlvR3JvdXBJZCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXQgYXVkaW8gdHJhY2tzIG9uIG5ldyBtYW5pZmVzdCBsb2FkaW5nLlxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy50cmFja3MgPSBbXTtcbiAgICAgICAgdGhpcy5fdHJhY2tJZCA9IC0xO1xuICAgICAgICB0aGlzLl9zZWxlY3REZWZhdWx0VHJhY2sgPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcmUgdHJhY2tzIGRhdGEgZnJvbSBtYW5pZmVzdCBwYXJzZWQgZGF0YS5cbiAgICAgKlxuICAgICAqIFRyaWdnZXIgQVVESU9fVFJBQ0tTX1VQREFURUQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdFBhcnNlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciB0cmFja3MgPSB0aGlzLnRyYWNrcyA9IGRhdGEuYXVkaW9UcmFja3MgfHwgW107XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS1NfVVBEQVRFRCwgeyBhdWRpb1RyYWNrczogdHJhY2tzIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU3RvcmUgdHJhY2sgZGV0YWlscyBvZiBsb2FkZWQgdHJhY2sgaW4gb3VyIGRhdGEtbW9kZWwuXG4gICAgICpcbiAgICAgKiBTZXQtdXAgbWV0YWRhdGEgdXBkYXRlIGludGVydmFsIHRhc2sgZm9yIGxpdmUtbW9kZSBzdHJlYW1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHt9IGRhdGFcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25BdWRpb1RyYWNrTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuaWQgPj0gdGhpcy50cmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignSW52YWxpZCBhdWRpbyB0cmFjayBpZDonLCBkYXRhLmlkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW9UcmFjayBcIiArIGRhdGEuaWQgKyBcIiBsb2FkZWRcIik7XG4gICAgICAgIHRoaXMudHJhY2tzW2RhdGEuaWRdLmRldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgICAgIC8vIGNoZWNrIGlmIGN1cnJlbnQgcGxheWxpc3QgaXMgYSBsaXZlIHBsYXlsaXN0XG4gICAgICAgIC8vIGFuZCBpZiB3ZSBoYXZlIGFscmVhZHkgb3VyIHJlbG9hZCBpbnRlcnZhbCBzZXR1cFxuICAgICAgICBpZiAoZGF0YS5kZXRhaWxzLmxpdmUgJiYgIXRoaXMuaGFzSW50ZXJ2YWwoKSkge1xuICAgICAgICAgICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCB3ZSB3aWxsIGhhdmUgdG8gcmVsb2FkIGl0IHBlcmlvZGljYWxseVxuICAgICAgICAgICAgLy8gc2V0IHJlbG9hZCBwZXJpb2QgdG8gcGxheWxpc3QgdGFyZ2V0IGR1cmF0aW9uXG4gICAgICAgICAgICB2YXIgdXBkYXRlUGVyaW9kTXMgPSBkYXRhLmRldGFpbHMudGFyZ2V0ZHVyYXRpb24gKiAxMDAwO1xuICAgICAgICAgICAgdGhpcy5zZXRJbnRlcnZhbCh1cGRhdGVQZXJpb2RNcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmRldGFpbHMubGl2ZSAmJiB0aGlzLmhhc0ludGVydmFsKCkpIHtcbiAgICAgICAgICAgIC8vIHBsYXlsaXN0IGlzIG5vdCBsaXZlIGFuZCB0aW1lciBpcyBzY2hlZHVsZWQ6IGNhbmNlbCBpdFxuICAgICAgICAgICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgaW50ZXJuYWwgZ3JvdXAgSUQgdG8gYW55IGF1ZGlvLXRyYWNrIHdlIG1heSBoYXZlIHNldCBtYW51YWxseVxuICAgICAqIG9yIGJlY2F1c2Ugb2YgYSBmYWlsdXJlLWhhbmRsaW5nIGZhbGxiYWNrLlxuICAgICAqXG4gICAgICogUXVhbGl0eS1sZXZlbHMgc2hvdWxkIHVwZGF0ZSB0byB0aGF0IGdyb3VwIElEIGluIHRoaXMgY2FzZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBhdWRpb0dyb3VwSWQgPSB0aGlzLnRyYWNrc1tkYXRhLmlkXS5ncm91cElkO1xuICAgICAgICBpZiAoYXVkaW9Hcm91cElkICYmICh0aGlzLmF1ZGlvR3JvdXBJZCAhPT0gYXVkaW9Hcm91cElkKSkge1xuICAgICAgICAgICAgdGhpcy5hdWRpb0dyb3VwSWQgPSBhdWRpb0dyb3VwSWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFdoZW4gYSBsZXZlbCBnZXRzIGxvYWRlZCwgaWYgaXQgaGFzIHJlZHVuZGFudCBhdWRpb0dyb3VwSWRzIChpbiB0aGUgc2FtZSBvcmRpbmFsaXR5IGFzIGl0J3MgcmVkdW5kYW50IFVSTHMpXG4gICAgICogd2UgYXJlIHNldHRpbmcgb3VyIGF1ZGlvLWdyb3VwIElEIGludGVybmFsbHkgdG8gdGhlIG9uZSBzZXQsIGlmIGl0IGlzIGRpZmZlcmVudCBmcm9tIHRoZSBncm91cCBJRCBjdXJyZW50bHkgc2V0LlxuICAgICAqXG4gICAgICogSWYgZ3JvdXAtSUQgZ290IHVwZGF0ZSwgd2UgcmUtc2VsZWN0IHRoZSBhcHByb3ByaWF0ZSBhdWRpby10cmFjayB3aXRoIHRoaXMgZ3JvdXAtSUQgbWF0Y2hpbmcgdGhlIGN1cnJlbnRseVxuICAgICAqIHNlbGVjdGVkIG9uZSAoYmFzZWQgb24gTkFNRSBwcm9wZXJ0eSkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0geyp9IGRhdGFcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIC8vIEZJWE1FOiBjcmFzaGVzIGJlY2F1c2UgY3VycmVudExldmVsIGlzIHVuZGVmaW5lZFxuICAgICAgICAvLyBjb25zdCBsZXZlbEluZm8gPSB0aGlzLmhscy5sZXZlbHNbdGhpcy5obHMuY3VycmVudExldmVsXTtcbiAgICAgICAgdmFyIGxldmVsSW5mbyA9IHRoaXMuaGxzLmxldmVsc1tkYXRhLmxldmVsXTtcbiAgICAgICAgaWYgKCFsZXZlbEluZm8uYXVkaW9Hcm91cElkcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhdWRpb0dyb3VwSWQgPSBsZXZlbEluZm8uYXVkaW9Hcm91cElkc1tsZXZlbEluZm8udXJsSWRdO1xuICAgICAgICBpZiAodGhpcy5hdWRpb0dyb3VwSWQgIT09IGF1ZGlvR3JvdXBJZCkge1xuICAgICAgICAgICAgdGhpcy5hdWRpb0dyb3VwSWQgPSBhdWRpb0dyb3VwSWQ7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3RJbml0aWFsQXVkaW9UcmFjaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBIYW5kbGUgbmV0d29yayBlcnJvcnMgbG9hZGluZyBhdWRpbyB0cmFjayBtYW5pZmVzdHNcbiAgICAgKiBhbmQgYWxzbyBwYXVzaW5nIG9uIGFueSBuZXR3b2sgZXJyb3JzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtFcnJvckV2ZW50RGF0YX0gZGF0YVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gT25seSBoYW5kbGUgbmV0d29yayBlcnJvcnNcbiAgICAgICAgaWYgKGRhdGEudHlwZSAhPT0gZXJyb3JzXzEuRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgZmF0YWwgbmV0d29yayBlcnJvciwgY2FuY2VsIHVwZGF0ZSB0YXNrXG4gICAgICAgIGlmIChkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBub3QgYW4gYXVkaW8tdHJhY2sgbG9hZGluZyBlcnJvciBkb24ndCBoYW5kbGUgZnVydGhlclxuICAgICAgICBpZiAoZGF0YS5kZXRhaWxzICE9PSBlcnJvcnNfMS5FcnJvckRldGFpbHMuQVVESU9fVFJBQ0tfTE9BRF9FUlJPUikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdOZXR3b3JrIGZhaWx1cmUgb24gYXVkaW8tdHJhY2sgaWQ6JywgZGF0YS5jb250ZXh0LmlkKTtcbiAgICAgICAgdGhpcy5faGFuZGxlTG9hZEVycm9yKCk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLCBcImF1ZGlvVHJhY2tzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBdWRpb1RyYWNrW119IEF1ZGlvLXRyYWNrIGxpc3Qgd2Ugb3duXG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYWNrcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZSwgXCJhdWRpb1RyYWNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IEluZGV4IGludG8gYXVkaW8tdHJhY2tzIGxpc3Qgb2YgY3VycmVudGx5IHNlbGVjdGVkIHRyYWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJhY2tJZDtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdCBjdXJyZW50IHRyYWNrIGJ5IGluZGV4XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdJZCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0QXVkaW9UcmFjayhuZXdJZCk7XG4gICAgICAgICAgICAvLyBJZiBhdWRpbyB0cmFjayBpcyBzZWxlY3RlZCBmcm9tIEFQSSB0aGVuIGRvbid0IGNob29zZSBmcm9tIHRoZSBtYW5pZmVzdCBkZWZhdWx0IHRyYWNrXG4gICAgICAgICAgICB0aGlzLl9zZWxlY3REZWZhdWx0VHJhY2sgPSBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbmV3SWRcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX3NldEF1ZGlvVHJhY2sgPSBmdW5jdGlvbiAobmV3SWQpIHtcbiAgICAgICAgLy8gbm9vcCBvbiBzYW1lIGF1ZGlvIHRyYWNrIGlkIGFzIGFscmVhZHkgc2V0XG4gICAgICAgIGlmICh0aGlzLl90cmFja0lkID09PSBuZXdJZCAmJiB0aGlzLnRyYWNrc1t0aGlzLl90cmFja0lkXS5kZXRhaWxzKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZGVidWcoJ1NhbWUgaWQgYXMgY3VycmVudCBhdWRpby10cmFjayBwYXNzZWQsIGFuZCB0cmFjayBkZXRhaWxzIGF2YWlsYWJsZSAtPiBuby1vcCcpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgICAgICBpZiAobmV3SWQgPCAwIHx8IG5ld0lkID49IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0ludmFsaWQgaWQgcGFzc2VkIHRvIGF1ZGlvLXRyYWNrIGNvbnRyb2xsZXInKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXVkaW9UcmFjayA9IHRoaXMudHJhY2tzW25ld0lkXTtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk5vdyBzd2l0Y2hpbmcgdG8gYXVkaW8tdHJhY2sgaW5kZXggXCIgKyBuZXdJZCk7XG4gICAgICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5fdHJhY2tJZCA9IG5ld0lkO1xuICAgICAgICB2YXIgdXJsID0gYXVkaW9UcmFjay51cmwsIHR5cGUgPSBhdWRpb1RyYWNrLnR5cGUsIGlkID0gYXVkaW9UcmFjay5pZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSElORywgeyBpZDogaWQsIHR5cGU6IHR5cGUsIHVybDogdXJsIH0pO1xuICAgICAgICB0aGlzLl9sb2FkVHJhY2tEZXRhaWxzSWZOZWVkZWQoYXVkaW9UcmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl91cGRhdGVUcmFjayh0aGlzLl90cmFja0lkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlbGVjdCBpbml0aWFsIHRyYWNrXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBBdWRpb1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX3NlbGVjdEluaXRpYWxBdWRpb1RyYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3M7XG4gICAgICAgIGlmICghdHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjdXJyZW50QXVkaW9UcmFjayA9IHRoaXMudHJhY2tzW3RoaXMuX3RyYWNrSWRdO1xuICAgICAgICB2YXIgbmFtZSA9IG51bGw7XG4gICAgICAgIGlmIChjdXJyZW50QXVkaW9UcmFjaykge1xuICAgICAgICAgICAgbmFtZSA9IGN1cnJlbnRBdWRpb1RyYWNrLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUHJlLXNlbGVjdCBkZWZhdWx0IHRyYWNrcyBpZiB0aGVyZSBhcmUgYW55XG4gICAgICAgIGlmICh0aGlzLl9zZWxlY3REZWZhdWx0VHJhY2spIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VHJhY2tzID0gdHJhY2tzLmZpbHRlcihmdW5jdGlvbiAodHJhY2spIHsgcmV0dXJuIHRyYWNrLmRlZmF1bHQ7IH0pO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRUcmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tzID0gZGVmYXVsdFRyYWNrcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdObyBkZWZhdWx0IGF1ZGlvIHRyYWNrcyBkZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyYWNrRm91bmQgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRyYXZlcnNlVHJhY2tzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gU2VsZWN0IHRyYWNrIHdpdGggcmlnaHQgZ3JvdXAgSURcbiAgICAgICAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgICAgIGlmICh0cmFja0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBtYXRjaCB0aGUgKHByZS0pc2VsZWN0ZWQgZ3JvdXAgSURcbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhlIE5BTUUgb2YgdGhlIGN1cnJlbnQgdHJhY2suXG4gICAgICAgICAgICAgICAgaWYgKCghX3RoaXMuYXVkaW9Hcm91cElkIHx8IHRyYWNrLmdyb3VwSWQgPT09IF90aGlzLmF1ZGlvR3JvdXBJZCkgJiZcbiAgICAgICAgICAgICAgICAgICAgKCFuYW1lIHx8IG5hbWUgPT09IHRyYWNrLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIHdhcyBhIHByZXZpb3VzIHRyYWNrIHRyeSB0byBzdGF5IHdpdGggdGhlIHNhbWUgYE5BTUVgLlxuICAgICAgICAgICAgICAgICAgICAvLyBJdCBzaG91bGQgYmUgdW5pcXVlIGFjcm9zcyB0cmFja3Mgb2Ygc2FtZSBncm91cCwgYW5kIGNvbnNpc3RlbnQgdGhyb3VnaCByZWR1bmRhbnQgdHJhY2sgZ3JvdXBzLlxuICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc2V0QXVkaW9UcmFjayh0cmFjay5pZCk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0cmF2ZXJzZVRyYWNrcygpO1xuICAgICAgICBpZiAoIXRyYWNrRm91bmQpIHtcbiAgICAgICAgICAgIG5hbWUgPSBudWxsO1xuICAgICAgICAgICAgdHJhdmVyc2VUcmFja3MoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRyYWNrRm91bmQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIk5vIHRyYWNrIGZvdW5kIGZvciBydW5uaW5nIGF1ZGlvIGdyb3VwLUlEOiBcIiArIHRoaXMuYXVkaW9Hcm91cElkKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkFVRElPX1RSQUNLX0xPQURfRVJST1IsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXVkaW9UcmFja30gYXVkaW9UcmFja1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fbmVlZHNUcmFja0xvYWRpbmcgPSBmdW5jdGlvbiAoYXVkaW9UcmFjaykge1xuICAgICAgICB2YXIgZGV0YWlscyA9IGF1ZGlvVHJhY2suZGV0YWlscywgdXJsID0gYXVkaW9UcmFjay51cmw7XG4gICAgICAgIGlmICghZGV0YWlscyB8fCBkZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIGZhY2UgYW4gYXVkaW8gdHJhY2sgZW1iZWRkZWQgaW4gbWFpbiBwbGF5bGlzdCAoYXVkaW8gdHJhY2sgd2l0aG91dCBVUkkgYXR0cmlidXRlKVxuICAgICAgICAgICAgcmV0dXJuICEhdXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBdWRpb1RyYWNrfSBhdWRpb1RyYWNrXG4gICAgICovXG4gICAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl9sb2FkVHJhY2tEZXRhaWxzSWZOZWVkZWQgPSBmdW5jdGlvbiAoYXVkaW9UcmFjaykge1xuICAgICAgICBpZiAodGhpcy5fbmVlZHNUcmFja0xvYWRpbmcoYXVkaW9UcmFjaykpIHtcbiAgICAgICAgICAgIHZhciB1cmwgPSBhdWRpb1RyYWNrLnVybCwgaWQgPSBhdWRpb1RyYWNrLmlkO1xuICAgICAgICAgICAgLy8gdHJhY2sgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxvYWRpbmcgYXVkaW8tdHJhY2sgcGxheWxpc3QgZm9yIGlkOiBcIiArIGlkKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19MT0FESU5HLCB7IHVybDogdXJsLCBpZDogaWQgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG5ld0lkXG4gICAgICovXG4gICAgQXVkaW9UcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl91cGRhdGVUcmFjayA9IGZ1bmN0aW9uIChuZXdJZCkge1xuICAgICAgICAvLyBjaGVjayBpZiBsZXZlbCBpZHggaXMgdmFsaWRcbiAgICAgICAgaWYgKG5ld0lkIDwgMCB8fCBuZXdJZCA+PSB0aGlzLnRyYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgICAgdGhpcy5jbGVhckludGVydmFsKCk7XG4gICAgICAgIHRoaXMuX3RyYWNrSWQgPSBuZXdJZDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInRyeWluZyB0byB1cGRhdGUgYXVkaW8tdHJhY2sgXCIgKyBuZXdJZCk7XG4gICAgICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3NbbmV3SWRdO1xuICAgICAgICB0aGlzLl9sb2FkVHJhY2tEZXRhaWxzSWZOZWVkZWQoYXVkaW9UcmFjayk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEF1ZGlvVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5faGFuZGxlTG9hZEVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBGaXJzdCwgbGV0J3MgYmxhY2sgbGlzdCBjdXJyZW50IHRyYWNrIGlkXG4gICAgICAgIHRoaXMudHJhY2tJZEJsYWNrbGlzdFt0aGlzLl90cmFja0lkXSA9IHRydWU7XG4gICAgICAgIC8vIExldCdzIHRyeSB0byBmYWxsIGJhY2sgb24gYSBmdW5jdGlvbmFsIGF1ZGlvLXRyYWNrIHdpdGggdGhlIHNhbWUgZ3JvdXAgSURcbiAgICAgICAgdmFyIHByZXZpb3VzSWQgPSB0aGlzLl90cmFja0lkO1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnRyYWNrc1twcmV2aW91c0lkXSwgbmFtZSA9IF9hLm5hbWUsIGxhbmd1YWdlID0gX2EubGFuZ3VhZ2UsIGdyb3VwSWQgPSBfYS5ncm91cElkO1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIkxvYWRpbmcgZmFpbGVkIG9uIGF1ZGlvIHRyYWNrIGlkOiBcIiArIHByZXZpb3VzSWQgKyBcIiwgZ3JvdXAtaWQ6IFwiICsgZ3JvdXBJZCArIFwiLCBuYW1lL2xhbmd1YWdlOiBcXFwiXCIgKyBuYW1lICsgXCJcXFwiIC8gXFxcIlwiICsgbGFuZ3VhZ2UgKyBcIlxcXCJcIik7XG4gICAgICAgIC8vIEZpbmQgYSBub24tYmxhY2tsaXN0ZWQgdHJhY2sgSUQgd2l0aCB0aGUgc2FtZSBOQU1FXG4gICAgICAgIC8vIEF0IGxlYXN0IGEgdHJhY2sgdGhhdCBpcyBub3QgYmxhY2tsaXN0ZWQsIHRodXMgb24gYW5vdGhlciBncm91cC1JRC5cbiAgICAgICAgdmFyIG5ld0lkID0gcHJldmlvdXNJZDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYWNrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tJZEJsYWNrbGlzdFtpXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5ld1RyYWNrID0gdGhpcy50cmFja3NbaV07XG4gICAgICAgICAgICBpZiAobmV3VHJhY2submFtZSA9PT0gbmFtZSkge1xuICAgICAgICAgICAgICAgIG5ld0lkID0gaTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3SWQgPT09IHByZXZpb3VzSWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiTm8gZmFsbGJhY2sgYXVkaW8tdHJhY2sgZm91bmQgZm9yIG5hbWUvbGFuZ3VhZ2U6IFxcXCJcIiArIG5hbWUgKyBcIlxcXCIgLyBcXFwiXCIgKyBsYW5ndWFnZSArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdBdHRlbXB0aW5nIGF1ZGlvLXRyYWNrIGZhbGxiYWNrIGlkOicsIG5ld0lkLCAnZ3JvdXAtaWQ6JywgdGhpcy50cmFja3NbbmV3SWRdLmdyb3VwSWQpO1xuICAgICAgICB0aGlzLl9zZXRBdWRpb1RyYWNrKG5ld0lkKTtcbiAgICB9O1xuICAgIHJldHVybiBBdWRpb1RyYWNrQ29udHJvbGxlcjtcbn0odGFza19sb29wXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQXVkaW9UcmFja0NvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9iYXNlLXN0cmVhbS1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2Jhc2Utc3RyZWFtLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKE51bWJlcikge1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdGFza19sb29wXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi90YXNrLWxvb3AgKi8gXCIuL3NyYy90YXNrLWxvb3AuanNcIik7XG52YXIgZnJhZ21lbnRfdHJhY2tlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mcmFnbWVudC10cmFja2VyICovIFwiLi9zcmMvY29udHJvbGxlci9mcmFnbWVudC10cmFja2VyLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZXhwb3J0cy5TdGF0ZSA9IHtcbiAgICBTVE9QUEVEOiAnU1RPUFBFRCcsXG4gICAgU1RBUlRJTkc6ICdTVEFSVElORycsXG4gICAgSURMRTogJ0lETEUnLFxuICAgIFBBVVNFRDogJ1BBVVNFRCcsXG4gICAgS0VZX0xPQURJTkc6ICdLRVlfTE9BRElORycsXG4gICAgRlJBR19MT0FESU5HOiAnRlJBR19MT0FESU5HJyxcbiAgICBGUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTogJ0ZSQUdfTE9BRElOR19XQUlUSU5HX1JFVFJZJyxcbiAgICBXQUlUSU5HX1RSQUNLOiAnV0FJVElOR19UUkFDSycsXG4gICAgUEFSU0lORzogJ1BBUlNJTkcnLFxuICAgIFBBUlNFRDogJ1BBUlNFRCcsXG4gICAgQlVGRkVSX0ZMVVNISU5HOiAnQlVGRkVSX0ZMVVNISU5HJyxcbiAgICBFTkRFRDogJ0VOREVEJyxcbiAgICBFUlJPUjogJ0VSUk9SJyxcbiAgICBXQUlUSU5HX0lOSVRfUFRTOiAnV0FJVElOR19JTklUX1BUUycsXG4gICAgV0FJVElOR19MRVZFTDogJ1dBSVRJTkdfTEVWRUwnXG59O1xudmFyIEJhc2VTdHJlYW1Db250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhCYXNlU3RyZWFtQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCYXNlU3RyZWFtQ29udHJvbGxlcigpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBCYXNlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZG9UaWNrID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEJhc2VTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fc3RyZWFtRW5kZWQgPSBmdW5jdGlvbiAoYnVmZmVySW5mbywgbGV2ZWxEZXRhaWxzKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGZyYWdDdXJyZW50ID0gX2EuZnJhZ0N1cnJlbnQsIGZyYWdtZW50VHJhY2tlciA9IF9hLmZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgLy8gd2UganVzdCBnb3QgZG9uZSBsb2FkaW5nIHRoZSBmaW5hbCBmcmFnbWVudCBhbmQgdGhlcmUgaXMgbm8gb3RoZXIgYnVmZmVyZWQgcmFuZ2UgYWZ0ZXIgLi4uXG4gICAgICAgIC8vIHJhdGlvbmFsZSBpcyB0aGF0IGluIGNhc2UgdGhlcmUgYXJlIGFueSBidWZmZXJlZCByYW5nZXMgYWZ0ZXIsIGl0IG1lYW5zIHRoYXQgdGhlcmUgYXJlIHVuYnVmZmVyZWQgcG9ydGlvbiBpbiBiZXR3ZWVuXG4gICAgICAgIC8vIHNvIHdlIHNob3VsZCBub3Qgc3dpdGNoIHRvIEVOREVEIGluIHRoYXQgY2FzZSwgdG8gYmUgYWJsZSB0byBidWZmZXIgdGhlbVxuICAgICAgICAvLyBkb250IHN3aXRjaCB0byBFTkRFRCBpZiB3ZSBuZWVkIHRvIGJhY2t0cmFjayBsYXN0IGZyYWdtZW50XG4gICAgICAgIGlmICghbGV2ZWxEZXRhaWxzLmxpdmUgJiYgZnJhZ0N1cnJlbnQgJiYgIWZyYWdDdXJyZW50LmJhY2t0cmFja2VkICYmIGZyYWdDdXJyZW50LnNuID09PSBsZXZlbERldGFpbHMuZW5kU04gJiYgIWJ1ZmZlckluZm8ubmV4dFN0YXJ0KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ1N0YXRlID0gZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKGZyYWdDdXJyZW50KTtcbiAgICAgICAgICAgIHJldHVybiBmcmFnU3RhdGUgPT09IGZyYWdtZW50X3RyYWNrZXJfMS5GcmFnbWVudFN0YXRlLlBBUlRJQUwgfHwgZnJhZ1N0YXRlID09PSBmcmFnbWVudF90cmFja2VyXzEuRnJhZ21lbnRTdGF0ZS5PSztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBCYXNlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYVNlZWtpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGNvbmZpZyA9IF9hLmNvbmZpZywgbWVkaWEgPSBfYS5tZWRpYSwgbWVkaWFCdWZmZXIgPSBfYS5tZWRpYUJ1ZmZlciwgc3RhdGUgPSBfYS5zdGF0ZTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEgPyBtZWRpYS5jdXJyZW50VGltZSA6IG51bGw7XG4gICAgICAgIHZhciBidWZmZXJJbmZvID0gYnVmZmVyX2hlbHBlcl8xLkJ1ZmZlckhlbHBlci5idWZmZXJJbmZvKG1lZGlhQnVmZmVyIHx8IG1lZGlhLCBjdXJyZW50VGltZSwgdGhpcy5jb25maWcubWF4QnVmZmVySG9sZSk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoY3VycmVudFRpbWUpKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibWVkaWEgc2Vla2luZyB0byBcIiArIGN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZSA9PT0gZXhwb3J0cy5TdGF0ZS5GUkFHX0xPQURJTkcpIHtcbiAgICAgICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgc2Vla2luZyB0byBhIHVuYnVmZmVyZWQgYXJlYSBBTkQgaWYgZnJhZyBsb2FkaW5nIGlzIGluIHByb2dyZXNzXG4gICAgICAgICAgICBpZiAoYnVmZmVySW5mby5sZW4gPT09IDAgJiYgZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICAgICAgICAgICAgdmFyIGZyYWdTdGFydE9mZnNldCA9IGZyYWdDdXJyZW50LnN0YXJ0IC0gdG9sZXJhbmNlO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnRW5kT2Zmc2V0ID0gZnJhZ0N1cnJlbnQuc3RhcnQgKyBmcmFnQ3VycmVudC5kdXJhdGlvbiArIHRvbGVyYW5jZTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBzZWVrIHBvc2l0aW9uIHdpbGwgYmUgb3V0IG9mIGN1cnJlbnRseSBsb2FkZWQgZnJhZyByYW5nZSA6IGlmIG91dCBjYW5jZWwgZnJhZyBsb2FkLCBpZiBpbiwgZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPCBmcmFnU3RhcnRPZmZzZXQgfHwgY3VycmVudFRpbWUgPiBmcmFnRW5kT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3NlZWtpbmcgb3V0c2lkZSBvZiBidWZmZXIgd2hpbGUgZnJhZ21lbnQgbG9hZCBpbiBwcm9ncmVzcywgY2FuY2VsIGZyYWdtZW50IGxvYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdQcmV2aW91cyA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIC8vIHN3aXRjaCB0byBJRExFIHN0YXRlIHRvIGxvYWQgbmV3IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBleHBvcnRzLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzZWVraW5nIG91dHNpZGUgb2YgYnVmZmVyIGJ1dCB3aXRoaW4gY3VycmVudGx5IGxvYWRlZCBmcmFnbWVudCByYW5nZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdGF0ZSA9PT0gZXhwb3J0cy5TdGF0ZS5FTkRFRCkge1xuICAgICAgICAgICAgLy8gaWYgc2Vla2luZyB0byB1bmJ1ZmZlcmVkIGFyZWEsIGNsZWFuIHVwIGZyYWdQcmV2aW91c1xuICAgICAgICAgICAgaWYgKGJ1ZmZlckluZm8ubGVuID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gY2hlY2sgZm9yIHBvdGVudGlhbCBuZXcgZnJhZ21lbnRcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBleHBvcnRzLlN0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluIGNhc2Ugc2Vla2luZyBvY2N1cnMgYWx0aG91Z2ggbm8gbWVkaWEgYnVmZmVyZWQsIGFkanVzdCBzdGFydFBvc2l0aW9uIGFuZCBuZXh0TG9hZFBvc2l0aW9uIHRvIHNlZWsgdGFyZ2V0XG4gICAgICAgIGlmICghdGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gdGhpcy5zdGFydFBvc2l0aW9uID0gY3VycmVudFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGljayB0byBzcGVlZCB1cCBwcm9jZXNzaW5nXG4gICAgICAgIHRoaXMudGljaygpO1xuICAgIH07XG4gICAgQmFzZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFFbmRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVzZXQgc3RhcnRQb3NpdGlvbiBhbmQgbGFzdEN1cnJlbnRUaW1lIHRvIHJlc3RhcnQgcGxheWJhY2sgQCBzdHJlYW0gYmVnaW5uaW5nXG4gICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHRoaXMubGFzdEN1cnJlbnRUaW1lID0gMDtcbiAgICB9O1xuICAgIHJldHVybiBCYXNlU3RyZWFtQ29udHJvbGxlcjtcbn0odGFza19sb29wXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQmFzZVN0cmVhbUNvbnRyb2xsZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYnVmZmVyLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2J1ZmZlci1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogQnVmZmVyIENvbnRyb2xsZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBtZWRpYXNvdXJjZV9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL21lZGlhc291cmNlLWhlbHBlciAqLyBcIi4vc3JjL3V0aWxzL21lZGlhc291cmNlLWhlbHBlci5qc1wiKTtcbnZhciBNZWRpYVNvdXJjZSA9IG1lZGlhc291cmNlX2hlbHBlcl8xLmdldE1lZGlhU291cmNlKCk7XG52YXIgQnVmZmVyQ29udHJvbGxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQnVmZmVyQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCdWZmZXJDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9QQVJTRUQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX1JFU0VULCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9BUFBFTkRJTkcsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NPREVDUywgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRU9TLCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9GTFVTSElORywgZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9QVFNfVVBEQVRFRCwgZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9VUERBVEVEKSB8fCB0aGlzO1xuICAgICAgICAvLyB0aGUgdmFsdWUgdGhhdCB3ZSBoYXZlIHNldCBtZWRpYXNvdXJjZS5kdXJhdGlvbiB0b1xuICAgICAgICAvLyAodGhlIGFjdHVhbCBkdXJhdGlvbiBtYXkgYmUgdHdlYWtlZCBzbGlnaGx5IGJ5IHRoZSBicm93c2VyKVxuICAgICAgICBfdGhpcy5fbXNEdXJhdGlvbiA9IG51bGw7XG4gICAgICAgIC8vIHRoZSB2YWx1ZSB0aGF0IHdlIHdhbnQgdG8gc2V0IG1lZGlhU291cmNlLmR1cmF0aW9uIHRvXG4gICAgICAgIF90aGlzLl9sZXZlbER1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgLy8gdGhlIHRhcmdldCBkdXJhdGlvbiBvZiB0aGUgY3VycmVudCBtZWRpYSBwbGF5bGlzdFxuICAgICAgICBfdGhpcy5fbGV2ZWxUYXJnZXREdXJhdGlvbiA9IDEwO1xuICAgICAgICAvLyBjdXJyZW50IHN0cmVhbSBzdGF0ZTogdHJ1ZSAtIGZvciBsaXZlIGJyb2FkY2FzdCwgZmFsc2UgLSBmb3IgVm9EIGNvbnRlbnRcbiAgICAgICAgX3RoaXMuX2xpdmUgPSBudWxsO1xuICAgICAgICAvLyBjYWNoZSB0aGUgc2VsZiBnZW5lcmF0ZWQgb2JqZWN0IHVybCB0byBkZXRlY3QgaGlqYWNrIG9mIHZpZGVvIHRhZ1xuICAgICAgICBfdGhpcy5fb2JqZWN0VXJsID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiBCVUZGRVJfQ09ERUMgZXZlbnRzIHJlY2VpdmVkIGJlZm9yZSBhbnkgc291cmNlQnVmZmVycyBhcmUgY3JlYXRlZFxuICAgICAgICBfdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gMDtcbiAgICAgICAgLy8gU291cmNlIEJ1ZmZlciBsaXN0ZW5lcnNcbiAgICAgICAgX3RoaXMub25zYnVlID0gX3RoaXMub25TQlVwZGF0ZUVuZC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMub25zYmUgPSBfdGhpcy5vblNCVXBkYXRlRXJyb3IuYmluZChfdGhpcyk7XG4gICAgICAgIF90aGlzLnBlbmRpbmdUcmFja3MgPSB7fTtcbiAgICAgICAgX3RoaXMudHJhY2tzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxQdHNVcGRhdGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIHZhciBhdWRpb1RyYWNrID0gdGhpcy50cmFja3MuYXVkaW87XG4gICAgICAgIC8vIEFkanVzdGluZyBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGAgKGRlc2lyZWQgcG9pbnQgaW4gdGhlIHRpbWVsaW5lIHdoZXJlIHRoZSBuZXh0IGZyYW1lcyBzaG91bGQgYmUgYXBwZW5kZWQpXG4gICAgICAgIC8vIGluIENocm9tZSBicm93c2VyIHdoZW4gd2UgZGV0ZWN0IE1QRUcgYXVkaW8gY29udGFpbmVyIGFuZCB0aW1lIGRlbHRhIGJldHdlZW4gbGV2ZWwgUFRTIGFuZCBgU291cmNlQnVmZmVyLnRpbWVzdGFtcE9mZnNldGBcbiAgICAgICAgLy8gaXMgZ3JlYXRlciB0aGFuIDEwMG1zICh0aGlzIGlzIGVub3VnaCB0byBoYW5kbGUgc2VlayBmb3IgVk9EIG9yIGxldmVsIGNoYW5nZSBmb3IgTElWRSB2aWRlb3MpLiBBdCB0aGUgdGltZSBvZiBjaGFuZ2Ugd2UgaXNzdWVcbiAgICAgICAgLy8gYFNvdXJjZUJ1ZmZlci5hYm9ydCgpYCBhbmQgYWRqdXN0aW5nIGBTb3VyY2VCdWZmZXIudGltZXN0YW1wT2Zmc2V0YCBpZiBgU291cmNlQnVmZmVyLnVwZGF0aW5nYCBpcyBmYWxzZSBvciBhd2FpdGluZyBgdXBkYXRlZW5kYFxuICAgICAgICAvLyBldmVudCBpZiBTQiBpcyBpbiB1cGRhdGluZyBzdGF0ZS5cbiAgICAgICAgLy8gTW9yZSBpbmZvIGhlcmU6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy8zMzIjaXNzdWVjb21tZW50LTI1Nzk4NjQ4NlxuICAgICAgICBpZiAodHlwZSA9PT0gJ2F1ZGlvJyAmJiBhdWRpb1RyYWNrICYmIGF1ZGlvVHJhY2suY29udGFpbmVyID09PSAnYXVkaW8vbXBlZycpIHsgLy8gQ2hyb21lIGF1ZGlvIG1wMyB0cmFja1xuICAgICAgICAgICAgdmFyIGF1ZGlvQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXIuYXVkaW87XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSBNYXRoLmFicyhhdWRpb0J1ZmZlci50aW1lc3RhbXBPZmZzZXQgLSBkYXRhLnN0YXJ0KTtcbiAgICAgICAgICAgIC8vIGFkanVzdCB0aW1lc3RhbXAgb2Zmc2V0IGlmIHRpbWUgZGVsdGEgaXMgZ3JlYXRlciB0aGFuIDEwMG1zXG4gICAgICAgICAgICBpZiAoZGVsdGEgPiAwLjEpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXBkYXRpbmcgPSBhdWRpb0J1ZmZlci51cGRhdGluZztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhdWRpb0J1ZmZlci5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdjYW4gbm90IGFib3J0IGF1ZGlvIGJ1ZmZlcjogJyArIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2NoYW5nZSBtcGVnIGF1ZGlvIHRpbWVzdGFtcCBvZmZzZXQgZnJvbSAnICsgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ICsgJyB0byAnICsgZGF0YS5zdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQnVmZmVyLnRpbWVzdGFtcE9mZnNldCA9IGRhdGEuc3RhcnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBpbiBjYXNlIG9mIGFsdCBhdWRpbyAyIEJVRkZFUl9DT0RFQ1MgZXZlbnRzIHdpbGwgYmUgdHJpZ2dlcmVkLCBvbmUgcGVyIHN0cmVhbSBjb250cm9sbGVyXG4gICAgICAgIC8vIHNvdXJjZWJ1ZmZlcnMgd2lsbCBiZSBjcmVhdGVkIGFsbCBhdCBvbmNlIHdoZW4gdGhlIGV4cGVjdGVkIG5iIG9mIHRyYWNrcyB3aWxsIGJlIHJlYWNoZWRcbiAgICAgICAgLy8gaW4gY2FzZSBhbHQgYXVkaW8gaXMgbm90IHVzZWQsIG9ubHkgb25lIEJVRkZFUl9DT0RFQyBldmVudCB3aWxsIGJlIGZpcmVkIGZyb20gbWFpbiBzdHJlYW0gY29udHJvbGxlclxuICAgICAgICAvLyBpdCB3aWxsIGNvbnRhaW4gdGhlIGV4cGVjdGVkIG5iIG9mIHNvdXJjZSBidWZmZXJzLCBubyBuZWVkIHRvIGNvbXB1dGUgaXRcbiAgICAgICAgdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gZGF0YS5hbHRBdWRpbyA/IDIgOiAxO1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKHRoaXMuYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCArIFwiIGJ1ZmZlckNvZGVjIGV2ZW50KHMpIGV4cGVjdGVkXCIpO1xuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgIC8vIHNldHVwIHRoZSBtZWRpYSBzb3VyY2VcbiAgICAgICAgICAgIHZhciBtcyA9IHRoaXMubWVkaWFTb3VyY2UgPSBuZXcgTWVkaWFTb3VyY2UoKTtcbiAgICAgICAgICAgIC8vIE1lZGlhIFNvdXJjZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgIHRoaXMub25tc28gPSB0aGlzLm9uTWVkaWFTb3VyY2VPcGVuLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9ubXNlID0gdGhpcy5vbk1lZGlhU291cmNlRW5kZWQuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMub25tc2MgPSB0aGlzLm9uTWVkaWFTb3VyY2VDbG9zZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMub25tc28pO1xuICAgICAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLm9ubXNlKTtcbiAgICAgICAgICAgIG1zLmFkZEV2ZW50TGlzdGVuZXIoJ3NvdXJjZWNsb3NlJywgdGhpcy5vbm1zYyk7XG4gICAgICAgICAgICAvLyBsaW5rIHZpZGVvIGFuZCBtZWRpYSBTb3VyY2VcbiAgICAgICAgICAgIG1lZGlhLnNyYyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKG1zKTtcbiAgICAgICAgICAgIC8vIGNhY2hlIHRoZSBsb2NhbGx5IGdlbmVyYXRlZCBvYmplY3QgdXJsXG4gICAgICAgICAgICB0aGlzLl9vYmplY3RVcmwgPSBtZWRpYS5zcmM7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ21lZGlhIHNvdXJjZSBkZXRhY2hpbmcnKTtcbiAgICAgICAgdmFyIG1zID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgaWYgKG1zKSB7XG4gICAgICAgICAgICBpZiAobXMucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW5kT2ZTdHJlYW0gY291bGQgdHJpZ2dlciBleGNlcHRpb24gaWYgYW55IHNvdXJjZWJ1ZmZlciBpcyBpbiB1cGRhdGluZyBzdGF0ZVxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCByZWFsbHkgY2FyZSBhYm91dCBjaGVja2luZyBzb3VyY2VidWZmZXIgc3RhdGUgaGVyZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgd2UgYXJlIGFueXdheSBkZXRhY2hpbmcgdGhlIE1lZGlhU291cmNlXG4gICAgICAgICAgICAgICAgICAgIC8vIGxldCdzIGp1c3QgYXZvaWQgdGhpcyBleGNlcHRpb24gdG8gcHJvcGFnYXRlXG4gICAgICAgICAgICAgICAgICAgIG1zLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJvbk1lZGlhRGV0YWNoaW5nOlwiICsgZXJyLm1lc3NhZ2UgKyBcIiB3aGlsZSBjYWxsaW5nIGVuZE9mU3RyZWFtXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLm9ubXNvKTtcbiAgICAgICAgICAgIG1zLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5vbm1zZSk7XG4gICAgICAgICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMub25tc2MpO1xuICAgICAgICAgICAgLy8gRGV0YWNoIHByb3Blcmx5IHRoZSBNZWRpYVNvdXJjZSBmcm9tIHRoZSBIVE1MTWVkaWFFbGVtZW50IGFzXG4gICAgICAgICAgICAvLyBzdWdnZXN0ZWQgaW4gaHR0cHM6Ly9naXRodWIuY29tL3czYy9tZWRpYS1zb3VyY2UvaXNzdWVzLzUzLlxuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWEpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuVVJMLnJldm9rZU9iamVjdFVSTCh0aGlzLl9vYmplY3RVcmwpO1xuICAgICAgICAgICAgICAgIC8vIGNsZWFuIHVwIHZpZGVvIHRhZyBzcmMgb25seSBpZiBpdCdzIG91ciBvd24gdXJsLiBzb21lIGV4dGVybmFsIGxpYnJhcmllcyBtaWdodFxuICAgICAgICAgICAgICAgIC8vIGhpamFjayB0aGUgdmlkZW8gdGFnIGFuZCBjaGFuZ2UgaXRzICdzcmMnIHdpdGhvdXQgZGVzdHJveWluZyB0aGUgSGxzIGluc3RhbmNlIGZpcnN0XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVkaWEuc3JjID09PSB0aGlzLl9vYmplY3RVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZWRpYS5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lZGlhLmxvYWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdtZWRpYS5zcmMgd2FzIGNoYW5nZWQgYnkgYSB0aGlyZCBwYXJ0eSAtIHNraXAgY2xlYW51cCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVkaWFTb3VyY2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl9vYmplY3RVcmwgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5wZW5kaW5nVHJhY2tzID0ge307XG4gICAgICAgICAgICB0aGlzLnRyYWNrcyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VCdWZmZXIgPSB7fTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2hSYW5nZSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5hcHBlbmRlZCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbm1zbyA9IHRoaXMub25tc2UgPSB0aGlzLm9ubXNjID0gbnVsbDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSEVEKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTb3VyY2VPcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdtZWRpYSBzb3VyY2Ugb3BlbmVkJyk7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5NRURJQV9BVFRBQ0hFRCwgeyBtZWRpYTogdGhpcy5tZWRpYSB9KTtcbiAgICAgICAgdmFyIG1lZGlhU291cmNlID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgaWYgKG1lZGlhU291cmNlKSB7XG4gICAgICAgICAgICAvLyBvbmNlIHJlY2VpdmVkLCBkb24ndCBsaXN0ZW4gYW55bW9yZSB0byBzb3VyY2VvcGVuIGV2ZW50XG4gICAgICAgICAgICBtZWRpYVNvdXJjZS5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VvcGVuJywgdGhpcy5vbm1zbyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGVja1BlbmRpbmdUcmFja3MoKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNoZWNrUGVuZGluZ1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgYnVmZmVyQ29kZWNFdmVudHNFeHBlY3RlZCA9IF9hLmJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQsIHBlbmRpbmdUcmFja3MgPSBfYS5wZW5kaW5nVHJhY2tzO1xuICAgICAgICAvLyBDaGVjayBpZiB3ZSd2ZSByZWNlaXZlZCBhbGwgb2YgdGhlIGV4cGVjdGVkIGJ1ZmZlckNvZGVjIGV2ZW50cy4gV2hlbiBub25lIHJlbWFpbiwgY3JlYXRlIGFsbCB0aGUgc291cmNlQnVmZmVycyBhdCBvbmNlLlxuICAgICAgICAvLyBUaGlzIGlzIGltcG9ydGFudCBiZWNhdXNlIHRoZSBNU0Ugc3BlYyBhbGxvd3MgaW1wbGVtZW50YXRpb25zIHRvIHRocm93IFF1b3RhRXhjZWVkZWRFcnJvcnMgaWYgY3JlYXRpbmcgbmV3IHNvdXJjZUJ1ZmZlcnMgYWZ0ZXJcbiAgICAgICAgLy8gZGF0YSBoYXMgYmVlbiBhcHBlbmRlZCB0byBleGlzdGluZyBvbmVzLlxuICAgICAgICAvLyAyIHRyYWNrcyBpcyB0aGUgbWF4IChvbmUgZm9yIGF1ZGlvLCBvbmUgZm9yIHZpZGVvKS4gSWYgd2UndmUgcmVhY2ggdGhpcyBtYXggZ28gYWhlYWQgYW5kIGNyZWF0ZSB0aGUgYnVmZmVycy5cbiAgICAgICAgdmFyIHBlbmRpbmdUcmFja3NDb3VudCA9IE9iamVjdC5rZXlzKHBlbmRpbmdUcmFja3MpLmxlbmd0aDtcbiAgICAgICAgaWYgKChwZW5kaW5nVHJhY2tzQ291bnQgJiYgIWJ1ZmZlckNvZGVjRXZlbnRzRXhwZWN0ZWQpIHx8IHBlbmRpbmdUcmFja3NDb3VudCA9PT0gMikge1xuICAgICAgICAgICAgLy8gb2ssIGxldCdzIGNyZWF0ZSB0aGVtIG5vdyAhXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVNvdXJjZUJ1ZmZlcnMocGVuZGluZ1RyYWNrcyk7XG4gICAgICAgICAgICB0aGlzLnBlbmRpbmdUcmFja3MgPSB7fTtcbiAgICAgICAgICAgIC8vIGFwcGVuZCBhbnkgcGVuZGluZyBzZWdtZW50cyBub3cgIVxuICAgICAgICAgICAgdGhpcy5kb0FwcGVuZGluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhU291cmNlQ2xvc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ21lZGlhIHNvdXJjZSBjbG9zZWQnKTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTb3VyY2VFbmRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnbWVkaWEgc291cmNlIGVuZGVkJyk7XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vblNCVXBkYXRlRW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB1cGRhdGUgdGltZXN0YW1wT2Zmc2V0XG4gICAgICAgIGlmICh0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9CdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlci5hdWRpbztcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiY2hhbmdlIG1wZWcgYXVkaW8gdGltZXN0YW1wIG9mZnNldCBmcm9tIFwiICsgYXVkaW9CdWZmZXIudGltZXN0YW1wT2Zmc2V0ICsgXCIgdG8gXCIgKyB0aGlzLmF1ZGlvVGltZXN0YW1wT2Zmc2V0KTtcbiAgICAgICAgICAgIGF1ZGlvQnVmZmVyLnRpbWVzdGFtcE9mZnNldCA9IHRoaXMuYXVkaW9UaW1lc3RhbXBPZmZzZXQ7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hdWRpb1RpbWVzdGFtcE9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbmVlZHNGbHVzaCkge1xuICAgICAgICAgICAgdGhpcy5kb0ZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX25lZWRzRW9zKSB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrRW9zKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hcHBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICAvLyBjb3VudCBuYiBvZiBwZW5kaW5nIHNlZ21lbnRzIHdhaXRpbmcgZm9yIGFwcGVuZGluZyBvbiB0aGlzIHNvdXJjZWJ1ZmZlclxuICAgICAgICB2YXIgcGVuZGluZyA9IHRoaXMuc2VnbWVudHMucmVkdWNlKGZ1bmN0aW9uIChjb3VudGVyLCBzZWdtZW50KSB7IHJldHVybiAoc2VnbWVudC5wYXJlbnQgPT09IHBhcmVudCkgPyBjb3VudGVyICsgMSA6IGNvdW50ZXI7IH0sIDApO1xuICAgICAgICAvLyB0aGlzLnNvdXJjZUJ1ZmZlciBpcyBiZXR0ZXIgdG8gdXNlIHRoYW4gbWVkaWEuYnVmZmVyZWQgYXMgaXQgaXMgY2xvc2VyIHRvIHRoZSBQVFMgZGF0YSBmcm9tIHRoZSBmcmFnbWVudHNcbiAgICAgICAgdmFyIHRpbWVSYW5nZXMgPSB7fTtcbiAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgICAgICBmb3IgKHZhciBzdHJlYW1UeXBlIGluIHNvdXJjZUJ1ZmZlcikge1xuICAgICAgICAgICAgdGltZVJhbmdlc1tzdHJlYW1UeXBlXSA9IHNvdXJjZUJ1ZmZlcltzdHJlYW1UeXBlXS5idWZmZXJlZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVOREVELCB7IHBhcmVudDogcGFyZW50LCBwZW5kaW5nOiBwZW5kaW5nLCB0aW1lUmFuZ2VzOiB0aW1lUmFuZ2VzIH0pO1xuICAgICAgICAvLyBkb24ndCBhcHBlbmQgaW4gZmx1c2hpbmcgbW9kZVxuICAgICAgICBpZiAoIXRoaXMuX25lZWRzRmx1c2gpIHtcbiAgICAgICAgICAgIHRoaXMuZG9BcHBlbmRpbmcoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVwZGF0ZU1lZGlhRWxlbWVudER1cmF0aW9uKCk7XG4gICAgICAgIC8vIGFwcGVuZGluZyBnb2VzIGZpcnN0XG4gICAgICAgIGlmIChwZW5kaW5nID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmZsdXNoTGl2ZUJhY2tCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25TQlVwZGF0ZUVycm9yID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignc291cmNlQnVmZmVyIGVycm9yOicsIGV2ZW50KTtcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly93d3cudzMub3JnL1RSL21lZGlhLXNvdXJjZS8jc291cmNlYnVmZmVyLWFwcGVuZC1lcnJvclxuICAgICAgICAvLyB0aGlzIGVycm9yIG1pZ2h0IG5vdCBhbHdheXMgYmUgZmF0YWwgKGl0IGlzIGZhdGFsIGlmIGRlY29kZSBlcnJvciBpcyBzZXQsIGluIHRoYXQgY2FzZVxuICAgICAgICAvLyBpdCB3aWxsIGJlIGZvbGxvd2VkIGJ5IGEgbWVkaWFFbGVtZW50IGVycm9yIC4uLilcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SLCBmYXRhbDogZmFsc2UgfSk7XG4gICAgICAgIC8vIHdlIGRvbid0IG5lZWQgdG8gZG8gbW9yZSB0aGFuIHRoYXQsIGFzIGFjY29yZGluIHRvIHRoZSBzcGVjLCB1cGRhdGVlbmQgd2lsbCBiZSBmaXJlZCBqdXN0IGFmdGVyXG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlclJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICB2YXIgc2IgPSBzb3VyY2VCdWZmZXJbdHlwZV07XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVkaWFTb3VyY2UucmVtb3ZlU291cmNlQnVmZmVyKHNiKTtcbiAgICAgICAgICAgICAgICBzYi5yZW1vdmVFdmVudExpc3RlbmVyKCd1cGRhdGVlbmQnLCB0aGlzLm9uc2J1ZSk7XG4gICAgICAgICAgICAgICAgc2IucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uc2JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNvdXJjZUJ1ZmZlciA9IHt9O1xuICAgICAgICB0aGlzLmZsdXNoUmFuZ2UgPSBbXTtcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmFwcGVuZGVkID0gMDtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ29kZWNzID0gZnVuY3Rpb24gKHRyYWNrcykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBpZiBzb3VyY2UgYnVmZmVyKHMpIG5vdCBjcmVhdGVkIHlldCwgYXBwZW5kZWQgYnVmZmVyIHRyYWNrcyBpbiB0aGlzLnBlbmRpbmdUcmFja3NcbiAgICAgICAgLy8gaWYgc291cmNlYnVmZmVycyBhbHJlYWR5IGNyZWF0ZWQsIGRvIG5vdGhpbmcgLi4uXG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLnNvdXJjZUJ1ZmZlcikubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0LmtleXModHJhY2tzKS5mb3JFYWNoKGZ1bmN0aW9uICh0cmFja05hbWUpIHtcbiAgICAgICAgICAgIF90aGlzLnBlbmRpbmdUcmFja3NbdHJhY2tOYW1lXSA9IHRyYWNrc1t0cmFja05hbWVdO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIG1lZGlhU291cmNlID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgdGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkID0gTWF0aC5tYXgodGhpcy5idWZmZXJDb2RlY0V2ZW50c0V4cGVjdGVkIC0gMSwgMCk7XG4gICAgICAgIGlmIChtZWRpYVNvdXJjZSAmJiBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tQZW5kaW5nVHJhY2tzKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZVNvdXJjZUJ1ZmZlcnMgPSBmdW5jdGlvbiAodHJhY2tzKSB7XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlciwgbWVkaWFTb3VyY2UgPSB0aGlzLm1lZGlhU291cmNlO1xuICAgICAgICBmb3IgKHZhciB0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUJ1ZmZlclt0cmFja05hbWVdKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYWNrID0gdHJhY2tzW3RyYWNrTmFtZV07XG4gICAgICAgICAgICAgICAgLy8gdXNlIGxldmVsQ29kZWMgYXMgZmlyc3QgcHJpb3JpdHlcbiAgICAgICAgICAgICAgICB2YXIgY29kZWMgPSB0cmFjay5sZXZlbENvZGVjIHx8IHRyYWNrLmNvZGVjO1xuICAgICAgICAgICAgICAgIHZhciBtaW1lVHlwZSA9IHRyYWNrLmNvbnRhaW5lciArIFwiO2NvZGVjcz1cIiArIGNvZGVjO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJjcmVhdGluZyBzb3VyY2VCdWZmZXIoXCIgKyBtaW1lVHlwZSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2IgPSBzb3VyY2VCdWZmZXJbdHJhY2tOYW1lXSA9IG1lZGlhU291cmNlLmFkZFNvdXJjZUJ1ZmZlcihtaW1lVHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHNiLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMub25zYnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2IuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLm9uc2JlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFja3NbdHJhY2tOYW1lXSA9IHsgY29kZWM6IGNvZGVjLCBjb250YWluZXI6IHRyYWNrLmNvbnRhaW5lciB9O1xuICAgICAgICAgICAgICAgICAgICB0cmFjay5idWZmZXIgPSBzYjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJlcnJvciB3aGlsZSB0cnlpbmcgdG8gYWRkIHNvdXJjZUJ1ZmZlcjpcIiArIGVyci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfQUREX0NPREVDX0VSUk9SLCBmYXRhbDogZmFsc2UsIGVycjogZXJyLCBtaW1lVHlwZTogbWltZVR5cGUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQ1JFQVRFRCwgeyB0cmFja3M6IHRyYWNrcyB9KTtcbiAgICB9O1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9uZWVkc0ZsdXNoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VnbWVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW2RhdGFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kb0FwcGVuZGluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckFwcGVuZEZhaWwgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ3NvdXJjZUJ1ZmZlciBlcnJvcjonLCBkYXRhLmV2ZW50KTtcbiAgICAgICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly93d3cudzMub3JnL1RSL21lZGlhLXNvdXJjZS8jc291cmNlYnVmZmVyLWFwcGVuZC1lcnJvclxuICAgICAgICAvLyB0aGlzIGVycm9yIG1pZ2h0IG5vdCBhbHdheXMgYmUgZmF0YWwgKGl0IGlzIGZhdGFsIGlmIGRlY29kZSBlcnJvciBpcyBzZXQsIGluIHRoYXQgY2FzZVxuICAgICAgICAvLyBpdCB3aWxsIGJlIGZvbGxvd2VkIGJ5IGEgbWVkaWFFbGVtZW50IGVycm9yIC4uLilcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfQVBQRU5ESU5HX0VSUk9SLCBmYXRhbDogZmFsc2UgfSk7XG4gICAgfTtcbiAgICAvLyBvbiBCVUZGRVJfRU9TIG1hcmsgbWF0Y2hpbmcgc291cmNlYnVmZmVyKHMpIGFzIGVuZGVkIGFuZCB0cmlnZ2VyIGNoZWNrRW9zKClcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckVvcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzYiA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgICAgICB2YXIgZGF0YVR5cGUgPSBkYXRhLnR5cGU7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gc2IpIHtcbiAgICAgICAgICAgIGlmICghZGF0YVR5cGUgfHwgdHlwZSA9PT0gZGF0YVR5cGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNiW3R5cGVdLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNiW3R5cGVdLmVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyh0eXBlICsgXCIgc291cmNlQnVmZmVyIG5vdyBFT1NcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hlY2tFb3MoKTtcbiAgICB9O1xuICAgIC8vIGlmIGFsbCBzb3VyY2UgYnVmZmVycyBhcmUgbWFya2VkIGFzIGVuZGVkLCBzaWduYWwgZW5kT2ZTdHJlYW0oKSB0byBNZWRpYVNvdXJjZS5cbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0VvcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNiID0gdGhpcy5zb3VyY2VCdWZmZXIsIG1lZGlhU291cmNlID0gdGhpcy5tZWRpYVNvdXJjZTtcbiAgICAgICAgaWYgKCFtZWRpYVNvdXJjZSB8fCBtZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHRoaXMuX25lZWRzRW9zID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgdHlwZSBpbiBzYikge1xuICAgICAgICAgICAgdmFyIHNib2JqID0gc2JbdHlwZV07XG4gICAgICAgICAgICBpZiAoIXNib2JqLmVuZGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNib2JqLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbmVlZHNFb3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdhbGwgbWVkaWEgZGF0YSBhcmUgYXZhaWxhYmxlLCBzaWduYWwgZW5kT2ZTdHJlYW0oKSB0byBNZWRpYVNvdXJjZSBhbmQgc3RvcCBsb2FkaW5nIGZyYWdtZW50Jyk7XG4gICAgICAgIC8vIE5vdGlmeSB0aGUgbWVkaWEgZWxlbWVudCB0aGF0IGl0IG5vdyBoYXMgYWxsIG9mIHRoZSBtZWRpYSBkYXRhXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZWRpYVNvdXJjZS5lbmRPZlN0cmVhbSgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignZXhjZXB0aW9uIHdoaWxlIGNhbGxpbmcgbWVkaWFTb3VyY2UuZW5kT2ZTdHJlYW0oKScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX25lZWRzRW9zID0gZmFsc2U7XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5mbHVzaFJhbmdlLnB1c2goeyBzdGFydDogZGF0YS5zdGFydE9mZnNldCwgZW5kOiBkYXRhLmVuZE9mZnNldCwgdHlwZTogZGF0YS50eXBlIH0pO1xuICAgICAgICAvLyBhdHRlbXB0IGZsdXNoIGltbWVkaWF0ZWx5XG4gICAgICAgIHRoaXMuZmx1c2hCdWZmZXJDb3VudGVyID0gMDtcbiAgICAgICAgdGhpcy5kb0ZsdXNoKCk7XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5mbHVzaExpdmVCYWNrQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjbGVhciBiYWNrIGJ1ZmZlciBmb3IgbGl2ZSBvbmx5XG4gICAgICAgIGlmICghdGhpcy5fbGl2ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsaXZlQmFja0J1ZmZlckxlbmd0aCA9IHRoaXMuaGxzLmNvbmZpZy5saXZlQmFja0J1ZmZlckxlbmd0aDtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShsaXZlQmFja0J1ZmZlckxlbmd0aCkgfHwgbGl2ZUJhY2tCdWZmZXJMZW5ndGggPCAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gdGhpcy5tZWRpYS5jdXJyZW50VGltZTtcbiAgICAgICAgdmFyIHNvdXJjZUJ1ZmZlciA9IHRoaXMuc291cmNlQnVmZmVyO1xuICAgICAgICB2YXIgYnVmZmVyVHlwZXMgPSBPYmplY3Qua2V5cyhzb3VyY2VCdWZmZXIpO1xuICAgICAgICB2YXIgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uID0gY3VycmVudFRpbWUgLSBNYXRoLm1heChsaXZlQmFja0J1ZmZlckxlbmd0aCwgdGhpcy5fbGV2ZWxUYXJnZXREdXJhdGlvbik7XG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gYnVmZmVyVHlwZXMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgdmFyIGJ1ZmZlclR5cGUgPSBidWZmZXJUeXBlc1tpbmRleF0sIGJ1ZmZlcmVkID0gc291cmNlQnVmZmVyW2J1ZmZlclR5cGVdLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgLy8gd2hlbiB0YXJnZXQgYnVmZmVyIHN0YXJ0IGV4Y2VlZHMgYWN0dWFsIGJ1ZmZlciBzdGFydFxuICAgICAgICAgICAgaWYgKGJ1ZmZlcmVkLmxlbmd0aCA+IDAgJiYgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uID4gYnVmZmVyZWQuc3RhcnQoMCkpIHtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYnVmZmVyIHVwIHVudGlsIGN1cnJlbnQgdGltZSBtaW51cyBtaW5pbXVtIGJhY2sgYnVmZmVyIGxlbmd0aCAocmVtb3ZpbmcgYnVmZmVyIHRvbyBjbG9zZSB0byBjdXJyZW50XG4gICAgICAgICAgICAgICAgLy8gdGltZSB3aWxsIGxlYWQgdG8gcGxheWJhY2sgZnJlZXppbmcpXG4gICAgICAgICAgICAgICAgLy8gY3JlZGl0cyBmb3IgbGV2ZWwgdGFyZ2V0IGR1cmF0aW9uIC0gaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvanMvaHR0cC1zdHJlYW1pbmcvYmxvYi8zMTMyOTMzYjZhYTk5ZGRlZmFiMjljMTA0NDc2MjRlZmQ2ZmQ2ZTUyL3NyYy9zZWdtZW50LWxvYWRlci5qcyNMOTFcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUJ1ZmZlclJhbmdlKGJ1ZmZlclR5cGUsIHNvdXJjZUJ1ZmZlcltidWZmZXJUeXBlXSwgMCwgdGFyZ2V0QmFja0J1ZmZlclBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbFVwZGF0ZWQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGRldGFpbHMgPSBfYS5kZXRhaWxzO1xuICAgICAgICBpZiAoZGV0YWlscy5mcmFnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbGV2ZWxEdXJhdGlvbiA9IGRldGFpbHMudG90YWxkdXJhdGlvbiArIGRldGFpbHMuZnJhZ21lbnRzWzBdLnN0YXJ0O1xuICAgICAgICAgICAgdGhpcy5fbGV2ZWxUYXJnZXREdXJhdGlvbiA9IGRldGFpbHMuYXZlcmFnZXRhcmdldGR1cmF0aW9uIHx8IGRldGFpbHMudGFyZ2V0ZHVyYXRpb24gfHwgMTA7XG4gICAgICAgICAgICB0aGlzLl9saXZlID0gZGV0YWlscy5saXZlO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBVcGRhdGUgTWVkaWEgU291cmNlIGR1cmF0aW9uIHRvIGN1cnJlbnQgbGV2ZWwgZHVyYXRpb24gb3Igb3ZlcnJpZGUgdG8gSW5maW5pdHkgaWYgY29uZmlndXJhdGlvbiBwYXJhbWV0ZXJcbiAgICAgKiAnbGl2ZUR1cmF0aW9uSW5maW5pdHlgIGlzIHNldCB0byBgdHJ1ZWBcbiAgICAgKiBNb3JlIGRldGFpbHM6IGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy8zNTVcbiAgICAgKi9cbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS51cGRhdGVNZWRpYUVsZW1lbnREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICAgICAgdmFyIGR1cmF0aW9uO1xuICAgICAgICBpZiAodGhpcy5fbGV2ZWxEdXJhdGlvbiA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgIXRoaXMubWVkaWEgfHxcbiAgICAgICAgICAgICF0aGlzLm1lZGlhU291cmNlIHx8XG4gICAgICAgICAgICAhdGhpcy5zb3VyY2VCdWZmZXIgfHxcbiAgICAgICAgICAgIHRoaXMubWVkaWEucmVhZHlTdGF0ZSA9PT0gMCB8fFxuICAgICAgICAgICAgdGhpcy5tZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciB0eXBlIGluIHRoaXMuc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zb3VyY2VCdWZmZXJbdHlwZV0udXBkYXRpbmcgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBjYW4ndCBzZXQgZHVyYXRpb24gd2hpbHN0IGEgYnVmZmVyIGlzIHVwZGF0aW5nXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGR1cmF0aW9uID0gdGhpcy5tZWRpYS5kdXJhdGlvbjtcbiAgICAgICAgLy8gaW5pdGlhbGlzZSB0byB0aGUgdmFsdWUgdGhhdCB0aGUgbWVkaWEgc291cmNlIGlzIHJlcG9ydGluZ1xuICAgICAgICBpZiAodGhpcy5fbXNEdXJhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbXNEdXJhdGlvbiA9IHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpdmUgPT09IHRydWUgJiYgY29uZmlnLmxpdmVEdXJhdGlvbkluZmluaXR5ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBPdmVycmlkZSBkdXJhdGlvbiB0byBJbmZpbml0eVxuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnTWVkaWEgU291cmNlIGR1cmF0aW9uIGlzIHNldCB0byBJbmZpbml0eScpO1xuICAgICAgICAgICAgdGhpcy5fbXNEdXJhdGlvbiA9IHRoaXMubWVkaWFTb3VyY2UuZHVyYXRpb24gPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgodGhpcy5fbGV2ZWxEdXJhdGlvbiA+IHRoaXMuX21zRHVyYXRpb24gJiYgdGhpcy5fbGV2ZWxEdXJhdGlvbiA+IGR1cmF0aW9uKSB8fCAhTnVtYmVyLmlzRmluaXRlKGR1cmF0aW9uKSkge1xuICAgICAgICAgICAgLy8gbGV2ZWxEdXJhdGlvbiB3YXMgdGhlIGxhc3QgdmFsdWUgd2Ugc2V0LlxuICAgICAgICAgICAgLy8gbm90IHVzaW5nIG1lZGlhU291cmNlLmR1cmF0aW9uIGFzIHRoZSBicm93c2VyIG1heSB0d2VhayB0aGlzIHZhbHVlXG4gICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSBNZWRpYSBTb3VyY2UgZHVyYXRpb24gaWYgaXRzIHZhbHVlIGluY3JlYXNlLCB0aGlzIGlzIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBmbHVzaGluZyBhbHJlYWR5IGJ1ZmZlcmVkIHBvcnRpb24gd2hlbiBzd2l0Y2hpbmcgYmV0d2VlbiBxdWFsaXR5IGxldmVsXG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiVXBkYXRpbmcgTWVkaWEgU291cmNlIGR1cmF0aW9uIHRvIFwiICsgdGhpcy5fbGV2ZWxEdXJhdGlvbi50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgIHRoaXMuX21zRHVyYXRpb24gPSB0aGlzLm1lZGlhU291cmNlLmR1cmF0aW9uID0gdGhpcy5fbGV2ZWxEdXJhdGlvbjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQnVmZmVyQ29udHJvbGxlci5wcm90b3R5cGUuZG9GbHVzaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGFsbCBidWZmZXIgcmFuZ2VzIHRvIGZsdXNoXG4gICAgICAgIHdoaWxlICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB0aGlzLmZsdXNoUmFuZ2VbMF07XG4gICAgICAgICAgICAvLyBmbHVzaEJ1ZmZlciB3aWxsIGFib3J0IGFueSBidWZmZXIgYXBwZW5kIGluIHByb2dyZXNzIGFuZCBmbHVzaCBBdWRpby9WaWRlbyBCdWZmZXJcbiAgICAgICAgICAgIGlmICh0aGlzLmZsdXNoQnVmZmVyKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQsIHJhbmdlLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gcmFuZ2UgZmx1c2hlZCwgcmVtb3ZlIGZyb20gZmx1c2ggYXJyYXlcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoUmFuZ2Uuc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoQnVmZmVyQ291bnRlciA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWVkc0ZsdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBsb29waW5nLCB3YWl0IGZvciBTQiB1cGRhdGUgZW5kIHRvIHJldHJpZ2dlciBhIGZsdXNoXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmZsdXNoUmFuZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBldmVyeXRoaW5nIGZsdXNoZWRcbiAgICAgICAgICAgIHRoaXMuX25lZWRzRmx1c2ggPSBmYWxzZTtcbiAgICAgICAgICAgIC8vIGxldCdzIHJlY29tcHV0ZSB0aGlzLmFwcGVuZGVkLCB3aGljaCBpcyB1c2VkIHRvIGF2b2lkIGZsdXNoIGxvb3BpbmdcbiAgICAgICAgICAgIHZhciBhcHBlbmRlZCA9IDA7XG4gICAgICAgICAgICB2YXIgc291cmNlQnVmZmVyID0gdGhpcy5zb3VyY2VCdWZmZXI7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZGVkICs9IHNvdXJjZUJ1ZmZlclt0eXBlXS5idWZmZXJlZC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gZXJyb3IgY291bGQgYmUgdGhyb3duIHdoaWxlIGFjY2Vzc2luZyBidWZmZXJlZCwgaW4gY2FzZSBzb3VyY2VidWZmZXIgaGFzIGFscmVhZHkgYmVlbiByZW1vdmVkIGZyb20gTWVkaWFTb3VyY2VcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGhhcm1lc3MgYXQgdGhpcyBzdGFnZSwgY2F0Y2ggdGhpcyB0byBhdm9pZCByZXBvcnRpbmcgYW4gaW50ZXJuYWwgZXhjZXB0aW9uXG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdlcnJvciB3aGlsZSBhY2Nlc3Npbmcgc291cmNlQnVmZmVyLmJ1ZmZlcmVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gYXBwZW5kZWQ7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0ZMVVNIRUQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5kb0FwcGVuZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGxzID0gX2EuaGxzLCBzZWdtZW50cyA9IF9hLnNlZ21lbnRzLCBzb3VyY2VCdWZmZXIgPSBfYS5zb3VyY2VCdWZmZXI7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhzb3VyY2VCdWZmZXIpLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWVkaWEuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW107XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCd0cnlpbmcgdG8gYXBwZW5kIGFsdGhvdWdoIGEgbWVkaWEgZXJyb3Igb2NjdXJlZCwgZmx1c2ggc2VnbWVudCBhbmQgYWJvcnQnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5hcHBlbmRpbmcpIHtcbiAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKGBzYiBhcHBlbmRpbmcgaW4gcHJvZ3Jlc3NgKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc2VnbWVudHMgJiYgc2VnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlZ21lbnQgPSBzZWdtZW50cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0eXBlID0gc2VnbWVudC50eXBlLCBzYiA9IHNvdXJjZUJ1ZmZlclt0eXBlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVzZXQgc291cmNlQnVmZmVyIGVuZGVkIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBzZWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKGBhcHBlbmRpbmcgJHtzZWdtZW50LmNvbnRlbnR9ICR7dHlwZX0gU0IsIHNpemU6JHtzZWdtZW50LmRhdGEubGVuZ3RofSwgJHtzZWdtZW50LnBhcmVudH1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudCA9IHNlZ21lbnQucGFyZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNiLmFwcGVuZEJ1ZmZlcihzZWdtZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kZWQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy51bnNoaWZ0KHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gY2FzZSB3ZSBkb24ndCBoYXZlIGFueSBzb3VyY2UgYnVmZmVyIG1hdGNoaW5nIHdpdGggdGhpcyBzZWdtZW50IHR5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCBtZWFucyB0aGF0IE1lZGlhc291cmNlIGZhaWxzIHRvIGNyZWF0ZSBzb3VyY2VidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc2NhcmQgdGhpcyBzZWdtZW50LCBhbmQgdHJpZ2dlciB1cGRhdGUgZW5kXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU0JVcGRhdGVFbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgYW55IGVycm9yIG9jY3VyZWQgd2hpbGUgYXBwZW5kaW5nLCBwdXQgYmFjayBzZWdtZW50IGluIHNlZ21lbnRzIHRhYmxlXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcImVycm9yIHdoaWxlIHRyeWluZyB0byBhcHBlbmQgYnVmZmVyOlwiICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50cy51bnNoaWZ0KHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRfMSA9IHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgcGFyZW50OiBzZWdtZW50LnBhcmVudCB9O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyLmNvZGUgIT09IDIyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5hcHBlbmRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kRXJyb3IgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfMS5kZXRhaWxzID0gZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkJVRkZFUl9BUFBFTkRfRVJST1I7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiB3aXRoIFVIRCBjb250ZW50LCB3ZSBjb3VsZCBnZXQgbG9vcCBvZiBxdW90YSBleGNlZWRlZCBlcnJvciB1bnRpbFxuICAgICAgICAgICAgICAgICAgICAgICAgICBicm93c2VyIGlzIGFibGUgdG8gZXZpY3Qgc29tZSBkYXRhIGZyb20gc291cmNlYnVmZmVyLiByZXRyeWluZyBoZWxwIHJlY292ZXJpbmcgdGhpc1xuICAgICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmFwcGVuZEVycm9yID4gaGxzLmNvbmZpZy5hcHBlbmRFcnJvck1heFJldHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImZhaWwgXCIgKyBobHMuY29uZmlnLmFwcGVuZEVycm9yTWF4UmV0cnkgKyBcIiB0aW1lcyB0byBhcHBlbmQgc2VnbWVudCBpbiBzb3VyY2VCdWZmZXJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWdtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50XzEuZmF0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfMS5mYXRhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGV2ZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUXVvdGFFeGNlZWRlZEVycm9yOiBodHRwOi8vd3d3LnczLm9yZy9UUi9odG1sNS9pbmZyYXN0cnVjdHVyZS5odG1sI3F1b3RhZXhjZWVkZWRlcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0J3Mgc3RvcCBhcHBlbmRpbmcgYW55IHNlZ21lbnRzLCBhbmQgcmVwb3J0IEJVRkZFUl9GVUxMX0VSUk9SIGVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlZ21lbnRzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudF8xLmRldGFpbHMgPSBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX0ZVTExfRVJST1I7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudF8xLmZhdGFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCBldmVudF8xKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcbiAgICAgIGZsdXNoIHNwZWNpZmllZCBidWZmZXJlZCByYW5nZSxcbiAgICAgIHJldHVybiB0cnVlIG9uY2UgcmFuZ2UgaGFzIGJlZW4gZmx1c2hlZC5cbiAgICAgIGFzIHNvdXJjZUJ1ZmZlci5yZW1vdmUoKSBpcyBhc3luY2hyb25vdXMsIGZsdXNoQnVmZmVyIHdpbGwgYmUgcmV0cmlnZ2VyZWQgb24gc291cmNlQnVmZmVyIHVwZGF0ZSBlbmRcbiAgICAqL1xuICAgIEJ1ZmZlckNvbnRyb2xsZXIucHJvdG90eXBlLmZsdXNoQnVmZmVyID0gZnVuY3Rpb24gKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQsIHR5cGVJbikge1xuICAgICAgICB2YXIgc2I7XG4gICAgICAgIHZhciBzb3VyY2VCdWZmZXIgPSB0aGlzLnNvdXJjZUJ1ZmZlcjtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNvdXJjZUJ1ZmZlcikubGVuZ3RoKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiZmx1c2hCdWZmZXIscG9zL3N0YXJ0L2VuZDogXCIgKyB0aGlzLm1lZGlhLmN1cnJlbnRUaW1lLnRvRml4ZWQoMykgKyBcIi9cIiArIHN0YXJ0T2Zmc2V0ICsgXCIvXCIgKyBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgLy8gc2FmZWd1YXJkIHRvIGF2b2lkIGluZmluaXRlIGxvb3BpbmcgOiBkb24ndCB0cnkgdG8gZmx1c2ggbW9yZSB0aGFuIHRoZSBuYiBvZiBhcHBlbmRlZCBzZWdtZW50c1xuICAgICAgICAgICAgaWYgKHRoaXMuZmx1c2hCdWZmZXJDb3VudGVyIDwgdGhpcy5hcHBlbmRlZCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHR5cGUgaW4gc291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHNvdXJjZWJ1ZmZlciB0eXBlIGlzIGRlZmluZWQgKHR5cGVJbik6IGlmIHllcywgbGV0J3Mgb25seSBmbHVzaCB0aGlzIG9uZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBubywgbGV0J3MgZmx1c2ggYWxsIHNvdXJjZWJ1ZmZlcnNcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVJbiAmJiB0eXBlICE9PSB0eXBlSW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNiID0gc291cmNlQnVmZmVyW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgZ29pbmcgdG8gZmx1c2ggYnVmZmVyLCBtYXJrIHNvdXJjZSBidWZmZXIgYXMgJ25vdCBlbmRlZCdcbiAgICAgICAgICAgICAgICAgICAgc2IuZW5kZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVtb3ZlQnVmZmVyUmFuZ2UodHlwZSwgc2IsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbHVzaEJ1ZmZlckNvdW50ZXIrKztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignY2Fubm90IGZsdXNoLCBzYiB1cGRhdGluZyBpbiBwcm9ncmVzcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2Fib3J0IGZsdXNoaW5nIHRvbyBtYW55IHJldHJpZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2J1ZmZlciBmbHVzaGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXZlcnl0aGluZyBmbHVzaGVkICFcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGZpcnN0IGJ1ZmZlcmVkIHJhbmdlIGZyb20gcHJvdmlkZWQgc291cmNlIGJ1ZmZlciB0aGF0IGxpZXMgd2l0aGluIGdpdmVuIHN0YXJ0IGFuZCBlbmQgb2Zmc2V0cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0eXBlIFR5cGUgb2YgdGhlIHNvdXJjZSBidWZmZXIsIGxvZ2dpbmcgcHVycG9zZXMgb25seS5cbiAgICAgKiBAcGFyYW0gc2IgVGFyZ2V0IFNvdXJjZUJ1ZmZlciBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gc3RhcnRPZmZzZXRcbiAgICAgKiBAcGFyYW0gZW5kT2Zmc2V0XG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIHNvdXJjZSBidWZmZXIgcmVtb3ZlIHJlcXVlc3RlZC5cbiAgICAgKi9cbiAgICBCdWZmZXJDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVCdWZmZXJSYW5nZSA9IGZ1bmN0aW9uICh0eXBlLCBzYiwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYi5idWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBidWZTdGFydCA9IHNiLmJ1ZmZlcmVkLnN0YXJ0KGkpO1xuICAgICAgICAgICAgICAgIHZhciBidWZFbmQgPSBzYi5idWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZVN0YXJ0ID0gTWF0aC5tYXgoYnVmU3RhcnQsIHN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlRW5kID0gTWF0aC5taW4oYnVmRW5kLCBlbmRPZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8qIHNvbWV0aW1lcyBzb3VyY2VidWZmZXIucmVtb3ZlKCkgZG9lcyBub3QgZmx1c2hcbiAgICAgICAgICAgICAgICAgIHRoZSBleGFjdCBleHBlY3RlZCB0aW1lIHJhbmdlLlxuICAgICAgICAgICAgICAgICAgdG8gYXZvaWQgcm91bmRpbmcgaXNzdWVzL2luZmluaXRlIGxvb3AsXG4gICAgICAgICAgICAgICAgICBvbmx5IGZsdXNoIGJ1ZmZlciByYW5nZSBvZiBsZW5ndGggZ3JlYXRlciB0aGFuIDUwMG1zLlxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKHJlbW92ZUVuZCwgYnVmRW5kKSAtIHJlbW92ZVN0YXJ0ID4gMC41KSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzYiByZW1vdmUgXCIgKyB0eXBlICsgXCIgW1wiICsgcmVtb3ZlU3RhcnQgKyBcIixcIiArIHJlbW92ZUVuZCArIFwiXSwgb2YgW1wiICsgYnVmU3RhcnQgKyBcIixcIiArIGJ1ZkVuZCArIFwiXSwgcG9zOlwiICsgdGhpcy5tZWRpYS5jdXJyZW50VGltZSk7XG4gICAgICAgICAgICAgICAgICAgIHNiLnJlbW92ZShyZW1vdmVTdGFydCwgcmVtb3ZlRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ3JlbW92ZUJ1ZmZlclJhbmdlIGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gQnVmZmVyQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEJ1ZmZlckNvbnRyb2xsZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvY2FwLWxldmVsLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2NhcC1sZXZlbC1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogY2FwIHN0cmVhbSBsZXZlbCB0byBtZWRpYSBzaXplIGRpbWVuc2lvbiBjb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgQ2FwTGV2ZWxDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhDYXBMZXZlbENvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ2FwTGV2ZWxDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuRlBTX0RST1BfTEVWRUxfQ0FQUElORywgZXZlbnRzXzEuZGVmYXVsdC5NRURJQV9BVFRBQ0hJTkcsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfUEFSU0VELCBldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9DT0RFQ1MsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICBfdGhpcy5maXJzdExldmVsID0gbnVsbDtcbiAgICAgICAgX3RoaXMubGV2ZWxzID0gW107XG4gICAgICAgIF90aGlzLm1lZGlhID0gbnVsbDtcbiAgICAgICAgX3RoaXMucmVzdHJpY3RlZExldmVscyA9IFtdO1xuICAgICAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5obHMuY29uZmlnLmNhcExldmVsVG9QbGF5ZXJTaXplKSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3N0b3BDYXBwaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25GcHNEcm9wTGV2ZWxDYXBwaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gRG9uJ3QgYWRkIGEgcmVzdHJpY3RlZCBsZXZlbCBtb3JlIHRoYW4gb25jZVxuICAgICAgICBpZiAoQ2FwTGV2ZWxDb250cm9sbGVyLmlzTGV2ZWxBbGxvd2VkKGRhdGEuZHJvcHBlZExldmVsLCB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMpKSB7XG4gICAgICAgICAgICB0aGlzLnJlc3RyaWN0ZWRMZXZlbHMucHVzaChkYXRhLmRyb3BwZWRMZXZlbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICB9O1xuICAgIENhcExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdFBhcnNlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gW107XG4gICAgICAgIHRoaXMubGV2ZWxzID0gZGF0YS5sZXZlbHM7XG4gICAgICAgIHRoaXMuZmlyc3RMZXZlbCA9IGRhdGEuZmlyc3RMZXZlbDtcbiAgICAgICAgaWYgKGhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUgJiYgZGF0YS52aWRlbykge1xuICAgICAgICAgICAgLy8gU3RhcnQgY2FwcGluZyBpbW1lZGlhdGVseSBpZiB0aGUgbWFuaWZlc3QgaGFzIHNpZ25hbGVkIHZpZGVvIGNvZGVjc1xuICAgICAgICAgICAgdGhpcy5fc3RhcnRDYXBwaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIE9ubHkgYWN0aXZhdGUgY2FwcGluZyB3aGVuIHBsYXlpbmcgYSB2aWRlbyBzdHJlYW07IG90aGVyd2lzZSwgbXVsdGktYml0cmF0ZSBhdWRpby1vbmx5IHN0cmVhbXMgd2lsbCBiZSByZXN0cmljdGVkXG4gICAgLy8gdG8gdGhlIGZpcnN0IGxldmVsXG4gICAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckNvZGVjcyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgaWYgKGhscy5jb25maWcuY2FwTGV2ZWxUb1BsYXllclNpemUgJiYgZGF0YS52aWRlbykge1xuICAgICAgICAgICAgLy8gSWYgdGhlIG1hbmlmZXN0IGRpZCBub3Qgc2lnbmFsIGEgdmlkZW8gY29kZWMgY2FwcGluZyBoYXMgYmVlbiBkZWZlcnJlZCB1bnRpbCB3ZSdyZSBjZXJ0YWluIHZpZGVvIGlzIHByZXNlbnRcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0Q2FwcGluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTGV2ZWxzVXBkYXRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubGV2ZWxzID0gZGF0YS5sZXZlbHM7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3N0b3BDYXBwaW5nKCk7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmRldGVjdFBsYXllclNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLm1lZGlhKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWxzTGVuZ3RoID0gdGhpcy5sZXZlbHMgPyB0aGlzLmxldmVscy5sZW5ndGggOiAwO1xuICAgICAgICAgICAgaWYgKGxldmVsc0xlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBobHNfMSA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgICAgIGhsc18xLmF1dG9MZXZlbENhcHBpbmcgPSB0aGlzLmdldE1heExldmVsKGxldmVsc0xlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgIGlmIChobHNfMS5hdXRvTGV2ZWxDYXBwaW5nID4gdGhpcy5hdXRvTGV2ZWxDYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGF1dG8gbGV2ZWwgY2FwcGluZyBoYXMgYSBoaWdoZXIgdmFsdWUgZm9yIHRoZSBwcmV2aW91cyBvbmUsIGZsdXNoIHRoZSBidWZmZXIgdXNpbmcgbmV4dExldmVsU3dpdGNoXG4gICAgICAgICAgICAgICAgICAgIC8vIHVzdWFsbHkgaGFwcGVuIHdoZW4gdGhlIHVzZXIgZ28gdG8gdGhlIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgICAgICAgICAgICAgICAgaGxzXzEuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWxTd2l0Y2goKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvTGV2ZWxDYXBwaW5nID0gaGxzXzEuYXV0b0xldmVsQ2FwcGluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcbiAgICAqIHJldHVybnMgbGV2ZWwgc2hvdWxkIGJlIHRoZSBvbmUgd2l0aCB0aGUgZGltZW5zaW9ucyBlcXVhbCBvciBncmVhdGVyIHRoYW4gdGhlIG1lZGlhIChwbGF5ZXIpIGRpbWVuc2lvbnMgKHNvIHRoZSB2aWRlbyB3aWxsIGJlIGRvd25zY2FsZWQpXG4gICAgKi9cbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmdldE1heExldmVsID0gZnVuY3Rpb24gKGNhcExldmVsSW5kZXgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKCF0aGlzLmxldmVscykge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWxpZExldmVscyA9IHRoaXMubGV2ZWxzLmZpbHRlcihmdW5jdGlvbiAobGV2ZWwsIGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4gQ2FwTGV2ZWxDb250cm9sbGVyLmlzTGV2ZWxBbGxvd2VkKGluZGV4LCBfdGhpcy5yZXN0cmljdGVkTGV2ZWxzKSAmJiBpbmRleCA8PSBjYXBMZXZlbEluZGV4O1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIENhcExldmVsQ29udHJvbGxlci5nZXRNYXhMZXZlbEJ5TWVkaWFTaXplKHZhbGlkTGV2ZWxzLCB0aGlzLm1lZGlhV2lkdGgsIHRoaXMubWVkaWFIZWlnaHQpO1xuICAgIH07XG4gICAgQ2FwTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5fc3RhcnRDYXBwaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICAgICAgLy8gRG9uJ3QgcmVzZXQgY2FwcGluZyBpZiBzdGFydGVkIHR3aWNlOyB0aGlzIGNhbiBoYXBwZW4gaWYgdGhlIG1hbmlmZXN0IHNpZ25hbHMgYSB2aWRlbyBjb2RlY1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgdGhpcy5obHMuZmlyc3RMZXZlbCA9IHRoaXMuZ2V0TWF4TGV2ZWwodGhpcy5maXJzdExldmVsKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuZGV0ZWN0UGxheWVyU2l6ZS5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgICAgICAgdGhpcy5kZXRlY3RQbGF5ZXJTaXplKCk7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLl9zdG9wQ2FwcGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5yZXN0cmljdGVkTGV2ZWxzID0gW107XG4gICAgICAgIHRoaXMuZmlyc3RMZXZlbCA9IG51bGw7XG4gICAgICAgIHRoaXMuYXV0b0xldmVsQ2FwcGluZyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLCBcIm1lZGlhV2lkdGhcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB3aWR0aDtcbiAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgICAgICB3aWR0aCA9IG1lZGlhLndpZHRoIHx8IG1lZGlhLmNsaWVudFdpZHRoIHx8IG1lZGlhLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIHdpZHRoICo9IENhcExldmVsQ29udHJvbGxlci5jb250ZW50U2NhbGVGYWN0b3I7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2lkdGg7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDYXBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLCBcIm1lZGlhSGVpZ2h0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0O1xuICAgICAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgICAgIGhlaWdodCA9IG1lZGlhLmhlaWdodCB8fCBtZWRpYS5jbGllbnRIZWlnaHQgfHwgbWVkaWEub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIGhlaWdodCAqPSBDYXBMZXZlbENvbnRyb2xsZXIuY29udGVudFNjYWxlRmFjdG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhlaWdodDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KENhcExldmVsQ29udHJvbGxlciwgXCJjb250ZW50U2NhbGVGYWN0b3JcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvID0gMTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICAgICAgcmV0dXJuIHBpeGVsUmF0aW87XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIENhcExldmVsQ29udHJvbGxlci5pc0xldmVsQWxsb3dlZCA9IGZ1bmN0aW9uIChsZXZlbCwgcmVzdHJpY3RlZExldmVscykge1xuICAgICAgICBpZiAocmVzdHJpY3RlZExldmVscyA9PT0gdm9pZCAwKSB7IHJlc3RyaWN0ZWRMZXZlbHMgPSBbXTsgfVxuICAgICAgICByZXR1cm4gcmVzdHJpY3RlZExldmVscy5pbmRleE9mKGxldmVsKSA9PT0gLTE7XG4gICAgfTtcbiAgICBDYXBMZXZlbENvbnRyb2xsZXIuZ2V0TWF4TGV2ZWxCeU1lZGlhU2l6ZSA9IGZ1bmN0aW9uIChsZXZlbHMsIHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgaWYgKCFsZXZlbHMgfHwgKGxldmVscyAmJiAhbGV2ZWxzLmxlbmd0aCkpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICAvLyBMZXZlbHMgY2FuIGhhdmUgdGhlIHNhbWUgZGltZW5zaW9ucyBidXQgZGlmZmVyaW5nIGJhbmR3aWR0aHMgLSBzaW5jZSBsZXZlbHMgYXJlIG9yZGVyZWQsIHdlIGNhbiBsb29rIHRvIHRoZSBuZXh0XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB3aGV0aGVyIHdlJ3ZlIGNob3NlbiB0aGUgZ3JlYXRlc3QgYmFuZHdpZHRoIGZvciB0aGUgbWVkaWEncyBkaW1lbnNpb25zXG4gICAgICAgIHZhciBhdEdyZWF0ZXN0QmFuZGl3ZHRoID0gZnVuY3Rpb24gKGN1ckxldmVsLCBuZXh0TGV2ZWwpIHtcbiAgICAgICAgICAgIGlmICghbmV4dExldmVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3VyTGV2ZWwud2lkdGggIT09IG5leHRMZXZlbC53aWR0aCB8fCBjdXJMZXZlbC5oZWlnaHQgIT09IG5leHRMZXZlbC5oZWlnaHQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIElmIHdlIHJ1biB0aHJvdWdoIHRoZSBsb29wIHdpdGhvdXQgYnJlYWtpbmcsIHRoZSBtZWRpYSdzIGRpbWVuc2lvbnMgYXJlIGdyZWF0ZXIgdGhhbiBldmVyeSBsZXZlbCwgc28gZGVmYXVsdCB0b1xuICAgICAgICAvLyB0aGUgbWF4IGxldmVsXG4gICAgICAgIHZhciBtYXhMZXZlbEluZGV4ID0gbGV2ZWxzLmxlbmd0aCAtIDE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWwgPSBsZXZlbHNbaV07XG4gICAgICAgICAgICBpZiAoKGxldmVsLndpZHRoID49IHdpZHRoIHx8IGxldmVsLmhlaWdodCA+PSBoZWlnaHQpICYmIGF0R3JlYXRlc3RCYW5kaXdkdGgobGV2ZWwsIGxldmVsc1tpICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgbWF4TGV2ZWxJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heExldmVsSW5kZXg7XG4gICAgfTtcbiAgICByZXR1cm4gQ2FwTGV2ZWxDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQ2FwTGV2ZWxDb250cm9sbGVyO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2VtZS1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29udHJvbGxlci9lbWUtY29udHJvbGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEBhdXRob3IgU3RlcGhhbiBIZXNzZSA8ZGlzcGFyYXRAZ21haWwuY29tPiB8IDx0Y2hha2FiYW1AZ21haWwuY29tPlxuICpcbiAqIERSTSBzdXBwb3J0IGZvciBIbHMuanNcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG52YXIgTUFYX0xJQ0VOU0VfUkVRVUVTVF9GQUlMVVJFUyA9IDM7XG4vKipcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL05hdmlnYXRvci9yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NcbiAqL1xudmFyIEtleVN5c3RlbXMgPSB7XG4gICAgV0lERVZJTkU6ICdjb20ud2lkZXZpbmUuYWxwaGEnLFxuICAgIFBMQVlSRUFEWTogJ2NvbS5taWNyb3NvZnQucGxheXJlYWR5J1xufTtcbi8qKlxuICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9uXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGF1ZGlvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgYXVkaW8gY29kZWNzIHRvIHN1cHBvcnRcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gdmlkZW9Db2RlY3MgTGlzdCBvZiByZXF1aXJlZCB2aWRlbyBjb2RlY3MgdG8gc3VwcG9ydFxuICogQHBhcmFtIHtvYmplY3R9IGRybVN5c3RlbU9wdGlvbnMgT3B0aW9uYWwgcGFyYW1ldGVycy9yZXF1aXJlbWVudHMgZm9yIHRoZSBrZXktc3lzdGVtXG4gKiBAcmV0dXJucyB7QXJyYXk8TWVkaWFTeXN0ZW1Db25maWd1cmF0aW9uPn0gQW4gYXJyYXkgb2Ygc3VwcG9ydGVkIGNvbmZpZ3VyYXRpb25zXG4gKi9cbnZhciBjcmVhdGVXaWRldmluZU1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMgPSBmdW5jdGlvbiAoYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzLCBkcm1TeXN0ZW1PcHRpb25zKSB7XG4gICAgdmFyIGJhc2VDb25maWcgPSB7XG4gICAgICAgIC8vIGluaXREYXRhVHlwZXM6IFsna2V5aWRzJywgJ21wNCddLFxuICAgICAgICAvLyBsYWJlbDogXCJcIixcbiAgICAgICAgLy8gcGVyc2lzdGVudFN0YXRlOiBcIm5vdC1hbGxvd2VkXCIsIC8vIG9yIFwicmVxdWlyZWRcIiA/XG4gICAgICAgIC8vIGRpc3RpbmN0aXZlSWRlbnRpZmllcjogXCJub3QtYWxsb3dlZFwiLCAvLyBvciBcInJlcXVpcmVkXCIgP1xuICAgICAgICAvLyBzZXNzaW9uVHlwZXM6IFsndGVtcG9yYXJ5J10sXG4gICAgICAgIHZpZGVvQ2FwYWJpbGl0aWVzOiBbXG4gICAgICAgIC8vIHsgY29udGVudFR5cGU6ICd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFXCInIH1cbiAgICAgICAgXVxuICAgIH07XG4gICAgdmlkZW9Db2RlY3MuZm9yRWFjaChmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgYmFzZUNvbmZpZy52aWRlb0NhcGFiaWxpdGllcy5wdXNoKHtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlOiBcInZpZGVvL21wNDsgY29kZWNzPVxcXCJcIiArIGNvZGVjICsgXCJcXFwiXCJcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgYmFzZUNvbmZpZ1xuICAgIF07XG59O1xuLyoqXG4gKiBUaGUgaWRlYSBoZXJlIGlzIHRvIGhhbmRsZSBrZXktc3lzdGVtIChhbmQgdGhlaXIgcmVzcGVjdGl2ZSBwbGF0Zm9ybXMpIHNwZWNpZmljIGNvbmZpZ3VyYXRpb24gZGlmZmVyZW5jZXNcbiAqIGluIG9yZGVyIHRvIHdvcmsgd2l0aCB0aGUgbG9jYWwgcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIG1ldGhvZC5cbiAqXG4gKiBXZSBjYW4gYWxzbyBydWxlLW91dCBwbGF0Zm9ybS1yZWxhdGVkIGtleS1zeXN0ZW0gc3VwcG9ydCBhdCB0aGlzIHBvaW50IGJ5IHRocm93aW5nIGFuIGVycm9yIG9yIHJldHVybmluZyBudWxsLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTeXN0ZW0gSWRlbnRpZmllciBmb3IgdGhlIGtleS1zeXN0ZW0sIHNlZSBgS2V5U3lzdGVtc2AgZW51bVxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBhdWRpb0NvZGVjcyBMaXN0IG9mIHJlcXVpcmVkIGF1ZGlvIGNvZGVjcyB0byBzdXBwb3J0XG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHZpZGVvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgdmlkZW8gY29kZWNzIHRvIHN1cHBvcnRcbiAqIEByZXR1cm5zIHtBcnJheTxNZWRpYVN5c3RlbUNvbmZpZ3VyYXRpb24+IHwgbnVsbH0gQSBub24tZW1wdHkgQXJyYXkgb2YgTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9uIG9iamVjdHMgb3IgYG51bGxgXG4gKi9cbnZhciBnZXRTdXBwb3J0ZWRNZWRpYUtleVN5c3RlbUNvbmZpZ3VyYXRpb25zID0gZnVuY3Rpb24gKGtleVN5c3RlbSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKSB7XG4gICAgc3dpdGNoIChrZXlTeXN0ZW0pIHtcbiAgICAgICAgY2FzZSBLZXlTeXN0ZW1zLldJREVWSU5FOlxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZVdpZGV2aW5lTWVkaWFLZXlTeXN0ZW1Db25maWd1cmF0aW9ucyhhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1Vua25vd24ga2V5LXN5c3RlbTogJyArIGtleVN5c3RlbSk7XG4gICAgfVxufTtcbi8qKlxuICogQ29udHJvbGxlciB0byBkZWFsIHdpdGggZW5jcnlwdGVkIG1lZGlhIGV4dGVuc2lvbnMgKEVNRSlcbiAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0VuY3J5cHRlZF9NZWRpYV9FeHRlbnNpb25zX0FQSVxuICpcbiAqIEBjbGFzc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBFTUVDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhFTUVDb250cm9sbGVyLCBfc3VwZXIpO1xuICAgIC8qKlxuICAgICAgICogQGNvbnN0cnVjdHNcbiAgICAgICAqIEBwYXJhbSB7SGxzfSBobHMgT3VyIEhscy5qcyBpbnN0YW5jZVxuICAgICAgICovXG4gICAgZnVuY3Rpb24gRU1FQ29udHJvbGxlcihobHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0FUVEFDSEVELCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX1BBUlNFRCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuX3dpZGV2aW5lTGljZW5zZVVybCA9IGhscy5jb25maWcud2lkZXZpbmVMaWNlbnNlVXJsO1xuICAgICAgICBfdGhpcy5fbGljZW5zZVhoclNldHVwID0gaGxzLmNvbmZpZy5saWNlbnNlWGhyU2V0dXA7XG4gICAgICAgIF90aGlzLl9lbWVFbmFibGVkID0gaGxzLmNvbmZpZy5lbWVFbmFibGVkO1xuICAgICAgICBfdGhpcy5fcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzID0gaGxzLmNvbmZpZy5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3NGdW5jO1xuICAgICAgICBfdGhpcy5fbWVkaWFLZXlzTGlzdCA9IFtdO1xuICAgICAgICBfdGhpcy5fbWVkaWEgPSBudWxsO1xuICAgICAgICBfdGhpcy5faGFzU2V0TWVkaWFLZXlzID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9pc01lZGlhRW5jcnlwdGVkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleVN5c3RlbSBJZGVudGlmaWVyIGZvciB0aGUga2V5LXN5c3RlbSwgc2VlIGBLZXlTeXN0ZW1zYCBlbnVtXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMaWNlbnNlIHNlcnZlciBVUkwgZm9yIGtleS1zeXN0ZW0gKGlmIGFueSBjb25maWd1cmVkLCBvdGhlcndpc2UgY2F1c2VzIGVycm9yKVxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TGljZW5zZVNlcnZlclVybCA9IGZ1bmN0aW9uIChrZXlTeXN0ZW0pIHtcbiAgICAgICAgdmFyIHVybDtcbiAgICAgICAgc3dpdGNoIChrZXlTeXN0ZW0pIHtcbiAgICAgICAgICAgIGNhc2UgS2V5U3lzdGVtcy5XSURFVklORTpcbiAgICAgICAgICAgICAgICB1cmwgPSB0aGlzLl93aWRldmluZUxpY2Vuc2VVcmw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHVybCA9IG51bGw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF1cmwpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIk5vIGxpY2Vuc2Ugc2VydmVyIFVSTCBjb25maWd1cmVkIGZvciBrZXktc3lzdGVtIFxcXCJcIiArIGtleVN5c3RlbSArIFwiXFxcIlwiKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX1NZU1RFTV9MSUNFTlNFX1JFUVVFU1RfRkFJTEVELFxuICAgICAgICAgICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXJsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBSZXF1ZXN0cyBhY2Nlc3Mgb2JqZWN0IGFuZCBhZGRzIGl0IHRvIG91ciBsaXN0IHVwb24gc3VjY2Vzc1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTeXN0ZW0gU3lzdGVtIElEIChzZWUgYEtleVN5c3RlbXNgKVxuICAgICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBhdWRpb0NvZGVjcyBMaXN0IG9mIHJlcXVpcmVkIGF1ZGlvIGNvZGVjcyB0byBzdXBwb3J0XG4gICAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHZpZGVvQ29kZWNzIExpc3Qgb2YgcmVxdWlyZWQgdmlkZW8gY29kZWNzIHRvIHN1cHBvcnRcbiAgICAgICAqL1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9hdHRlbXB0S2V5U3lzdGVtQWNjZXNzID0gZnVuY3Rpb24gKGtleVN5c3RlbSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKSB7XG4gICAgICAgIC8vIFRPRE86IGFkZCBvdGhlciBEUk0gXCJvcHRpb25zXCJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIG1lZGlhS2V5U3lzdGVtQ29uZmlncyA9IGdldFN1cHBvcnRlZE1lZGlhS2V5U3lzdGVtQ29uZmlndXJhdGlvbnMoa2V5U3lzdGVtLCBhdWRpb0NvZGVjcywgdmlkZW9Db2RlY3MpO1xuICAgICAgICBpZiAoIW1lZGlhS2V5U3lzdGVtQ29uZmlncykge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0NhbiBub3QgY3JlYXRlIGNvbmZpZyBmb3Iga2V5LXN5c3RlbSAobWF5YmUgYmVjYXVzZSBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydGVkKTonLCBrZXlTeXN0ZW0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1JlcXVlc3RpbmcgZW5jcnlwdGVkIG1lZGlhIGtleS1zeXN0ZW0gYWNjZXNzJyk7XG4gICAgICAgIC8vIGV4cGVjdGluZyBpbnRlcmZhY2UgbGlrZSB3aW5kb3cubmF2aWdhdG9yLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzc1xuICAgICAgICB0aGlzLnJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyhrZXlTeXN0ZW0sIG1lZGlhS2V5U3lzdGVtQ29uZmlncylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChtZWRpYUtleVN5c3RlbUFjY2Vzcykge1xuICAgICAgICAgICAgX3RoaXMuX29uTWVkaWFLZXlTeXN0ZW1BY2Nlc3NPYnRhaW5lZChrZXlTeXN0ZW0sIG1lZGlhS2V5U3lzdGVtQWNjZXNzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gb2J0YWluIGtleS1zeXN0ZW0gXFxcIlwiICsga2V5U3lzdGVtICsgXCJcXFwiIGFjY2VzczpcIiwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRU1FQ29udHJvbGxlci5wcm90b3R5cGUsIFwicmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3JlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2Vzcykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gcmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzIGZ1bmN0aW9uIGNvbmZpZ3VyZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3M7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAgICogSGFuZGxlcyBvYnRhaW5pbmcgYWNjZXNzIHRvIGEga2V5LXN5c3RlbVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXlTeXN0ZW1cbiAgICAgICAqIEBwYXJhbSB7TWVkaWFLZXlTeXN0ZW1BY2Nlc3N9IG1lZGlhS2V5U3lzdGVtQWNjZXNzIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYUtleVN5c3RlbUFjY2Vzc1xuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTWVkaWFLZXlTeXN0ZW1BY2Nlc3NPYnRhaW5lZCA9IGZ1bmN0aW9uIChrZXlTeXN0ZW0sIG1lZGlhS2V5U3lzdGVtQWNjZXNzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJBY2Nlc3MgZm9yIGtleS1zeXN0ZW0gXFxcIlwiICsga2V5U3lzdGVtICsgXCJcXFwiIG9idGFpbmVkXCIpO1xuICAgICAgICB2YXIgbWVkaWFLZXlzTGlzdEl0ZW0gPSB7XG4gICAgICAgICAgICBtZWRpYUtleXM6IG51bGwsXG4gICAgICAgICAgICBtZWRpYUtleXNTZXNzaW9uOiBudWxsLFxuICAgICAgICAgICAgbWVkaWFLZXlzU2Vzc2lvbkluaXRpYWxpemVkOiBmYWxzZSxcbiAgICAgICAgICAgIG1lZGlhS2V5U3lzdGVtQWNjZXNzOiBtZWRpYUtleVN5c3RlbUFjY2VzcyxcbiAgICAgICAgICAgIG1lZGlhS2V5U3lzdGVtRG9tYWluOiBrZXlTeXN0ZW1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbWVkaWFLZXlzTGlzdC5wdXNoKG1lZGlhS2V5c0xpc3RJdGVtKTtcbiAgICAgICAgbWVkaWFLZXlTeXN0ZW1BY2Nlc3MuY3JlYXRlTWVkaWFLZXlzKClcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChtZWRpYUtleXMpIHtcbiAgICAgICAgICAgIG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5cyA9IG1lZGlhS2V5cztcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJNZWRpYS1rZXlzIGNyZWF0ZWQgZm9yIGtleS1zeXN0ZW0gXFxcIlwiICsga2V5U3lzdGVtICsgXCJcXFwiXCIpO1xuICAgICAgICAgICAgX3RoaXMuX29uTWVkaWFLZXlzQ3JlYXRlZCgpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBtZWRpYS1rZXlzOicsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBIYW5kbGVzIGtleS1jcmVhdGlvbiAocmVwcmVzZW50cyBhY2Nlc3MgdG8gQ0RNKS4gV2UgYXJlIGdvaW5nIHRvIGNyZWF0ZSBrZXktc2Vzc2lvbnMgdXBvbiB0aGlzXG4gICAgICAgKiBmb3IgYWxsIGV4aXN0aW5nIGtleXMgd2hlcmUgbm8gc2Vzc2lvbiBleGlzdHMgeWV0LlxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTWVkaWFLZXlzQ3JlYXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gY2hlY2sgZm9yIGFsbCBrZXktbGlzdCBpdGVtcyBpZiBhIHNlc3Npb24gZXhpc3RzLCBvdGhlcndpc2UsIGNyZWF0ZSBvbmVcbiAgICAgICAgdGhpcy5fbWVkaWFLZXlzTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChtZWRpYUtleXNMaXN0SXRlbSkge1xuICAgICAgICAgICAgaWYgKCFtZWRpYUtleXNMaXN0SXRlbS5tZWRpYUtleXNTZXNzaW9uKSB7XG4gICAgICAgICAgICAgICAgbWVkaWFLZXlzTGlzdEl0ZW0ubWVkaWFLZXlzU2Vzc2lvbiA9IG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5cy5jcmVhdGVTZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX29uTmV3TWVkaWFLZXlTZXNzaW9uKG1lZGlhS2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7Kn0ga2V5U2Vzc2lvblxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTmV3TWVkaWFLZXlTZXNzaW9uID0gZnVuY3Rpb24gKGtleVNlc3Npb24pIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk5ldyBrZXktc3lzdGVtIHNlc3Npb24gXCIgKyBrZXlTZXNzaW9uLnNlc3Npb25JZCk7XG4gICAgICAgIGtleVNlc3Npb24uYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgX3RoaXMuX29uS2V5U2Vzc2lvbk1lc3NhZ2Uoa2V5U2Vzc2lvbiwgZXZlbnQubWVzc2FnZSk7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9vbktleVNlc3Npb25NZXNzYWdlID0gZnVuY3Rpb24gKGtleVNlc3Npb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnR290IEVNRSBtZXNzYWdlIGV2ZW50LCBjcmVhdGluZyBsaWNlbnNlIHJlcXVlc3QnKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdExpY2Vuc2UobWVzc2FnZSwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1JlY2VpdmVkIGxpY2Vuc2UgZGF0YSwgdXBkYXRpbmcga2V5LXNlc3Npb24nKTtcbiAgICAgICAgICAgIGtleVNlc3Npb24udXBkYXRlKGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9vbk1lZGlhRW5jcnlwdGVkID0gZnVuY3Rpb24gKGluaXREYXRhVHlwZSwgaW5pdERhdGEpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk1lZGlhIGlzIGVuY3J5cHRlZCB1c2luZyBcXFwiXCIgKyBpbml0RGF0YVR5cGUgKyBcIlxcXCIgaW5pdCBkYXRhIHR5cGVcIik7XG4gICAgICAgIHRoaXMuX2lzTWVkaWFFbmNyeXB0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YVR5cGUgPSBpbml0RGF0YVR5cGU7XG4gICAgICAgIHRoaXMuX21lZGlhRW5jcnlwdGlvbkluaXREYXRhID0gaW5pdERhdGE7XG4gICAgICAgIHRoaXMuX2F0dGVtcHRTZXRNZWRpYUtleXMoKTtcbiAgICAgICAgdGhpcy5fZ2VuZXJhdGVSZXF1ZXN0V2l0aFByZWZlcnJlZEtleVNlc3Npb24oKTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9hdHRlbXB0U2V0TWVkaWFLZXlzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2hhc1NldE1lZGlhS2V5cykge1xuICAgICAgICAgICAgLy8gRklYTUU6IHNlZSBpZiB3ZSBjYW4vd2FudC9uZWVkLXRvIHJlYWxseSB0byBkZWFsIHdpdGggc2V2ZXJhbCBwb3RlbnRpYWwga2V5LXNlc3Npb25zP1xuICAgICAgICAgICAgdmFyIGtleXNMaXN0SXRlbSA9IHRoaXMuX21lZGlhS2V5c0xpc3RbMF07XG4gICAgICAgICAgICBpZiAoIWtleXNMaXN0SXRlbSB8fCAha2V5c0xpc3RJdGVtLm1lZGlhS2V5cykge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignRmF0YWw6IE1lZGlhIGlzIGVuY3J5cHRlZCBidXQgbm8gQ0RNIGFjY2VzcyBvciBubyBrZXlzIGhhdmUgYmVlbiBvYnRhaW5lZCB5ZXQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX1NZU1RFTV9OT19LRVlTLFxuICAgICAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1NldHRpbmcga2V5cyBmb3IgZW5jcnlwdGVkIG1lZGlhJyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYS5zZXRNZWRpYUtleXMoa2V5c0xpc3RJdGVtLm1lZGlhS2V5cyk7XG4gICAgICAgICAgICB0aGlzLl9oYXNTZXRNZWRpYUtleXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fZ2VuZXJhdGVSZXF1ZXN0V2l0aFByZWZlcnJlZEtleVNlc3Npb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIC8vIEZJWE1FOiBzZWUgaWYgd2UgY2FuL3dhbnQvbmVlZC10byByZWFsbHkgdG8gZGVhbCB3aXRoIHNldmVyYWwgcG90ZW50aWFsIGtleS1zZXNzaW9ucz9cbiAgICAgICAgdmFyIGtleXNMaXN0SXRlbSA9IHRoaXMuX21lZGlhS2V5c0xpc3RbMF07XG4gICAgICAgIGlmICgha2V5c0xpc3RJdGVtKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0ZhdGFsOiBNZWRpYSBpcyBlbmNyeXB0ZWQgYnV0IG5vdCBhbnkga2V5LXN5c3RlbSBhY2Nlc3MgaGFzIGJlZW4gb2J0YWluZWQgeWV0Jyk7XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLktFWV9TWVNURU1fRVJST1IsXG4gICAgICAgICAgICAgICAgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLktFWV9TWVNURU1fTk9fQUNDRVNTLFxuICAgICAgICAgICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb25Jbml0aWFsaXplZCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0tleS1TZXNzaW9uIGFscmVhZHkgaW5pdGlhbGl6ZWQgYnV0IHJlcXVlc3RlZCBhZ2FpbicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBrZXlTZXNzaW9uID0ga2V5c0xpc3RJdGVtLm1lZGlhS2V5c1Nlc3Npb247XG4gICAgICAgIGlmICgha2V5U2Vzc2lvbikge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdGYXRhbDogTWVkaWEgaXMgZW5jcnlwdGVkIGJ1dCBubyBrZXktc2Vzc2lvbiBleGlzdGluZycpO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX05PX1NFU1NJT04sXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBpbml0RGF0YVR5cGUgPSB0aGlzLl9tZWRpYUVuY3J5cHRpb25Jbml0RGF0YVR5cGU7XG4gICAgICAgIHZhciBpbml0RGF0YSA9IHRoaXMuX21lZGlhRW5jcnlwdGlvbkluaXREYXRhO1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiR2VuZXJhdGluZyBrZXktc2Vzc2lvbiByZXF1ZXN0IGZvciBcXFwiXCIgKyBpbml0RGF0YVR5cGUgKyBcIlxcXCIgaW5pdCBkYXRhIHR5cGVcIik7XG4gICAgICAgIGtleXNMaXN0SXRlbS5tZWRpYUtleXNTZXNzaW9uSW5pdGlhbGl6ZWQgPSB0cnVlO1xuICAgICAgICBrZXlTZXNzaW9uLmdlbmVyYXRlUmVxdWVzdChpbml0RGF0YVR5cGUsIGluaXREYXRhKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKCdLZXktc2Vzc2lvbiBnZW5lcmF0aW9uIHN1Y2NlZWRlZCcpO1xuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBrZXktc2Vzc2lvbiByZXF1ZXN0OicsIGVycik7XG4gICAgICAgICAgICBfdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX05PX1NFU1NJT04sXG4gICAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgTGljZW5zZSBzZXJ2ZXIgVVJMXG4gICAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBrZXlNZXNzYWdlIE1lc3NhZ2UgZGF0YSBpc3N1ZWQgYnkga2V5LXN5c3RlbVxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIHdoZW4gWEhSIGhhcyBzdWNjZWVkZWRcbiAgICAgICAqIEByZXR1cm5zIHtYTUxIdHRwUmVxdWVzdH0gVW5zZW50IChidXQgb3BlbmVkIHN0YXRlKSBYSFIgb2JqZWN0XG4gICAgICAgKi9cbiAgICBFTUVDb250cm9sbGVyLnByb3RvdHlwZS5fY3JlYXRlTGljZW5zZVhociA9IGZ1bmN0aW9uICh1cmwsIGtleU1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgdmFyIGxpY2Vuc2VYaHJTZXR1cCA9IHRoaXMuX2xpY2Vuc2VYaHJTZXR1cDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChsaWNlbnNlWGhyU2V0dXApIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsaWNlbnNlWGhyU2V0dXAoeGhyLCB1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyB0cnkgdG8gb3BlbiBiZWZvcmUgcnVubmluZyBzZXR1cFxuICAgICAgICAgICAgICAgICAgICB4aHIub3BlbignUE9TVCcsIHVybCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGxpY2Vuc2VYaHJTZXR1cCh4aHIsIHVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgbGljZW5zZVhoclNldHVwIGRpZCBub3QgeWV0IGNhbGwgb3BlbiwgbGV0J3MgZG8gaXQgbm93XG4gICAgICAgICAgICBpZiAoIXhoci5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgeGhyLm9wZW4oJ1BPU1QnLCB1cmwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJRTExIHRocm93cyBhbiBleGNlcHRpb24gb24geGhyLm9wZW4gaWYgYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gSFRUUCByZXNvdXJjZSBvdmVyIEhUVFBTXG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0Vycm9yIHNldHRpbmcgdXAga2V5LXN5c3RlbSBsaWNlbnNlIFhIUicsIGUpO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5LRVlfU1lTVEVNX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID1cbiAgICAgICAgICAgIHRoaXMuX29uTGljZW5zZVJlcXVlc3RSZWFkeVN0YWdlQ2hhbmdlLmJpbmQodGhpcywgeGhyLCB1cmwsIGtleU1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuIHhocjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtYTUxIdHRwUmVxdWVzdH0geGhyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIExpY2Vuc2Ugc2VydmVyIFVSTFxuICAgICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0ga2V5TWVzc2FnZSBNZXNzYWdlIGRhdGEgaXNzdWVkIGJ5IGtleS1zeXN0ZW1cbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIENhbGxlZCB3aGVuIFhIUiBoYXMgc3VjY2VlZGVkXG4gICAgICAgKlxuICAgICAgICovXG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX29uTGljZW5zZVJlcXVlc3RSZWFkeVN0YWdlQ2hhbmdlID0gZnVuY3Rpb24gKHhociwgdXJsLCBrZXlNZXNzYWdlLCBjYWxsYmFjaykge1xuICAgICAgICBzd2l0Y2ggKHhoci5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0TGljZW5zZUZhaWx1cmVDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ0xpY2Vuc2UgcmVxdWVzdCBzdWNjZWVkZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcIkxpY2Vuc2UgUmVxdWVzdCBYSFIgZmFpbGVkIChcIiArIHVybCArIFwiKS4gU3RhdHVzOiBcIiArIHhoci5zdGF0dXMgKyBcIiAoXCIgKyB4aHIuc3RhdHVzVGV4dCArIFwiKVwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RMaWNlbnNlRmFpbHVyZUNvdW50IDw9IE1BWF9MSUNFTlNFX1JFUVVFU1RfRkFJTFVSRVMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRlbXB0c0xlZnQgPSBNQVhfTElDRU5TRV9SRVFVRVNUX0ZBSUxVUkVTIC0gdGhpcy5fcmVxdWVzdExpY2Vuc2VGYWlsdXJlQ291bnQgKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJSZXRyeWluZyBsaWNlbnNlIHJlcXVlc3QsIFwiICsgYXR0ZW1wdHNMZWZ0ICsgXCIgYXR0ZW1wdHMgbGVmdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RMaWNlbnNlKGtleU1lc3NhZ2UsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfU1lTVEVNX0xJQ0VOU0VfUkVRVUVTVF9GQUlMRUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGtleXNMaXN0SXRlbVxuICAgICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0ga2V5TWVzc2FnZVxuICAgICAgICogQHJldHVybnMge0FycmF5QnVmZmVyfSBDaGFsbGVuZ2UgZGF0YSBwb3N0ZWQgdG8gbGljZW5zZSBzZXJ2ZXJcbiAgICAgICAqL1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLl9nZW5lcmF0ZUxpY2Vuc2VSZXF1ZXN0Q2hhbGxlbmdlID0gZnVuY3Rpb24gKGtleXNMaXN0SXRlbSwga2V5TWVzc2FnZSkge1xuICAgICAgICB2YXIgY2hhbGxlbmdlO1xuICAgICAgICBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluID09PSBLZXlTeXN0ZW1zLlBMQVlSRUFEWSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdQbGF5UmVhZHkgaXMgbm90IHN1cHBvcnRlZCAoeWV0KScpO1xuICAgICAgICAgICAgLy8gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0RWRnZS9EZW1vcy9ibG9iL21hc3Rlci9lbWUvc2NyaXB0cy9kZW1vLmpzXG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgICBpZiAodGhpcy5saWNlbnNlVHlwZSAhPT0gdGhpcy5MSUNFTlNFX1RZUEVfV0lERVZJTkUpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZvciBQbGF5UmVhZHkgQ0RNcywgd2UgbmVlZCB0byBkaWcgdGhlIENoYWxsZW5nZSBvdXQgb2YgdGhlIFhNTC5cbiAgICAgICAgICAgICAgICAgIHZhciBrZXlNZXNzYWdlWG1sID0gbmV3IERPTVBhcnNlcigpLnBhcnNlRnJvbVN0cmluZyhTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50MTZBcnJheShrZXlNZXNzYWdlKSksICdhcHBsaWNhdGlvbi94bWwnKTtcbiAgICAgICAgICAgICAgICAgIGlmIChrZXlNZXNzYWdlWG1sLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdDaGFsbGVuZ2UnKVswXSkge1xuICAgICAgICAgICAgICAgICAgICAgIGNoYWxsZW5nZSA9IGF0b2Ioa2V5TWVzc2FnZVhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ2hhbGxlbmdlJylbMF0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGZpbmQgPENoYWxsZW5nZT4gaW4ga2V5IG1lc3NhZ2UnO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlck5hbWVzID0ga2V5TWVzc2FnZVhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmFtZScpO1xuICAgICAgICAgICAgICAgICAgdmFyIGhlYWRlclZhbHVlcyA9IGtleU1lc3NhZ2VYbWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3ZhbHVlJyk7XG4gICAgICAgICAgICAgICAgICBpZiAoaGVhZGVyTmFtZXMubGVuZ3RoICE9PSBoZWFkZXJWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ01pc21hdGNoZWQgaGVhZGVyIDxuYW1lPi88dmFsdWU+IHBhaXIgaW4ga2V5IG1lc3NhZ2UnO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWFkZXJOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGhlYWRlck5hbWVzW2ldLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlLCBoZWFkZXJWYWx1ZXNbaV0uY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICovXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluID09PSBLZXlTeXN0ZW1zLldJREVWSU5FKSB7XG4gICAgICAgICAgICAvLyBGb3IgV2lkZXZpbmUgQ0RNcywgdGhlIGNoYWxsZW5nZSBpcyB0aGUga2V5TWVzc2FnZS5cbiAgICAgICAgICAgIGNoYWxsZW5nZSA9IGtleU1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ1Vuc3VwcG9ydGVkIGtleS1zeXN0ZW06Jywga2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbGxlbmdlO1xuICAgIH07XG4gICAgRU1FQ29udHJvbGxlci5wcm90b3R5cGUuX3JlcXVlc3RMaWNlbnNlID0gZnVuY3Rpb24gKGtleU1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1JlcXVlc3RpbmcgY29udGVudCBsaWNlbnNlIGZvciBrZXktc3lzdGVtJyk7XG4gICAgICAgIHZhciBrZXlzTGlzdEl0ZW0gPSB0aGlzLl9tZWRpYUtleXNMaXN0WzBdO1xuICAgICAgICBpZiAoIWtleXNMaXN0SXRlbSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKCdGYXRhbCBlcnJvcjogTWVkaWEgaXMgZW5jcnlwdGVkIGJ1dCBubyBrZXktc3lzdGVtIGFjY2VzcyBoYXMgYmVlbiBvYnRhaW5lZCB5ZXQnKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuS0VZX1NZU1RFTV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX1NZU1RFTV9OT19BQ0NFU1MsXG4gICAgICAgICAgICAgICAgZmF0YWw6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLmdldExpY2Vuc2VTZXJ2ZXJVcmwoa2V5c0xpc3RJdGVtLm1lZGlhS2V5U3lzdGVtRG9tYWluKTtcbiAgICAgICAgdmFyIHhociA9IHRoaXMuX2NyZWF0ZUxpY2Vuc2VYaHIodXJsLCBrZXlNZXNzYWdlLCBjYWxsYmFjayk7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJTZW5kaW5nIGxpY2Vuc2UgcmVxdWVzdCB0byBVUkw6IFwiICsgdXJsKTtcbiAgICAgICAgeGhyLnNlbmQodGhpcy5fZ2VuZXJhdGVMaWNlbnNlUmVxdWVzdENoYWxsZW5nZShrZXlzTGlzdEl0ZW0sIGtleU1lc3NhZ2UpKTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5fZW1lRW5hYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgICAgIC8vIGtlZXAgcmVmZXJlbmNlIG9mIG1lZGlhXG4gICAgICAgIHRoaXMuX21lZGlhID0gbWVkaWE7XG4gICAgICAgIC8vIEZJWE1FOiBhbHNvIGhhbmRsZSBkZXRhY2hpbmcgbWVkaWEgIVxuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdlbmNyeXB0ZWQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgX3RoaXMuX29uTWVkaWFFbmNyeXB0ZWQoZS5pbml0RGF0YVR5cGUsIGUuaW5pdERhdGEpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIEVNRUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBpZiAoIXRoaXMuX2VtZUVuYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXVkaW9Db2RlY3MgPSBkYXRhLmxldmVscy5tYXAoZnVuY3Rpb24gKGxldmVsKSB7IHJldHVybiBsZXZlbC5hdWRpb0NvZGVjOyB9KTtcbiAgICAgICAgdmFyIHZpZGVvQ29kZWNzID0gZGF0YS5sZXZlbHMubWFwKGZ1bmN0aW9uIChsZXZlbCkgeyByZXR1cm4gbGV2ZWwudmlkZW9Db2RlYzsgfSk7XG4gICAgICAgIHRoaXMuX2F0dGVtcHRLZXlTeXN0ZW1BY2Nlc3MoS2V5U3lzdGVtcy5XSURFVklORSwgYXVkaW9Db2RlY3MsIHZpZGVvQ29kZWNzKTtcbiAgICB9O1xuICAgIHJldHVybiBFTUVDb250cm9sbGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRU1FQ29udHJvbGxlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2Zwcy1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29udHJvbGxlci9mcHMtY29udHJvbGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogRlBTIENvbnRyb2xsZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZTtcbnZhciBGUFNDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGUFNDb250cm9sbGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZQU0NvbnRyb2xsZXIoaGxzKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNISU5HKSB8fCB0aGlzO1xuICAgIH1cbiAgICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lcikge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVmlkZW9QbGF5YmFja1F1YWxpdHlBdmFpbGFibGUgPSBmYWxzZTtcbiAgICB9O1xuICAgIEZQU0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgICAgICBpZiAoY29uZmlnLmNhcExldmVsT25GUFNEcm9wKSB7XG4gICAgICAgICAgICB2YXIgdmlkZW9fMSA9IHRoaXMudmlkZW8gPSBkYXRhLm1lZGlhIGluc3RhbmNlb2Ygd2luZG93LkhUTUxWaWRlb0VsZW1lbnQgPyBkYXRhLm1lZGlhIDogbnVsbDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmlkZW9fMS5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNWaWRlb1BsYXliYWNrUXVhbGl0eUF2YWlsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMuY2hlY2tGUFNJbnRlcnZhbC5iaW5kKHRoaXMpLCBjb25maWcuZnBzRHJvcHBlZE1vbml0b3JpbmdQZXJpb2QpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0ZQUyA9IGZ1bmN0aW9uICh2aWRlbywgZGVjb2RlZEZyYW1lcywgZHJvcHBlZEZyYW1lcykge1xuICAgICAgICB2YXIgY3VycmVudFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGRlY29kZWRGcmFtZXMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhc3RUaW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQZXJpb2QgPSBjdXJyZW50VGltZSAtIHRoaXMubGFzdFRpbWUsIGN1cnJlbnREcm9wcGVkID0gZHJvcHBlZEZyYW1lcyAtIHRoaXMubGFzdERyb3BwZWRGcmFtZXMsIGN1cnJlbnREZWNvZGVkID0gZGVjb2RlZEZyYW1lcyAtIHRoaXMubGFzdERlY29kZWRGcmFtZXMsIGRyb3BwZWRGUFMgPSAxMDAwICogY3VycmVudERyb3BwZWQgLyBjdXJyZW50UGVyaW9kLCBobHNfMSA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgICAgIGhsc18xLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUFNfRFJPUCwgeyBjdXJyZW50RHJvcHBlZDogY3VycmVudERyb3BwZWQsIGN1cnJlbnREZWNvZGVkOiBjdXJyZW50RGVjb2RlZCwgdG90YWxEcm9wcGVkRnJhbWVzOiBkcm9wcGVkRnJhbWVzIH0pO1xuICAgICAgICAgICAgICAgIGlmIChkcm9wcGVkRlBTID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdjaGVja0ZQUyA6IGRyb3BwZWRGUFMvZGVjb2RlZEZQUzonICsgZHJvcHBlZEZQUy8oMTAwMCAqIGN1cnJlbnREZWNvZGVkIC8gY3VycmVudFBlcmlvZCkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERyb3BwZWQgPiBobHNfMS5jb25maWcuZnBzRHJvcHBlZE1vbml0b3JpbmdUaHJlc2hvbGQgKiBjdXJyZW50RGVjb2RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRMZXZlbCA9IGhsc18xLmN1cnJlbnRMZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdkcm9wIEZQUyByYXRpbyBncmVhdGVyIHRoYW4gbWF4IGFsbG93ZWQgdmFsdWUgZm9yIGN1cnJlbnRMZXZlbDogJyArIGN1cnJlbnRMZXZlbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudExldmVsID4gMCAmJiAoaGxzXzEuYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgfHwgaGxzXzEuYXV0b0xldmVsQ2FwcGluZyA+PSBjdXJyZW50TGV2ZWwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudExldmVsID0gY3VycmVudExldmVsIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHNfMS50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlBTX0RST1BfTEVWRUxfQ0FQUElORywgeyBsZXZlbDogY3VycmVudExldmVsLCBkcm9wcGVkTGV2ZWw6IGhsc18xLmN1cnJlbnRMZXZlbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBobHNfMS5hdXRvTGV2ZWxDYXBwaW5nID0gY3VycmVudExldmVsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsc18xLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3RUaW1lID0gY3VycmVudFRpbWU7XG4gICAgICAgICAgICB0aGlzLmxhc3REcm9wcGVkRnJhbWVzID0gZHJvcHBlZEZyYW1lcztcbiAgICAgICAgICAgIHRoaXMubGFzdERlY29kZWRGcmFtZXMgPSBkZWNvZGVkRnJhbWVzO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBGUFNDb250cm9sbGVyLnByb3RvdHlwZS5jaGVja0ZQU0ludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdmlkZW8gPSB0aGlzLnZpZGVvO1xuICAgICAgICBpZiAodmlkZW8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmlkZW9QbGF5YmFja1F1YWxpdHlBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9QbGF5YmFja1F1YWxpdHkgPSB2aWRlby5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tGUFModmlkZW8sIHZpZGVvUGxheWJhY2tRdWFsaXR5LnRvdGFsVmlkZW9GcmFtZXMsIHZpZGVvUGxheWJhY2tRdWFsaXR5LmRyb3BwZWRWaWRlb0ZyYW1lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRlBTKHZpZGVvLCB2aWRlby53ZWJraXREZWNvZGVkRnJhbWVDb3VudCwgdmlkZW8ud2Via2l0RHJvcHBlZEZyYW1lQ291bnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gRlBTQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZQU0NvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9mcmFnbWVudC1maW5kZXJzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LWZpbmRlcnMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKE51bWJlcikge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGJpbmFyeV9zZWFyY2hfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2JpbmFyeS1zZWFyY2ggKi8gXCIuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXCIpO1xuLyoqXG4gKiBSZXR1cm5zIGZpcnN0IGZyYWdtZW50IHdob3NlIGVuZFBkdCB2YWx1ZSBleGNlZWRzIHRoZSBnaXZlbiBQRFQuXG4gKiBAcGFyYW0ge0FycmF5PEZyYWdtZW50Pn0gZnJhZ21lbnRzIC0gVGhlIGFycmF5IG9mIGNhbmRpZGF0ZSBmcmFnbWVudHNcbiAqIEBwYXJhbSB7bnVtYmVyfG51bGx9IFtQRFRWYWx1ZSA9IG51bGxdIC0gVGhlIFBEVCB2YWx1ZSB3aGljaCBtdXN0IGJlIGV4Y2VlZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwXSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGEgZnJhZ21lbnQncyBzdGFydC9lbmQgY2FuIGJlIHdpdGhpbiBpbiBvcmRlciB0byBiZSBjb25zaWRlcmVkIGNvbnRpZ3VvdXNcbiAqIEByZXR1cm5zIHsqfG51bGx9IGZyYWdtZW50IC0gVGhlIGJlc3QgbWF0Y2hpbmcgZnJhZ21lbnRcbiAqL1xuZnVuY3Rpb24gZmluZEZyYWdtZW50QnlQRFQoZnJhZ21lbnRzLCBQRFRWYWx1ZSwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShmcmFnbWVudHMpIHx8ICFmcmFnbWVudHMubGVuZ3RoIHx8ICFOdW1iZXIuaXNGaW5pdGUoUERUVmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBpZiBsZXNzIHRoYW4gc3RhcnRcbiAgICBpZiAoUERUVmFsdWUgPCBmcmFnbWVudHNbMF0ucHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoUERUVmFsdWUgPj0gZnJhZ21lbnRzW2ZyYWdtZW50cy5sZW5ndGggLSAxXS5lbmRQcm9ncmFtRGF0ZVRpbWUpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPSBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIHx8IDA7XG4gICAgZm9yICh2YXIgc2VnID0gMDsgc2VnIDwgZnJhZ21lbnRzLmxlbmd0aDsgKytzZWcpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBmcmFnbWVudHNbc2VnXTtcbiAgICAgICAgaWYgKHBkdFdpdGhpblRvbGVyYW5jZVRlc3QoUERUVmFsdWUsIG1heEZyYWdMb29rVXBUb2xlcmFuY2UsIGZyYWcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZnJhZztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydHMuZmluZEZyYWdtZW50QnlQRFQgPSBmaW5kRnJhZ21lbnRCeVBEVDtcbi8qKlxuICogRmluZHMgYSBmcmFnbWVudCBiYXNlZCBvbiB0aGUgU04gb2YgdGhlIHByZXZpb3VzIGZyYWdtZW50OyBvciBiYXNlZCBvbiB0aGUgbmVlZHMgb2YgdGhlIGN1cnJlbnQgYnVmZmVyLlxuICogVGhpcyBtZXRob2QgY29tcGVuc2F0ZXMgZm9yIHNtYWxsIGJ1ZmZlciBnYXBzIGJ5IGFwcGx5aW5nIGEgdG9sZXJhbmNlIHRvIHRoZSBzdGFydCBvZiBhbnkgY2FuZGlkYXRlIGZyYWdtZW50LCB0aHVzXG4gKiBicmVha2luZyBhbnkgdHJhcHMgd2hpY2ggd291bGQgY2F1c2UgdGhlIHNhbWUgZnJhZ21lbnQgdG8gYmUgY29udGludW91c2x5IHNlbGVjdGVkIHdpdGhpbiBhIHNtYWxsIHJhbmdlLlxuICogQHBhcmFtIHsqfSBmcmFnUHJldmlvdXMgLSBUaGUgbGFzdCBmcmFnIHN1Y2Nlc3NmdWxseSBhcHBlbmRlZFxuICogQHBhcmFtIHtBcnJheTxGcmFnbWVudD59IGZyYWdtZW50cyAtIFRoZSBhcnJheSBvZiBjYW5kaWRhdGUgZnJhZ21lbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gW2J1ZmZlckVuZCA9IDBdIC0gVGhlIGVuZCBvZiB0aGUgY29udGlndW91cyBidWZmZXJlZCByYW5nZSB0aGUgcGxheWhlYWQgaXMgY3VycmVudGx5IHdpdGhpblxuICogQHBhcmFtIHtudW1iZXJ9IG1heEZyYWdMb29rVXBUb2xlcmFuY2UgLSBUaGUgYW1vdW50IG9mIHRpbWUgdGhhdCBhIGZyYWdtZW50J3Mgc3RhcnQvZW5kIGNhbiBiZSB3aXRoaW4gaW4gb3JkZXIgdG8gYmUgY29uc2lkZXJlZCBjb250aWd1b3VzXG4gKiBAcmV0dXJucyB7Kn0gZm91bmRGcmFnIC0gVGhlIGJlc3QgbWF0Y2hpbmcgZnJhZ21lbnRcbiAqL1xuZnVuY3Rpb24gZmluZEZyYWdtZW50QnlQVFMoZnJhZ1ByZXZpb3VzLCBmcmFnbWVudHMsIGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkge1xuICAgIGlmIChidWZmZXJFbmQgPT09IHZvaWQgMCkgeyBidWZmZXJFbmQgPSAwOyB9XG4gICAgaWYgKG1heEZyYWdMb29rVXBUb2xlcmFuY2UgPT09IHZvaWQgMCkgeyBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gMDsgfVxuICAgIHZhciBmcmFnTmV4dCA9IGZyYWdQcmV2aW91cyA/IGZyYWdtZW50c1tmcmFnUHJldmlvdXMuc24gLSBmcmFnbWVudHNbMF0uc24gKyAxXSA6IG51bGw7XG4gICAgLy8gUHJlZmVyIHRoZSBuZXh0IGZyYWdtZW50IGlmIGl0J3Mgd2l0aGluIHRvbGVyYW5jZVxuICAgIGlmIChmcmFnTmV4dCAmJiAhZnJhZ21lbnRXaXRoaW5Ub2xlcmFuY2VUZXN0KGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgZnJhZ05leHQpKSB7XG4gICAgICAgIHJldHVybiBmcmFnTmV4dDtcbiAgICB9XG4gICAgcmV0dXJuIGJpbmFyeV9zZWFyY2hfMS5kZWZhdWx0LnNlYXJjaChmcmFnbWVudHMsIGZyYWdtZW50V2l0aGluVG9sZXJhbmNlVGVzdC5iaW5kKG51bGwsIGJ1ZmZlckVuZCwgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSkpO1xufVxuZXhwb3J0cy5maW5kRnJhZ21lbnRCeVBUUyA9IGZpbmRGcmFnbWVudEJ5UFRTO1xuLyoqXG4gKiBUaGUgdGVzdCBmdW5jdGlvbiB1c2VkIGJ5IHRoZSBmaW5kRnJhZ21lbnRCeVNuJ3MgQmluYXJ5U2VhcmNoIHRvIGxvb2sgZm9yIHRoZSBiZXN0IG1hdGNoIHRvIHRoZSBjdXJyZW50IGJ1ZmZlciBjb25kaXRpb25zLlxuICogQHBhcmFtIHsqfSBjYW5kaWRhdGUgLSBUaGUgZnJhZ21lbnQgdG8gdGVzdFxuICogQHBhcmFtIHtudW1iZXJ9IFtidWZmZXJFbmQgPSAwXSAtIFRoZSBlbmQgb2YgdGhlIGN1cnJlbnQgYnVmZmVyZWQgcmFuZ2UgdGhlIHBsYXloZWFkIGlzIGN1cnJlbnRseSB3aXRoaW5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDBdIC0gVGhlIGFtb3VudCBvZiB0aW1lIHRoYXQgYSBmcmFnbWVudCdzIHN0YXJ0IGNhbiBiZSB3aXRoaW4gaW4gb3JkZXIgdG8gYmUgY29uc2lkZXJlZCBjb250aWd1b3VzXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIDAgaWYgaXQgbWF0Y2hlcywgMSBpZiB0b28gbG93LCAtMSBpZiB0b28gaGlnaFxuICovXG5mdW5jdGlvbiBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QoYnVmZmVyRW5kLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBjYW5kaWRhdGUpIHtcbiAgICBpZiAoYnVmZmVyRW5kID09PSB2b2lkIDApIHsgYnVmZmVyRW5kID0gMDsgfVxuICAgIGlmIChtYXhGcmFnTG9va1VwVG9sZXJhbmNlID09PSB2b2lkIDApIHsgbWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSA9IDA7IH1cbiAgICAvLyBvZmZzZXQgc2hvdWxkIGJlIHdpdGhpbiBmcmFnbWVudCBib3VuZGFyeSAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlXG4gICAgLy8gdGhpcyBpcyB0byBjb3BlIHdpdGggc2l0dWF0aW9ucyBsaWtlXG4gICAgLy8gYnVmZmVyRW5kID0gOS45OTFcbiAgICAvLyBmcmFnW8OYXSA6IFswLDEwXVxuICAgIC8vIGZyYWdbMV0gOiBbMTAsMjBdXG4gICAgLy8gYnVmZmVyRW5kIGlzIHdpdGhpbiBmcmFnWzBdIHJhbmdlIC4uLiBhbHRob3VnaCB3aGF0IHdlIGFyZSBleHBlY3RpbmcgaXMgdG8gcmV0dXJuIGZyYWdbMV0gaGVyZVxuICAgIC8vICAgICAgICAgICAgICBmcmFnIHN0YXJ0ICAgICAgICAgICAgICAgZnJhZyBzdGFydCtkdXJhdGlvblxuICAgIC8vICAgICAgICAgICAgICAgICAgfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxuICAgIC8vICAgICAgICAgICAgICA8LS0tPiAgICAgICAgICAgICAgICAgICAgICAgICA8LS0tPlxuICAgIC8vICAuLi4tLS0tLS0tLT48LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0+PC0tLS0tLS0tLS4uLi5cbiAgICAvLyBwcmV2aW91cyBmcmFnICAgICAgICAgbWF0Y2hpbmcgZnJhZ21lbnQgICAgICAgICBuZXh0IGZyYWdcbiAgICAvLyAgcmV0dXJuIC0xICAgICAgICAgICAgIHJldHVybiAwICAgICAgICAgICAgICAgICByZXR1cm4gMVxuICAgIC8vIGxvZ2dlci5sb2coYGxldmVsL3NuL3N0YXJ0L2VuZC9idWZFbmQ6JHtsZXZlbH0vJHtjYW5kaWRhdGUuc259LyR7Y2FuZGlkYXRlLnN0YXJ0fS8keyhjYW5kaWRhdGUuc3RhcnQrY2FuZGlkYXRlLmR1cmF0aW9uKX0vJHtidWZmZXJFbmR9YCk7XG4gICAgLy8gU2V0IHRoZSBsb29rdXAgdG9sZXJhbmNlIHRvIGJlIHNtYWxsIGVub3VnaCB0byBkZXRlY3QgdGhlIGN1cnJlbnQgc2VnbWVudCAtIGVuc3VyZXMgd2UgZG9uJ3Qgc2tpcCBvdmVyIHZlcnkgc21hbGwgc2VnbWVudHNcbiAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uICsgKGNhbmRpZGF0ZS5kZWx0YVBUUyA/IGNhbmRpZGF0ZS5kZWx0YVBUUyA6IDApKTtcbiAgICBpZiAoY2FuZGlkYXRlLnN0YXJ0ICsgY2FuZGlkYXRlLmR1cmF0aW9uIC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlIDw9IGJ1ZmZlckVuZCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2FuZGlkYXRlLnN0YXJ0IC0gY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID4gYnVmZmVyRW5kICYmIGNhbmRpZGF0ZS5zdGFydCkge1xuICAgICAgICAvLyBpZiBtYXhGcmFnTG9va1VwVG9sZXJhbmNlIHdpbGwgaGF2ZSBuZWdhdGl2ZSB2YWx1ZSB0aGVuIGRvbid0IHJldHVybiAtMSBmb3IgZmlyc3QgZWxlbWVudFxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuZXhwb3J0cy5mcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3QgPSBmcmFnbWVudFdpdGhpblRvbGVyYW5jZVRlc3Q7XG4vKipcbiAqIFRoZSB0ZXN0IGZ1bmN0aW9uIHVzZWQgYnkgdGhlIGZpbmRGcmFnbWVudEJ5UGR0J3MgQmluYXJ5U2VhcmNoIHRvIGxvb2sgZm9yIHRoZSBiZXN0IG1hdGNoIHRvIHRoZSBjdXJyZW50IGJ1ZmZlciBjb25kaXRpb25zLlxuICogVGhpcyBmdW5jdGlvbiB0ZXN0cyB0aGUgY2FuZGlkYXRlJ3MgcHJvZ3JhbSBkYXRlIHRpbWUgdmFsdWVzLCBhcyByZXByZXNlbnRlZCBpbiBVbml4IHRpbWVcbiAqIEBwYXJhbSB7Kn0gY2FuZGlkYXRlIC0gVGhlIGZyYWdtZW50IHRvIHRlc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSBbcGR0QnVmZmVyRW5kID0gMF0gLSBUaGUgVW5peCB0aW1lIHJlcHJlc2VudGluZyB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGJ1ZmZlcmVkIHJhbmdlXG4gKiBAcGFyYW0ge251bWJlcn0gW21heEZyYWdMb29rVXBUb2xlcmFuY2UgPSAwXSAtIFRoZSBhbW91bnQgb2YgdGltZSB0aGF0IGEgZnJhZ21lbnQncyBzdGFydCBjYW4gYmUgd2l0aGluIGluIG9yZGVyIHRvIGJlIGNvbnNpZGVyZWQgY29udGlndW91c1xuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgY29udGlndW91cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIHBkdFdpdGhpblRvbGVyYW5jZVRlc3QocGR0QnVmZmVyRW5kLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlLCBjYW5kaWRhdGUpIHtcbiAgICB2YXIgY2FuZGlkYXRlTG9va3VwVG9sZXJhbmNlID0gTWF0aC5taW4obWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgY2FuZGlkYXRlLmR1cmF0aW9uICsgKGNhbmRpZGF0ZS5kZWx0YVBUUyA/IGNhbmRpZGF0ZS5kZWx0YVBUUyA6IDApKSAqIDEwMDA7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZS5lbmRQcm9ncmFtRGF0ZVRpbWUgLSBjYW5kaWRhdGVMb29rdXBUb2xlcmFuY2UgPiBwZHRCdWZmZXJFbmQ7XG59XG5leHBvcnRzLnBkdFdpdGhpblRvbGVyYW5jZVRlc3QgPSBwZHRXaXRoaW5Ub2xlcmFuY2VUZXN0O1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtdHJhY2tlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbmV4cG9ydHMuRnJhZ21lbnRTdGF0ZSA9IHtcbiAgICBOT1RfTE9BREVEOiAnTk9UX0xPQURFRCcsXG4gICAgQVBQRU5ESU5HOiAnQVBQRU5ESU5HJyxcbiAgICBQQVJUSUFMOiAnUEFSVElBTCcsXG4gICAgT0s6ICdPSydcbn07XG52YXIgRnJhZ21lbnRUcmFja2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGcmFnbWVudFRyYWNrZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRnJhZ21lbnRUcmFja2VyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVOREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FERUQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmJ1ZmZlclBhZGRpbmcgPSAwLjI7XG4gICAgICAgIF90aGlzLmZyYWdtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIF90aGlzLnRpbWVSYW5nZXMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBfdGhpcy5jb25maWcgPSBobHMuY29uZmlnO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLnRpbWVSYW5nZXMgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IG51bGw7XG4gICAgICAgIGV2ZW50X2hhbmRsZXJfMS5kZWZhdWx0LnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmV0dXJuIGEgRnJhZ21lbnQgdGhhdCBtYXRjaCB0aGUgcG9zaXRpb24gYW5kIGxldmVsVHlwZS5cbiAgICAgKiBJZiBub3QgZm91bmQgYW55IEZyYWdtZW50LCByZXR1cm4gbnVsbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvblxuICAgICAqIEBwYXJhbSB7TGV2ZWxUeXBlfSBsZXZlbFR5cGVcbiAgICAgKiBAcmV0dXJucyB7RnJhZ21lbnR8bnVsbH1cbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldEJ1ZmZlcmVkRnJhZyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgbGV2ZWxUeXBlKSB7XG4gICAgICAgIHZhciBmcmFnbWVudHMgPSB0aGlzLmZyYWdtZW50cztcbiAgICAgICAgdmFyIGJ1ZmZlcmVkRnJhZ3MgPSBPYmplY3Qua2V5cyhmcmFnbWVudHMpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRFbnRpdHkgPSBmcmFnbWVudHNba2V5XTtcbiAgICAgICAgICAgIGlmIChmcmFnbWVudEVudGl0eS5ib2R5LnR5cGUgIT09IGxldmVsVHlwZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZnJhZyA9IGZyYWdtZW50RW50aXR5LmJvZHk7XG4gICAgICAgICAgICByZXR1cm4gZnJhZy5zdGFydFBUUyA8PSBwb3NpdGlvbiAmJiBwb3NpdGlvbiA8PSBmcmFnLmVuZFBUUztcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChidWZmZXJlZEZyYWdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzE1NDUjZGlzY3Vzc2lvbl9yMTY2MjI5NTY2XG4gICAgICAgICAgICB2YXIgYnVmZmVyZWRGcmFnS2V5ID0gYnVmZmVyZWRGcmFncy5wb3AoKTtcbiAgICAgICAgICAgIHJldHVybiBmcmFnbWVudHNbYnVmZmVyZWRGcmFnS2V5XS5ib2R5O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBQYXJ0aWFsIGZyYWdtZW50cyBlZmZlY3RlZCBieSBjb2RlZCBmcmFtZSBldmljdGlvbiB3aWxsIGJlIHJlbW92ZWRcbiAgICAgKiBUaGUgYnJvd3NlciB3aWxsIHVubG9hZCBwYXJ0cyBvZiB0aGUgYnVmZmVyIHRvIGZyZWUgdXAgbWVtb3J5IGZvciBuZXcgYnVmZmVyIGRhdGFcbiAgICAgKiBGcmFnbWVudHMgd2lsbCBuZWVkIHRvIGJlIHJlbG9hZGVkIHdoZW4gdGhlIGJ1ZmZlciBpcyBmcmVlZCB1cCwgcmVtb3ZpbmcgcGFydGlhbCBmcmFnbWVudHMgd2lsbCBhbGxvdyB0aGVtIHRvIHJlbG9hZChzaW5jZSB0aGVyZSBtaWdodCBiZSBwYXJ0cyB0aGF0IGFyZSBzdGlsbCBwbGF5YWJsZSlcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gZWxlbWVudGFyeVN0cmVhbSBUaGUgZWxlbWVudGFyeVN0cmVhbSBvZiBtZWRpYSB0aGlzIGlzIChlZy4gdmlkZW8vYXVkaW8pXG4gICAgICogQHBhcmFtIHtUaW1lUmFuZ2VzfSB0aW1lUmFuZ2UgVGltZVJhbmdlIG9iamVjdCBmcm9tIGEgc291cmNlQnVmZmVyXG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5kZXRlY3RFdmljdGVkRnJhZ21lbnRzID0gZnVuY3Rpb24gKGVsZW1lbnRhcnlTdHJlYW0sIHRpbWVSYW5nZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZnJhZ21lbnRUaW1lcywgdGltZTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYW55IGZsYWdnZWQgZnJhZ21lbnRzIGhhdmUgYmVlbiB1bmxvYWRlZFxuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmZyYWdtZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICB2YXIgZnJhZ21lbnRFbnRpdHkgPSBfdGhpcy5mcmFnbWVudHNba2V5XTtcbiAgICAgICAgICAgIGlmIChmcmFnbWVudEVudGl0eS5idWZmZXJlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBlc0RhdGEgPSBmcmFnbWVudEVudGl0eS5yYW5nZVtlbGVtZW50YXJ5U3RyZWFtXTtcbiAgICAgICAgICAgICAgICBpZiAoZXNEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50VGltZXMgPSBlc0RhdGEudGltZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFnbWVudFRpbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aW1lID0gZnJhZ21lbnRUaW1lc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5pc1RpbWVCdWZmZXJlZCh0aW1lLnN0YXJ0UFRTLCB0aW1lLmVuZFBUUywgdGltZVJhbmdlKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVbnJlZ2lzdGVyIHBhcnRpYWwgZnJhZ21lbnQgYXMgaXQgbmVlZHMgdG8gbG9hZCBhZ2FpbiB0byBiZSByZXVzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5yZW1vdmVGcmFnbWVudChmcmFnbWVudEVudGl0eS5ib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIGZyYWdtZW50IHBhc3NlZCBpbiBpcyBsb2FkZWQgaW4gdGhlIGJ1ZmZlciBwcm9wZXJseVxuICAgICAqIFBhcnRpYWxseSBsb2FkZWQgZnJhZ21lbnRzIHdpbGwgYmUgcmVnaXN0ZXJlZCBhcyBhIHBhcnRpYWwgZnJhZ21lbnRcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZnJhZ21lbnQgQ2hlY2sgdGhlIGZyYWdtZW50IGFnYWluc3QgYWxsIHNvdXJjZUJ1ZmZlcnMgbG9hZGVkXG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5kZXRlY3RQYXJ0aWFsRnJhZ21lbnRzID0gZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBmcmFnS2V5ID0gdGhpcy5nZXRGcmFnbWVudEtleShmcmFnbWVudCk7XG4gICAgICAgIHZhciBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgICAgICBpZiAoZnJhZ21lbnRFbnRpdHkpIHtcbiAgICAgICAgICAgIGZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHRoaXMudGltZVJhbmdlcykuZm9yRWFjaChmdW5jdGlvbiAoZWxlbWVudGFyeVN0cmVhbSkge1xuICAgICAgICAgICAgICAgIGlmIChmcmFnbWVudC5oYXNFbGVtZW50YXJ5U3RyZWFtKGVsZW1lbnRhcnlTdHJlYW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lUmFuZ2UgPSBfdGhpcy50aW1lUmFuZ2VzW2VsZW1lbnRhcnlTdHJlYW1dO1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgbWFsZm9ybWVkIGZyYWdtZW50c1xuICAgICAgICAgICAgICAgICAgICAvLyBHYXBzIG5lZWQgdG8gYmUgY2FsY3VsYXRlZCBmb3IgZWFjaCBlbGVtZW50YXJ5U3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIGZyYWdtZW50RW50aXR5LnJhbmdlW2VsZW1lbnRhcnlTdHJlYW1dID0gX3RoaXMuZ2V0QnVmZmVyZWRUaW1lcyhmcmFnbWVudC5zdGFydFBUUywgZnJhZ21lbnQuZW5kUFRTLCB0aW1lUmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldEJ1ZmZlcmVkVGltZXMgPSBmdW5jdGlvbiAoc3RhcnRQVFMsIGVuZFBUUywgdGltZVJhbmdlKSB7XG4gICAgICAgIHZhciBmcmFnbWVudFRpbWVzID0gW107XG4gICAgICAgIHZhciBzdGFydFRpbWUsIGVuZFRpbWU7XG4gICAgICAgIHZhciBmcmFnbWVudFBhcnRpYWwgPSBmYWxzZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aW1lUmFuZ2UubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IHRpbWVSYW5nZS5zdGFydChpKSAtIHRoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgICAgICAgIGVuZFRpbWUgPSB0aW1lUmFuZ2UuZW5kKGkpICsgdGhpcy5idWZmZXJQYWRkaW5nO1xuICAgICAgICAgICAgaWYgKHN0YXJ0UFRTID49IHN0YXJ0VGltZSAmJiBlbmRQVFMgPD0gZW5kVGltZSkge1xuICAgICAgICAgICAgICAgIC8vIEZyYWdtZW50IGlzIGVudGlyZWx5IGNvbnRhaW5lZCBpbiBidWZmZXJcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIHRoZSBvdGhlciB0aW1lUmFuZ2UgdGltZXMgc2luY2UgaXQncyBjb21wbGV0ZWx5IHBsYXlhYmxlXG4gICAgICAgICAgICAgICAgZnJhZ21lbnRUaW1lcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRQVFM6IE1hdGgubWF4KHN0YXJ0UFRTLCB0aW1lUmFuZ2Uuc3RhcnQoaSkpLFxuICAgICAgICAgICAgICAgICAgICBlbmRQVFM6IE1hdGgubWluKGVuZFBUUywgdGltZVJhbmdlLmVuZChpKSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0UFRTIDwgZW5kVGltZSAmJiBlbmRQVFMgPiBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgaW50ZXJzZWN0aW9uIHdpdGggYnVmZmVyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHBsYXlhYmxlIHNlY3Rpb25zIG9mIHRoZSBmcmFnbWVudFxuICAgICAgICAgICAgICAgIGZyYWdtZW50VGltZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UFRTOiBNYXRoLm1heChzdGFydFBUUywgdGltZVJhbmdlLnN0YXJ0KGkpKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kUFRTOiBNYXRoLm1pbihlbmRQVFMsIHRpbWVSYW5nZS5lbmQoaSkpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnRQYXJ0aWFsID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZFBUUyA8PSBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGNoZWNrIHRoZSByZXN0IG9mIHRoZSB0aW1lUmFuZ2UgYXMgaXQgaXMgaW4gb3JkZXJcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGltZTogZnJhZ21lbnRUaW1lcyxcbiAgICAgICAgICAgIHBhcnRpYWw6IGZyYWdtZW50UGFydGlhbFxuICAgICAgICB9O1xuICAgIH07XG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5nZXRGcmFnbWVudEtleSA9IGZ1bmN0aW9uIChmcmFnbWVudCkge1xuICAgICAgICByZXR1cm4gZnJhZ21lbnQudHlwZSArIFwiX1wiICsgZnJhZ21lbnQubGV2ZWwgKyBcIl9cIiArIGZyYWdtZW50LnVybElkICsgXCJfXCIgKyBmcmFnbWVudC5zbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHBhcnRpYWwgZnJhZ21lbnQgZm9yIGEgY2VydGFpbiB0aW1lXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHRpbWVcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBmcmFnbWVudCBSZXR1cm5zIGEgcGFydGlhbCBmcmFnbWVudCBhdCBhIHRpbWUgb3IgbnVsbCBpZiB0aGVyZSBpcyBubyBwYXJ0aWFsIGZyYWdtZW50XG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5nZXRQYXJ0aWFsRnJhZ21lbnQgPSBmdW5jdGlvbiAodGltZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdGltZVBhZGRpbmcsIHN0YXJ0VGltZSwgZW5kVGltZTtcbiAgICAgICAgdmFyIGJlc3RGcmFnbWVudCA9IG51bGw7XG4gICAgICAgIHZhciBiZXN0T3ZlcmxhcCA9IDA7XG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuZnJhZ21lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIHZhciBmcmFnbWVudEVudGl0eSA9IF90aGlzLmZyYWdtZW50c1trZXldO1xuICAgICAgICAgICAgaWYgKF90aGlzLmlzUGFydGlhbChmcmFnbWVudEVudGl0eSkpIHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWUgPSBmcmFnbWVudEVudGl0eS5ib2R5LnN0YXJ0UFRTIC0gX3RoaXMuYnVmZmVyUGFkZGluZztcbiAgICAgICAgICAgICAgICBlbmRUaW1lID0gZnJhZ21lbnRFbnRpdHkuYm9keS5lbmRQVFMgKyBfdGhpcy5idWZmZXJQYWRkaW5nO1xuICAgICAgICAgICAgICAgIGlmICh0aW1lID49IHN0YXJ0VGltZSAmJiB0aW1lIDw9IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBmcmFnbWVudCB0aGF0IGhhcyB0aGUgbW9zdCBwYWRkaW5nIGZyb20gc3RhcnQgYW5kIGVuZCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIHRpbWVQYWRkaW5nID0gTWF0aC5taW4odGltZSAtIHN0YXJ0VGltZSwgZW5kVGltZSAtIHRpbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmVzdE92ZXJsYXAgPD0gdGltZVBhZGRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RGcmFnbWVudCA9IGZyYWdtZW50RW50aXR5LmJvZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiZXN0T3ZlcmxhcCA9IHRpbWVQYWRkaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJlc3RGcmFnbWVudDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBmcmFnbWVudCBUaGUgZnJhZ21lbnQgdG8gY2hlY2tcbiAgICAgKiBAcmV0dXJucyB7U3RyaW5nfSBSZXR1cm5zIHRoZSBmcmFnbWVudCBzdGF0ZSB3aGVuIGEgZnJhZ21lbnQgbmV2ZXIgbG9hZGVkIG9yIGlmIGl0IHBhcnRpYWxseSBsb2FkZWRcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgIHZhciBmcmFnS2V5ID0gdGhpcy5nZXRGcmFnbWVudEtleShmcmFnbWVudCk7XG4gICAgICAgIHZhciBmcmFnbWVudEVudGl0eSA9IHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgICAgICB2YXIgc3RhdGUgPSBleHBvcnRzLkZyYWdtZW50U3RhdGUuTk9UX0xPQURFRDtcbiAgICAgICAgaWYgKGZyYWdtZW50RW50aXR5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghZnJhZ21lbnRFbnRpdHkuYnVmZmVyZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGV4cG9ydHMuRnJhZ21lbnRTdGF0ZS5BUFBFTkRJTkc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlzUGFydGlhbChmcmFnbWVudEVudGl0eSkgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IGV4cG9ydHMuRnJhZ21lbnRTdGF0ZS5QQVJUSUFMO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSBleHBvcnRzLkZyYWdtZW50U3RhdGUuT0s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5pc1BhcnRpYWwgPSBmdW5jdGlvbiAoZnJhZ21lbnRFbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIGZyYWdtZW50RW50aXR5LmJ1ZmZlcmVkID09PSB0cnVlICYmXG4gICAgICAgICAgICAoKGZyYWdtZW50RW50aXR5LnJhbmdlLnZpZGVvICE9PSB1bmRlZmluZWQgJiYgZnJhZ21lbnRFbnRpdHkucmFuZ2UudmlkZW8ucGFydGlhbCA9PT0gdHJ1ZSkgfHxcbiAgICAgICAgICAgICAgICAoZnJhZ21lbnRFbnRpdHkucmFuZ2UuYXVkaW8gIT09IHVuZGVmaW5lZCAmJiBmcmFnbWVudEVudGl0eS5yYW5nZS5hdWRpby5wYXJ0aWFsID09PSB0cnVlKSk7XG4gICAgfTtcbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLmlzVGltZUJ1ZmZlcmVkID0gZnVuY3Rpb24gKHN0YXJ0UFRTLCBlbmRQVFMsIHRpbWVSYW5nZSkge1xuICAgICAgICB2YXIgc3RhcnRUaW1lLCBlbmRUaW1lO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRpbWVSYW5nZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3RhcnRUaW1lID0gdGltZVJhbmdlLnN0YXJ0KGkpIC0gdGhpcy5idWZmZXJQYWRkaW5nO1xuICAgICAgICAgICAgZW5kVGltZSA9IHRpbWVSYW5nZS5lbmQoaSkgKyB0aGlzLmJ1ZmZlclBhZGRpbmc7XG4gICAgICAgICAgICBpZiAoc3RhcnRQVFMgPj0gc3RhcnRUaW1lICYmIGVuZFBUUyA8PSBlbmRUaW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kUFRTIDw9IHN0YXJ0VGltZSkge1xuICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gY2hlY2sgdGhlIHJlc3Qgb2YgdGhlIHRpbWVSYW5nZSBhcyBpdCBpcyBpbiBvcmRlclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBGaXJlcyB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBjb21wbGV0ZWRcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBmcmFnbWVudCA9IGUuZnJhZztcbiAgICAgICAgLy8gZG9uJ3QgdHJhY2sgaW5pdHNlZ21lbnQgKGZvciB3aGljaCBzbiBpcyBub3QgYSBudW1iZXIpXG4gICAgICAgIC8vIGRvbid0IHRyYWNrIGZyYWdzIHVzZWQgZm9yIGJpdHJhdGVUZXN0LCB0aGV5J3JlIGlycmVsZXZhbnQuXG4gICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZ21lbnQuc24pICYmICFmcmFnbWVudC5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgdGhpcy5mcmFnbWVudHNbdGhpcy5nZXRGcmFnbWVudEtleShmcmFnbWVudCldID0ge1xuICAgICAgICAgICAgICAgIGJvZHk6IGZyYWdtZW50LFxuICAgICAgICAgICAgICAgIHJhbmdlOiBPYmplY3QuY3JlYXRlKG51bGwpLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcmVkOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRmlyZXMgd2hlbiB0aGUgYnVmZmVyIGlzIHVwZGF0ZWRcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uQnVmZmVyQXBwZW5kZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBTdG9yZSB0aGUgbGF0ZXN0IHRpbWVSYW5nZXMgbG9hZGVkIGluIHRoZSBidWZmZXJcbiAgICAgICAgdGhpcy50aW1lUmFuZ2VzID0gZS50aW1lUmFuZ2VzO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLnRpbWVSYW5nZXMpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnRhcnlTdHJlYW0pIHtcbiAgICAgICAgICAgIHZhciB0aW1lUmFuZ2UgPSBfdGhpcy50aW1lUmFuZ2VzW2VsZW1lbnRhcnlTdHJlYW1dO1xuICAgICAgICAgICAgX3RoaXMuZGV0ZWN0RXZpY3RlZEZyYWdtZW50cyhlbGVtZW50YXJ5U3RyZWFtLCB0aW1lUmFuZ2UpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZpcmVzIGFmdGVyIGEgZnJhZ21lbnQgaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIHNvdXJjZSBidWZmZXJcbiAgICAgKi9cbiAgICBGcmFnbWVudFRyYWNrZXIucHJvdG90eXBlLm9uRnJhZ0J1ZmZlcmVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdGhpcy5kZXRlY3RQYXJ0aWFsRnJhZ21lbnRzKGUuZnJhZyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBmcmFnbWVudCB0cmFja2VyIGhhcyB0aGUgZnJhZ21lbnQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGZyYWdtZW50XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgRnJhZ21lbnRUcmFja2VyLnByb3RvdHlwZS5oYXNGcmFnbWVudCA9IGZ1bmN0aW9uIChmcmFnbWVudCkge1xuICAgICAgICB2YXIgZnJhZ0tleSA9IHRoaXMuZ2V0RnJhZ21lbnRLZXkoZnJhZ21lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5mcmFnbWVudHNbZnJhZ0tleV0gIT09IHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlbW92ZSBhIGZyYWdtZW50IGZyb20gZnJhZ21lbnQgdHJhY2tlciB1bnRpbCBpdCBpcyBsb2FkZWQgYWdhaW5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZnJhZ21lbnQgVGhlIGZyYWdtZW50IHRvIHJlbW92ZVxuICAgICAqL1xuICAgIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUucmVtb3ZlRnJhZ21lbnQgPSBmdW5jdGlvbiAoZnJhZ21lbnQpIHtcbiAgICAgICAgdmFyIGZyYWdLZXkgPSB0aGlzLmdldEZyYWdtZW50S2V5KGZyYWdtZW50KTtcbiAgICAgICAgZGVsZXRlIHRoaXMuZnJhZ21lbnRzW2ZyYWdLZXldO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIGFsbCBmcmFnbWVudHMgZnJvbSBmcmFnbWVudCB0cmFja2VyLlxuICAgICAqL1xuICAgIEZyYWdtZW50VHJhY2tlci5wcm90b3R5cGUucmVtb3ZlQWxsRnJhZ21lbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmZyYWdtZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgfTtcbiAgICByZXR1cm4gRnJhZ21lbnRUcmFja2VyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5GcmFnbWVudFRyYWNrZXIgPSBGcmFnbWVudFRyYWNrZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZ2FwLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2dhcC1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBidWZmZXJfaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9idWZmZXItaGVscGVyICovIFwiLi9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBzdGFsbERlYm91bmNlSW50ZXJ2YWwgPSAxMDAwO1xudmFyIGp1bXBUaHJlc2hvbGQgPSAwLjU7IC8vIHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIHJhbmdlIGVuZFxudmFyIEdhcENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR2FwQ29udHJvbGxlcihjb25maWcsIG1lZGlhLCBmcmFnbWVudFRyYWNrZXIsIGhscykge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5tZWRpYSA9IG1lZGlhO1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgdGhpcy5obHMgPSBobHM7XG4gICAgICAgIHRoaXMuc3RhbGxSZXBvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHBsYXloZWFkIGlzIHN0dWNrIHdpdGhpbiBhIGdhcCwgYW5kIGlmIHNvLCBhdHRlbXB0cyB0byBmcmVlIGl0LlxuICAgICAqIEEgZ2FwIGlzIGFuIHVuYnVmZmVyZWQgcmFuZ2UgYmV0d2VlbiB0d28gYnVmZmVyZWQgcmFuZ2VzIChvciB0aGUgc3RhcnQgYW5kIHRoZSBmaXJzdCBidWZmZXJlZCByYW5nZSkuXG4gICAgICogQHBhcmFtIGxhc3RDdXJyZW50VGltZVxuICAgICAqIEBwYXJhbSBidWZmZXJlZFxuICAgICAqL1xuICAgIEdhcENvbnRyb2xsZXIucHJvdG90eXBlLnBvbGwgPSBmdW5jdGlvbiAobGFzdEN1cnJlbnRUaW1lLCBidWZmZXJlZCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjb25maWcgPSBfYS5jb25maWcsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICB2YXIgdG5vdyA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgaWYgKGN1cnJlbnRUaW1lICE9PSBsYXN0Q3VycmVudFRpbWUpIHtcbiAgICAgICAgICAgIC8vIFRoZSBwbGF5aGVhZCBpcyBub3cgbW92aW5nLCBidXQgd2FzIHByZXZpb3VzbHkgc3RhbGxlZFxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhbGxSZXBvcnRlZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwicGxheWJhY2sgbm90IHN0dWNrIGFueW1vcmUgQFwiICsgY3VycmVudFRpbWUgKyBcIiwgYWZ0ZXIgXCIgKyBNYXRoLnJvdW5kKHRub3cgLSB0aGlzLnN0YWxsZWQpICsgXCJtc1wiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm51ZGdlUmV0cnkgPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZWRpYS5lbmRlZCB8fCAhbWVkaWEuYnVmZmVyZWQubGVuZ3RoIHx8IG1lZGlhLnJlYWR5U3RhdGUgPiAyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1lZGlhLnNlZWtpbmcgJiYgYnVmZmVyX2hlbHBlcl8xLkJ1ZmZlckhlbHBlci5pc0J1ZmZlcmVkKG1lZGlhLCBjdXJyZW50VGltZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgcGxheWhlYWQgaXNuJ3QgbW92aW5nIGJ1dCBpdCBzaG91bGQgYmVcbiAgICAgICAgLy8gQWxsb3cgc29tZSBzbGFjayB0aW1lIHRvIGZvciBzbWFsbCBzdGFsbHMgdG8gcmVzb2x2ZSB0aGVtc2VsdmVzXG4gICAgICAgIHZhciBzdGFsbGVkRHVyYXRpb24gPSB0bm93IC0gdGhpcy5zdGFsbGVkO1xuICAgICAgICB2YXIgYnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyhtZWRpYSwgY3VycmVudFRpbWUsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKTtcbiAgICAgICAgaWYgKCF0aGlzLnN0YWxsZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IHRub3c7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoc3RhbGxlZER1cmF0aW9uID49IHN0YWxsRGVib3VuY2VJbnRlcnZhbCkge1xuICAgICAgICAgICAgLy8gUmVwb3J0IHN0YWxsaW5nIGFmdGVyIHRyeWluZyB0byBmaXhcbiAgICAgICAgICAgIHRoaXMuX3JlcG9ydFN0YWxsKGJ1ZmZlckluZm8ubGVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90cnlGaXhCdWZmZXJTdGFsbChidWZmZXJJbmZvLCBzdGFsbGVkRHVyYXRpb24pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0ZWN0cyBhbmQgYXR0ZW1wdHMgdG8gZml4IGtub3duIGJ1ZmZlciBzdGFsbGluZyBpc3N1ZXMuXG4gICAgICogQHBhcmFtIGJ1ZmZlckluZm8gLSBUaGUgcHJvcGVydGllcyBvZiB0aGUgY3VycmVudCBidWZmZXIuXG4gICAgICogQHBhcmFtIHN0YWxsZWREdXJhdGlvbiAtIFRoZSBhbW91bnQgb2YgdGltZSBIbHMuanMgaGFzIGJlZW4gc3RhbGxpbmcgZm9yLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgR2FwQ29udHJvbGxlci5wcm90b3R5cGUuX3RyeUZpeEJ1ZmZlclN0YWxsID0gZnVuY3Rpb24gKGJ1ZmZlckluZm8sIHN0YWxsZWREdXJhdGlvbikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBjb25maWcgPSBfYS5jb25maWcsIGZyYWdtZW50VHJhY2tlciA9IF9hLmZyYWdtZW50VHJhY2tlciwgbWVkaWEgPSBfYS5tZWRpYTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgIHZhciBwYXJ0aWFsID0gZnJhZ21lbnRUcmFja2VyLmdldFBhcnRpYWxGcmFnbWVudChjdXJyZW50VGltZSk7XG4gICAgICAgIGlmIChwYXJ0aWFsKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gc2tpcCBvdmVyIHRoZSBidWZmZXIgaG9sZSBjYXVzZWQgYnkgYSBwYXJ0aWFsIGZyYWdtZW50XG4gICAgICAgICAgICAvLyBUaGlzIG1ldGhvZCBpc24ndCBsaW1pdGVkIGJ5IHRoZSBzaXplIG9mIHRoZSBnYXAgYmV0d2VlbiBidWZmZXJlZCByYW5nZXNcbiAgICAgICAgICAgIHRoaXMuX3RyeVNraXBCdWZmZXJIb2xlKHBhcnRpYWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXJJbmZvLmxlbiA+IGp1bXBUaHJlc2hvbGQgJiYgc3RhbGxlZER1cmF0aW9uID4gY29uZmlnLmhpZ2hCdWZmZXJXYXRjaGRvZ1BlcmlvZCAqIDEwMDApIHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBudWRnZSBjdXJyZW50VGltZSBvdmVyIGEgYnVmZmVyIGhvbGUgaWYgd2UndmUgYmVlbiBzdGFsbGluZyBmb3IgdGhlIGNvbmZpZ3VyZWQgYW1vdW50IG9mIHNlY29uZHNcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgdHJ5IHRvIGp1bXAgdGhlIGhvbGUgaWYgaXQncyB1bmRlciB0aGUgY29uZmlndXJlZCBzaXplXG4gICAgICAgICAgICAvLyBSZXNldCBzdGFsbGVkIHNvIHRvIHJlYXJtIHdhdGNoZG9nIHRpbWVyXG4gICAgICAgICAgICB0aGlzLnN0YWxsZWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fdHJ5TnVkZ2VCdWZmZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYSBCVUZGRVJfU1RBTExFRF9FUlJPUiBldmVudCwgYnV0IG9ubHkgb25jZSBwZXIgc3RhbGwgcGVyaW9kLlxuICAgICAqIEBwYXJhbSBidWZmZXJMZW4gLSBUaGUgcGxheWhlYWQgZGlzdGFuY2UgZnJvbSB0aGUgZW5kIG9mIHRoZSBjdXJyZW50IGJ1ZmZlciBzZWdtZW50LlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgR2FwQ29udHJvbGxlci5wcm90b3R5cGUuX3JlcG9ydFN0YWxsID0gZnVuY3Rpb24gKGJ1ZmZlckxlbikge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBobHMgPSBfYS5obHMsIG1lZGlhID0gX2EubWVkaWEsIHN0YWxsUmVwb3J0ZWQgPSBfYS5zdGFsbFJlcG9ydGVkO1xuICAgICAgICBpZiAoIXN0YWxsUmVwb3J0ZWQpIHtcbiAgICAgICAgICAgIC8vIFJlcG9ydCBzdGFsbGVkIGVycm9yIG9uY2VcbiAgICAgICAgICAgIHRoaXMuc3RhbGxSZXBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIlBsYXliYWNrIHN0YWxsaW5nIGF0IEBcIiArIG1lZGlhLmN1cnJlbnRUaW1lICsgXCIgZHVlIHRvIGxvdyBidWZmZXJcIik7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX1NUQUxMRURfRVJST1IsXG4gICAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyTGVuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdHMgdG8gZml4IGJ1ZmZlciBzdGFsbHMgYnkganVtcGluZyBvdmVyIGtub3duIGdhcHMgY2F1c2VkIGJ5IHBhcnRpYWwgZnJhZ21lbnRzXG4gICAgICogQHBhcmFtIHBhcnRpYWwgLSBUaGUgcGFydGlhbCBmcmFnbWVudCBmb3VuZCBhdCB0aGUgY3VycmVudCB0aW1lICh3aGVyZSBwbGF5YmFjayBpcyBzdGFsbGluZykuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBHYXBDb250cm9sbGVyLnByb3RvdHlwZS5fdHJ5U2tpcEJ1ZmZlckhvbGUgPSBmdW5jdGlvbiAocGFydGlhbCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLCBobHMgPSBfYS5obHMsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICB2YXIgbGFzdEVuZFRpbWUgPSAwO1xuICAgICAgICAvLyBDaGVjayBpZiBjdXJyZW50VGltZSBpcyBiZXR3ZWVuIHVuYnVmZmVyZWQgcmVnaW9ucyBvZiBwYXJ0aWFsIGZyYWdtZW50c1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnRUaW1lID0gbWVkaWEuYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gbGFzdEVuZFRpbWUgJiYgY3VycmVudFRpbWUgPCBzdGFydFRpbWUpIHtcbiAgICAgICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IE1hdGgubWF4KHN0YXJ0VGltZSwgbWVkaWEuY3VycmVudFRpbWUgKyAwLjEpO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwic2tpcHBpbmcgaG9sZSwgYWRqdXN0aW5nIGN1cnJlbnRUaW1lIGZyb20gXCIgKyBjdXJyZW50VGltZSArIFwiIHRvIFwiICsgbWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhbGxlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuQlVGRkVSX1NFRUtfT1ZFUl9IT0xFLFxuICAgICAgICAgICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbjogXCJmcmFnbWVudCBsb2FkZWQgd2l0aCBidWZmZXIgaG9sZXMsIHNlZWtpbmcgZnJvbSBcIiArIGN1cnJlbnRUaW1lICsgXCIgdG8gXCIgKyBtZWRpYS5jdXJyZW50VGltZSxcbiAgICAgICAgICAgICAgICAgICAgZnJhZzogcGFydGlhbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RFbmRUaW1lID0gbWVkaWEuYnVmZmVyZWQuZW5kKGkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdHRlbXB0cyB0byBmaXggYnVmZmVyIHN0YWxscyBieSBhZHZhbmNpbmcgdGhlIG1lZGlhRWxlbWVudCdzIGN1cnJlbnQgdGltZSBieSBhIHNtYWxsIGFtb3VudC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIEdhcENvbnRyb2xsZXIucHJvdG90eXBlLl90cnlOdWRnZUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgY29uZmlnID0gX2EuY29uZmlnLCBobHMgPSBfYS5obHMsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBjdXJyZW50VGltZSA9IG1lZGlhLmN1cnJlbnRUaW1lO1xuICAgICAgICB2YXIgbnVkZ2VSZXRyeSA9ICh0aGlzLm51ZGdlUmV0cnkgfHwgMCkgKyAxO1xuICAgICAgICB0aGlzLm51ZGdlUmV0cnkgPSBudWRnZVJldHJ5O1xuICAgICAgICBpZiAobnVkZ2VSZXRyeSA8IGNvbmZpZy5udWRnZU1heFJldHJ5KSB7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0VGltZSA9IGN1cnJlbnRUaW1lICsgbnVkZ2VSZXRyeSAqIGNvbmZpZy5udWRnZU9mZnNldDtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJhZGp1c3QgY3VycmVudFRpbWUgZnJvbSBcIiArIGN1cnJlbnRUaW1lICsgXCIgdG8gXCIgKyB0YXJnZXRUaW1lKTtcbiAgICAgICAgICAgIC8vIHBsYXliYWNrIHN0YWxsZWQgaW4gYnVmZmVyZWQgYXJlYSAuLi4gbGV0J3MgbnVkZ2UgY3VycmVudFRpbWUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXNcbiAgICAgICAgICAgIG1lZGlhLmN1cnJlbnRUaW1lID0gdGFyZ2V0VGltZTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfTlVER0VfT05fU1RBTEwsXG4gICAgICAgICAgICAgICAgZmF0YWw6IGZhbHNlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcInN0aWxsIHN0dWNrIGluIGhpZ2ggYnVmZmVyIEBcIiArIGN1cnJlbnRUaW1lICsgXCIgYWZ0ZXIgXCIgKyBjb25maWcubnVkZ2VNYXhSZXRyeSArIFwiLCByYWlzZSBmYXRhbCBlcnJvclwiKTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5CVUZGRVJfU1RBTExFRF9FUlJPUixcbiAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHYXBDb250cm9sbGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEdhcENvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9pZDMtdHJhY2stY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvaWQzLXRyYWNrLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLypcbiAqIGlkMyBtZXRhZGF0YSB0cmFjayBjb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgaWQzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9pZDMgKi8gXCIuL3NyYy9kZW11eC9pZDMuanNcIik7XG52YXIgdGV4dHRyYWNrX3V0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy90ZXh0dHJhY2stdXRpbHMgKi8gXCIuL3NyYy91dGlscy90ZXh0dHJhY2stdXRpbHMuanNcIik7XG52YXIgSUQzVHJhY2tDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhJRDNUcmFja0NvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSUQzVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNIRUQsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19NRVRBREFUQSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaWQzVHJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIF90aGlzLm1lZGlhID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8vIEFkZCBJRDMgbWV0YXRhZGF0YSB0ZXh0IHRyYWNrLlxuICAgIElEM1RyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5tZWRpYSA9IGRhdGEubWVkaWE7XG4gICAgICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRleHR0cmFja191dGlsc18xLmNsZWFyQ3VycmVudEN1ZXModGhpcy5pZDNUcmFjayk7XG4gICAgICAgIHRoaXMuaWQzVHJhY2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMubWVkaWEgPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLmdldElEM1RyYWNrID0gZnVuY3Rpb24gKHRleHRUcmFja3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0VHJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdGV4dFRyYWNrID0gdGV4dFRyYWNrc1tpXTtcbiAgICAgICAgICAgIGlmICh0ZXh0VHJhY2sua2luZCA9PT0gJ21ldGFkYXRhJyAmJiB0ZXh0VHJhY2subGFiZWwgPT09ICdpZDMnKSB7XG4gICAgICAgICAgICAgICAgLy8gc2VuZCAnYWRkdHJhY2snIHdoZW4gcmV1c2luZyB0aGUgdGV4dFRyYWNrIGZvciBtZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAvLyBzYW1lIGFzIHdoYXQgd2UgZG8gZm9yIGNhcHRpb25zXG4gICAgICAgICAgICAgICAgdGV4dHRyYWNrX3V0aWxzXzEuc2VuZEFkZFRyYWNrRXZlbnQodGV4dFRyYWNrLCB0aGlzLm1lZGlhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGV4dFRyYWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhLmFkZFRleHRUcmFjaygnbWV0YWRhdGEnLCAnaWQzJyk7XG4gICAgfTtcbiAgICBJRDNUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdNZXRhZGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnbWVudCA9IGRhdGEuZnJhZztcbiAgICAgICAgdmFyIHNhbXBsZXMgPSBkYXRhLnNhbXBsZXM7XG4gICAgICAgIC8vIGNyZWF0ZSB0cmFjayBkeW5hbWljYWxseVxuICAgICAgICBpZiAoIXRoaXMuaWQzVHJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuaWQzVHJhY2sgPSB0aGlzLmdldElEM1RyYWNrKHRoaXMubWVkaWEudGV4dFRyYWNrcyk7XG4gICAgICAgICAgICB0aGlzLmlkM1RyYWNrLm1vZGUgPSAnaGlkZGVuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBBdHRlbXB0IHRvIHJlY3JlYXRlIFNhZmFyaSBmdW5jdGlvbmFsaXR5IGJ5IGNyZWF0aW5nXG4gICAgICAgIC8vIFdlYktpdERhdGFDdWUgb2JqZWN0cyB3aGVuIGF2YWlsYWJsZSBhbmQgc3RvcmUgdGhlIGRlY29kZWRcbiAgICAgICAgLy8gSUQzIGRhdGEgaW4gdGhlIHZhbHVlIHByb3BlcnR5IG9mIHRoZSBjdWVcbiAgICAgICAgdmFyIEN1ZSA9IHdpbmRvdy5XZWJLaXREYXRhQ3VlIHx8IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZnJhbWVzXzEgPSBpZDNfMS5kZWZhdWx0LmdldElEM0ZyYW1lcyhzYW1wbGVzW2ldLmRhdGEpO1xuICAgICAgICAgICAgaWYgKGZyYW1lc18xKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZSA9IHNhbXBsZXNbaV0ucHRzO1xuICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lID0gaSA8IHNhbXBsZXMubGVuZ3RoIC0gMSA/IHNhbXBsZXNbaSArIDFdLnB0cyA6IGZyYWdtZW50LmVuZFBUUztcbiAgICAgICAgICAgICAgICAvLyBHaXZlIGEgc2xpZ2h0IGJ1bXAgdG8gdGhlIGVuZFRpbWUgaWYgaXQncyBlcXVhbCB0byBzdGFydFRpbWUgdG8gYXZvaWQgYSBTeW50YXhFcnJvciBpbiBJRVxuICAgICAgICAgICAgICAgIGlmIChzdGFydFRpbWUgPT09IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZSArPSAwLjAwMDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZnJhbWVzXzEubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gZnJhbWVzXzFbal07XG4gICAgICAgICAgICAgICAgICAgIC8vIFNhZmFyaSBkb2Vzbid0IHB1dCB0aGUgdGltZXN0YW1wIGZyYW1lIGluIHRoZSBUZXh0VHJhY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZDNfMS5kZWZhdWx0LmlzVGltZVN0YW1wRnJhbWUoZnJhbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VlID0gbmV3IEN1ZShzdGFydFRpbWUsIGVuZFRpbWUsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ZS52YWx1ZSA9IGZyYW1lO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pZDNUcmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIElEM1RyYWNrQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IElEM1RyYWNrQ29udHJvbGxlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBMZXZlbCBDb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgY29kZWNzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9jb2RlY3MgKi8gXCIuL3NyYy91dGlscy9jb2RlY3MuanNcIik7XG52YXIgbGV2ZWxfaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xldmVsLWhlbHBlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtaGVscGVyLmpzXCIpO1xudmFyIHBlcmZvcm1hbmNlID0gd2luZG93LnBlcmZvcm1hbmNlO1xudmFyIGNocm9tZU9yRmlyZWZveDtcbnZhciBMZXZlbENvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKExldmVsQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBMZXZlbENvbnRyb2xsZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuTEVWRUxfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSEVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jYW5sb2FkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmN1cnJlbnRMZXZlbEluZGV4ID0gbnVsbDtcbiAgICAgICAgX3RoaXMubWFudWFsTGV2ZWxJbmRleCA9IC0xO1xuICAgICAgICBfdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIGNocm9tZU9yRmlyZWZveCA9IC9jaHJvbWV8ZmlyZWZveC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgIHRoaXMubWFudWFsTGV2ZWxJbmRleCA9IC0xO1xuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5jbGVhclRpbWVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy50aW1lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO1xuICAgICAgICAgICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc3RhcnRMb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuICAgICAgICB0aGlzLmNhbmxvYWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmxldmVsUmV0cnlDb3VudCA9IDA7XG4gICAgICAgIC8vIGNsZWFuIHVwIGxpdmUgbGV2ZWwgZGV0YWlscyB0byBmb3JjZSByZWxvYWQgdGhlbSwgYW5kIHJlc2V0IGxvYWQgZXJyb3JzXG4gICAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgICAgIGxldmVsLmxvYWRFcnJvciA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGxldmVsRGV0YWlscyA9IGxldmVsLmRldGFpbHM7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsRGV0YWlscyAmJiBsZXZlbERldGFpbHMubGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICBsZXZlbC5kZXRhaWxzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNwZWVkIHVwIGxpdmUgcGxheWxpc3QgcmVmcmVzaCBpZiB0aW1lciBleGlzdHNcbiAgICAgICAgaWYgKHRoaXMudGltZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZExldmVsKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcExvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FubG9hZCA9IGZhbHNlO1xuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGxldmVscyA9IFtdO1xuICAgICAgICB2YXIgYXVkaW9UcmFja3MgPSBbXTtcbiAgICAgICAgdmFyIGJpdHJhdGVTdGFydDtcbiAgICAgICAgdmFyIGxldmVsU2V0ID0ge307XG4gICAgICAgIHZhciBsZXZlbEZyb21TZXQgPSBudWxsO1xuICAgICAgICB2YXIgdmlkZW9Db2RlY0ZvdW5kID0gZmFsc2U7XG4gICAgICAgIHZhciBhdWRpb0NvZGVjRm91bmQgPSBmYWxzZTtcbiAgICAgICAgLy8gcmVncm91cCByZWR1bmRhbnQgbGV2ZWxzIHRvZ2V0aGVyXG4gICAgICAgIGRhdGEubGV2ZWxzLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGxldmVsLmF0dHJzO1xuICAgICAgICAgICAgbGV2ZWwubG9hZEVycm9yID0gMDtcbiAgICAgICAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZpZGVvQ29kZWNGb3VuZCA9IHZpZGVvQ29kZWNGb3VuZCB8fCAhIWxldmVsLnZpZGVvQ29kZWM7XG4gICAgICAgICAgICBhdWRpb0NvZGVjRm91bmQgPSBhdWRpb0NvZGVjRm91bmQgfHwgISFsZXZlbC5hdWRpb0NvZGVjO1xuICAgICAgICAgICAgLy8gZXJhc2UgYXVkaW8gY29kZWMgaW5mbyBpZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgbXA0YS40MC4zNC5cbiAgICAgICAgICAgIC8vIGRlbXV4ZXIgd2lsbCBhdXRvZGV0ZWN0IGNvZGVjIGFuZCBmYWxsYmFjayB0byBtcGVnL2F1ZGlvXG4gICAgICAgICAgICBpZiAoY2hyb21lT3JGaXJlZm94ICYmIGxldmVsLmF1ZGlvQ29kZWMgJiYgbGV2ZWwuYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjM0JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwuYXVkaW9Db2RlYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldmVsRnJvbVNldCA9IGxldmVsU2V0W2xldmVsLmJpdHJhdGVdOyAvLyBGSVhNRTogd2Ugd291bGQgYWxzbyBoYXZlIHRvIG1hdGNoIHRoZSByZXNvbHV0aW9uIGhlcmVcbiAgICAgICAgICAgIGlmICghbGV2ZWxGcm9tU2V0KSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwudXJsID0gW2xldmVsLnVybF07XG4gICAgICAgICAgICAgICAgbGV2ZWwudXJsSWQgPSAwO1xuICAgICAgICAgICAgICAgIGxldmVsU2V0W2xldmVsLmJpdHJhdGVdID0gbGV2ZWw7XG4gICAgICAgICAgICAgICAgbGV2ZWxzLnB1c2gobGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV2ZWxGcm9tU2V0LnVybC5wdXNoKGxldmVsLnVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzLkFVRElPKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQ29kZWNGb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsX2hlbHBlcl8xLmFkZEdyb3VwSWQobGV2ZWxGcm9tU2V0IHx8IGxldmVsLCAnYXVkaW8nLCBhdHRyaWJ1dGVzLkFVRElPKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuU1VCVElUTEVTKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsX2hlbHBlcl8xLmFkZEdyb3VwSWQobGV2ZWxGcm9tU2V0IHx8IGxldmVsLCAndGV4dCcsIGF0dHJpYnV0ZXMuU1VCVElUTEVTKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyByZW1vdmUgYXVkaW8tb25seSBsZXZlbCBpZiB3ZSBhbHNvIGhhdmUgbGV2ZWxzIHdpdGggYXVkaW8rdmlkZW8gY29kZWNzIHNpZ25hbGxlZFxuICAgICAgICBpZiAodmlkZW9Db2RlY0ZvdW5kICYmIGF1ZGlvQ29kZWNGb3VuZCkge1xuICAgICAgICAgICAgbGV2ZWxzID0gbGV2ZWxzLmZpbHRlcihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9Db2RlYyA9IF9hLnZpZGVvQ29kZWM7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdmlkZW9Db2RlYztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIG9ubHkga2VlcCBsZXZlbHMgd2l0aCBzdXBwb3J0ZWQgYXVkaW8vdmlkZW8gY29kZWNzXG4gICAgICAgIGxldmVscyA9IGxldmVscy5maWx0ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9Db2RlYyA9IF9hLmF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMgPSBfYS52aWRlb0NvZGVjO1xuICAgICAgICAgICAgcmV0dXJuICghYXVkaW9Db2RlYyB8fCBjb2RlY3NfMS5pc0NvZGVjU3VwcG9ydGVkSW5NcDQoYXVkaW9Db2RlYywgJ2F1ZGlvJykpICYmICghdmlkZW9Db2RlYyB8fCBjb2RlY3NfMS5pc0NvZGVjU3VwcG9ydGVkSW5NcDQodmlkZW9Db2RlYywgJ3ZpZGVvJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRhdGEuYXVkaW9UcmFja3MpIHtcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzID0gZGF0YS5hdWRpb1RyYWNrcy5maWx0ZXIoZnVuY3Rpb24gKHRyYWNrKSB7IHJldHVybiAhdHJhY2suYXVkaW9Db2RlYyB8fCBjb2RlY3NfMS5pc0NvZGVjU3VwcG9ydGVkSW5NcDQodHJhY2suYXVkaW9Db2RlYywgJ2F1ZGlvJyk7IH0pO1xuICAgICAgICAgICAgLy8gUmVhc3NpZ24gaWQncyBhZnRlciBmaWx0ZXJpbmcgc2luY2UgdGhleSdyZSB1c2VkIGFzIGFycmF5IGluZGljZXNcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrLCBpbmRleCkge1xuICAgICAgICAgICAgICAgIHRyYWNrLmlkID0gaW5kZXg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWxzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIHN0YXJ0IGJpdHJhdGUgaXMgdGhlIGZpcnN0IGJpdHJhdGUgb2YgdGhlIG1hbmlmZXN0XG4gICAgICAgICAgICBiaXRyYXRlU3RhcnQgPSBsZXZlbHNbMF0uYml0cmF0ZTtcbiAgICAgICAgICAgIC8vIHNvcnQgbGV2ZWwgb24gYml0cmF0ZVxuICAgICAgICAgICAgbGV2ZWxzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEuYml0cmF0ZSAtIGIuYml0cmF0ZTsgfSk7XG4gICAgICAgICAgICB0aGlzLl9sZXZlbHMgPSBsZXZlbHM7XG4gICAgICAgICAgICAvLyBmaW5kIGluZGV4IG9mIGZpcnN0IGxldmVsIGluIHNvcnRlZCBsZXZlbHNcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGV2ZWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsc1tpXS5iaXRyYXRlID09PSBiaXRyYXRlU3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZmlyc3RMZXZlbCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJtYW5pZmVzdCBsb2FkZWQsXCIgKyBsZXZlbHMubGVuZ3RoICsgXCIgbGV2ZWwocykgZm91bmQsIGZpcnN0IGJpdHJhdGU6XCIgKyBiaXRyYXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBBdWRpbyBpcyBvbmx5IGFsdGVybmF0ZSBpZiBtYW5pZmVzdCBpbmNsdWRlIGEgVVJJIGFsb25nIHdpdGggdGhlIGF1ZGlvIGdyb3VwIHRhZ1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX1BBUlNFRCwge1xuICAgICAgICAgICAgICAgIGxldmVsczogbGV2ZWxzLFxuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tzOiBhdWRpb1RyYWNrcyxcbiAgICAgICAgICAgICAgICBmaXJzdExldmVsOiB0aGlzLl9maXJzdExldmVsLFxuICAgICAgICAgICAgICAgIHN0YXRzOiBkYXRhLnN0YXRzLFxuICAgICAgICAgICAgICAgIGF1ZGlvOiBhdWRpb0NvZGVjRm91bmQsXG4gICAgICAgICAgICAgICAgdmlkZW86IHZpZGVvQ29kZWNGb3VuZCxcbiAgICAgICAgICAgICAgICBhbHRBdWRpbzogYXVkaW9UcmFja3Muc29tZShmdW5jdGlvbiAodCkgeyByZXR1cm4gISF0LnVybDsgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuTUFOSUZFU1RfSU5DT01QQVRJQkxFX0NPREVDU19FUlJPUixcbiAgICAgICAgICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1cmw6IHRoaXMuaGxzLnVybCxcbiAgICAgICAgICAgICAgICByZWFzb246ICdubyBsZXZlbCB3aXRoIGNvbXBhdGlibGUgY29kZWNzIGZvdW5kIGluIG1hbmlmZXN0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLCBcImxldmVsc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xldmVscztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwibGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRMZXZlbEluZGV4O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICAgICAgdmFyIGxldmVscyA9IHRoaXMuX2xldmVscztcbiAgICAgICAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgICAgICAgICBuZXdMZXZlbCA9IE1hdGgubWluKG5ld0xldmVsLCBsZXZlbHMubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudExldmVsSW5kZXggIT09IG5ld0xldmVsIHx8ICFsZXZlbHNbbmV3TGV2ZWxdLmRldGFpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRMZXZlbEludGVybmFsKG5ld0xldmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIExldmVsQ29udHJvbGxlci5wcm90b3R5cGUuc2V0TGV2ZWxJbnRlcm5hbCA9IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5fbGV2ZWxzO1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIC8vIGNoZWNrIGlmIGxldmVsIGlkeCBpcyB2YWxpZFxuICAgICAgICBpZiAobmV3TGV2ZWwgPj0gMCAmJiBuZXdMZXZlbCA8IGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHN0b3BwaW5nIGxpdmUgcmVsb2FkaW5nIHRpbWVyIGlmIGFueVxuICAgICAgICAgICAgdGhpcy5jbGVhclRpbWVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWxJbmRleCAhPT0gbmV3TGV2ZWwpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwic3dpdGNoaW5nIHRvIGxldmVsIFwiICsgbmV3TGV2ZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExldmVsSW5kZXggPSBuZXdMZXZlbDtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxQcm9wZXJ0aWVzID0gbGV2ZWxzW25ld0xldmVsXTtcbiAgICAgICAgICAgICAgICBsZXZlbFByb3BlcnRpZXMubGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkxFVkVMX1NXSVRDSElORywgbGV2ZWxQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsZXZlbCA9IGxldmVsc1tuZXdMZXZlbF07XG4gICAgICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbGV2ZWwuZGV0YWlscztcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdlIG5lZWQgdG8gbG9hZCBwbGF5bGlzdCBmb3IgdGhpcyBsZXZlbFxuICAgICAgICAgICAgaWYgKCFsZXZlbERldGFpbHMgfHwgbGV2ZWxEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgICAgICAvLyBsZXZlbCBub3QgcmV0cmlldmVkIHlldCwgb3IgbGl2ZSBwbGF5bGlzdCB3ZSBuZWVkIHRvIChyZSlsb2FkIGl0XG4gICAgICAgICAgICAgICAgdmFyIHVybElkID0gbGV2ZWwudXJsSWQ7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9MT0FESU5HLCB7IHVybDogbGV2ZWwudXJsW3VybElkXSwgbGV2ZWw6IG5ld0xldmVsLCBpZDogdXJsSWQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpbnZhbGlkIGxldmVsIGlkIGdpdmVuLCB0cmlnZ2VyIGVycm9yXG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7XG4gICAgICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5PVEhFUl9FUlJPUixcbiAgICAgICAgICAgICAgICBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfU1dJVENIX0VSUk9SLFxuICAgICAgICAgICAgICAgIGxldmVsOiBuZXdMZXZlbCxcbiAgICAgICAgICAgICAgICBmYXRhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVhc29uOiAnaW52YWxpZCBsZXZlbCBpZHgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwibWFudWFsTGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1hbnVhbExldmVsSW5kZXg7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICB0aGlzLm1hbnVhbExldmVsSW5kZXggPSBuZXdMZXZlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydExldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydExldmVsID0gbmV3TGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3TGV2ZWwgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZSwgXCJmaXJzdExldmVsXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3RMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwic3RhcnRMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gaGxzLnN0YXJ0TGV2ZWwgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGNvbmZpZy5zdGFydExldmVsXG4gICAgICAgICAgICAvLyBpZiBub25lIG9mIHRoZXNlIHZhbHVlcyBhcmUgZGVmaW5lZCwgZmFsbGJhY2sgb24gdGhpcy5fZmlyc3RMZXZlbCAoZmlyc3QgcXVhbGl0eSBsZXZlbCBhcHBlYXJpbmcgaW4gdmFyaWFudCBtYW5pZmVzdClcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFydExldmVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29uZmlnU3RhcnRMZXZlbCA9IHRoaXMuaGxzLmNvbmZpZy5zdGFydExldmVsO1xuICAgICAgICAgICAgICAgIGlmIChjb25maWdTdGFydExldmVsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ1N0YXJ0TGV2ZWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZmlyc3RMZXZlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fc3RhcnRMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXJ0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09IGVycm9yc18xLkVycm9yVHlwZXMuTkVUV09SS19FUlJPUikge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJUaW1lcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZXZlbEVycm9yID0gZmFsc2UsIGZyYWdtZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgdmFyIGxldmVsSW5kZXg7XG4gICAgICAgIC8vIHRyeSB0byByZWNvdmVyIG5vdCBmYXRhbCBlcnJvcnNcbiAgICAgICAgc3dpdGNoIChkYXRhLmRldGFpbHMpIHtcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuS0VZX0xPQURfRVJST1I6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIGxldmVsSW5kZXggPSBkYXRhLmZyYWcubGV2ZWw7XG4gICAgICAgICAgICAgICAgZnJhZ21lbnRFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5MRVZFTF9MT0FEX0VSUk9SOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIGxldmVsSW5kZXggPSBkYXRhLmNvbnRleHQubGV2ZWw7XG4gICAgICAgICAgICAgICAgbGV2ZWxFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5SRU1VWF9BTExPQ19FUlJPUjpcbiAgICAgICAgICAgICAgICBsZXZlbEluZGV4ID0gZGF0YS5sZXZlbDtcbiAgICAgICAgICAgICAgICBsZXZlbEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAobGV2ZWxJbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJMZXZlbChkYXRhLCBsZXZlbEluZGV4LCBsZXZlbEVycm9yLCBmcmFnbWVudEVycm9yKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogU3dpdGNoIHRvIGEgcmVkdW5kYW50IHN0cmVhbSBpZiBhbnkgYXZhaWxhYmxlLlxuICAgICAqIElmIHJlZHVuZGFudCBzdHJlYW0gaXMgbm90IGF2YWlsYWJsZSwgZW1lcmdlbmN5IHN3aXRjaCBkb3duIGlmIEFCUiBtb2RlIGlzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZXJyb3JFdmVudFxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZXZlbEluZGV4IGN1cnJlbnQgbGV2ZWwgaW5kZXhcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGxldmVsRXJyb3JcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IGZyYWdtZW50RXJyb3JcbiAgICAgKi9cbiAgICAvLyBGSVhNRSBGaW5kIGEgYmV0dGVyIGFic3RyYWN0aW9uIHdoZXJlIGZyYWdtZW50L2xldmVsIHJldHJ5IG1hbmFnZW1lbnQgaXMgd2VsbCBkZWNvdXBsZWRcbiAgICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLnJlY292ZXJMZXZlbCA9IGZ1bmN0aW9uIChlcnJvckV2ZW50LCBsZXZlbEluZGV4LCBsZXZlbEVycm9yLCBmcmFnbWVudEVycm9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgICAgIHZhciBlcnJvckRldGFpbHMgPSBlcnJvckV2ZW50LmRldGFpbHM7XG4gICAgICAgIHZhciBsZXZlbCA9IHRoaXMuX2xldmVsc1tsZXZlbEluZGV4XTtcbiAgICAgICAgdmFyIHJlZHVuZGFudExldmVscywgZGVsYXksIG5leHRMZXZlbDtcbiAgICAgICAgbGV2ZWwubG9hZEVycm9yKys7XG4gICAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmcmFnbWVudEVycm9yO1xuICAgICAgICBpZiAobGV2ZWxFcnJvcikge1xuICAgICAgICAgICAgaWYgKCh0aGlzLmxldmVsUmV0cnlDb3VudCArIDEpIDw9IGNvbmZpZy5sZXZlbExvYWRpbmdNYXhSZXRyeSkge1xuICAgICAgICAgICAgICAgIC8vIGV4cG9uZW50aWFsIGJhY2tvZmYgY2FwcGVkIHRvIG1heCByZXRyeSB0aW1lb3V0XG4gICAgICAgICAgICAgICAgZGVsYXkgPSBNYXRoLm1pbihNYXRoLnBvdygyLCB0aGlzLmxldmVsUmV0cnlDb3VudCkgKiBjb25maWcubGV2ZWxMb2FkaW5nUmV0cnlEZWxheSwgY29uZmlnLmxldmVsTG9hZGluZ01heFJldHJ5VGltZW91dCk7XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgbGV2ZWwgcmVsb2FkXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMubG9hZExldmVsKCk7IH0sIGRlbGF5KTtcbiAgICAgICAgICAgICAgICAvLyBib29sZWFuIHVzZWQgdG8gaW5mb3JtIHN0cmVhbSBjb250cm9sbGVyIG5vdCB0byBzd2l0Y2ggYmFjayB0byBJRExFIG9uIG5vbiBmYXRhbCBlcnJvclxuICAgICAgICAgICAgICAgIGVycm9yRXZlbnQubGV2ZWxSZXRyeSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5sZXZlbFJldHJ5Q291bnQrKztcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcImxldmVsIGNvbnRyb2xsZXIsIFwiICsgZXJyb3JEZXRhaWxzICsgXCIsIHJldHJ5IGluIFwiICsgZGVsYXkgKyBcIiBtcywgY3VycmVudCByZXRyeSBjb3VudCBpcyBcIiArIHRoaXMubGV2ZWxSZXRyeUNvdW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5lcnJvcihcImxldmVsIGNvbnRyb2xsZXIsIGNhbm5vdCByZWNvdmVyIGZyb20gXCIgKyBlcnJvckRldGFpbHMgKyBcIiBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRMZXZlbEluZGV4ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBzdG9wcGluZyBsaXZlIHJlbG9hZGluZyB0aW1lciBpZiBhbnlcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggZXJyb3IgdG8gZmF0YWxcbiAgICAgICAgICAgICAgICBlcnJvckV2ZW50LmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJ5IGFueSByZWR1bmRhbnQgc3RyZWFtcyBpZiBhdmFpbGFibGUgZm9yIGJvdGggZXJyb3JzOiBsZXZlbCBhbmQgZnJhZ21lbnRcbiAgICAgICAgLy8gSWYgbGV2ZWwubG9hZEVycm9yIHJlYWNoZXMgcmVkdW5kYW50TGV2ZWxzIGl0IG1lYW5zIHRoYXQgd2UgdHJpZWQgdGhlbSBhbGwsIG5vIGhvcGUgID0+IGxldCdzIHN3aXRjaCBkb3duXG4gICAgICAgIGlmIChsZXZlbEVycm9yIHx8IGZyYWdtZW50RXJyb3IpIHtcbiAgICAgICAgICAgIHJlZHVuZGFudExldmVscyA9IGxldmVsLnVybC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAocmVkdW5kYW50TGV2ZWxzID4gMSAmJiBsZXZlbC5sb2FkRXJyb3IgPCByZWR1bmRhbnRMZXZlbHMpIHtcbiAgICAgICAgICAgICAgICBsZXZlbC51cmxJZCA9IChsZXZlbC51cmxJZCArIDEpICUgcmVkdW5kYW50TGV2ZWxzO1xuICAgICAgICAgICAgICAgIGxldmVsLmRldGFpbHMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsZXZlbCBjb250cm9sbGVyLCBcIiArIGVycm9yRGV0YWlscyArIFwiIGZvciBsZXZlbCBcIiArIGxldmVsSW5kZXggKyBcIjogc3dpdGNoaW5nIHRvIHJlZHVuZGFudCBVUkwtaWQgXCIgKyBsZXZlbC51cmxJZCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ0N1cnJlbnQgYXVkaW8gdHJhY2sgZ3JvdXAgSUQ6JywgdGhpcy5obHMuYXVkaW9UcmFja3NbdGhpcy5obHMuYXVkaW9UcmFja10uZ3JvdXBJZCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ05ldyB2aWRlbyBxdWFsaXR5IGxldmVsIGF1ZGlvIGdyb3VwIGlkOicsIGxldmVsLmF0dHJzLkFVRElPKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlYXJjaCBmb3IgYXZhaWxhYmxlIGxldmVsXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWFudWFsTGV2ZWxJbmRleCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBsb3dlc3QgbGV2ZWwgaGFzIGJlZW4gcmVhY2hlZCwgbGV0J3Mgc3RhcnQgaHVudCBmcm9tIHRoZSB0b3BcbiAgICAgICAgICAgICAgICAgICAgbmV4dExldmVsID0gKGxldmVsSW5kZXggPT09IDApID8gdGhpcy5fbGV2ZWxzLmxlbmd0aCAtIDEgOiBsZXZlbEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsZXZlbCBjb250cm9sbGVyLCBcIiArIGVycm9yRGV0YWlscyArIFwiOiBzd2l0Y2ggdG8gXCIgKyBuZXh0TGV2ZWwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhscy5uZXh0QXV0b0xldmVsID0gdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG5leHRMZXZlbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZnJhZ21lbnRFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBmcmFnbWVudCByZXRyeSBhcyBsb25nIGFzIGNvbmZpZ3VyYXRpb24gYWxsb3dzLlxuICAgICAgICAgICAgICAgICAgICAvLyByZXNldCB0aGlzLl9sZXZlbCBzbyB0aGF0IGFub3RoZXIgY2FsbCB0byBzZXQgbGV2ZWwoKSB3aWxsIHRyaWdnZXIgYWdhaW4gYSBmcmFnIGxvYWRcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJsZXZlbCBjb250cm9sbGVyLCBcIiArIGVycm9yRGV0YWlscyArIFwiOiByZWxvYWQgYSBmcmFnbWVudFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50TGV2ZWxJbmRleCA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyByZXNldCBlcnJvcnMgb24gdGhlIHN1Y2Nlc3NmdWwgbG9hZCBvZiBhIGZyYWdtZW50XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdMb2FkZWQgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBfYS5mcmFnO1xuICAgICAgICBpZiAoZnJhZyAhPT0gdW5kZWZpbmVkICYmIGZyYWcudHlwZSA9PT0gJ21haW4nKSB7XG4gICAgICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLl9sZXZlbHNbZnJhZy5sZXZlbF07XG4gICAgICAgICAgICBpZiAobGV2ZWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGxldmVsLmZyYWdtZW50RXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubGV2ZWxSZXRyeUNvdW50ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxldmVsSWQgPSBkYXRhLmxldmVsO1xuICAgICAgICAvLyBvbmx5IHByb2Nlc3MgbGV2ZWwgbG9hZGVkIGV2ZW50cyBtYXRjaGluZyB3aXRoIGV4cGVjdGVkIGxldmVsXG4gICAgICAgIGlmIChsZXZlbElkICE9PSB0aGlzLmN1cnJlbnRMZXZlbEluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1ckxldmVsID0gdGhpcy5fbGV2ZWxzW2xldmVsSWRdO1xuICAgICAgICAvLyByZXNldCBsZXZlbCBsb2FkIGVycm9yIGNvdW50ZXIgb24gc3VjY2Vzc2Z1bCBsZXZlbCBsb2FkZWQgb25seSBpZiB0aGVyZSBpcyBubyBpc3N1ZXMgd2l0aCBmcmFnbWVudHNcbiAgICAgICAgaWYgKCFjdXJMZXZlbC5mcmFnbWVudEVycm9yKSB7XG4gICAgICAgICAgICBjdXJMZXZlbC5sb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgdGhpcy5sZXZlbFJldHJ5Q291bnQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdEZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgICAvLyBpZiBjdXJyZW50IHBsYXlsaXN0IGlzIGEgbGl2ZSBwbGF5bGlzdCwgYXJtIGEgdGltZXIgdG8gcmVsb2FkIGl0XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXRkdXJhdGlvbk1zID0gMTAwMCAqIChuZXdEZXRhaWxzLmF2ZXJhZ2V0YXJnZXRkdXJhdGlvbiA/IG5ld0RldGFpbHMuYXZlcmFnZXRhcmdldGR1cmF0aW9uIDogbmV3RGV0YWlscy50YXJnZXRkdXJhdGlvbik7XG4gICAgICAgICAgICB2YXIgcmVsb2FkSW50ZXJ2YWwgPSB0YXJnZXRkdXJhdGlvbk1zLCBjdXJEZXRhaWxzID0gY3VyTGV2ZWwuZGV0YWlscztcbiAgICAgICAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZW5kU04gPT09IGN1ckRldGFpbHMuZW5kU04pIHtcbiAgICAgICAgICAgICAgICAvLyBmb2xsb3cgSExTIFNwZWMsIElmIHRoZSBjbGllbnQgcmVsb2FkcyBhIFBsYXlsaXN0IGZpbGUgYW5kIGZpbmRzIHRoYXQgaXQgaGFzIG5vdFxuICAgICAgICAgICAgICAgIC8vIGNoYW5nZWQgdGhlbiBpdCBNVVNUIHdhaXQgZm9yIGEgcGVyaW9kIG9mIG9uZS1oYWxmIHRoZSB0YXJnZXRcbiAgICAgICAgICAgICAgICAvLyBkdXJhdGlvbiBiZWZvcmUgcmV0cnlpbmcuXG4gICAgICAgICAgICAgICAgcmVsb2FkSW50ZXJ2YWwgLz0gMjtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdzYW1lIGxpdmUgcGxheWxpc3QsIHJlbG9hZCB0d2ljZSBmYXN0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRlY3JlbWVudCByZWxvYWRJbnRlcnZhbCB3aXRoIGxldmVsIGxvYWRpbmcgZGVsYXlcbiAgICAgICAgICAgIHJlbG9hZEludGVydmFsIC09IHBlcmZvcm1hbmNlLm5vdygpIC0gZGF0YS5zdGF0cy50cmVxdWVzdDtcbiAgICAgICAgICAgIC8vIGluIGFueSBjYXNlLCBkb24ndCByZWxvYWQgbW9yZSB0aGFuIGhhbGYgb2YgdGFyZ2V0IGR1cmF0aW9uXG4gICAgICAgICAgICByZWxvYWRJbnRlcnZhbCA9IE1hdGgubWF4KHRhcmdldGR1cmF0aW9uTXMgLyAyLCBNYXRoLnJvdW5kKHJlbG9hZEludGVydmFsKSk7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBwbGF5bGlzdCwgcmVsb2FkIGluIFwiICsgTWF0aC5yb3VuZChyZWxvYWRJbnRlcnZhbCkgKyBcIiBtc1wiKTtcbiAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmxvYWRMZXZlbCgpOyB9LCByZWxvYWRJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyVGltZXIoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTGV2ZWxDb250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBhdWRpb0dyb3VwSWQgPSB0aGlzLmhscy5hdWRpb1RyYWNrc1tkYXRhLmlkXS5ncm91cElkO1xuICAgICAgICB2YXIgY3VycmVudExldmVsID0gdGhpcy5obHMubGV2ZWxzW3RoaXMuY3VycmVudExldmVsSW5kZXhdO1xuICAgICAgICBpZiAoIWN1cnJlbnRMZXZlbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50TGV2ZWwuYXVkaW9Hcm91cElkcykge1xuICAgICAgICAgICAgdmFyIHVybElkID0gY3VycmVudExldmVsLmF1ZGlvR3JvdXBJZHMuZmluZEluZGV4KGZ1bmN0aW9uIChncm91cElkKSB7IHJldHVybiBncm91cElkID09PSBhdWRpb0dyb3VwSWQ7IH0pO1xuICAgICAgICAgICAgaWYgKHVybElkICE9PSBjdXJyZW50TGV2ZWwudXJsSWQpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50TGV2ZWwudXJsSWQgPSB1cmxJZDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0TG9hZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBMZXZlbENvbnRyb2xsZXIucHJvdG90eXBlLmxvYWRMZXZlbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKCdjYWxsIHRvIGxvYWRMZXZlbCcpO1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TGV2ZWxJbmRleCAhPT0gbnVsbCAmJiB0aGlzLmNhbmxvYWQpIHtcbiAgICAgICAgICAgIHZhciBsZXZlbE9iamVjdCA9IHRoaXMuX2xldmVsc1t0aGlzLmN1cnJlbnRMZXZlbEluZGV4XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbGV2ZWxPYmplY3QgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgbGV2ZWxPYmplY3QudXJsLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLmN1cnJlbnRMZXZlbEluZGV4O1xuICAgICAgICAgICAgICAgIHZhciBpZCA9IGxldmVsT2JqZWN0LnVybElkO1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBsZXZlbE9iamVjdC51cmxbaWRdO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJBdHRlbXB0IGxvYWRpbmcgbGV2ZWwgaW5kZXggXCIgKyBsZXZlbCArIFwiIHdpdGggVVJMLWlkIFwiICsgaWQpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDdXJyZW50IGF1ZGlvIHRyYWNrIGdyb3VwIElEOicsIHRoaXMuaGxzLmF1ZGlvVHJhY2tzW3RoaXMuaGxzLmF1ZGlvVHJhY2tdLmdyb3VwSWQpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdOZXcgdmlkZW8gcXVhbGl0eSBsZXZlbCBhdWRpbyBncm91cCBpZDonLCBsZXZlbE9iamVjdC5hdHRycy5BVURJTywgbGV2ZWwpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9MT0FESU5HLCB7IHVybDogdXJsLCBsZXZlbDogbGV2ZWwsIGlkOiBpZCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsQ29udHJvbGxlci5wcm90b3R5cGUsIFwibmV4dExvYWRMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMubWFudWFsTGV2ZWxJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYW51YWxMZXZlbEluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGxzLm5leHRBdXRvTGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5leHRMZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5sZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgICAgIGlmICh0aGlzLm1hbnVhbExldmVsSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5obHMubmV4dEF1dG9MZXZlbCA9IG5leHRMZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIExldmVsQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExldmVsQ29udHJvbGxlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qKlxuICogQG1vZHVsZSBMZXZlbEhlbHBlclxuICpcbiAqIFByb3ZpZGluZyBtZXRob2RzIGRlYWxpbmcgd2l0aCBwbGF5bGlzdCBzbGlkaW5nIGFuZCBkcmlmdFxuICpcbiAqIFRPRE86IENyZWF0ZSBhbiBhY3R1YWwgYExldmVsYCBjbGFzcy9tb2RlbCB0aGF0IGRlYWxzIHdpdGggYWxsIHRoaXMgbG9naWMgaW4gYW4gb2JqZWN0LW9yaWVudGVkLW1hbm5lci5cbiAqXG4gKiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZnVuY3Rpb24gYWRkR3JvdXBJZChsZXZlbCwgdHlwZSwgaWQpIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYXVkaW8nOlxuICAgICAgICAgICAgaWYgKCFsZXZlbC5hdWRpb0dyb3VwSWRzKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwuYXVkaW9Hcm91cElkcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWwuYXVkaW9Hcm91cElkcy5wdXNoKGlkKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0ZXh0JzpcbiAgICAgICAgICAgIGlmICghbGV2ZWwudGV4dEdyb3VwSWRzKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwudGV4dEdyb3VwSWRzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbC50ZXh0R3JvdXBJZHMucHVzaChpZCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG59XG5leHBvcnRzLmFkZEdyb3VwSWQgPSBhZGRHcm91cElkO1xuZnVuY3Rpb24gdXBkYXRlUFRTKGZyYWdtZW50cywgZnJvbUlkeCwgdG9JZHgpIHtcbiAgICB2YXIgZnJhZ0Zyb20gPSBmcmFnbWVudHNbZnJvbUlkeF0sIGZyYWdUbyA9IGZyYWdtZW50c1t0b0lkeF0sIGZyYWdUb1BUUyA9IGZyYWdUby5zdGFydFBUUztcbiAgICAvLyBpZiB3ZSBrbm93IHN0YXJ0UFRTW3RvSWR4XVxuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZ1RvUFRTKSkge1xuICAgICAgICAvLyB1cGRhdGUgZnJhZ21lbnQgZHVyYXRpb24uXG4gICAgICAgIC8vIGl0IGhlbHBzIHRvIGZpeCBkcmlmdHMgYmV0d2VlbiBwbGF5bGlzdCByZXBvcnRlZCBkdXJhdGlvbiBhbmQgZnJhZ21lbnQgcmVhbCBkdXJhdGlvblxuICAgICAgICBpZiAodG9JZHggPiBmcm9tSWR4KSB7XG4gICAgICAgICAgICBmcmFnRnJvbS5kdXJhdGlvbiA9IGZyYWdUb1BUUyAtIGZyYWdGcm9tLnN0YXJ0O1xuICAgICAgICAgICAgaWYgKGZyYWdGcm9tLmR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwibmVnYXRpdmUgZHVyYXRpb24gY29tcHV0ZWQgZm9yIGZyYWcgXCIgKyBmcmFnRnJvbS5zbiArIFwiLGxldmVsIFwiICsgZnJhZ0Zyb20ubGV2ZWwgKyBcIiwgdGhlcmUgc2hvdWxkIGJlIHNvbWUgZHVyYXRpb24gZHJpZnQgYmV0d2VlbiBwbGF5bGlzdCBhbmQgZnJhZ21lbnQhXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZnJhZ1RvLmR1cmF0aW9uID0gZnJhZ0Zyb20uc3RhcnQgLSBmcmFnVG9QVFM7XG4gICAgICAgICAgICBpZiAoZnJhZ1RvLmR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwibmVnYXRpdmUgZHVyYXRpb24gY29tcHV0ZWQgZm9yIGZyYWcgXCIgKyBmcmFnVG8uc24gKyBcIixsZXZlbCBcIiArIGZyYWdUby5sZXZlbCArIFwiLCB0aGVyZSBzaG91bGQgYmUgc29tZSBkdXJhdGlvbiBkcmlmdCBiZXR3ZWVuIHBsYXlsaXN0IGFuZCBmcmFnbWVudCFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIHdlIGRvbnQga25vdyBzdGFydFBUU1t0b0lkeF1cbiAgICAgICAgaWYgKHRvSWR4ID4gZnJvbUlkeCkge1xuICAgICAgICAgICAgZnJhZ1RvLnN0YXJ0ID0gZnJhZ0Zyb20uc3RhcnQgKyBmcmFnRnJvbS5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZyYWdUby5zdGFydCA9IE1hdGgubWF4KGZyYWdGcm9tLnN0YXJ0IC0gZnJhZ1RvLmR1cmF0aW9uLCAwKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMudXBkYXRlUFRTID0gdXBkYXRlUFRTO1xuZnVuY3Rpb24gdXBkYXRlRnJhZ1BUU0RUUyhkZXRhaWxzLCBmcmFnLCBzdGFydFBUUywgZW5kUFRTLCBzdGFydERUUywgZW5kRFRTKSB7XG4gICAgLy8gdXBkYXRlIGZyYWcgUFRTL0RUU1xuICAgIHZhciBtYXhTdGFydFBUUyA9IHN0YXJ0UFRTO1xuICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZy5zdGFydFBUUykpIHtcbiAgICAgICAgLy8gZGVsdGEgUFRTIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvXG4gICAgICAgIHZhciBkZWx0YVBUUyA9IE1hdGguYWJzKGZyYWcuc3RhcnRQVFMgLSBzdGFydFBUUyk7XG4gICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGZyYWcuZGVsdGFQVFMpKSB7XG4gICAgICAgICAgICBmcmFnLmRlbHRhUFRTID0gZGVsdGFQVFM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmcmFnLmRlbHRhUFRTID0gTWF0aC5tYXgoZGVsdGFQVFMsIGZyYWcuZGVsdGFQVFMpO1xuICAgICAgICB9XG4gICAgICAgIG1heFN0YXJ0UFRTID0gTWF0aC5tYXgoc3RhcnRQVFMsIGZyYWcuc3RhcnRQVFMpO1xuICAgICAgICBzdGFydFBUUyA9IE1hdGgubWluKHN0YXJ0UFRTLCBmcmFnLnN0YXJ0UFRTKTtcbiAgICAgICAgZW5kUFRTID0gTWF0aC5tYXgoZW5kUFRTLCBmcmFnLmVuZFBUUyk7XG4gICAgICAgIHN0YXJ0RFRTID0gTWF0aC5taW4oc3RhcnREVFMsIGZyYWcuc3RhcnREVFMpO1xuICAgICAgICBlbmREVFMgPSBNYXRoLm1heChlbmREVFMsIGZyYWcuZW5kRFRTKTtcbiAgICB9XG4gICAgdmFyIGRyaWZ0ID0gc3RhcnRQVFMgLSBmcmFnLnN0YXJ0O1xuICAgIGZyYWcuc3RhcnQgPSBmcmFnLnN0YXJ0UFRTID0gc3RhcnRQVFM7XG4gICAgZnJhZy5tYXhTdGFydFBUUyA9IG1heFN0YXJ0UFRTO1xuICAgIGZyYWcuZW5kUFRTID0gZW5kUFRTO1xuICAgIGZyYWcuc3RhcnREVFMgPSBzdGFydERUUztcbiAgICBmcmFnLmVuZERUUyA9IGVuZERUUztcbiAgICBmcmFnLmR1cmF0aW9uID0gZW5kUFRTIC0gc3RhcnRQVFM7XG4gICAgdmFyIHNuID0gZnJhZy5zbjtcbiAgICAvLyBleGl0IGlmIHNuIG91dCBvZiByYW5nZVxuICAgIGlmICghZGV0YWlscyB8fCBzbiA8IGRldGFpbHMuc3RhcnRTTiB8fCBzbiA+IGRldGFpbHMuZW5kU04pIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBmcmFnSWR4LCBmcmFnbWVudHMsIGk7XG4gICAgZnJhZ0lkeCA9IHNuIC0gZGV0YWlscy5zdGFydFNOO1xuICAgIGZyYWdtZW50cyA9IGRldGFpbHMuZnJhZ21lbnRzO1xuICAgIC8vIHVwZGF0ZSBmcmFnIHJlZmVyZW5jZSBpbiBmcmFnbWVudHMgYXJyYXlcbiAgICAvLyByYXRpb25hbGUgaXMgdGhhdCBmcmFnbWVudHMgYXJyYXkgbWlnaHQgbm90IGNvbnRhaW4gdGhpcyBmcmFnIG9iamVjdC5cbiAgICAvLyB0aGlzIHdpbGwgaGFwcGVuIGlmIHBsYXlsaXN0IGhhcyBiZWVuIHJlZnJlc2hlZCBiZXR3ZWVuIGZyYWcgbG9hZGluZyBhbmQgY2FsbCB0byB1cGRhdGVGcmFnUFRTRFRTKClcbiAgICAvLyBpZiB3ZSBkb24ndCB1cGRhdGUgZnJhZywgd2Ugd29uJ3QgYmUgYWJsZSB0byBwcm9wYWdhdGUgUFRTIGluZm8gb24gdGhlIHBsYXlsaXN0XG4gICAgLy8gcmVzdWx0aW5nIGluIGludmFsaWQgc2xpZGluZyBjb21wdXRhdGlvblxuICAgIGZyYWdtZW50c1tmcmFnSWR4XSA9IGZyYWc7XG4gICAgLy8gYWRqdXN0IGZyYWdtZW50IFBUUy9kdXJhdGlvbiBmcm9tIHNlcW51bS0xIHRvIGZyYWcgMFxuICAgIGZvciAoaSA9IGZyYWdJZHg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgdXBkYXRlUFRTKGZyYWdtZW50cywgaSwgaSAtIDEpO1xuICAgIH1cbiAgICAvLyBhZGp1c3QgZnJhZ21lbnQgUFRTL2R1cmF0aW9uIGZyb20gc2VxbnVtIHRvIGxhc3QgZnJhZ1xuICAgIGZvciAoaSA9IGZyYWdJZHg7IGkgPCBmcmFnbWVudHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgIHVwZGF0ZVBUUyhmcmFnbWVudHMsIGksIGkgKyAxKTtcbiAgICB9XG4gICAgZGV0YWlscy5QVFNLbm93biA9IHRydWU7XG4gICAgcmV0dXJuIGRyaWZ0O1xufVxuZXhwb3J0cy51cGRhdGVGcmFnUFRTRFRTID0gdXBkYXRlRnJhZ1BUU0RUUztcbmZ1bmN0aW9uIG1lcmdlRGV0YWlscyhvbGREZXRhaWxzLCBuZXdEZXRhaWxzKSB7XG4gICAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgob2xkRGV0YWlscy5zdGFydFNOLCBuZXdEZXRhaWxzLnN0YXJ0U04pIC0gbmV3RGV0YWlscy5zdGFydFNOLCBlbmQgPSBNYXRoLm1pbihvbGREZXRhaWxzLmVuZFNOLCBuZXdEZXRhaWxzLmVuZFNOKSAtIG5ld0RldGFpbHMuc3RhcnRTTiwgZGVsdGEgPSBuZXdEZXRhaWxzLnN0YXJ0U04gLSBvbGREZXRhaWxzLnN0YXJ0U04sIG9sZGZyYWdtZW50cyA9IG9sZERldGFpbHMuZnJhZ21lbnRzLCBuZXdmcmFnbWVudHMgPSBuZXdEZXRhaWxzLmZyYWdtZW50cywgY2NPZmZzZXQgPSAwLCBQVFNGcmFnO1xuICAgIC8vIHBvdGVudGlhbGx5IHJldHJpZXZlIGNhY2hlZCBpbml0c2VnbWVudFxuICAgIGlmIChuZXdEZXRhaWxzLmluaXRTZWdtZW50ICYmIG9sZERldGFpbHMuaW5pdFNlZ21lbnQpIHtcbiAgICAgICAgbmV3RGV0YWlscy5pbml0U2VnbWVudCA9IG9sZERldGFpbHMuaW5pdFNlZ21lbnQ7XG4gICAgfVxuICAgIC8vIGNoZWNrIGlmIG9sZC9uZXcgcGxheWxpc3RzIGhhdmUgZnJhZ21lbnRzIGluIGNvbW1vblxuICAgIGlmIChlbmQgPCBzdGFydCkge1xuICAgICAgICBuZXdEZXRhaWxzLlBUU0tub3duID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gbG9vcCB0aHJvdWdoIG92ZXJsYXBwaW5nIFNOIGFuZCB1cGRhdGUgc3RhcnRQVFMgLCBjYywgYW5kIGR1cmF0aW9uIGlmIGFueSBmb3VuZFxuICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8PSBlbmQ7IGkrKykge1xuICAgICAgICB2YXIgb2xkRnJhZyA9IG9sZGZyYWdtZW50c1tkZWx0YSArIGldLCBuZXdGcmFnID0gbmV3ZnJhZ21lbnRzW2ldO1xuICAgICAgICBpZiAobmV3RnJhZyAmJiBvbGRGcmFnKSB7XG4gICAgICAgICAgICBjY09mZnNldCA9IG9sZEZyYWcuY2MgLSBuZXdGcmFnLmNjO1xuICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShvbGRGcmFnLnN0YXJ0UFRTKSkge1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuc3RhcnQgPSBuZXdGcmFnLnN0YXJ0UFRTID0gb2xkRnJhZy5zdGFydFBUUztcbiAgICAgICAgICAgICAgICBuZXdGcmFnLmVuZFBUUyA9IG9sZEZyYWcuZW5kUFRTO1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuZHVyYXRpb24gPSBvbGRGcmFnLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuYmFja3RyYWNrZWQgPSBvbGRGcmFnLmJhY2t0cmFja2VkO1xuICAgICAgICAgICAgICAgIG5ld0ZyYWcuZHJvcHBlZCA9IG9sZEZyYWcuZHJvcHBlZDtcbiAgICAgICAgICAgICAgICBQVFNGcmFnID0gbmV3RnJhZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2NPZmZzZXQpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGlzY29udGludWl0eSBzbGlkaW5nIGZyb20gcGxheWxpc3QsIHRha2UgZHJpZnQgaW50byBhY2NvdW50Jyk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXdmcmFnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG5ld2ZyYWdtZW50c1tpXS5jYyArPSBjY09mZnNldDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBpZiBhdCBsZWFzdCBvbmUgZnJhZ21lbnQgY29udGFpbnMgUFRTIGluZm8sIHJlY29tcHV0ZSBQVFMgaW5mb3JtYXRpb24gZm9yIGFsbCBmcmFnbWVudHNcbiAgICBpZiAoUFRTRnJhZykge1xuICAgICAgICB1cGRhdGVGcmFnUFRTRFRTKG5ld0RldGFpbHMsIFBUU0ZyYWcsIFBUU0ZyYWcuc3RhcnRQVFMsIFBUU0ZyYWcuZW5kUFRTLCBQVFNGcmFnLnN0YXJ0RFRTLCBQVFNGcmFnLmVuZERUUyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBlbnN1cmUgdGhhdCBkZWx0YSBpcyB3aXRoaW4gb2xkZnJhZ21lbnRzIHJhbmdlXG4gICAgICAgIC8vIGFsc28gYWRqdXN0IHNsaWRpbmcgaW4gY2FzZSBkZWx0YSBpcyAwICh3ZSBjb3VsZCBoYXZlIG9sZD1bNTAtNjBdIGFuZCBuZXc9b2xkPVs1MC02MV0pXG4gICAgICAgIC8vIGluIHRoYXQgY2FzZSB3ZSBhbHNvIG5lZWQgdG8gYWRqdXN0IHN0YXJ0IG9mZnNldCBvZiBhbGwgZnJhZ21lbnRzXG4gICAgICAgIGlmIChkZWx0YSA+PSAwICYmIGRlbHRhIDwgb2xkZnJhZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gYWRqdXN0IHN0YXJ0IGJ5IHNsaWRpbmcgb2Zmc2V0XG4gICAgICAgICAgICB2YXIgc2xpZGluZyA9IG9sZGZyYWdtZW50c1tkZWx0YV0uc3RhcnQ7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbmV3ZnJhZ21lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbmV3ZnJhZ21lbnRzW2ldLnN0YXJ0ICs9IHNsaWRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgd2UgYXJlIGhlcmUsIGl0IG1lYW5zIHdlIGhhdmUgZnJhZ21lbnRzIG92ZXJsYXBwaW5nIGJldHdlZW5cbiAgICAvLyBvbGQgYW5kIG5ldyBsZXZlbC4gcmVsaWFibGUgUFRTIGluZm8gaXMgdGh1cyByZWx5aW5nIG9uIG9sZCBsZXZlbFxuICAgIG5ld0RldGFpbHMuUFRTS25vd24gPSBvbGREZXRhaWxzLlBUU0tub3duO1xufVxuZXhwb3J0cy5tZXJnZURldGFpbHMgPSBtZXJnZURldGFpbHM7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvc3RyZWFtLWNvbnRyb2xsZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL3N0cmVhbS1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogU3RyZWFtIENvbnRyb2xsZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBiaW5hcnlfc2VhcmNoXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9iaW5hcnktc2VhcmNoICovIFwiLi9zcmMvdXRpbHMvYmluYXJ5LXNlYXJjaC5qc1wiKTtcbnZhciBidWZmZXJfaGVscGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9idWZmZXItaGVscGVyICovIFwiLi9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci5qc1wiKTtcbnZhciBkZW11eGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9kZW11eGVyICovIFwiLi9zcmMvZGVtdXgvZGVtdXhlci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LXRyYWNrZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIik7XG52YXIgZnJhZ21lbnRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2xvYWRlci9mcmFnbWVudCAqLyBcIi4vc3JjL2xvYWRlci9mcmFnbWVudC5qc1wiKTtcbnZhciBwbGF5bGlzdF9sb2FkZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIgKi8gXCIuL3NyYy9sb2FkZXIvcGxheWxpc3QtbG9hZGVyLmpzXCIpO1xudmFyIExldmVsSGVscGVyID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1oZWxwZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2xldmVsLWhlbHBlci5qc1wiKTtcbnZhciB0aW1lX3Jhbmdlc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvdGltZS1yYW5nZXMgKi8gXCIuL3NyYy91dGlscy90aW1lLXJhbmdlcy5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBkaXNjb250aW51aXRpZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2Rpc2NvbnRpbnVpdGllcyAqLyBcIi4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qc1wiKTtcbnZhciBmcmFnbWVudF9maW5kZXJzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LWZpbmRlcnMgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LWZpbmRlcnMuanNcIik7XG52YXIgZ2FwX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZ2FwLWNvbnRyb2xsZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2dhcC1jb250cm9sbGVyLmpzXCIpO1xudmFyIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYmFzZS1zdHJlYW0tY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvYmFzZS1zdHJlYW0tY29udHJvbGxlci5qc1wiKTtcbnZhciBUSUNLX0lOVEVSVkFMID0gMTAwOyAvLyBob3cgb2Z0ZW4gdG8gdGljayBpbiBtc1xudmFyIFN0cmVhbUNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN0cmVhbUNvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3RyZWFtQ29udHJvbGxlcihobHMsIGZyYWdtZW50VHJhY2tlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNIRUQsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfUEFSU0VELCBldmVudHNfMS5kZWZhdWx0LkxFVkVMX0xPQURFRCwgZXZlbnRzXzEuZGVmYXVsdC5LRVlfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRF9FTUVSR0VOQ1lfQUJPUlRFRCwgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19EQVRBLCBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0VELCBldmVudHNfMS5kZWZhdWx0LkVSUk9SLCBldmVudHNfMS5kZWZhdWx0LkFVRElPX1RSQUNLX1NXSVRDSElORywgZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19TV0lUQ0hFRCwgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQ1JFQVRFRCwgZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfQVBQRU5ERUQsIGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0ZMVVNIRUQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAgICAgX3RoaXMuYXVkaW9Db2RlY1N3YXAgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuX3N0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlNUT1BQRUQ7XG4gICAgICAgIF90aGlzLnN0YWxsUmVwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuZ2FwQ29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wTG9hZCgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3lpbmcuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlciA9IG51bGw7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWVkLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdGFydExvYWQgPSBmdW5jdGlvbiAoc3RhcnRQb3NpdGlvbikge1xuICAgICAgICBpZiAodGhpcy5sZXZlbHMpIHtcbiAgICAgICAgICAgIHZhciBsYXN0Q3VycmVudFRpbWUgPSB0aGlzLmxhc3RDdXJyZW50VGltZSwgaGxzXzEgPSB0aGlzLmhscztcbiAgICAgICAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgICAgICAgICB0aGlzLmxldmVsID0gLTE7XG4gICAgICAgICAgICB0aGlzLmZyYWdMb2FkRXJyb3IgPSAwO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgIC8vIGRldGVybWluZSBsb2FkIGxldmVsXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0TGV2ZWwgPSBobHNfMS5zdGFydExldmVsO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydExldmVsID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAtMSA6IGd1ZXNzIHN0YXJ0IExldmVsIGJ5IGRvaW5nIGEgYml0cmF0ZSB0ZXN0IGJ5IGxvYWRpbmcgZmlyc3QgZnJhZ21lbnQgb2YgbG93ZXN0IHF1YWxpdHkgbGV2ZWxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRMZXZlbCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYml0cmF0ZVRlc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzZXQgbmV3IGxldmVsIHRvIHBsYXlsaXN0IGxvYWRlciA6IHRoaXMgd2lsbCB0cmlnZ2VyIHN0YXJ0IGxldmVsIGxvYWRcbiAgICAgICAgICAgICAgICAvLyBobHMubmV4dExvYWRMZXZlbCByZW1haW5zIHVudGlsIGl0IGlzIHNldCB0byBhIG5ldyB2YWx1ZSBvciB1bnRpbCBhIG5ldyBmcmFnIGlzIHN1Y2Nlc3NmdWxseSBsb2FkZWRcbiAgICAgICAgICAgICAgICB0aGlzLmxldmVsID0gaGxzXzEubmV4dExvYWRMZXZlbCA9IHN0YXJ0TGV2ZWw7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkZWRtZXRhZGF0YSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYgc3RhcnRQb3NpdGlvbiB1bmRlZmluZWQgYnV0IGxhc3RDdXJyZW50VGltZSBzZXQsIHNldCBzdGFydFBvc2l0aW9uIHRvIGxhc3QgY3VycmVudFRpbWVcbiAgICAgICAgICAgIGlmIChsYXN0Q3VycmVudFRpbWUgPiAwICYmIHN0YXJ0UG9zaXRpb24gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm92ZXJyaWRlIHN0YXJ0UG9zaXRpb24gd2l0aCBsYXN0Q3VycmVudFRpbWUgQFwiICsgbGFzdEN1cnJlbnRUaW1lLnRvRml4ZWQoMykpO1xuICAgICAgICAgICAgICAgIHN0YXJ0UG9zaXRpb24gPSBsYXN0Q3VycmVudFRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZm9yY2VTdGFydExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5zdG9wTG9hZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgaWYgKGZyYWcubG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgZnJhZy5sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgdGhpcy5mcmFnQ3VycmVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBudWxsO1xuICAgICAgICBpZiAodGhpcy5kZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZW11eGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5TVE9QUEVEO1xuICAgICAgICB0aGlzLmZvcmNlU3RhcnRMb2FkID0gZmFsc2U7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5zdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuQlVGRkVSX0ZMVVNISU5HOlxuICAgICAgICAgICAgICAgIC8vIGluIGJ1ZmZlciBmbHVzaGluZyBzdGF0ZSwgcmVzZXQgZnJhZ0xvYWRFcnJvciBjb3VudGVyXG4gICAgICAgICAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU6XG4gICAgICAgICAgICAgICAgdGhpcy5fZG9UaWNrSWRsZSgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuV0FJVElOR19MRVZFTDpcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXTtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBwbGF5bGlzdCBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgICAgIGlmIChsZXZlbCAmJiBsZXZlbC5kZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5GUkFHX0xPQURJTkdfV0FJVElOR19SRVRSWTpcbiAgICAgICAgICAgICAgICB2YXIgbm93ID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICAgICAgICAgIHZhciByZXRyeURhdGUgPSB0aGlzLnJldHJ5RGF0ZTtcbiAgICAgICAgICAgICAgICAvLyBpZiBjdXJyZW50IHRpbWUgaXMgZ3QgdGhhbiByZXRyeURhdGUsIG9yIGlmIG1lZGlhIHNlZWtpbmcgbGV0J3Mgc3dpdGNoIHRvIElETEUgc3RhdGUgdG8gcmV0cnkgbG9hZGluZ1xuICAgICAgICAgICAgICAgIGlmICghcmV0cnlEYXRlIHx8IChub3cgPj0gcmV0cnlEYXRlKSB8fCAodGhpcy5tZWRpYSAmJiB0aGlzLm1lZGlhLnNlZWtpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ21lZGlhQ29udHJvbGxlcjogcmV0cnlEYXRlIHJlYWNoZWQsIHN3aXRjaCBiYWNrIHRvIElETEUgc3RhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVSUk9SOlxuICAgICAgICAgICAgY2FzZSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuU1RPUFBFRDpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElORzpcbiAgICAgICAgICAgIGNhc2UgYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5QQVJTRUQ6XG4gICAgICAgICAgICBjYXNlIGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5FTkRFRDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgYnVmZmVyXG4gICAgICAgIHRoaXMuX2NoZWNrQnVmZmVyKCk7XG4gICAgICAgIC8vIGNoZWNrL3VwZGF0ZSBjdXJyZW50IGZyYWdtZW50XG4gICAgICAgIHRoaXMuX2NoZWNrRnJhZ21lbnRDaGFuZ2VkKCk7XG4gICAgfTtcbiAgICAvLyBJcm9uaWNhbGx5IHRoZSBcImlkbGVcIiBzdGF0ZSBpcyB0aGUgb24gd2UgZG8gdGhlIG1vc3QgbG9naWMgaW4gaXQgc2VlbXMgLi4uLlxuICAgIC8vIE5PVEU6IE1heWJlIHdlIGNvdWxkIHJhdGhlciBzY2hlZHVsZSBhIGNoZWNrIGZvciBidWZmZXIgbGVuZ3RoIGFmdGVyIGhhbGYgb2YgdGhlIGN1cnJlbnRseVxuICAgIC8vICAgICAgIHBsYXllZCBzZWdtZW50LCBvciBvbiBwYXVzZS9wbGF5L3NlZWsgaW5zdGVhZCBvZiBuYWl2ZWx5IGNoZWNraW5nIGV2ZXJ5IDEwMG1zP1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9kb1RpY2tJZGxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHMsIGNvbmZpZyA9IGhscy5jb25maWcsIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgLy8gaWYgc3RhcnQgbGV2ZWwgbm90IHBhcnNlZCB5ZXQgT1JcbiAgICAgICAgLy8gaWYgdmlkZW8gbm90IGF0dGFjaGVkIEFORCBzdGFydCBmcmFnbWVudCBhbHJlYWR5IHJlcXVlc3RlZCBPUiBzdGFydCBmcmFnIHByZWZldGNoIGRpc2FibGVcbiAgICAgICAgLy8gZXhpdCBsb29wLCBhcyB3ZSBlaXRoZXIgbmVlZCBtb3JlIGluZm8gKGxldmVsIG5vdCBwYXJzZWQpIG9yIHdlIG5lZWQgbWVkaWEgdG8gYmUgYXR0YWNoZWQgdG8gbG9hZCBuZXcgZnJhZ21lbnRcbiAgICAgICAgaWYgKHRoaXMubGV2ZWxMYXN0TG9hZGVkID09PSB1bmRlZmluZWQgfHwgKCFtZWRpYSAmJiAodGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgfHwgIWNvbmZpZy5zdGFydEZyYWdQcmVmZXRjaCkpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgd2UgaGF2ZSBub3QgeWV0IGxvYWRlZCBhbnkgZnJhZ21lbnQsIHN0YXJ0IGxvYWRpbmcgZnJvbSBzdGFydCBwb3NpdGlvblxuICAgICAgICB2YXIgcG9zO1xuICAgICAgICBpZiAodGhpcy5sb2FkZWRtZXRhZGF0YSkge1xuICAgICAgICAgICAgcG9zID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwb3MgPSB0aGlzLm5leHRMb2FkUG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgLy8gZGV0ZXJtaW5lIG5leHQgbG9hZCBsZXZlbFxuICAgICAgICB2YXIgbGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCwgbGV2ZWxJbmZvID0gdGhpcy5sZXZlbHNbbGV2ZWxdO1xuICAgICAgICBpZiAoIWxldmVsSW5mbykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZXZlbEJpdHJhdGUgPSBsZXZlbEluZm8uYml0cmF0ZSwgbWF4QnVmTGVuO1xuICAgICAgICAvLyBjb21wdXRlIG1heCBCdWZmZXIgTGVuZ3RoIHRoYXQgd2UgY291bGQgZ2V0IGZyb20gdGhpcyBsb2FkIGxldmVsLCBiYXNlZCBvbiBsZXZlbCBiaXRyYXRlLiBkb24ndCBidWZmZXIgbW9yZSB0aGFuIDYwIE1CIGFuZCBtb3JlIHRoYW4gMzBzXG4gICAgICAgIGlmIChsZXZlbEJpdHJhdGUpIHtcbiAgICAgICAgICAgIG1heEJ1ZkxlbiA9IE1hdGgubWF4KDggKiBjb25maWcubWF4QnVmZmVyU2l6ZSAvIGxldmVsQml0cmF0ZSwgY29uZmlnLm1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhCdWZMZW4gPSBjb25maWcubWF4QnVmZmVyTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIG1heEJ1ZkxlbiA9IE1hdGgubWluKG1heEJ1ZkxlbiwgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgIC8vIGRldGVybWluZSBuZXh0IGNhbmRpZGF0ZSBmcmFnbWVudCB0byBiZSBsb2FkZWQsIGJhc2VkIG9uIGN1cnJlbnQgcG9zaXRpb24gYW5kIGVuZCBvZiBidWZmZXIgcG9zaXRpb25cbiAgICAgICAgLy8gZW5zdXJlIHVwIHRvIGBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoYCBvZiBidWZmZXIgdXBmcm9udFxuICAgICAgICB2YXIgYnVmZmVySW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVySW5mbyh0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IG1lZGlhLCBwb3MsIGNvbmZpZy5tYXhCdWZmZXJIb2xlKSwgYnVmZmVyTGVuID0gYnVmZmVySW5mby5sZW47XG4gICAgICAgIC8vIFN0YXkgaWRsZSBpZiB3ZSBhcmUgc3RpbGwgd2l0aCBidWZmZXIgbWFyZ2luc1xuICAgICAgICBpZiAoYnVmZmVyTGVuID49IG1heEJ1Zkxlbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGJ1ZmZlciBsZW5ndGggaXMgbGVzcyB0aGFuIG1heEJ1ZkxlbiB0cnkgdG8gbG9hZCBhIG5ldyBmcmFnbWVudCAuLi5cbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLnRyYWNlKFwiYnVmZmVyIGxlbmd0aCBvZiBcIiArIGJ1ZmZlckxlbi50b0ZpeGVkKDMpICsgXCIgaXMgYmVsb3cgbWF4IG9mIFwiICsgbWF4QnVmTGVuLnRvRml4ZWQoMykgKyBcIi4gY2hlY2tpbmcgZm9yIG1vcmUgcGF5bG9hZCAuLi5cIik7XG4gICAgICAgIC8vIHNldCBuZXh0IGxvYWQgbGV2ZWwgOiB0aGlzIHdpbGwgdHJpZ2dlciBhIHBsYXlsaXN0IGxvYWQgaWYgbmVlZGVkXG4gICAgICAgIHRoaXMubGV2ZWwgPSBobHMubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbGV2ZWxJbmZvLmRldGFpbHM7XG4gICAgICAgIC8vIGlmIGxldmVsIGluZm8gbm90IHJldHJpZXZlZCB5ZXQsIHN3aXRjaCBzdGF0ZSBhbmQgd2FpdCBmb3IgbGV2ZWwgcmV0cmlldmFsXG4gICAgICAgIC8vIGlmIGxpdmUgcGxheWxpc3QsIGVuc3VyZSB0aGF0IG5ldyBwbGF5bGlzdCBoYXMgYmVlbiByZWZyZXNoZWQgdG8gYXZvaWQgbG9hZGluZy90cnkgdG8gbG9hZFxuICAgICAgICAvLyBhIHVzZWxlc3MgYW5kIG91dGRhdGVkIGZyYWdtZW50ICh0aGF0IG1pZ2h0IGV2ZW4gaW50cm9kdWNlIGxvYWQgZXJyb3IgaWYgaXQgaXMgYWxyZWFkeSBvdXQgb2YgdGhlIGxpdmUgcGxheWxpc3QpXG4gICAgICAgIGlmICghbGV2ZWxEZXRhaWxzIHx8IChsZXZlbERldGFpbHMubGl2ZSAmJiB0aGlzLmxldmVsTGFzdExvYWRlZCAhPT0gbGV2ZWwpKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLldBSVRJTkdfTEVWRUw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3N0cmVhbUVuZGVkKGJ1ZmZlckluZm8sIGxldmVsRGV0YWlscykpIHtcbiAgICAgICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgICAgICBpZiAodGhpcy5hbHRBdWRpbykge1xuICAgICAgICAgICAgICAgIGRhdGEudHlwZSA9ICd2aWRlbyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0VPUywgZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkVOREVEO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIHdlIGhhdmUgdGhlIGxldmVsRGV0YWlscyBmb3IgdGhlIHNlbGVjdGVkIHZhcmlhbnQsIGxldHMgY29udGludWUgZW5yaWNoZW4gb3VyIHN0cmVhbSAobG9hZCBrZXlzL2ZyYWdtZW50cyBvciB0cmlnZ2VyIEVPUywgZXRjLi4pXG4gICAgICAgIHRoaXMuX2ZldGNoUGF5bG9hZE9yRW9zKHBvcywgYnVmZmVySW5mbywgbGV2ZWxEZXRhaWxzKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9mZXRjaFBheWxvYWRPckVvcyA9IGZ1bmN0aW9uIChwb3MsIGJ1ZmZlckluZm8sIGxldmVsRGV0YWlscykge1xuICAgICAgICB2YXIgZnJhZ1ByZXZpb3VzID0gdGhpcy5mcmFnUHJldmlvdXMsIGxldmVsID0gdGhpcy5sZXZlbCwgZnJhZ21lbnRzID0gbGV2ZWxEZXRhaWxzLmZyYWdtZW50cywgZnJhZ0xlbiA9IGZyYWdtZW50cy5sZW5ndGg7XG4gICAgICAgIC8vIGVtcHR5IHBsYXlsaXN0XG4gICAgICAgIGlmIChmcmFnTGVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmluZCBmcmFnbWVudCBpbmRleCwgY29udGlndW91cyB3aXRoIGVuZCBvZiBidWZmZXIgcG9zaXRpb25cbiAgICAgICAgdmFyIHN0YXJ0ID0gZnJhZ21lbnRzWzBdLnN0YXJ0LCBlbmQgPSBmcmFnbWVudHNbZnJhZ0xlbiAtIDFdLnN0YXJ0ICsgZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXS5kdXJhdGlvbiwgYnVmZmVyRW5kID0gYnVmZmVySW5mby5lbmQsIGZyYWc7XG4gICAgICAgIGlmIChsZXZlbERldGFpbHMuaW5pdFNlZ21lbnQgJiYgIWxldmVsRGV0YWlscy5pbml0U2VnbWVudC5kYXRhKSB7XG4gICAgICAgICAgICBmcmFnID0gbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gaW4gY2FzZSBvZiBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gZW5zdXJlIHRoYXQgcmVxdWVzdGVkIHBvc2l0aW9uIGlzIG5vdCBsb2NhdGVkIGJlZm9yZSBwbGF5bGlzdCBzdGFydFxuICAgICAgICAgICAgaWYgKGxldmVsRGV0YWlscy5saXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRpYWxMaXZlTWFuaWZlc3RTaXplID0gdGhpcy5jb25maWcuaW5pdGlhbExpdmVNYW5pZmVzdFNpemU7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWdMZW4gPCBpbml0aWFsTGl2ZU1hbmlmZXN0U2l6ZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIkNhbiBub3Qgc3RhcnQgcGxheWJhY2sgb2YgYSBsZXZlbCwgcmVhc29uOiBub3QgZW5vdWdoIGZyYWdtZW50cyBcIiArIGZyYWdMZW4gKyBcIiA8IFwiICsgaW5pdGlhbExpdmVNYW5pZmVzdFNpemUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZyYWcgPSB0aGlzLl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50KGxldmVsRGV0YWlscywgYnVmZmVyRW5kLCBzdGFydCwgZW5kLCBmcmFnUHJldmlvdXMsIGZyYWdtZW50cywgZnJhZ0xlbik7XG4gICAgICAgICAgICAgICAgLy8gaWYgaXQgZXhwbGljaXRlbHkgcmV0dXJucyBudWxsIGRvbid0IGxvYWQgYW55IGZyYWdtZW50IGFuZCBleGl0IGZ1bmN0aW9uIG5vd1xuICAgICAgICAgICAgICAgIGlmIChmcmFnID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBWb0QgcGxheWxpc3Q6IGlmIGJ1ZmZlckVuZCBiZWZvcmUgc3RhcnQgb2YgcGxheWxpc3QsIGxvYWQgZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyRW5kIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhZyA9IGZyYWdtZW50c1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFmcmFnKSB7XG4gICAgICAgICAgICBmcmFnID0gdGhpcy5fZmluZEZyYWdtZW50KHN0YXJ0LCBmcmFnUHJldmlvdXMsIGZyYWdMZW4sIGZyYWdtZW50cywgYnVmZmVyRW5kLCBlbmQsIGxldmVsRGV0YWlscyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgIGlmIChmcmFnLmVuY3J5cHRlZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIGtleSBmb3IgXCIgKyBmcmFnLnNuICsgXCIgb2YgW1wiICsgbGV2ZWxEZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyBsZXZlbERldGFpbHMuZW5kU04gKyBcIl0sbGV2ZWwgXCIgKyBsZXZlbCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZEtleShmcmFnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJMb2FkaW5nIFwiICsgZnJhZy5zbiArIFwiIG9mIFtcIiArIGxldmVsRGV0YWlscy5zdGFydFNOICsgXCIgLFwiICsgbGV2ZWxEZXRhaWxzLmVuZFNOICsgXCJdLGxldmVsIFwiICsgbGV2ZWwgKyBcIiwgY3VycmVudFRpbWU6XCIgKyBwb3MudG9GaXhlZCgzKSArIFwiLGJ1ZmZlckVuZDpcIiArIGJ1ZmZlckVuZC50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkRnJhZ21lbnQoZnJhZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9lbnN1cmVGcmFnbWVudEF0TGl2ZVBvaW50ID0gZnVuY3Rpb24gKGxldmVsRGV0YWlscywgYnVmZmVyRW5kLCBzdGFydCwgZW5kLCBmcmFnUHJldmlvdXMsIGZyYWdtZW50cywgZnJhZ0xlbikge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnLCBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIHZhciBmcmFnO1xuICAgICAgICAvLyBjaGVjayBpZiByZXF1ZXN0ZWQgcG9zaXRpb24gaXMgd2l0aGluIHNlZWthYmxlIGJvdW5kYXJpZXMgOlxuICAgICAgICAvLyBsb2dnZXIubG9nKGBzdGFydC9wb3MvYnVmRW5kL3NlZWtpbmc6JHtzdGFydC50b0ZpeGVkKDMpfS8ke3Bvcy50b0ZpeGVkKDMpfS8ke2J1ZmZlckVuZC50b0ZpeGVkKDMpfS8ke3RoaXMubWVkaWEuc2Vla2luZ31gKTtcbiAgICAgICAgdmFyIG1heExhdGVuY3kgPSBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkID8gY29uZmlnLmxpdmVNYXhMYXRlbmN5RHVyYXRpb24gOiBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50ICogbGV2ZWxEZXRhaWxzLnRhcmdldGR1cmF0aW9uO1xuICAgICAgICBpZiAoYnVmZmVyRW5kIDwgTWF0aC5tYXgoc3RhcnQgLSBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSwgZW5kIC0gbWF4TGF0ZW5jeSkpIHtcbiAgICAgICAgICAgIHZhciBsaXZlU3luY1Bvc2l0aW9uID0gdGhpcy5saXZlU3luY1Bvc2l0aW9uID0gdGhpcy5jb21wdXRlTGl2ZVBvc2l0aW9uKHN0YXJ0LCBsZXZlbERldGFpbHMpO1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImJ1ZmZlciBlbmQ6IFwiICsgYnVmZmVyRW5kLnRvRml4ZWQoMykgKyBcIiBpcyBsb2NhdGVkIHRvbyBmYXIgZnJvbSB0aGUgZW5kIG9mIGxpdmUgc2xpZGluZyBwbGF5bGlzdCwgcmVzZXQgY3VycmVudFRpbWUgdG8gOiBcIiArIGxpdmVTeW5jUG9zaXRpb24udG9GaXhlZCgzKSk7XG4gICAgICAgICAgICBidWZmZXJFbmQgPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKG1lZGlhICYmIG1lZGlhLnJlYWR5U3RhdGUgJiYgbWVkaWEuZHVyYXRpb24gPiBsaXZlU3luY1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgbWVkaWEuY3VycmVudFRpbWUgPSBsaXZlU3luY1Bvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gbGl2ZVN5bmNQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBlbmQgb2YgYnVmZmVyIGdyZWF0ZXIgdGhhbiBsaXZlIGVkZ2UsIGRvbid0IGxvYWQgYW55IGZyYWdtZW50XG4gICAgICAgIC8vIHRoaXMgY291bGQgaGFwcGVuIGlmIGxpdmUgcGxheWxpc3QgaW50ZXJtaXR0ZW50bHkgc2xpZGVzIGluIHRoZSBwYXN0LlxuICAgICAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTYxLDE4MjU4MDE2N11cbiAgICAgICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2MiwxODI1ODAxNjldXG4gICAgICAgIC8vIExvYWRpbmcgMTgyNTgwMTY4IG9mIFsxODI1ODAxNjIgLDE4MjU4MDE2OV0sbGV2ZWwgMSAuLlxuICAgICAgICAvLyBMb2FkaW5nIDE4MjU4MDE2OSBvZiBbMTgyNTgwMTYyICwxODI1ODAxNjldLGxldmVsIDEgLi5cbiAgICAgICAgLy8gbGV2ZWwgMSBsb2FkZWQgWzE4MjU4MDE2MiwxODI1ODAxNjhdIDw9PT09PT09PT09PT09IGhlcmUgd2Ugc2hvdWxkIGhhdmUgYnVmZmVyRW5kID4gZW5kLiBpbiB0aGF0IGNhc2UgYnJlYWsgdG8gYXZvaWQgcmVsb2FkaW5nIDE4MjU4MDE2OFxuICAgICAgICAvLyBsZXZlbCAxIGxvYWRlZCBbMTgyNTgwMTY0LDE4MjU4MDE3MV1cbiAgICAgICAgLy9cbiAgICAgICAgLy8gZG9uJ3QgcmV0dXJuIG51bGwgaW4gY2FzZSBtZWRpYSBub3QgbG9hZGVkIHlldCAocmVhZHlzdGF0ZSA9PT0gMClcbiAgICAgICAgaWYgKGxldmVsRGV0YWlscy5QVFNLbm93biAmJiBidWZmZXJFbmQgPiBlbmQgJiYgbWVkaWEgJiYgbWVkaWEucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkICYmICFsZXZlbERldGFpbHMuUFRTS25vd24pIHtcbiAgICAgICAgICAgIC8qIHdlIGFyZSBzd2l0Y2hpbmcgbGV2ZWwgb24gbGl2ZSBwbGF5bGlzdCwgYnV0IHdlIGRvbid0IGhhdmUgYW55IFBUUyBpbmZvIGZvciB0aGF0IHF1YWxpdHkgbGV2ZWwgLi4uXG4gICAgICAgICAgICAgICB0cnkgdG8gbG9hZCBmcmFnIG1hdGNoaW5nIHdpdGggbmV4dCBTTi5cbiAgICAgICAgICAgICAgIGV2ZW4gaWYgU04gYXJlIG5vdCBzeW5jaHJvbml6ZWQgYmV0d2VlbiBwbGF5bGlzdHMsIGxvYWRpbmcgdGhpcyBmcmFnIHdpbGwgaGVscCB1c1xuICAgICAgICAgICAgICAgY29tcHV0ZSBwbGF5bGlzdCBzbGlkaW5nIGFuZCBmaW5kIHRoZSByaWdodCBvbmUgYWZ0ZXIgaW4gY2FzZSBpdCB3YXMgbm90IHRoZSByaWdodCBjb25zZWN1dGl2ZSBvbmUgKi9cbiAgICAgICAgICAgIGlmIChmcmFnUHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWxEZXRhaWxzLmhhc1Byb2dyYW1EYXRlVGltZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWxpZXMgb24gUERUIGluIG9yZGVyIHRvIHN3aXRjaCBiaXRyYXRlcyAoU3VwcG9ydCBFWFQtWC1ESVNDT05USU5VSVRZIHdpdGhvdXQgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSlcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggc2FtZSBQRFQ6IFwiICsgZnJhZ1ByZXZpb3VzLnByb2dyYW1EYXRlVGltZSk7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQRFQoZnJhZ21lbnRzLCBmcmFnUHJldmlvdXMuZW5kUHJvZ3JhbURhdGVUaW1lLCBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2VzIGJ1ZmZlciBhbmQgc2VxdWVuY2UgbnVtYmVyIHRvIGNhbGN1bGF0ZSBzd2l0Y2ggc2VnbWVudCAocmVxdWlyZWQgaWYgdXNpbmcgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFNOID0gZnJhZ1ByZXZpb3VzLnNuICsgMTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldFNOID49IGxldmVsRGV0YWlscy5zdGFydFNOICYmIHRhcmdldFNOIDw9IGxldmVsRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdOZXh0ID0gZnJhZ21lbnRzW3RhcmdldFNOIC0gbGV2ZWxEZXRhaWxzLnN0YXJ0U05dO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdQcmV2aW91cy5jYyA9PT0gZnJhZ05leHQuY2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZ05leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggbmV4dCBTTjogXCIgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGZyYWcgU04gbm90IGF2YWlsYWJsZSAob3Igbm90IHdpdGggc2FtZSBjb250aW51aXR5IGNvdW50ZXIpXG4gICAgICAgICAgICAgICAgICAgIC8vIGxvb2sgZm9yIGEgZnJhZyBzaGFyaW5nIHRoZSBzYW1lIENDXG4gICAgICAgICAgICAgICAgICAgIGlmICghZnJhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IGJpbmFyeV9zZWFyY2hfMS5kZWZhdWx0LnNlYXJjaChmcmFnbWVudHMsIGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZyYWdQcmV2aW91cy5jYyAtIGZyYWcuY2M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxpdmUgcGxheWxpc3QsIHN3aXRjaGluZyBwbGF5bGlzdCwgbG9hZCBmcmFnIHdpdGggc2FtZSBDQzogXCIgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZnJhZykge1xuICAgICAgICAgICAgICAgIC8qIHdlIGhhdmUgbm8gaWRlYSBhYm91dCB3aGljaCBmcmFnbWVudCBzaG91bGQgYmUgbG9hZGVkLlxuICAgICAgICAgICAgICAgICAgIHNvIGxldCdzIGxvYWQgbWlkIGZyYWdtZW50LiBpdCB3aWxsIGhlbHAgY29tcHV0aW5nIHBsYXlsaXN0IHNsaWRpbmcgYW5kIGZpbmQgdGhlIHJpZ2h0IG9uZVxuICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgZnJhZyA9IGZyYWdtZW50c1tNYXRoLm1pbihmcmFnTGVuIC0gMSwgTWF0aC5yb3VuZChmcmFnTGVuIC8gMikpXTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBwbGF5bGlzdCwgc3dpdGNoaW5nIHBsYXlsaXN0LCB1bmtub3duLCBsb2FkIG1pZGRsZSBmcmFnIDogXCIgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZztcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9maW5kRnJhZ21lbnQgPSBmdW5jdGlvbiAoc3RhcnQsIGZyYWdQcmV2aW91cywgZnJhZ0xlbiwgZnJhZ21lbnRzLCBidWZmZXJFbmQsIGVuZCwgbGV2ZWxEZXRhaWxzKSB7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgICAgIHZhciBmcmFnO1xuICAgICAgICBpZiAoYnVmZmVyRW5kIDwgZW5kKSB7XG4gICAgICAgICAgICB2YXIgbG9va3VwVG9sZXJhbmNlID0gKGJ1ZmZlckVuZCA+IGVuZCAtIGNvbmZpZy5tYXhGcmFnTG9va1VwVG9sZXJhbmNlKSA/IDAgOiBjb25maWcubWF4RnJhZ0xvb2tVcFRvbGVyYW5jZTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgdG9sZXJhbmNlIGlmIGl0IHdvdWxkIHB1dCB0aGUgYnVmZmVyRW5kIHBhc3QgdGhlIGFjdHVhbCBlbmQgb2Ygc3RyZWFtXG4gICAgICAgICAgICAvLyBVc2VzIGJ1ZmZlciBhbmQgc2VxdWVuY2UgbnVtYmVyIHRvIGNhbGN1bGF0ZSBzd2l0Y2ggc2VnbWVudCAocmVxdWlyZWQgaWYgdXNpbmcgRVhULVgtRElTQ09OVElOVUlUWS1TRVFVRU5DRSlcbiAgICAgICAgICAgIGZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQVFMoZnJhZ1ByZXZpb3VzLCBmcmFnbWVudHMsIGJ1ZmZlckVuZCwgbG9va3VwVG9sZXJhbmNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJlYWNoIGVuZCBvZiBwbGF5bGlzdFxuICAgICAgICAgICAgZnJhZyA9IGZyYWdtZW50c1tmcmFnTGVuIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgIHZhciBjdXJTTklkeCA9IGZyYWcuc24gLSBsZXZlbERldGFpbHMuc3RhcnRTTjtcbiAgICAgICAgICAgIHZhciBzYW1lTGV2ZWwgPSBmcmFnUHJldmlvdXMgJiYgZnJhZy5sZXZlbCA9PT0gZnJhZ1ByZXZpb3VzLmxldmVsO1xuICAgICAgICAgICAgdmFyIHByZXZGcmFnID0gZnJhZ21lbnRzW2N1clNOSWR4IC0gMV07XG4gICAgICAgICAgICB2YXIgbmV4dEZyYWcgPSBmcmFnbWVudHNbY3VyU05JZHggKyAxXTtcbiAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2ZpbmQgU04gbWF0Y2hpbmcgd2l0aCBwb3M6JyArICBidWZmZXJFbmQgKyAnOicgKyBmcmFnLnNuKTtcbiAgICAgICAgICAgIGlmIChmcmFnUHJldmlvdXMgJiYgZnJhZy5zbiA9PT0gZnJhZ1ByZXZpb3VzLnNuKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNhbWVMZXZlbCAmJiAhZnJhZy5iYWNrdHJhY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZy5zbiA8IGxldmVsRGV0YWlscy5lbmRTTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhUFRTID0gZnJhZ1ByZXZpb3VzLmRlbHRhUFRTO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSBzaWduaWZpY2FudCBkZWx0YSBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgbGFyZ2VyIHRoYW4gbWF4IGFsbG93ZWQgaG9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpZiBwcmV2aW91cyByZW11eGVkIGZyYWdtZW50IGRpZCBub3Qgc3RhcnQgd2l0aCBhIGtleWZyYW1lLiAoZnJhZ1ByZXZpb3VzLmRyb3BwZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZXQncyB0cnkgdG8gbG9hZCBwcmV2aW91cyBmcmFnbWVudCBhZ2FpbiB0byBnZXQgbGFzdCBrZXlmcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiB3ZSB3aWxsIHJlbG9hZCBhZ2FpbiBjdXJyZW50IGZyYWdtZW50ICh0aGF0IHdheSB3ZSBzaG91bGQgYmUgYWJsZSB0byBmaWxsIHRoZSBidWZmZXIgaG9sZSAuLi4pXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFQVFMgJiYgZGVsdGFQVFMgPiBjb25maWcubWF4QnVmZmVySG9sZSAmJiBmcmFnUHJldmlvdXMuZHJvcHBlZCAmJiBjdXJTTklkeCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignU04ganVzdCBsb2FkZWQsIHdpdGggbGFyZ2UgUFRTIGdhcCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbywgbWF5YmUgZnJhZyBpcyBub3Qgc3RhcnRpbmcgd2l0aCBhIGtleWZyYW1lID8gbG9hZCBwcmV2aW91cyBvbmUgdG8gdHJ5IHRvIG92ZXJjb21lIHRoaXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBuZXh0RnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiU04ganVzdCBsb2FkZWQsIGxvYWQgbmV4dCBvbmU6IFwiICsgZnJhZy5zbiwgZnJhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChmcmFnLmJhY2t0cmFja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgYmFja3RyYWNrIGEgbWF4IG9mIDEgY29uc2VjdXRpdmUgZnJhZ21lbnQgdG8gcHJldmVudCBzbGlkaW5nIGJhY2sgdG9vIGZhciB3aGVuIGxpdHRsZSBvciBubyBmcmFncyBzdGFydCB3aXRoIGtleWZyYW1lc1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEZyYWcgJiYgbmV4dEZyYWcuYmFja3RyYWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiQWxyZWFkeSBiYWNrdHJhY2tlZCBmcm9tIGZyYWdtZW50IFwiICsgbmV4dEZyYWcuc24gKyBcIiwgd2lsbCBub3QgYmFja3RyYWNrIHRvIGZyYWdtZW50IFwiICsgZnJhZy5zbiArIFwiLiBMb2FkaW5nIGZyYWdtZW50IFwiICsgbmV4dEZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZyA9IG5leHRGcmFnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYSBmcmFnbWVudCBoYXMgZHJvcHBlZCBmcmFtZXMgYW5kIGl0J3MgaW4gYSBzYW1lIGxldmVsL3NlcXVlbmNlLCBsb2FkIHRoZSBwcmV2aW91cyBmcmFnbWVudCB0byB0cnkgYW5kIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNldCB0aGUgZHJvcHBlZCBjb3VudCBub3cgc2luY2UgaXQgd29uJ3QgYmUgcmVzZXQgdW50aWwgd2UgcGFyc2UgdGhlIGZyYWdtZW50IGFnYWluLCB3aGljaCBwcmV2ZW50cyBpbmZpbml0ZSBiYWNrdHJhY2tpbmcgb24gdGhlIHNhbWUgc2VnbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ0xvYWRlZCBmcmFnbWVudCB3aXRoIGRyb3BwZWQgZnJhbWVzLCBiYWNrdHJhY2tpbmcgMSBzZWdtZW50IHRvIGZpbmQgYSBrZXlmcmFtZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5kcm9wcGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RnJhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcgPSBwcmV2RnJhZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmJhY2t0cmFja2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1clNOSWR4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuJ3QgYmFja3RyYWNrIG9uIHZlcnkgZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJhZztcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9sb2FkS2V5ID0gZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5LRVlfTE9BRElORztcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FESU5HLCB7IGZyYWc6IGZyYWcgfSk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fbG9hZEZyYWdtZW50ID0gZnVuY3Rpb24gKGZyYWcpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZnJhZ21lbnQgaXMgbm90IGxvYWRlZFxuICAgICAgICB2YXIgZnJhZ1N0YXRlID0gdGhpcy5mcmFnbWVudFRyYWNrZXIuZ2V0U3RhdGUoZnJhZyk7XG4gICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmcmFnO1xuICAgICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IHRydWU7XG4gICAgICAgIC8vIERvbid0IHVwZGF0ZSBuZXh0TG9hZFBvc2l0aW9uIGZvciBmcmFnbWVudHMgd2hpY2ggYXJlIG5vdCBidWZmZXJlZFxuICAgICAgICBpZiAoTnVtYmVyLmlzRmluaXRlKGZyYWcuc24pICYmICFmcmFnLmJpdHJhdGVUZXN0KSB7XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSBmcmFnLnN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGxvdyBiYWNrdHJhY2tlZCBmcmFnbWVudHMgdG8gbG9hZFxuICAgICAgICBpZiAoZnJhZy5iYWNrdHJhY2tlZCB8fCBmcmFnU3RhdGUgPT09IGZyYWdtZW50X3RyYWNrZXJfMS5GcmFnbWVudFN0YXRlLk5PVF9MT0FERUQgfHwgZnJhZ1N0YXRlID09PSBmcmFnbWVudF90cmFja2VyXzEuRnJhZ21lbnRTdGF0ZS5QQVJUSUFMKSB7XG4gICAgICAgICAgICBmcmFnLmF1dG9MZXZlbCA9IHRoaXMuaGxzLmF1dG9MZXZlbEVuYWJsZWQ7XG4gICAgICAgICAgICBmcmFnLmJpdHJhdGVUZXN0ID0gdGhpcy5iaXRyYXRlVGVzdDtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURJTkcsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgIC8vIGxhenkgZGVtdXhlciBpbml0LCBhcyB0aGlzIGNvdWxkIHRha2Ugc29tZSB0aW1lIC4uLiBkbyBpdCBkdXJpbmcgZnJhZyBsb2FkaW5nXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGVtdXhlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eGVyXzEuZGVmYXVsdCh0aGlzLmhscywgJ21haW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZyYWdTdGF0ZSA9PT0gZnJhZ21lbnRfdHJhY2tlcl8xLkZyYWdtZW50U3RhdGUuQVBQRU5ESU5HKSB7XG4gICAgICAgICAgICAvLyBMb3dlciB0aGUgYnVmZmVyIHNpemUgYW5kIHRyeSBhZ2FpblxuICAgICAgICAgICAgaWYgKHRoaXMuX3JlZHVjZU1heEJ1ZmZlckxlbmd0aChmcmFnLmR1cmF0aW9uKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLnJlbW92ZUZyYWdtZW50KGZyYWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUsIFwic3RhdGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV4dFN0YXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0ZSAhPT0gbmV4dFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzU3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gbmV4dFN0YXRlO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJtYWluIHN0cmVhbTpcIiArIHByZXZpb3VzU3RhdGUgKyBcIi0+XCIgKyBuZXh0U3RhdGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5TVFJFQU1fU1RBVEVfVFJBTlNJVElPTiwgeyBwcmV2aW91c1N0YXRlOiBwcmV2aW91c1N0YXRlLCBuZXh0U3RhdGU6IG5leHRTdGF0ZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0QnVmZmVyZWRGcmFnID0gZnVuY3Rpb24gKHBvc2l0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZyYWdtZW50VHJhY2tlci5nZXRCdWZmZXJlZEZyYWcocG9zaXRpb24sIHBsYXlsaXN0X2xvYWRlcl8xLmRlZmF1bHQuTGV2ZWxUeXBlLk1BSU4pO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLCBcImN1cnJlbnRMZXZlbFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFnID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmcmFnLmxldmVsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLCBcIm5leHRCdWZmZXJlZEZyYWdcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCBnZXQgZW5kIHJhbmdlIG9mIGN1cnJlbnQgZnJhZ21lbnRcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcodGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5mb2xsb3dpbmdCdWZmZXJlZEZyYWcgPSBmdW5jdGlvbiAoZnJhZykge1xuICAgICAgICBpZiAoZnJhZykge1xuICAgICAgICAgICAgLy8gdHJ5IHRvIGdldCByYW5nZSBvZiBuZXh0IGZyYWdtZW50ICg1MDBtcyBhZnRlciB0aGlzIHJhbmdlKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGZyYWcuZW5kUFRTICsgMC41KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZSwgXCJuZXh0TGV2ZWxcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBmcmFnID0gdGhpcy5uZXh0QnVmZmVyZWRGcmFnO1xuICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZnJhZy5sZXZlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrRnJhZ21lbnRDaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhZ1BsYXlpbmdDdXJyZW50LCBjdXJyZW50VGltZSwgdmlkZW8gPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAodmlkZW8gJiYgdmlkZW8ucmVhZHlTdGF0ZSAmJiB2aWRlby5zZWVraW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgY3VycmVudFRpbWUgPSB2aWRlby5jdXJyZW50VGltZTtcbiAgICAgICAgICAgIC8qIGlmIHZpZGVvIGVsZW1lbnQgaXMgaW4gc2Vla2VkIHN0YXRlLCBjdXJyZW50VGltZSBjYW4gb25seSBpbmNyZWFzZS5cbiAgICAgICAgICAgICAgKGFzc3VtaW5nIHRoYXQgcGxheWJhY2sgcmF0ZSBpcyBwb3NpdGl2ZSAuLi4pXG4gICAgICAgICAgICAgIEFzIHNvbWV0aW1lcyBjdXJyZW50VGltZSBqdW1wcyBiYWNrIHRvIHplcm8gYWZ0ZXIgYVxuICAgICAgICAgICAgICBtZWRpYSBkZWNvZGUgZXJyb3IsIGNoZWNrIHRoaXMsIHRvIGF2b2lkIHNlZWtpbmcgYmFjayB0b1xuICAgICAgICAgICAgICB3cm9uZyBwb3NpdGlvbiBhZnRlciBhIG1lZGlhIGRlY29kZSBlcnJvclxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSA+IHRoaXMubGFzdEN1cnJlbnRUaW1lKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q3VycmVudFRpbWUgPSBjdXJyZW50VGltZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQodmlkZW8sIGN1cnJlbnRUaW1lKSkge1xuICAgICAgICAgICAgICAgIGZyYWdQbGF5aW5nQ3VycmVudCA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKGN1cnJlbnRUaW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCh2aWRlbywgY3VycmVudFRpbWUgKyAwLjEpKSB7XG4gICAgICAgICAgICAgICAgLyogZW5zdXJlIHRoYXQgRlJBR19DSEFOR0VEIGV2ZW50IGlzIHRyaWdnZXJlZCBhdCBzdGFydHVwLFxuICAgICAgICAgICAgICAgICAgd2hlbiBmaXJzdCB2aWRlbyBmcmFtZSBpcyBkaXNwbGF5ZWQgYW5kIHBsYXliYWNrIGlzIHBhdXNlZC5cbiAgICAgICAgICAgICAgICAgIGFkZCBhIHRvbGVyYW5jZSBvZiAxMDBtcywgaW4gY2FzZSBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCxcbiAgICAgICAgICAgICAgICAgIGNoZWNrIGlmIGN1cnJlbnQgcG9zKzEwMG1zIGlzIGJ1ZmZlcmVkIGFuZCB1c2UgdGhhdCBidWZmZXIgcmFuZ2VcbiAgICAgICAgICAgICAgICAgIGZvciBGUkFHX0NIQU5HRUQgZXZlbnQgcmVwb3J0aW5nICovXG4gICAgICAgICAgICAgICAgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcoY3VycmVudFRpbWUgKyAwLjEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyYWdQbGF5aW5nQ3VycmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFnUGxheWluZyA9IGZyYWdQbGF5aW5nQ3VycmVudDtcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ1BsYXlpbmcgIT09IHRoaXMuZnJhZ1BsYXlpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQ0hBTkdFRCwgeyBmcmFnOiBmcmFnUGxheWluZyB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyYWdQbGF5aW5nTGV2ZWwgPSBmcmFnUGxheWluZy5sZXZlbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmZyYWdQbGF5aW5nIHx8IHRoaXMuZnJhZ1BsYXlpbmcubGV2ZWwgIT09IGZyYWdQbGF5aW5nTGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9TV0lUQ0hFRCwgeyBsZXZlbDogZnJhZ1BsYXlpbmdMZXZlbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdQbGF5aW5nID0gZnJhZ1BsYXlpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxuICAgICAgb24gaW1tZWRpYXRlIGxldmVsIHN3aXRjaCA6XG4gICAgICAgLSBwYXVzZSBwbGF5YmFjayBpZiBwbGF5aW5nXG4gICAgICAgLSBjYW5jZWwgYW55IHBlbmRpbmcgbG9hZCByZXF1ZXN0XG4gICAgICAgLSBhbmQgdHJpZ2dlciBhIGJ1ZmZlciBmbHVzaFxuICAgICovXG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuaW1tZWRpYXRlTGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2ltbWVkaWF0ZUxldmVsU3dpdGNoJyk7XG4gICAgICAgIGlmICghdGhpcy5pbW1lZGlhdGVTd2l0Y2gpIHtcbiAgICAgICAgICAgIHRoaXMuaW1tZWRpYXRlU3dpdGNoID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEsIHByZXZpb3VzbHlQYXVzZWQgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgICAgICBwcmV2aW91c2x5UGF1c2VkID0gbWVkaWEucGF1c2VkO1xuICAgICAgICAgICAgICAgIG1lZGlhLnBhdXNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBkb24ndCByZXN0YXJ0IHBsYXliYWNrIGFmdGVyIGluc3RhbnQgbGV2ZWwgc3dpdGNoIGluIGNhc2UgbWVkaWEgbm90IGF0dGFjaGVkXG4gICAgICAgICAgICAgICAgcHJldmlvdXNseVBhdXNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnByZXZpb3VzbHlQYXVzZWQgPSBwcmV2aW91c2x5UGF1c2VkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIGlmIChmcmFnQ3VycmVudCAmJiBmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgIGZyYWdDdXJyZW50LmxvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAvLyBmbHVzaCBldmVyeXRoaW5nXG4gICAgICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBvbiBpbW1lZGlhdGUgbGV2ZWwgc3dpdGNoIGVuZCwgYWZ0ZXIgbmV3IGZyYWdtZW50IGhhcyBiZWVuIGJ1ZmZlcmVkOlxuICAgICAqIC0gbnVkZ2UgdmlkZW8gZGVjb2RlciBieSBzbGlnaHRseSBhZGp1c3RpbmcgdmlkZW8gY3VycmVudFRpbWUgKGlmIGN1cnJlbnRUaW1lIGJ1ZmZlcmVkKVxuICAgICAqIC0gcmVzdW1lIHRoZSBwbGF5YmFjayBpZiBuZWVkZWRcbiAgICAgKi9cbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5pbW1lZGlhdGVMZXZlbFN3aXRjaEVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgaWYgKG1lZGlhICYmIG1lZGlhLmJ1ZmZlcmVkLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVTd2l0Y2ggPSBmYWxzZTtcbiAgICAgICAgICAgIGlmIChidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQobWVkaWEsIG1lZGlhLmN1cnJlbnRUaW1lKSkge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgbnVkZ2UgaWYgY3VycmVudFRpbWUgaXMgYnVmZmVyZWRcbiAgICAgICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSAtPSAwLjAwMDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMucHJldmlvdXNseVBhdXNlZCkge1xuICAgICAgICAgICAgICAgIG1lZGlhLnBsYXkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogdHJ5IHRvIHN3aXRjaCBBU0FQIHdpdGhvdXQgYnJlYWtpbmcgdmlkZW8gcGxheWJhY2s6XG4gICAgICogaW4gb3JkZXIgdG8gZW5zdXJlIHNtb290aCBidXQgcXVpY2sgbGV2ZWwgc3dpdGNoaW5nLFxuICAgICAqIHdlIG5lZWQgdG8gZmluZCB0aGUgbmV4dCBmbHVzaGFibGUgYnVmZmVyIHJhbmdlXG4gICAgICogd2Ugc2hvdWxkIHRha2UgaW50byBhY2NvdW50IG5ldyBzZWdtZW50IGZldGNoIHRpbWVcbiAgICAgKi9cbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5uZXh0TGV2ZWxTd2l0Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIC8vIGVuc3VyZSB0aGF0IG1lZGlhIGlzIGRlZmluZWQgYW5kIHRoYXQgbWV0YWRhdGEgYXJlIGF2YWlsYWJsZSAodG8gcmV0cmlldmUgY3VycmVudFRpbWUpXG4gICAgICAgIGlmIChtZWRpYSAmJiBtZWRpYS5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICB2YXIgZmV0Y2hkZWxheSA9IHZvaWQgMCwgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdm9pZCAwLCBuZXh0QnVmZmVyZWRGcmFnID0gdm9pZCAwO1xuICAgICAgICAgICAgZnJhZ1BsYXlpbmdDdXJyZW50ID0gdGhpcy5nZXRCdWZmZXJlZEZyYWcobWVkaWEuY3VycmVudFRpbWUpO1xuICAgICAgICAgICAgaWYgKGZyYWdQbGF5aW5nQ3VycmVudCAmJiBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnRQVFMgPiAxKSB7XG4gICAgICAgICAgICAgICAgLy8gZmx1c2ggYnVmZmVyIHByZWNlZGluZyBjdXJyZW50IGZyYWdtZW50IChmbHVzaCB1bnRpbCBjdXJyZW50IGZyYWdtZW50IHN0YXJ0IG9mZnNldClcbiAgICAgICAgICAgICAgICAvLyBtaW51cyAxcyB0byBhdm9pZCB2aWRlbyBmcmVlemluZywgdGhhdCBjb3VsZCBoYXBwZW4gaWYgd2UgZmx1c2gga2V5ZnJhbWUgb2YgY3VycmVudCB2aWRlbyAuLi5cbiAgICAgICAgICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcigwLCBmcmFnUGxheWluZ0N1cnJlbnQuc3RhcnRQVFMgLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghbWVkaWEucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGEgc2FmZXR5IGRlbGF5IG9mIDFzXG4gICAgICAgICAgICAgICAgdmFyIG5leHRMZXZlbElkID0gdGhpcy5obHMubmV4dExvYWRMZXZlbCwgbmV4dExldmVsID0gdGhpcy5sZXZlbHNbbmV4dExldmVsSWRdLCBmcmFnTGFzdEticHMgPSB0aGlzLmZyYWdMYXN0S2JwcztcbiAgICAgICAgICAgICAgICBpZiAoZnJhZ0xhc3RLYnBzICYmIHRoaXMuZnJhZ0N1cnJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hkZWxheSA9IHRoaXMuZnJhZ0N1cnJlbnQuZHVyYXRpb24gKiBuZXh0TGV2ZWwuYml0cmF0ZSAvICgxMDAwICogZnJhZ0xhc3RLYnBzKSArIDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmZXRjaGRlbGF5ID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmZXRjaGRlbGF5ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2ZldGNoZGVsYXk6JytmZXRjaGRlbGF5KTtcbiAgICAgICAgICAgIC8vIGZpbmQgYnVmZmVyIHJhbmdlIHRoYXQgd2lsbCBiZSByZWFjaGVkIG9uY2UgbmV3IGZyYWdtZW50IHdpbGwgYmUgZmV0Y2hlZFxuICAgICAgICAgICAgbmV4dEJ1ZmZlcmVkRnJhZyA9IHRoaXMuZ2V0QnVmZmVyZWRGcmFnKG1lZGlhLmN1cnJlbnRUaW1lICsgZmV0Y2hkZWxheSk7XG4gICAgICAgICAgICBpZiAobmV4dEJ1ZmZlcmVkRnJhZykge1xuICAgICAgICAgICAgICAgIC8vIHdlIGNhbiBmbHVzaCBidWZmZXIgcmFuZ2UgZm9sbG93aW5nIHRoaXMgb25lIHdpdGhvdXQgc3RhbGxpbmcgcGxheWJhY2tcbiAgICAgICAgICAgICAgICBuZXh0QnVmZmVyZWRGcmFnID0gdGhpcy5mb2xsb3dpbmdCdWZmZXJlZEZyYWcobmV4dEJ1ZmZlcmVkRnJhZyk7XG4gICAgICAgICAgICAgICAgaWYgKG5leHRCdWZmZXJlZEZyYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UgYXJlIGhlcmUsIHdlIGNhbiBhbHNvIGNhbmNlbCBhbnkgbG9hZGluZy9kZW11eGluZyBpbiBwcm9ncmVzcywgYXMgdGhleSBhcmUgdXNlbGVzc1xuICAgICAgICAgICAgICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnJhZ0N1cnJlbnQgJiYgZnJhZ0N1cnJlbnQubG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnQ3VycmVudC5sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgZmx1c2ggcG9zaXRpb24gaXMgdGhlIHN0YXJ0IFBUUyBvZiBuZXh0IGJ1ZmZlcmVkIGZyYWcuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIHVzZSBmcmFnLm5heFN0YXJ0UFRTIHdoaWNoIGlzIG1heChhdWRpbyBzdGFydFBUUywgdmlkZW8gc3RhcnRQVFMpLlxuICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIHRoZXJlIGlzIGEgc21hbGwgUFRTIERlbHRhIGJldHdlZW4gYXVkaW8gYW5kIHZpZGVvLCB1c2luZyBtYXhTdGFydFBUUyBhdm9pZHMgZmx1c2hpbmcgbGFzdCBzYW1wbGVzIGZyb20gY3VycmVudCBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoTWFpbkJ1ZmZlcihuZXh0QnVmZmVyZWRGcmFnLm1heFN0YXJ0UFRTLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuZmx1c2hNYWluQnVmZmVyID0gZnVuY3Rpb24gKHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5CVUZGRVJfRkxVU0hJTkc7XG4gICAgICAgIHZhciBmbHVzaFNjb3BlID0geyBzdGFydE9mZnNldDogc3RhcnRPZmZzZXQsIGVuZE9mZnNldDogZW5kT2Zmc2V0IH07XG4gICAgICAgIC8vIGlmIGFsdGVybmF0ZSBhdWRpbyB0cmFja3MgYXJlIHVzZWQsIG9ubHkgZmx1c2ggdmlkZW8sIG90aGVyd2lzZSBmbHVzaCBldmVyeXRoaW5nXG4gICAgICAgIGlmICh0aGlzLmFsdEF1ZGlvKSB7XG4gICAgICAgICAgICBmbHVzaFNjb3BlLnR5cGUgPSAndmlkZW8nO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5CVUZGRVJfRkxVU0hJTkcsIGZsdXNoU2NvcGUpO1xuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBkYXRhLm1lZGlhO1xuICAgICAgICB0aGlzLm9udnNlZWtpbmcgPSB0aGlzLm9uTWVkaWFTZWVraW5nLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub252c2Vla2VkID0gdGhpcy5vbk1lZGlhU2Vla2VkLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub252ZW5kZWQgPSB0aGlzLm9uTWVkaWFFbmRlZC5iaW5kKHRoaXMpO1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5vbnZzZWVraW5nKTtcbiAgICAgICAgbWVkaWEuYWRkRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbnZzZWVrZWQpO1xuICAgICAgICBtZWRpYS5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIHRoaXMub252ZW5kZWQpO1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIGlmICh0aGlzLmxldmVscyAmJiBjb25maWcuYXV0b1N0YXJ0TG9hZCkge1xuICAgICAgICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdhcENvbnRyb2xsZXIgPSBuZXcgZ2FwX2NvbnRyb2xsZXJfMS5kZWZhdWx0KGNvbmZpZywgbWVkaWEsIHRoaXMuZnJhZ21lbnRUcmFja2VyLCB0aGlzLmhscyk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAobWVkaWEgJiYgbWVkaWEuZW5kZWQpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01TRSBkZXRhY2hpbmcgYW5kIHZpZGVvIGVuZGVkLCByZXNldCBzdGFydFBvc2l0aW9uJyk7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzZXQgZnJhZ21lbnQgYmFja3RyYWNrZWQgZmxhZ1xuICAgICAgICB2YXIgbGV2ZWxzID0gdGhpcy5sZXZlbHM7XG4gICAgICAgIGlmIChsZXZlbHMpIHtcbiAgICAgICAgICAgIGxldmVscy5mb3JFYWNoKGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgICAgIGlmIChsZXZlbC5kZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsLmRldGFpbHMuZnJhZ21lbnRzLmZvckVhY2goZnVuY3Rpb24gKGZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5iYWNrdHJhY2tlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVtb3ZlIHZpZGVvIGxpc3RlbmVyc1xuICAgICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgICAgIG1lZGlhLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLm9udnNlZWtpbmcpO1xuICAgICAgICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Vla2VkJywgdGhpcy5vbnZzZWVrZWQpO1xuICAgICAgICAgICAgbWVkaWEucmVtb3ZlRXZlbnRMaXN0ZW5lcignZW5kZWQnLCB0aGlzLm9udmVuZGVkKTtcbiAgICAgICAgICAgIHRoaXMub252c2Vla2luZyA9IHRoaXMub252c2Vla2VkID0gdGhpcy5vbnZlbmRlZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tZWRpYSA9IHRoaXMubWVkaWFCdWZmZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmxvYWRlZG1ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIHRoaXMuc3RvcExvYWQoKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFTZWVrZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWEsIGN1cnJlbnRUaW1lID0gbWVkaWEgPyBtZWRpYS5jdXJyZW50VGltZSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShjdXJyZW50VGltZSkpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJtZWRpYSBzZWVrZWQgdG8gXCIgKyBjdXJyZW50VGltZS50b0ZpeGVkKDMpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aWNrIHRvIHNwZWVkIHVwIEZSQUdNRU5UX1BMQVlJTkcgdHJpZ2dlcmluZ1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyByZXNldCBidWZmZXIgb24gbWFuaWZlc3QgbG9hZGluZ1xuICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCd0cmlnZ2VyIEJVRkZFUl9SRVNFVCcpO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX1JFU0VUKTtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlQWxsRnJhZ21lbnRzKCk7XG4gICAgICAgIHRoaXMuc3RhbGxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmxhc3RDdXJyZW50VGltZSA9IDA7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0UGFyc2VkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGFhYyA9IGZhbHNlLCBoZWFhYyA9IGZhbHNlLCBjb2RlYztcbiAgICAgICAgZGF0YS5sZXZlbHMuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgICAgIC8vIGRldGVjdCBpZiB3ZSBoYXZlIGRpZmZlcmVudCBraW5kIG9mIGF1ZGlvIGNvZGVjcyB1c2VkIGFtb25nc3QgcGxheWxpc3RzXG4gICAgICAgICAgICBjb2RlYyA9IGxldmVsLmF1ZGlvQ29kZWM7XG4gICAgICAgICAgICBpZiAoY29kZWMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29kZWMuaW5kZXhPZignbXA0YS40MC4yJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGFhYyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2RlYy5pbmRleE9mKCdtcDRhLjQwLjUnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhYWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlY1N3aXRjaCA9IChhYWMgJiYgaGVhYWMpO1xuICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dpdGNoKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdib3RoIEFBQy9IRS1BQUMgYXVkaW8gZm91bmQgaW4gbGV2ZWxzOyBkZWNsYXJpbmcgbGV2ZWwgY29kZWMgYXMgSEUtQUFDJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sZXZlbHMgPSBkYXRhLmxldmVscztcbiAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICBpZiAoY29uZmlnLmF1dG9TdGFydExvYWQgfHwgdGhpcy5mb3JjZVN0YXJ0TG9hZCkge1xuICAgICAgICAgICAgdGhpcy5obHMuc3RhcnRMb2FkKGNvbmZpZy5zdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25MZXZlbExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBuZXdEZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgICB2YXIgbmV3TGV2ZWxJZCA9IGRhdGEubGV2ZWw7XG4gICAgICAgIHZhciBsYXN0TGV2ZWwgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsTGFzdExvYWRlZF07XG4gICAgICAgIHZhciBjdXJMZXZlbCA9IHRoaXMubGV2ZWxzW25ld0xldmVsSWRdO1xuICAgICAgICB2YXIgZHVyYXRpb24gPSBuZXdEZXRhaWxzLnRvdGFsZHVyYXRpb247XG4gICAgICAgIHZhciBzbGlkaW5nID0gMDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImxldmVsIFwiICsgbmV3TGV2ZWxJZCArIFwiIGxvYWRlZCBbXCIgKyBuZXdEZXRhaWxzLnN0YXJ0U04gKyBcIixcIiArIG5ld0RldGFpbHMuZW5kU04gKyBcIl0sZHVyYXRpb246XCIgKyBkdXJhdGlvbik7XG4gICAgICAgIGlmIChuZXdEZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIHZhciBjdXJEZXRhaWxzID0gY3VyTGV2ZWwuZGV0YWlscztcbiAgICAgICAgICAgIGlmIChjdXJEZXRhaWxzICYmIG5ld0RldGFpbHMuZnJhZ21lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBhbHJlYWR5IGhhdmUgZGV0YWlscyBmb3IgdGhhdCBsZXZlbCwgbWVyZ2UgdGhlbVxuICAgICAgICAgICAgICAgIExldmVsSGVscGVyLm1lcmdlRGV0YWlscyhjdXJEZXRhaWxzLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICBzbGlkaW5nID0gbmV3RGV0YWlscy5mcmFnbWVudHNbMF0uc3RhcnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5saXZlU3luY1Bvc2l0aW9uID0gdGhpcy5jb21wdXRlTGl2ZVBvc2l0aW9uKHNsaWRpbmcsIGN1ckRldGFpbHMpO1xuICAgICAgICAgICAgICAgIGlmIChuZXdEZXRhaWxzLlBUU0tub3duICYmIE51bWJlci5pc0Zpbml0ZShzbGlkaW5nKSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibGl2ZSBwbGF5bGlzdCBzbGlkaW5nOlwiICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2xpdmUgcGxheWxpc3QgLSBvdXRkYXRlZCBQVFMsIHVua25vd24gc2xpZGluZycpO1xuICAgICAgICAgICAgICAgICAgICBkaXNjb250aW51aXRpZXNfMS5hbGlnblN0cmVhbSh0aGlzLmZyYWdQcmV2aW91cywgbGFzdExldmVsLCBuZXdEZXRhaWxzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdsaXZlIHBsYXlsaXN0IC0gZmlyc3QgbG9hZCwgdW5rbm93biBzbGlkaW5nJyk7XG4gICAgICAgICAgICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRpc2NvbnRpbnVpdGllc18xLmFsaWduU3RyZWFtKHRoaXMuZnJhZ1ByZXZpb3VzLCBsYXN0TGV2ZWwsIG5ld0RldGFpbHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3RGV0YWlscy5QVFNLbm93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIG92ZXJyaWRlIGxldmVsIGluZm9cbiAgICAgICAgY3VyTGV2ZWwuZGV0YWlscyA9IG5ld0RldGFpbHM7XG4gICAgICAgIHRoaXMubGV2ZWxMYXN0TG9hZGVkID0gbmV3TGV2ZWxJZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkxFVkVMX1VQREFURUQsIHsgZGV0YWlsczogbmV3RGV0YWlscywgbGV2ZWw6IG5ld0xldmVsSWQgfSk7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIC8vIGNvbXB1dGUgc3RhcnQgcG9zaXRpb24gaWYgc2V0IHRvIC0xLiB1c2UgaXQgc3RyYWlnaHQgYXdheSBpZiB2YWx1ZSBpcyBkZWZpbmVkXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydFBvc2l0aW9uID09PSAtMSB8fCB0aGlzLmxhc3RDdXJyZW50VGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCwgY2hlY2sgaWYgc3RhcnQgdGltZSBvZmZzZXQgaGFzIGJlZW4gc2V0IGluIHBsYXlsaXN0LCBpZiB5ZXMsIHVzZSB0aGlzIHZhbHVlXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZU9mZnNldCA9IG5ld0RldGFpbHMuc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoc3RhcnRUaW1lT2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRUaW1lT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm5lZ2F0aXZlIHN0YXJ0IHRpbWUgb2Zmc2V0IFwiICsgc3RhcnRUaW1lT2Zmc2V0ICsgXCIsIGNvdW50IGZyb20gZW5kIG9mIGxhc3QgZnJhZ21lbnRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVPZmZzZXQgPSBzbGlkaW5nICsgZHVyYXRpb24gKyBzdGFydFRpbWVPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN0YXJ0IHRpbWUgb2Zmc2V0IGZvdW5kIGluIHBsYXlsaXN0LCBhZGp1c3Qgc3RhcnRQb3NpdGlvbiB0byBcIiArIHN0YXJ0VGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRQb3NpdGlvbiA9IHN0YXJ0VGltZU9mZnNldDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGxpdmUgcGxheWxpc3QsIHNldCBzdGFydCBwb3NpdGlvbiB0byBiZSBmcmFnbWVudCBOLXRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb25Db3VudCAodXN1YWxseSAzKVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RGV0YWlscy5saXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0UG9zaXRpb24gPSB0aGlzLmNvbXB1dGVMaXZlUG9zaXRpb24oc2xpZGluZywgbmV3RGV0YWlscyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiY29uZmlndXJlIHN0YXJ0UG9zaXRpb24gdG8gXCIgKyB0aGlzLnN0YXJ0UG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydFBvc2l0aW9uID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDdXJyZW50VGltZSA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubmV4dExvYWRQb3NpdGlvbiA9IHRoaXMuc3RhcnRQb3NpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICAvLyBvbmx5IHN3aXRjaCBiYXRjayB0byBJRExFIHN0YXRlIGlmIHdlIHdlcmUgd2FpdGluZyBmb3IgbGV2ZWwgdG8gc3RhcnQgZG93bmxvYWRpbmcgYSBuZXcgZnJhZ21lbnRcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5XQUlUSU5HX0xFVkVMKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uS2V5TG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLktFWV9MT0FESU5HKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICB0aGlzLnRpY2soKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgZnJhZ0N1cnJlbnQgPSBfYS5mcmFnQ3VycmVudCwgaGxzID0gX2EuaGxzLCBsZXZlbHMgPSBfYS5sZXZlbHMsIG1lZGlhID0gX2EubWVkaWE7XG4gICAgICAgIHZhciBmcmFnTG9hZGVkID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLkZSQUdfTE9BRElORyAmJlxuICAgICAgICAgICAgZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGZyYWdMb2FkZWQudHlwZSA9PT0gJ21haW4nICYmXG4gICAgICAgICAgICBmcmFnTG9hZGVkLmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgZnJhZ0xvYWRlZC5zbiA9PT0gZnJhZ0N1cnJlbnQuc24pIHtcbiAgICAgICAgICAgIHZhciBzdGF0cyA9IGRhdGEuc3RhdHM7XG4gICAgICAgICAgICB2YXIgY3VycmVudExldmVsID0gbGV2ZWxzW2ZyYWdDdXJyZW50LmxldmVsXTtcbiAgICAgICAgICAgIHZhciBkZXRhaWxzID0gY3VycmVudExldmVsLmRldGFpbHM7XG4gICAgICAgICAgICAvLyByZXNldCBmcmFnIGJpdHJhdGUgdGVzdCBpbiBhbnkgY2FzZSBhZnRlciBmcmFnIGxvYWRlZCBldmVudFxuICAgICAgICAgICAgLy8gaWYgdGhpcyBmcmFnIHdhcyBsb2FkZWQgdG8gcGVyZm9ybSBhIGJpdHJhdGUgdGVzdCBBTkQgaWYgaGxzLm5leHRMb2FkTGV2ZWwgaXMgZ3JlYXRlciB0aGFuIDBcbiAgICAgICAgICAgIC8vIHRoZW4gdGhpcyBtZWFucyB0aGF0IHdlIHNob3VsZCBiZSBhYmxlIHRvIGxvYWQgYSBmcmFnbWVudCBhdCBhIGhpZ2hlciBxdWFsaXR5IGxldmVsXG4gICAgICAgICAgICB0aGlzLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnN0YXRzID0gc3RhdHM7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiTG9hZGVkIFwiICsgZnJhZ0N1cnJlbnQuc24gKyBcIiBvZiBbXCIgKyBkZXRhaWxzLnN0YXJ0U04gKyBcIiAsXCIgKyBkZXRhaWxzLmVuZFNOICsgXCJdLGxldmVsIFwiICsgZnJhZ0N1cnJlbnQubGV2ZWwpO1xuICAgICAgICAgICAgaWYgKGZyYWdMb2FkZWQuYml0cmF0ZVRlc3QgJiYgaGxzLm5leHRMb2FkTGV2ZWwpIHtcbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggYmFjayB0byBJRExFIHN0YXRlIC4uLiB3ZSBqdXN0IGxvYWRlZCBhIGZyYWdtZW50IHRvIGRldGVybWluZSBhZGVxdWF0ZSBzdGFydCBiaXRyYXRlIGFuZCBpbml0aWFsaXplIGF1dG9zd2l0Y2ggYWxnb1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0RnJhZ1JlcXVlc3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0JVRkZFUkVELCB7IHN0YXRzOiBzdGF0cywgZnJhZzogZnJhZ0N1cnJlbnQsIGlkOiAnbWFpbicgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcmFnTG9hZGVkLnNuID09PSAnaW5pdFNlZ21lbnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IGJhc2Vfc3RyZWFtX2NvbnRyb2xsZXJfMS5TdGF0ZS5JRExFO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRwYXJzZWQgPSBzdGF0cy50YnVmZmVyZWQgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgZGV0YWlscy5pbml0U2VnbWVudC5kYXRhID0gZGF0YS5wYXlsb2FkO1xuICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19CVUZGRVJFRCwgeyBzdGF0czogc3RhdHMsIGZyYWc6IGZyYWdDdXJyZW50LCBpZDogJ21haW4nIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIlBhcnNpbmcgXCIgKyBmcmFnQ3VycmVudC5zbiArIFwiIG9mIFtcIiArIGRldGFpbHMuc3RhcnRTTiArIFwiICxcIiArIGRldGFpbHMuZW5kU04gKyBcIl0sbGV2ZWwgXCIgKyBmcmFnQ3VycmVudC5sZXZlbCArIFwiLCBjYyBcIiArIGZyYWdDdXJyZW50LmNjKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkc7XG4gICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gQml0cmF0ZSB0ZXN0IGZyYWdzIGFyZSBub3QgdXN1YWxseSBidWZmZXJlZCBzbyB0aGUgZnJhZ21lbnQgdHJhY2tlciBpZ25vcmVzIHRoZW0uIElmIEhscy5qcyBkZWNpZGVzIHRvIGJ1ZmZlclxuICAgICAgICAgICAgICAgIC8vIGl0IChhbmQgdGhlcmVmb3JlIGVuZHMgdXAgYXQgdGhpcyBsaW5lKSwgdGhlbiB0aGUgZnJhZ21lbnQgdHJhY2tlciBuZWVkcyB0byBiZSBtYW51YWxseSBpbmZvcm1lZC5cbiAgICAgICAgICAgICAgICBpZiAoZnJhZ0xvYWRlZC5iaXRyYXRlVGVzdCkge1xuICAgICAgICAgICAgICAgICAgICBmcmFnTG9hZGVkLmJpdHJhdGVUZXN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ21lbnRUcmFja2VyLm9uRnJhZ0xvYWRlZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnOiBmcmFnTG9hZGVkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aW1lIE9mZnNldCBpcyBhY2N1cmF0ZSBpZiBsZXZlbCBQVFMgaXMga25vd24sIG9yIGlmIHBsYXlsaXN0IGlzIG5vdCBzbGlkaW5nIChub3QgbGl2ZSkgYW5kIGlmIG1lZGlhIGlzIG5vdCBzZWVraW5nICh0aGlzIGlzIHRvIG92ZXJjb21lIHBvdGVudGlhbCB0aW1lc3RhbXAgZHJpZnRzIGJldHdlZW4gcGxheWxpc3RzIGFuZCBmcmFnbWVudHMpXG4gICAgICAgICAgICAgICAgdmFyIGFjY3VyYXRlVGltZU9mZnNldCA9ICEobWVkaWEgJiYgbWVkaWEuc2Vla2luZykgJiYgKGRldGFpbHMuUFRTS25vd24gfHwgIWRldGFpbHMubGl2ZSk7XG4gICAgICAgICAgICAgICAgdmFyIGluaXRTZWdtZW50RGF0YSA9IGRldGFpbHMuaW5pdFNlZ21lbnQgPyBkZXRhaWxzLmluaXRTZWdtZW50LmRhdGEgOiBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYXVkaW9Db2RlYyA9IHRoaXMuX2dldEF1ZGlvQ29kZWMoY3VycmVudExldmVsKTtcbiAgICAgICAgICAgICAgICAvLyB0cmFuc211eCB0aGUgTVBFRy1UUyBkYXRhIHRvIElTTy1CTUZGIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgdmFyIGRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXIgPSB0aGlzLmRlbXV4ZXIgfHwgbmV3IGRlbXV4ZXJfMS5kZWZhdWx0KHRoaXMuaGxzLCAnbWFpbicpO1xuICAgICAgICAgICAgICAgIGRlbXV4ZXIucHVzaChkYXRhLnBheWxvYWQsIGluaXRTZWdtZW50RGF0YSwgYXVkaW9Db2RlYywgY3VycmVudExldmVsLnZpZGVvQ29kZWMsIGZyYWdDdXJyZW50LCBkZXRhaWxzLnRvdGFsZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mcmFnTG9hZEVycm9yID0gMDtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdJbml0U2VnbWVudCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIHZhciBmcmFnTmV3ID0gZGF0YS5mcmFnO1xuICAgICAgICBpZiAoZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGRhdGEuaWQgPT09ICdtYWluJyAmJlxuICAgICAgICAgICAgZnJhZ05ldy5zbiA9PT0gZnJhZ0N1cnJlbnQuc24gJiZcbiAgICAgICAgICAgIGZyYWdOZXcubGV2ZWwgPT09IGZyYWdDdXJyZW50LmxldmVsICYmXG4gICAgICAgICAgICB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgICAgdmFyIHRyYWNrcyA9IGRhdGEudHJhY2tzLCB0cmFja05hbWUgPSB2b2lkIDAsIHRyYWNrID0gdm9pZCAwO1xuICAgICAgICAgICAgLy8gaWYgYXVkaW8gdHJhY2sgaXMgZXhwZWN0ZWQgdG8gY29tZSBmcm9tIGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyLCBkaXNjYXJkIGFueSBjb21pbmcgZnJvbSBtYWluXG4gICAgICAgICAgICBpZiAodHJhY2tzLmF1ZGlvICYmIHRoaXMuYWx0QXVkaW8pIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdHJhY2tzLmF1ZGlvO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaW5jbHVkZSBsZXZlbENvZGVjIGluIGF1ZGlvIGFuZCB2aWRlbyB0cmFja3NcbiAgICAgICAgICAgIHRyYWNrID0gdHJhY2tzLmF1ZGlvO1xuICAgICAgICAgICAgaWYgKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvQ29kZWMgPSB0aGlzLmxldmVsc1t0aGlzLmxldmVsXS5hdWRpb0NvZGVjLCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICBpZiAoYXVkaW9Db2RlYyAmJiB0aGlzLmF1ZGlvQ29kZWNTd2FwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3N3YXBwaW5nIHBsYXlsaXN0IGF1ZGlvIGNvZGVjJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGluIGNhc2UgQUFDIGFuZCBIRS1BQUMgYXVkaW8gY29kZWNzIGFyZSBzaWduYWxsZWQgaW4gbWFuaWZlc3RcbiAgICAgICAgICAgICAgICAvLyBmb3JjZSBIRS1BQUMgLCBhcyBpdCBzZWVtcyB0aGF0IG1vc3QgYnJvd3NlcnMgcHJlZmVycyB0aGF0IHdheSxcbiAgICAgICAgICAgICAgICAvLyBleGNlcHQgZm9yIG1vbm8gc3RyZWFtcyBPUiBvbiBGRlxuICAgICAgICAgICAgICAgIC8vIHRoZXNlIGNvbmRpdGlvbnMgbWlnaHQgbmVlZCB0byBiZSByZXZpZXdlZCAuLi5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dpdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGZvcmNlIEhFLUFBQyBpZiBtb25vIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICBpZiAodHJhY2subWV0YWRhdGEuY2hhbm5lbENvdW50ICE9PSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBmb3JjZSBIRS1BQUMgaWYgZmlyZWZveFxuICAgICAgICAgICAgICAgICAgICAgICAgdWEuaW5kZXhPZignZmlyZWZveCcpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjUnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhFLUFBQyBpcyBicm9rZW4gb24gQW5kcm9pZCwgYWx3YXlzIHNpZ25hbCBhdWRpbyBjb2RlYyBhcyBBQUMgZXZlbiBpZiB2YXJpYW50IG1hbmlmZXN0IHN0YXRlcyBvdGhlcndpc2VcbiAgICAgICAgICAgICAgICBpZiAodWEuaW5kZXhPZignYW5kcm9pZCcpICE9PSAtMSAmJiB0cmFjay5jb250YWluZXIgIT09ICdhdWRpby9tcGVnJykgeyAvLyBFeGNsdWRlIG1wZWcgYXVkaW9cbiAgICAgICAgICAgICAgICAgICAgYXVkaW9Db2RlYyA9ICdtcDRhLjQwLjInO1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiQW5kcm9pZDogZm9yY2UgYXVkaW8gY29kZWMgdG8gXCIgKyBhdWRpb0NvZGVjKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhY2subGV2ZWxDb2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICAgICAgICAgICAgdHJhY2suaWQgPSBkYXRhLmlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2sgPSB0cmFja3MudmlkZW87XG4gICAgICAgICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgICAgICAgICB0cmFjay5sZXZlbENvZGVjID0gdGhpcy5sZXZlbHNbdGhpcy5sZXZlbF0udmlkZW9Db2RlYztcbiAgICAgICAgICAgICAgICB0cmFjay5pZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0NPREVDUywgdHJhY2tzKTtcbiAgICAgICAgICAgIC8vIGxvb3AgdGhyb3VnaCB0cmFja3MgdGhhdCBhcmUgZ29pbmcgdG8gYmUgcHJvdmlkZWQgdG8gYnVmZmVyQ29udHJvbGxlclxuICAgICAgICAgICAgZm9yICh0cmFja05hbWUgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICAgICAgdHJhY2sgPSB0cmFja3NbdHJhY2tOYW1lXTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwibWFpbiB0cmFjazpcIiArIHRyYWNrTmFtZSArIFwiLGNvbnRhaW5lcjpcIiArIHRyYWNrLmNvbnRhaW5lciArIFwiLGNvZGVjc1tsZXZlbC9wYXJzZWRdPVtcIiArIHRyYWNrLmxldmVsQ29kZWMgKyBcIi9cIiArIHRyYWNrLmNvZGVjICsgXCJdXCIpO1xuICAgICAgICAgICAgICAgIHZhciBpbml0U2VnbWVudCA9IHRyYWNrLmluaXRTZWdtZW50O1xuICAgICAgICAgICAgICAgIGlmIChpbml0U2VnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJtIHBlbmRpbmcgQnVmZmVyaW5nIGZsYWcgYmVmb3JlIGFwcGVuZGluZyBhIHNlZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nQnVmZmVyaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9BUFBFTkRJTkcsIHsgdHlwZTogdHJhY2tOYW1lLCBkYXRhOiBpbml0U2VnbWVudCwgcGFyZW50OiAnbWFpbicsIGNvbnRlbnQ6ICdpbml0U2VnbWVudCcgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gdHJpZ2dlciBoYW5kbGVyIHJpZ2h0IG5vd1xuICAgICAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ1BhcnNpbmdEYXRhID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGZyYWdDdXJyZW50ID0gdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgdmFyIGZyYWdOZXcgPSBkYXRhLmZyYWc7XG4gICAgICAgIGlmIChmcmFnQ3VycmVudCAmJlxuICAgICAgICAgICAgZGF0YS5pZCA9PT0gJ21haW4nICYmXG4gICAgICAgICAgICBmcmFnTmV3LnNuID09PSBmcmFnQ3VycmVudC5zbiAmJlxuICAgICAgICAgICAgZnJhZ05ldy5sZXZlbCA9PT0gZnJhZ0N1cnJlbnQubGV2ZWwgJiZcbiAgICAgICAgICAgICEoZGF0YS50eXBlID09PSAnYXVkaW8nICYmIHRoaXMuYWx0QXVkaW8pICYmIC8vIGZpbHRlciBvdXQgbWFpbiBhdWRpbyBpZiBhdWRpbyB0cmFjayBpcyBsb2FkZWQgdGhyb3VnaCBhdWRpbyBzdHJlYW0gY29udHJvbGxlclxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHZhciBsZXZlbCA9IHRoaXMubGV2ZWxzW3RoaXMubGV2ZWxdLCBmcmFnID0gZnJhZ0N1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShkYXRhLmVuZFBUUykpIHtcbiAgICAgICAgICAgICAgICBkYXRhLmVuZFBUUyA9IGRhdGEuc3RhcnRQVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICBkYXRhLmVuZERUUyA9IGRhdGEuc3RhcnREVFMgKyBmcmFnQ3VycmVudC5kdXJhdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLmhhc0F1ZGlvID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgZnJhZy5hZGRFbGVtZW50YXJ5U3RyZWFtKGZyYWdtZW50XzEuZGVmYXVsdC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEuaGFzVmlkZW8gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICBmcmFnLmFkZEVsZW1lbnRhcnlTdHJlYW0oZnJhZ21lbnRfMS5kZWZhdWx0LkVsZW1lbnRhcnlTdHJlYW1UeXBlcy5WSURFTyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiUGFyc2VkIFwiICsgZGF0YS50eXBlICsgXCIsUFRTOltcIiArIGRhdGEuc3RhcnRQVFMudG9GaXhlZCgzKSArIFwiLFwiICsgZGF0YS5lbmRQVFMudG9GaXhlZCgzKSArIFwiXSxEVFM6W1wiICsgZGF0YS5zdGFydERUUy50b0ZpeGVkKDMpICsgXCIvXCIgKyBkYXRhLmVuZERUUy50b0ZpeGVkKDMpICsgXCJdLG5iOlwiICsgZGF0YS5uYiArIFwiLGRyb3BwZWQ6XCIgKyAoZGF0YS5kcm9wcGVkIHx8IDApKTtcbiAgICAgICAgICAgIC8vIERldGVjdCBnYXBzIGluIGEgZnJhZ21lbnQgIGFuZCB0cnkgdG8gZml4IGl0IGJ5IGZpbmRpbmcgYSBrZXlmcmFtZSBpbiB0aGUgcHJldmlvdXMgZnJhZ21lbnQgKHNlZSBfZmluZEZyYWdtZW50cylcbiAgICAgICAgICAgIGlmIChkYXRhLnR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgICAgICBmcmFnLmRyb3BwZWQgPSBkYXRhLmRyb3BwZWQ7XG4gICAgICAgICAgICAgICAgaWYgKGZyYWcuZHJvcHBlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZyYWcuYmFja3RyYWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsZXZlbERldGFpbHMgPSBsZXZlbC5kZXRhaWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxldmVsRGV0YWlscyAmJiBmcmFnLnNuID09PSBsZXZlbERldGFpbHMuc3RhcnRTTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdtaXNzaW5nIHZpZGVvIGZyYW1lKHMpIG9uIGZpcnN0IGZyYWcsIGFwcGVuZGluZyB3aXRoIGdhcCcsIGZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ21pc3NpbmcgdmlkZW8gZnJhbWUocyksIGJhY2t0cmFja2luZyBmcmFnbWVudCcsIGZyYWcuc24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiBiYWNrIHRvIHRoZSBJRExFIHN0YXRlIHdpdGhvdXQgYXBwZW5kaW5nIHRvIGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhdXNlcyBmaW5kRnJhZ21lbnRzIHRvIGJhY2t0cmFjayBhIHNlZ21lbnQgYW5kIGZpbmQgdGhlIGtleWZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXVkaW8gZnJhZ21lbnRzIGFycml2aW5nIGJlZm9yZSB2aWRlbyBzZXRzIHRoZSBuZXh0TG9hZFBvc2l0aW9uLCBjYXVzaW5nIF9maW5kRnJhZ21lbnRzIHRvIHNraXAgdGhlIGJhY2t0cmFja2VkIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIucmVtb3ZlRnJhZ21lbnQoZnJhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0TG9hZFBvc2l0aW9uID0gZGF0YS5zdGFydFBUUztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdBbHJlYWR5IGJhY2t0cmFja2VkIG9uIHRoaXMgZnJhZ21lbnQsIGFwcGVuZGluZyB3aXRoIHRoZSBnYXAnLCBmcmFnLnNuKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25seSByZXNldCB0aGUgYmFja3RyYWNrZWQgZmxhZyBpZiB3ZSd2ZSBsb2FkZWQgdGhlIGZyYWcgd2l0aG91dCBhbnkgZHJvcHBlZCBmcmFtZXNcbiAgICAgICAgICAgICAgICAgICAgZnJhZy5iYWNrdHJhY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkcmlmdCA9IExldmVsSGVscGVyLnVwZGF0ZUZyYWdQVFNEVFMobGV2ZWwuZGV0YWlscywgZnJhZywgZGF0YS5zdGFydFBUUywgZGF0YS5lbmRQVFMsIGRhdGEuc3RhcnREVFMsIGRhdGEuZW5kRFRTKSwgaGxzXzIgPSB0aGlzLmhscztcbiAgICAgICAgICAgIGhsc18yLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5MRVZFTF9QVFNfVVBEQVRFRCwgeyBkZXRhaWxzOiBsZXZlbC5kZXRhaWxzLCBsZXZlbDogdGhpcy5sZXZlbCwgZHJpZnQ6IGRyaWZ0LCB0eXBlOiBkYXRhLnR5cGUsIHN0YXJ0OiBkYXRhLnN0YXJ0UFRTLCBlbmQ6IGRhdGEuZW5kUFRTIH0pO1xuICAgICAgICAgICAgLy8gaGFzIHJlbXV4ZXIgZHJvcHBlZCB2aWRlbyBmcmFtZXMgbG9jYXRlZCBiZWZvcmUgZmlyc3Qga2V5ZnJhbWUgP1xuICAgICAgICAgICAgW2RhdGEuZGF0YTEsIGRhdGEuZGF0YTJdLmZvckVhY2goZnVuY3Rpb24gKGJ1ZmZlcikge1xuICAgICAgICAgICAgICAgIC8vIG9ubHkgYXBwZW5kIGluIFBBUlNJTkcgc3RhdGUgKHJhdGlvbmFsZSBpcyB0aGF0IGFuIGFwcGVuZGluZyBlcnJvciBjb3VsZCBoYXBwZW4gc3luY2hyb25vdXNseSBvbiBmaXJzdCBzZWdtZW50IGFwcGVuZGluZylcbiAgICAgICAgICAgICAgICAvLyBpbiB0aGF0IGNhc2UgaXQgaXMgdXNlbGVzcyB0byBhcHBlbmQgZm9sbG93aW5nIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlciAmJiBidWZmZXIubGVuZ3RoICYmIF90aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hcHBlbmRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFybSBwZW5kaW5nIEJ1ZmZlcmluZyBmbGFnIGJlZm9yZSBhcHBlbmRpbmcgYSBzZWdtZW50XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnBlbmRpbmdCdWZmZXJpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBobHNfMi50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQlVGRkVSX0FQUEVORElORywgeyB0eXBlOiBkYXRhLnR5cGUsIGRhdGE6IGJ1ZmZlciwgcGFyZW50OiAnbWFpbicsIGNvbnRlbnQ6ICdkYXRhJyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIHRyaWdnZXIgaGFuZGxlciByaWdodCBub3dcbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICB2YXIgZnJhZ05ldyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWdDdXJyZW50ICYmXG4gICAgICAgICAgICBkYXRhLmlkID09PSAnbWFpbicgJiZcbiAgICAgICAgICAgIGZyYWdOZXcuc24gPT09IGZyYWdDdXJyZW50LnNuICYmXG4gICAgICAgICAgICBmcmFnTmV3LmxldmVsID09PSBmcmFnQ3VycmVudC5sZXZlbCAmJlxuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHMudHBhcnNlZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tBcHBlbmRlZFBhcnNlZCgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkF1ZGlvVHJhY2tTd2l0Y2hpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBpZiBhbnkgVVJMIGZvdW5kIG9uIG5ldyBhdWRpbyB0cmFjaywgaXQgaXMgYW4gYWx0ZXJuYXRlIGF1ZGlvIHRyYWNrXG4gICAgICAgIHZhciBhbHRBdWRpbyA9ICEhZGF0YS51cmwsIHRyYWNrSWQgPSBkYXRhLmlkO1xuICAgICAgICAvLyBpZiB3ZSBzd2l0Y2ggb24gbWFpbiBhdWRpbywgZW5zdXJlIHRoYXQgbWFpbiBmcmFnbWVudCBzY2hlZHVsaW5nIGlzIHN5bmNlZCB3aXRoIG1lZGlhLmJ1ZmZlcmVkXG4gICAgICAgIC8vIGRvbid0IGRvIGFueXRoaW5nIGlmIHdlIHN3aXRjaCB0byBhbHQgYXVkaW86IGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyIGlzIGhhbmRsaW5nIGl0LlxuICAgICAgICAvLyB3ZSB3aWxsIGp1c3QgaGF2ZSB0byBjaGFuZ2UgYnVmZmVyIHNjaGVkdWxpbmcgb24gYXVkaW9UcmFja1N3aXRjaGVkXG4gICAgICAgIGlmICghYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1lZGlhQnVmZmVyICE9PSB0aGlzLm1lZGlhKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dpdGNoaW5nIG9uIG1haW4gYXVkaW8sIHVzZSBtZWRpYS5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ0N1cnJlbnQgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gcmVmaWxsIGF1ZGlvIGJ1ZmZlciBmcm9tIG1haW46IGNhbmNlbCBhbnkgZnJhZyBsb2FkaW5nIHRvIHNwZWVkIHVwIGF1ZGlvIHN3aXRjaFxuICAgICAgICAgICAgICAgIGlmIChmcmFnQ3VycmVudC5sb2FkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dpdGNoaW5nIHRvIG1haW4gYXVkaW8gdHJhY2ssIGNhbmNlbCBtYWluIGZyYWdtZW50IGxvYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgZnJhZ0N1cnJlbnQubG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICAgICAgICAgICAgICAvLyBkZXN0cm95IGRlbXV4ZXIgdG8gZm9yY2UgaW5pdCBzZWdtZW50IGdlbmVyYXRpb24gKGZvbGxvd2luZyBhdWRpbyBzd2l0Y2gpXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVtdXhlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBzd2l0Y2ggdG8gSURMRSBzdGF0ZSB0byBsb2FkIG5ldyBmcmFnbWVudFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBobHNfMyA9IHRoaXMuaGxzO1xuICAgICAgICAgICAgLy8gc3dpdGNoaW5nIHRvIG1haW4gYXVkaW8sIGZsdXNoIGFsbCBhdWRpbyBhbmQgdHJpZ2dlciB0cmFjayBzd2l0Y2hlZFxuICAgICAgICAgICAgaGxzXzMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkJVRkZFUl9GTFVTSElORywgeyBzdGFydE9mZnNldDogMCwgZW5kT2Zmc2V0OiBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksIHR5cGU6ICdhdWRpbycgfSk7XG4gICAgICAgICAgICBobHNfMy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfU1dJVENIRUQsIHsgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgICAgICB0aGlzLmFsdEF1ZGlvID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja1N3aXRjaGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHRyYWNrSWQgPSBkYXRhLmlkLCBhbHRBdWRpbyA9ICEhdGhpcy5obHMuYXVkaW9UcmFja3NbdHJhY2tJZF0udXJsO1xuICAgICAgICBpZiAoYWx0QXVkaW8pIHtcbiAgICAgICAgICAgIHZhciB2aWRlb0J1ZmZlciA9IHRoaXMudmlkZW9CdWZmZXI7XG4gICAgICAgICAgICAvLyBpZiB3ZSBzd2l0Y2hlZCBvbiBhbHRlcm5hdGUgYXVkaW8sIGVuc3VyZSB0aGF0IG1haW4gZnJhZ21lbnQgc2NoZWR1bGluZyBpcyBzeW5jZWQgd2l0aCB2aWRlbyBzb3VyY2VidWZmZXIgYnVmZmVyZWRcbiAgICAgICAgICAgIGlmICh2aWRlb0J1ZmZlciAmJiB0aGlzLm1lZGlhQnVmZmVyICE9PSB2aWRlb0J1ZmZlcikge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3N3aXRjaGluZyBvbiBhbHRlcm5hdGUgYXVkaW8sIHVzZSB2aWRlby5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdmlkZW9CdWZmZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hbHRBdWRpbyA9IGFsdEF1ZGlvO1xuICAgICAgICB0aGlzLnRpY2soKTtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uQnVmZmVyQ3JlYXRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciB0cmFja3MgPSBkYXRhLnRyYWNrcywgbWVkaWFUcmFjaywgbmFtZSwgYWx0ZXJuYXRlID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIHR5cGUgaW4gdHJhY2tzKSB7XG4gICAgICAgICAgICB2YXIgdHJhY2sgPSB0cmFja3NbdHlwZV07XG4gICAgICAgICAgICBpZiAodHJhY2suaWQgPT09ICdtYWluJykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIG1lZGlhVHJhY2sgPSB0cmFjaztcbiAgICAgICAgICAgICAgICAvLyBrZWVwIHZpZGVvIHNvdXJjZSBidWZmZXIgcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd2aWRlbycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb0J1ZmZlciA9IHRyYWNrc1t0eXBlXS5idWZmZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYWx0ZXJuYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYWx0ZXJuYXRlICYmIG1lZGlhVHJhY2spIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJhbHRlcm5hdGUgdHJhY2sgZm91bmQsIHVzZSBcIiArIG5hbWUgKyBcIi5idWZmZXJlZCB0byBzY2hlZHVsZSBtYWluIGZyYWdtZW50IGxvYWRpbmdcIik7XG4gICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gbWVkaWFUcmFjay5idWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25CdWZmZXJBcHBlbmRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ21haW4nKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgICAgICAgICAgaWYgKHN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORyB8fCBzdGF0ZSA9PT0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLlBBUlNFRCkge1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGFsbCBidWZmZXJzIGhhdmUgYmVlbiBhcHBlbmRlZFxuICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ0J1ZmZlcmluZyA9IChkYXRhLnBlbmRpbmcgPiAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0FwcGVuZGVkUGFyc2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9jaGVja0FwcGVuZGVkUGFyc2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyB0cmlnZ2VyIGhhbmRsZXIgcmlnaHQgbm93XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEICYmICghdGhpcy5hcHBlbmRlZCB8fCAhdGhpcy5wZW5kaW5nQnVmZmVyaW5nKSkge1xuICAgICAgICAgICAgdmFyIGZyYWcgPSB0aGlzLmZyYWdDdXJyZW50O1xuICAgICAgICAgICAgaWYgKGZyYWcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm1haW4gYnVmZmVyZWQgOiBcIiArIHRpbWVfcmFuZ2VzXzEuZGVmYXVsdC50b1N0cmluZyhtZWRpYS5idWZmZXJlZCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gZnJhZztcbiAgICAgICAgICAgICAgICB2YXIgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgICAgICAgICAgICAgIHN0YXRzLnRidWZmZXJlZCA9IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICAvLyB3ZSBzaG91bGQgZ2V0IHJpZCBvZiB0aGlzLmZyYWdMYXN0S2Jwc1xuICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0xhc3RLYnBzID0gTWF0aC5yb3VuZCg4ICogc3RhdHMudG90YWwgLyAoc3RhdHMudGJ1ZmZlcmVkIC0gc3RhdHMudGZpcnN0KSk7XG4gICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfQlVGRkVSRUQsIHsgc3RhdHM6IHN0YXRzLCBmcmFnOiBmcmFnLCBpZDogJ21haW4nIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudGljaygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkVycm9yID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcgfHwgdGhpcy5mcmFnQ3VycmVudDtcbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGZyYWcgZXJyb3Igbm90IHJlbGF0ZWQgdG8gbWFpbiBmcmFnbWVudFxuICAgICAgICBpZiAoZnJhZyAmJiBmcmFnLnR5cGUgIT09ICdtYWluJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIDAuNSA6IHRvbGVyYW5jZSBuZWVkZWQgYXMgc29tZSBicm93c2VycyBzdGFsbHMgcGxheWJhY2sgYmVmb3JlIHJlYWNoaW5nIGJ1ZmZlcmVkIGVuZFxuICAgICAgICB2YXIgbWVkaWFCdWZmZXJlZCA9ICEhdGhpcy5tZWRpYSAmJiBidWZmZXJfaGVscGVyXzEuQnVmZmVySGVscGVyLmlzQnVmZmVyZWQodGhpcy5tZWRpYSwgdGhpcy5tZWRpYS5jdXJyZW50VGltZSkgJiYgYnVmZmVyX2hlbHBlcl8xLkJ1ZmZlckhlbHBlci5pc0J1ZmZlcmVkKHRoaXMubWVkaWEsIHRoaXMubWVkaWEuY3VycmVudFRpbWUgKyAwLjUpO1xuICAgICAgICBzd2l0Y2ggKGRhdGEuZGV0YWlscykge1xuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19MT0FEX0VSUk9SOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLktFWV9MT0FEX1RJTUVPVVQ6XG4gICAgICAgICAgICAgICAgaWYgKCFkYXRhLmZhdGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgcmV0cnlpbmcgdW50aWwgdGhlIGxpbWl0IHdpbGwgYmUgcmVhY2hlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHRoaXMuZnJhZ0xvYWRFcnJvciArIDEpIDw9IHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cG9uZW50aWFsIGJhY2tvZmYgY2FwcGVkIHRvIGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gTWF0aC5taW4oTWF0aC5wb3coMiwgdGhpcy5mcmFnTG9hZEVycm9yKSAqIHRoaXMuY29uZmlnLmZyYWdMb2FkaW5nUmV0cnlEZWxheSwgdGhpcy5jb25maWcuZnJhZ0xvYWRpbmdNYXhSZXRyeVRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJtZWRpYUNvbnRyb2xsZXI6IGZyYWcgbG9hZGluZyBmYWlsZWQsIHJldHJ5IGluIFwiICsgZGVsYXkgKyBcIiBtc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cnlEYXRlID0gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpICsgZGVsYXk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXRyeSBsb2FkaW5nIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBsb2FkZWRtZXRhZGF0YSBpcyBub3Qgc2V0LCBpdCBtZWFucyB0aGF0IHdlIGFyZSBlbWVyZ2VuY3kgc3dpdGNoIGRvd24gb24gZmlyc3QgZnJhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlLCByZXNldCBzdGFydEZyYWdSZXF1ZXN0ZWQgZmxhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvYWRlZG1ldGFkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGFydEZyYWdSZXF1ZXN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdMb2FkRXJyb3IrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRlJBR19MT0FESU5HX1dBSVRJTkdfUkVUUlk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJtZWRpYUNvbnRyb2xsZXI6IFwiICsgZGF0YS5kZXRhaWxzICsgXCIgcmVhY2hlcyBtYXggcmV0cnksIHJlZGlzcGF0Y2ggYXMgZmF0YWwgLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3dpdGNoIGVycm9yIHRvIGZhdGFsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLmZhdGFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIGVycm9yc18xLkVycm9yRGV0YWlscy5MRVZFTF9MT0FEX0VSUk9SOlxuICAgICAgICAgICAgY2FzZSBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUOlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlICE9PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuZmF0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGZhdGFsIGVycm9yLCBzdG9wIHByb2Nlc3NpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuRVJST1I7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcInN0cmVhbUNvbnRyb2xsZXI6IFwiICsgZGF0YS5kZXRhaWxzICsgXCIsc3dpdGNoIHRvIFwiICsgdGhpcy5zdGF0ZSArIFwiIHN0YXRlIC4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGluIGNhc2Ugb2Ygbm9uIGZhdGFsIGVycm9yIHdoaWxlIGxvYWRpbmcgbGV2ZWwsIGlmIGxldmVsIGNvbnRyb2xsZXIgaXMgbm90IHJldHJ5aW5nIHRvIGxvYWQgbGV2ZWwgLCBzd2l0Y2ggYmFjayB0byBJRExFXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGEubGV2ZWxSZXRyeSAmJiB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuV0FJVElOR19MRVZFTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkJVRkZFUl9GVUxMX0VSUk9SOlxuICAgICAgICAgICAgICAgIC8vIGlmIGluIGFwcGVuZGluZyBzdGF0ZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnBhcmVudCA9PT0gJ21haW4nICYmICh0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0lORyB8fCB0aGlzLnN0YXRlID09PSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuUEFSU0VEKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyByZWR1Y2UgbWF4IGJ1ZiBsZW4gaWYgY3VycmVudCBwb3NpdGlvbiBpcyBidWZmZXJlZFxuICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWFCdWZmZXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVkdWNlTWF4QnVmZmVyTGVuZ3RoKHRoaXMuY29uZmlnLm1heEJ1ZmZlckxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjdXJyZW50IHBvc2l0aW9uIGlzIG5vdCBidWZmZXJlZCwgYnV0IGJyb3dzZXIgaXMgc3RpbGwgY29tcGxhaW5pbmcgYWJvdXQgYnVmZmVyIGZ1bGwgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaGFwcGVucyBvbiBJRS9FZGdlLCByZWZlciB0byBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9wdWxsLzcwOFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIGZsdXNoIHRoZSB3aG9sZSBidWZmZXIgdG8gcmVjb3ZlclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ2J1ZmZlciBmdWxsIGVycm9yIGFsc28gbWVkaWEuY3VycmVudFRpbWUgaXMgbm90IGJ1ZmZlcmVkLCBmbHVzaCBldmVyeXRoaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYWdDdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZsdXNoIGV2ZXJ5dGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hNYWluQnVmZmVyKDAsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fcmVkdWNlTWF4QnVmZmVyTGVuZ3RoID0gZnVuY3Rpb24gKG1pbkxlbmd0aCkge1xuICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIGlmIChjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoID49IG1pbkxlbmd0aCkge1xuICAgICAgICAgICAgLy8gcmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIGFzIGl0IG1pZ2h0IGJlIHRvbyBoaWdoLiB3ZSBkbyB0aGlzIHRvIGF2b2lkIGxvb3AgZmx1c2hpbmcgLi4uXG4gICAgICAgICAgICBjb25maWcubWF4TWF4QnVmZmVyTGVuZ3RoIC89IDI7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIm1haW46cmVkdWNlIG1heCBidWZmZXIgbGVuZ3RoIHRvIFwiICsgY29uZmlnLm1heE1heEJ1ZmZlckxlbmd0aCArIFwic1wiKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENoZWNrcyB0aGUgaGVhbHRoIG9mIHRoZSBidWZmZXIgYW5kIGF0dGVtcHRzIHRvIHJlc29sdmUgcGxheWJhY2sgc3RhbGxzLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUuX2NoZWNrQnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhO1xuICAgICAgICBpZiAoIW1lZGlhIHx8IG1lZGlhLnJlYWR5U3RhdGUgPT09IDApIHtcbiAgICAgICAgICAgIC8vIEV4aXQgZWFybHkgaWYgd2UgZG9uJ3QgaGF2ZSBtZWRpYSBvciBpZiB0aGUgbWVkaWEgaGFzbid0IGJ1ZmZlcmQgYW55dGhpbmcgeWV0IChyZWFkeVN0YXRlIDApXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1lZGlhQnVmZmVyID0gdGhpcy5tZWRpYUJ1ZmZlciA/IHRoaXMubWVkaWFCdWZmZXIgOiBtZWRpYTtcbiAgICAgICAgdmFyIGJ1ZmZlcmVkID0gbWVkaWFCdWZmZXIuYnVmZmVyZWQ7XG4gICAgICAgIGlmICghdGhpcy5sb2FkZWRtZXRhZGF0YSAmJiBidWZmZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMubG9hZGVkbWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fc2Vla1RvU3RhcnRQb3MoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmltbWVkaWF0ZVN3aXRjaCkge1xuICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVMZXZlbFN3aXRjaEVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5nYXBDb250cm9sbGVyLnBvbGwodGhpcy5sYXN0Q3VycmVudFRpbWUsIGJ1ZmZlcmVkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuU3RhdGUuSURMRTtcbiAgICAgICAgLy8gaWYgbG9hZGVkbWV0YWRhdGEgaXMgbm90IHNldCwgaXQgbWVhbnMgdGhhdCB3ZSBhcmUgZW1lcmdlbmN5IHN3aXRjaCBkb3duIG9uIGZpcnN0IGZyYWdcbiAgICAgICAgLy8gaW4gdGhhdCBjYXNlLCByZXNldCBzdGFydEZyYWdSZXF1ZXN0ZWQgZmxhZ1xuICAgICAgICBpZiAoIXRoaXMubG9hZGVkbWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRGcmFnUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm5leHRMb2FkUG9zaXRpb24gPSB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50aWNrKCk7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbkJ1ZmZlckZsdXNoZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qIGFmdGVyIHN1Y2Nlc3NmdWwgYnVmZmVyIGZsdXNoaW5nLCBmaWx0ZXIgZmx1c2hlZCBmcmFnbWVudHMgZnJvbSBidWZmZXJlZEZyYWdzXG4gICAgICAgICAgdXNlIG1lZGlhQnVmZmVyZWQgaW5zdGVhZCBvZiBtZWRpYSAoc28gdGhhdCB3ZSB3aWxsIGNoZWNrIGFnYWluc3QgdmlkZW8uYnVmZmVyZWQgcmFuZ2VzIGluIGNhc2Ugb2YgYWx0IGF1ZGlvIHRyYWNrKVxuICAgICAgICAqL1xuICAgICAgICB2YXIgbWVkaWEgPSB0aGlzLm1lZGlhQnVmZmVyID8gdGhpcy5tZWRpYUJ1ZmZlciA6IHRoaXMubWVkaWE7XG4gICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgLy8gZmlsdGVyIGZyYWdtZW50cyBwb3RlbnRpYWxseSBldmljdGVkIGZyb20gYnVmZmVyLiB0aGlzIGlzIHRvIGF2b2lkIG1lbWxlYWsgb24gbGl2ZSBzdHJlYW1zXG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50VHJhY2tlci5kZXRlY3RFdmljdGVkRnJhZ21lbnRzKGZyYWdtZW50XzEuZGVmYXVsdC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU8sIG1lZGlhLmJ1ZmZlcmVkKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtb3ZlIHRvIElETEUgb25jZSBmbHVzaCBjb21wbGV0ZS4gdGhpcyBzaG91bGQgdHJpZ2dlciBuZXcgZnJhZ21lbnQgbG9hZGluZ1xuICAgICAgICB0aGlzLnN0YXRlID0gYmFzZV9zdHJlYW1fY29udHJvbGxlcl8xLlN0YXRlLklETEU7XG4gICAgICAgIC8vIHJlc2V0IHJlZmVyZW5jZSB0byBmcmFnXG4gICAgICAgIHRoaXMuZnJhZ1ByZXZpb3VzID0gbnVsbDtcbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLnN3YXBBdWRpb0NvZGVjID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWNTd2FwID0gIXRoaXMuYXVkaW9Db2RlY1N3YXA7XG4gICAgfTtcbiAgICBTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5jb21wdXRlTGl2ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHNsaWRpbmcsIGxldmVsRGV0YWlscykge1xuICAgICAgICB2YXIgdGFyZ2V0TGF0ZW5jeSA9IHRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gIT09IHVuZGVmaW5lZCA/IHRoaXMuY29uZmlnLmxpdmVTeW5jRHVyYXRpb24gOiB0aGlzLmNvbmZpZy5saXZlU3luY0R1cmF0aW9uQ291bnQgKiBsZXZlbERldGFpbHMudGFyZ2V0ZHVyYXRpb247XG4gICAgICAgIHJldHVybiBzbGlkaW5nICsgTWF0aC5tYXgoMCwgbGV2ZWxEZXRhaWxzLnRvdGFsZHVyYXRpb24gLSB0YXJnZXRMYXRlbmN5KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlZWtzIHRvIHRoZSBzZXQgc3RhcnRQb3NpdGlvbiBpZiBub3QgZXF1YWwgdG8gdGhlIG1lZGlhRWxlbWVudCdzIGN1cnJlbnQgdGltZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9zZWVrVG9TdGFydFBvcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gbWVkaWEuY3VycmVudFRpbWU7XG4gICAgICAgIC8vIG9ubHkgYWRqdXN0IGN1cnJlbnRUaW1lIGlmIGRpZmZlcmVudCBmcm9tIHN0YXJ0UG9zaXRpb24gb3IgaWYgc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWRcbiAgICAgICAgLy8gYXQgdGhhdCBzdGFnZSwgdGhlcmUgc2hvdWxkIGJlIG9ubHkgb25lIGJ1ZmZlcmVkIHJhbmdlLCBhcyB3ZSByZWFjaCB0aGF0IGNvZGUgYWZ0ZXIgZmlyc3QgZnJhZ21lbnQgaGFzIGJlZW4gYnVmZmVyZWRcbiAgICAgICAgdmFyIHN0YXJ0UG9zaXRpb24gPSBtZWRpYS5zZWVraW5nID8gY3VycmVudFRpbWUgOiB0aGlzLnN0YXJ0UG9zaXRpb247XG4gICAgICAgIC8vIGlmIGN1cnJlbnRUaW1lIG5vdCBtYXRjaGluZyB3aXRoIGV4cGVjdGVkIHN0YXJ0UG9zaXRpb24gb3Igc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWQgYnV0IGNsb3NlIHRvIGZpcnN0IGJ1ZmZlcmVkXG4gICAgICAgIGlmIChjdXJyZW50VGltZSAhPT0gc3RhcnRQb3NpdGlvbikge1xuICAgICAgICAgICAgLy8gaWYgc3RhcnRQb3NpdGlvbiBub3QgYnVmZmVyZWQsIGxldCdzIHNlZWsgdG8gYnVmZmVyZWQuc3RhcnQoMClcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJ0YXJnZXQgc3RhcnQgcG9zaXRpb24gbm90IGJ1ZmZlcmVkLCBzZWVrIHRvIGJ1ZmZlcmVkLnN0YXJ0KDApIFwiICsgc3RhcnRQb3NpdGlvbiArIFwiIGZyb20gY3VycmVudCB0aW1lIFwiICsgY3VycmVudFRpbWUgKyBcIiBcIik7XG4gICAgICAgICAgICBtZWRpYS5jdXJyZW50VGltZSA9IHN0YXJ0UG9zaXRpb247XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLl9nZXRBdWRpb0NvZGVjID0gZnVuY3Rpb24gKGN1cnJlbnRMZXZlbCkge1xuICAgICAgICB2YXIgYXVkaW9Db2RlYyA9IHRoaXMuY29uZmlnLmRlZmF1bHRBdWRpb0NvZGVjIHx8IGN1cnJlbnRMZXZlbC5hdWRpb0NvZGVjO1xuICAgICAgICBpZiAodGhpcy5hdWRpb0NvZGVjU3dhcCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dhcHBpbmcgcGxheWxpc3QgYXVkaW8gY29kZWMnKTtcbiAgICAgICAgICAgIGlmIChhdWRpb0NvZGVjKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC41JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC4yJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGF1ZGlvQ29kZWMgPSAnbXA0YS40MC41JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF1ZGlvQ29kZWM7XG4gICAgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUsIFwibGl2ZVN5bmNQb3NpdGlvblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xpdmVTeW5jUG9zaXRpb247XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLl9saXZlU3luY1Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBTdHJlYW1Db250cm9sbGVyO1xufShiYXNlX3N0cmVhbV9jb250cm9sbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU3RyZWFtQ29udHJvbGxlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9zdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NvbnRyb2xsZXIvc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAY2xhc3MgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyXG4gKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGRlY3J5cHRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vY3J5cHQvZGVjcnlwdGVyICovIFwiLi9zcmMvY3J5cHQvZGVjcnlwdGVyLmpzXCIpO1xudmFyIHRhc2tfbG9vcF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdGFzay1sb29wICovIFwiLi9zcmMvdGFzay1sb29wLmpzXCIpO1xudmFyIGJ1ZmZlcl9oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2J1ZmZlci1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9idWZmZXItaGVscGVyLmpzXCIpO1xudmFyIGZyYWdtZW50X2ZpbmRlcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZnJhZ21lbnQtZmluZGVycyAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtZmluZGVycy5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50LXRyYWNrZXIgKi8gXCIuL3NyYy9jb250cm9sbGVyL2ZyYWdtZW50LXRyYWNrZXIuanNcIik7XG52YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG5leHBvcnRzLlN1YnRpdGxlU3RyZWFtQ29udHJvbGxlclN0YXRlID0ge1xuICAgIFNUT1BQRUQ6ICdTVE9QUEVEJyxcbiAgICBJRExFOiAnSURMRScsXG4gICAgS0VZX0xPQURJTkc6ICdLRVlfTE9BRElORycsXG4gICAgRlJBR19MT0FESU5HOiAnRlJBR19MT0FESU5HJ1xufTtcbnZhciBTdGF0ZSA9IGV4cG9ydHMuU3VidGl0bGVTdHJlYW1Db250cm9sbGVyU3RhdGU7XG52YXIgVElDS19JTlRFUlZBTCA9IDUwMDsgLy8gaG93IG9mdGVuIHRvIHRpY2sgaW4gbXNcbnZhciBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIoaGxzLCBmcmFnbWVudFRyYWNrZXIpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgaGxzLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0FUVEFDSEVELCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgZXZlbnRzXzEuZGVmYXVsdC5LRVlfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLU19VUERBVEVELCBldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX1NXSVRDSCwgZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9UUkFDS19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmZyYWdtZW50VHJhY2tlciA9IGZyYWdtZW50VHJhY2tlcjtcbiAgICAgICAgX3RoaXMuY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSBTdGF0ZS5TVE9QUEVEO1xuICAgICAgICBfdGhpcy50cmFja3MgPSBbXTtcbiAgICAgICAgX3RoaXMudHJhY2tzQnVmZmVyZWQgPSBbXTtcbiAgICAgICAgX3RoaXMuY3VycmVudFRyYWNrSWQgPSAtMTtcbiAgICAgICAgX3RoaXMuZGVjcnlwdGVyID0gbmV3IGRlY3J5cHRlcl8xLmRlZmF1bHQoaGxzLCBobHMuY29uZmlnKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mcmFnbWVudFRyYWNrZXIgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95ZWQuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlci5wcm90b3R5cGUub25TdWJ0aXRsZUZyYWdQcm9jZXNzZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgaWYgKCFkYXRhLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYnVmZmVyZWQgPSB0aGlzLnRyYWNrc0J1ZmZlcmVkW3RoaXMuY3VycmVudFRyYWNrSWRdO1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgdGhpcy5mcmFnUHJldmlvdXMgPSBmcmFnO1xuICAgICAgICBpZiAoIWJ1ZmZlcmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlL3VwZGF0ZSBhIGJ1ZmZlcmVkIGFycmF5IG1hdGNoaW5nIHRoZSBpbnRlcmZhY2UgdXNlZCBieSBCdWZmZXJIZWxwZXIuYnVmZmVyZWRJbmZvXG4gICAgICAgIC8vIHNvIHdlIGNhbiByZS11c2UgdGhlIGxvZ2ljIHVzZWQgdG8gZGV0ZWN0IGhvdyBtdWNoIGhhdmUgYmVlbiBidWZmZXJlZFxuICAgICAgICAvLyBGSVhNRTogcHV0IHRoaXMgaW4gYSB1dGlsaXR5IGZ1bmN0aW9uIG9yIHByb3BlciBvYmplY3QgZm9yIHRpbWUtcmFuZ2VzIG1hbmlwdWxhdGlvbj9cbiAgICAgICAgdmFyIHRpbWVSYW5nZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGZyYWcuc3RhcnQgPj0gYnVmZmVyZWRbaV0uc3RhcnQgJiYgZnJhZy5zdGFydCA8PSBidWZmZXJlZFtpXS5lbmQpIHtcbiAgICAgICAgICAgICAgICB0aW1lUmFuZ2UgPSBidWZmZXJlZFtpXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGltZVJhbmdlKSB7XG4gICAgICAgICAgICB0aW1lUmFuZ2UuZW5kID0gZnJhZy5zdGFydCArIGZyYWcuZHVyYXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBidWZmZXJlZC5wdXNoKHtcbiAgICAgICAgICAgICAgICBzdGFydDogZnJhZy5zdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ6IGZyYWcuc3RhcnQgKyBmcmFnLmR1cmF0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhQXR0YWNoZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLm1lZGlhID0gZGF0YS5tZWRpYTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IFN0YXRlLklETEU7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubWVkaWEgPSBudWxsO1xuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuU1RPUFBFRDtcbiAgICB9O1xuICAgIC8vIElmIHNvbWV0aGluZyBnb2VzIHdyb25nLCBwcm9jZWRlIHRvIG5leHQgZnJhZywgaWYgd2Ugd2VyZSBwcm9jZXNzaW5nIG9uZS5cbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgLy8gZG9uJ3QgaGFuZGxlIGVycm9yIG5vdCByZWxhdGVkIHRvIHN1YnRpdGxlIGZyYWdtZW50XG4gICAgICAgIGlmICghZnJhZyB8fCBmcmFnLnR5cGUgIT09ICdzdWJ0aXRsZScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICB9O1xuICAgIC8vIEdvdCBhbGwgbmV3IHN1YnRpdGxlIHRyYWNrcy5cbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja3NVcGRhdGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3VidGl0bGUgdHJhY2tzIHVwZGF0ZWQnKTtcbiAgICAgICAgdGhpcy50cmFja3NCdWZmZXJlZCA9IFtdO1xuICAgICAgICB0aGlzLnRyYWNrcyA9IGRhdGEuc3VidGl0bGVUcmFja3M7XG4gICAgICAgIHRoaXMudHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgICBfdGhpcy50cmFja3NCdWZmZXJlZFt0cmFjay5pZF0gPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uU3VidGl0bGVUcmFja1N3aXRjaCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFRyYWNrSWQgPSBkYXRhLmlkO1xuICAgICAgICBpZiAoIXRoaXMudHJhY2tzIHx8IHRoaXMuY3VycmVudFRyYWNrSWQgPT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiB0cmFjayBoYXMgdGhlIG5lY2Vzc2FyeSBkZXRhaWxzIHRvIGxvYWQgZnJhZ21lbnRzXG4gICAgICAgIHZhciBjdXJyZW50VHJhY2sgPSB0aGlzLnRyYWNrc1t0aGlzLmN1cnJlbnRUcmFja0lkXTtcbiAgICAgICAgaWYgKGN1cnJlbnRUcmFjayAmJiBjdXJyZW50VHJhY2suZGV0YWlscykge1xuICAgICAgICAgICAgdGhpcy5zZXRJbnRlcnZhbChUSUNLX0lOVEVSVkFMKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gR290IGEgbmV3IHNldCBvZiBzdWJ0aXRsZSBmcmFnbWVudHMuXG4gICAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgaWQgPSBkYXRhLmlkLCBkZXRhaWxzID0gZGF0YS5kZXRhaWxzO1xuICAgICAgICBpZiAoIXRoaXMudHJhY2tzKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybignQ2FuIG5vdCB1cGRhdGUgc3VidGl0bGUgZGV0YWlscywgbm8gdHJhY2tzIGZvdW5kJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudHJhY2tzW2lkXSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnVXBkYXRpbmcgc3VidGl0bGUgdHJhY2sgZGV0YWlscycpO1xuICAgICAgICAgICAgdGhpcy50cmFja3NbaWRdLmRldGFpbHMgPSBkZXRhaWxzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0SW50ZXJ2YWwoVElDS19JTlRFUlZBTCk7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uS2V5TG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gU3RhdGUuS0VZX0xPQURJTkcpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5JRExFO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFnQ3VycmVudCA9IHRoaXMuZnJhZ0N1cnJlbnQ7XG4gICAgICAgIHZhciBkZWNyeXB0RGF0YSA9IGRhdGEuZnJhZy5kZWNyeXB0ZGF0YTtcbiAgICAgICAgdmFyIGZyYWdMb2FkZWQgPSBkYXRhLmZyYWc7XG4gICAgICAgIHZhciBobHMgPSB0aGlzLmhscztcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT09IFN0YXRlLkZSQUdfTE9BRElORyAmJlxuICAgICAgICAgICAgZnJhZ0N1cnJlbnQgJiZcbiAgICAgICAgICAgIGRhdGEuZnJhZy50eXBlID09PSAnc3VidGl0bGUnICYmXG4gICAgICAgICAgICBmcmFnQ3VycmVudC5zbiA9PT0gZGF0YS5mcmFnLnNuKSB7XG4gICAgICAgICAgICAvLyBjaGVjayB0byBzZWUgaWYgdGhlIHBheWxvYWQgbmVlZHMgdG8gYmUgZGVjcnlwdGVkXG4gICAgICAgICAgICBpZiAoZGF0YS5wYXlsb2FkLmJ5dGVMZW5ndGggPiAwICYmIChkZWNyeXB0RGF0YSAmJiBkZWNyeXB0RGF0YS5rZXkgJiYgZGVjcnlwdERhdGEubWV0aG9kID09PSAnQUVTLTEyOCcpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZV8xID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgICAgICAgICAgLy8gZGVjcnlwdCB0aGUgc3VidGl0bGVzXG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyeXB0ZXIuZGVjcnlwdChkYXRhLnBheWxvYWQsIGRlY3J5cHREYXRhLmtleS5idWZmZXIsIGRlY3J5cHREYXRhLml2LmJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0RFQ1JZUFRFRCwgeyBmcmFnOiBmcmFnTG9hZGVkLCBwYXlsb2FkOiBkZWNyeXB0ZWREYXRhLCBzdGF0czogeyB0c3RhcnQ6IHN0YXJ0VGltZV8xLCB0ZGVjcnlwdDogZW5kVGltZSB9IH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIucHJvdG90eXBlLmRvVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lZGlhKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gU3RhdGUuSURMRTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgU3RhdGUuSURMRTpcbiAgICAgICAgICAgICAgICB2YXIgdHJhY2tzID0gdGhpcy50cmFja3M7XG4gICAgICAgICAgICAgICAgdmFyIHRyYWNrSWQgPSB0aGlzLmN1cnJlbnRUcmFja0lkO1xuICAgICAgICAgICAgICAgIGlmICghdHJhY2tzIHx8ICF0cmFja3NbdHJhY2tJZF0gfHwgIXRyYWNrc1t0cmFja0lkXS5kZXRhaWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdHJhY2tEZXRhaWxzID0gdHJhY2tzW3RyYWNrSWRdLmRldGFpbHM7XG4gICAgICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgICAgICAgIHZhciBtYXhCdWZmZXJIb2xlID0gY29uZmlnLm1heEJ1ZmZlckhvbGU7XG4gICAgICAgICAgICAgICAgdmFyIG1heENvbmZpZ0J1ZmZlciA9IE1hdGgubWluKGNvbmZpZy5tYXhCdWZmZXJMZW5ndGgsIGNvbmZpZy5tYXhNYXhCdWZmZXJMZW5ndGgpO1xuICAgICAgICAgICAgICAgIHZhciBtYXhGcmFnTG9va1VwVG9sZXJhbmNlID0gY29uZmlnLm1heEZyYWdMb29rVXBUb2xlcmFuY2U7XG4gICAgICAgICAgICAgICAgdmFyIGJ1ZmZlcmVkSW5mbyA9IGJ1ZmZlcl9oZWxwZXJfMS5CdWZmZXJIZWxwZXIuYnVmZmVyZWRJbmZvKHRoaXMuX2dldEJ1ZmZlcmVkKCksIHRoaXMubWVkaWEuY3VycmVudFRpbWUsIG1heEJ1ZmZlckhvbGUpO1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXJFbmQgPSBidWZmZXJlZEluZm8uZW5kO1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXJMZW4gPSBidWZmZXJlZEluZm8ubGVuO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudHMgPSB0cmFja0RldGFpbHMuZnJhZ21lbnRzO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnTGVuID0gZnJhZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB2YXIgZW5kID0gZnJhZ21lbnRzW2ZyYWdMZW4gLSAxXS5zdGFydCArIGZyYWdtZW50c1tmcmFnTGVuIC0gMV0uZHVyYXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kRnJhZyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyTGVuIDwgbWF4Q29uZmlnQnVmZmVyICYmIGJ1ZmZlckVuZCA8IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQVFModGhpcy5mcmFnUHJldmlvdXMsIGZyYWdtZW50cywgYnVmZmVyRW5kLCBtYXhGcmFnTG9va1VwVG9sZXJhbmNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHJhY2tEZXRhaWxzLmhhc1Byb2dyYW1EYXRlVGltZSAmJiB0aGlzLmZyYWdQcmV2aW91cykge1xuICAgICAgICAgICAgICAgICAgICBmb3VuZEZyYWcgPSBmcmFnbWVudF9maW5kZXJzXzEuZmluZEZyYWdtZW50QnlQRFQoZnJhZ21lbnRzLCB0aGlzLmZyYWdQcmV2aW91cy5lbmRQcm9ncmFtRGF0ZVRpbWUsIG1heEZyYWdMb29rVXBUb2xlcmFuY2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZm91bmRGcmFnICYmIGZvdW5kRnJhZy5lbmNyeXB0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIkxvYWRpbmcga2V5IGZvciBcIiArIGZvdW5kRnJhZy5zbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5LRVlfTE9BRElORztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FESU5HLCB7IGZyYWc6IGZvdW5kRnJhZyB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZm91bmRGcmFnICYmIHRoaXMuZnJhZ21lbnRUcmFja2VyLmdldFN0YXRlKGZvdW5kRnJhZykgPT09IGZyYWdtZW50X3RyYWNrZXJfMS5GcmFnbWVudFN0YXRlLk5PVF9MT0FERUQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBsb2FkIGlmIGZyYWdtZW50IGlzIG5vdCBsb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgZm91bmRGcmFnLnRyYWNrSWQgPSB0cmFja0lkOyAvLyBGcmFncyBkb24ndCBrbm93IHRoZWlyIHN1YnRpdGxlIHRyYWNrIElELCBzbyBsZXQncyBqdXN0IGFkZCB0aGF0Li4uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhZ0N1cnJlbnQgPSBmb3VuZEZyYWc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBTdGF0ZS5GUkFHX0xPQURJTkc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURJTkcsIHsgZnJhZzogZm91bmRGcmFnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3VidGl0bGVTdHJlYW1Db250cm9sbGVyLnByb3RvdHlwZS5fZ2V0QnVmZmVyZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYWNrc0J1ZmZlcmVkW3RoaXMuY3VycmVudFRyYWNrSWRdIHx8IFtdO1xuICAgIH07XG4gICAgcmV0dXJuIFN1YnRpdGxlU3RyZWFtQ29udHJvbGxlcjtcbn0odGFza19sb29wXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5TdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXIgPSBTdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvY29udHJvbGxlci9zdWJ0aXRsZS10cmFjay1jb250cm9sbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jb250cm9sbGVyL3N1YnRpdGxlLXRyYWNrLWNvbnRyb2xsZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogc3VidGl0bGUgdHJhY2sgY29udHJvbGxlclxuKi9cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGV2ZW50X2hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50LWhhbmRsZXIgKi8gXCIuL3NyYy9ldmVudC1oYW5kbGVyLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZnVuY3Rpb24gZmlsdGVyU3VidGl0bGVUcmFja3ModGV4dFRyYWNrTGlzdCkge1xuICAgIHZhciB0cmFja3MgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHRleHRUcmFja0xpc3RbaV0ua2luZCA9PT0gJ3N1YnRpdGxlcycpIHtcbiAgICAgICAgICAgIHRyYWNrcy5wdXNoKHRleHRUcmFja0xpc3RbaV0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cmFja3M7XG59XG52YXIgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNIRUQsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1BTklGRVNUX0xPQURJTkcsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BREVELCBldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURFRCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudHJhY2tzID0gW107XG4gICAgICAgIF90aGlzLnRyYWNrSWQgPSAtMTtcbiAgICAgICAgX3RoaXMubWVkaWEgPSBudWxsO1xuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7Ym9vbGVhbn0gc3VidGl0bGVEaXNwbGF5IEVuYWJsZS9kaXNhYmxlIHN1YnRpdGxlIGRpc3BsYXkgcmVuZGVyaW5nXG4gICAgICAgICAqL1xuICAgICAgICBfdGhpcy5zdWJ0aXRsZURpc3BsYXkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5fb25UZXh0VHJhY2tzQ2hhbmdlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gTWVkaWEgaXMgdW5kZWZpbmVkIHdoZW4gc3dpdGNoaW5nIHN0cmVhbXMgdmlhIGxvYWRTb3VyY2UoKVxuICAgICAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhY2tJZCA9IC0xO1xuICAgICAgICB2YXIgdHJhY2tzID0gZmlsdGVyU3VidGl0bGVUcmFja3ModGhpcy5tZWRpYS50ZXh0VHJhY2tzKTtcbiAgICAgICAgZm9yICh2YXIgaWQgPSAwOyBpZCA8IHRyYWNrcy5sZW5ndGg7IGlkKyspIHtcbiAgICAgICAgICAgIGlmICh0cmFja3NbaWRdLm1vZGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGJyZWFrIGluIGNhc2UgdGhlcmUgaXMgYSBmb2xsb3dpbmcgdHJhY2sgd2l0aCBzaG93aW5nLlxuICAgICAgICAgICAgICAgIHRyYWNrSWQgPSBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRyYWNrc1tpZF0ubW9kZSA9PT0gJ3Nob3dpbmcnKSB7XG4gICAgICAgICAgICAgICAgdHJhY2tJZCA9IGlkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFNldHRpbmcgY3VycmVudCBzdWJ0aXRsZVRyYWNrIHdpbGwgaW52b2tlIGNvZGUuXG4gICAgICAgIHRoaXMuc3VidGl0bGVUcmFjayA9IHRyYWNrSWQ7XG4gICAgfTtcbiAgICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIC8vIExpc3RlbiBmb3Igc3VidGl0bGUgdHJhY2sgY2hhbmdlLCB0aGVuIGV4dHJhY3QgdGhlIGN1cnJlbnQgdHJhY2sgSUQuXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFBdHRhY2hlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgICAgICBpZiAoIXRoaXMubWVkaWEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5xdWV1ZWREZWZhdWx0VHJhY2spIHtcbiAgICAgICAgICAgIHRoaXMuc3VidGl0bGVUcmFjayA9IHRoaXMucXVldWVkRGVmYXVsdFRyYWNrO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMucXVldWVkRGVmYXVsdFRyYWNrO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudHJhY2tDaGFuZ2VMaXN0ZW5lciA9IHRoaXMuX29uVGV4dFRyYWNrc0NoYW5nZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nID0gISh0aGlzLm1lZGlhLnRleHRUcmFja3MgJiYgJ29uY2hhbmdlJyBpbiB0aGlzLm1lZGlhLnRleHRUcmFja3MpO1xuICAgICAgICBpZiAodGhpcy51c2VUZXh0VHJhY2tQb2xsaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnN1YnRpdGxlUG9sbGluZ0ludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnRyYWNrQ2hhbmdlTGlzdGVuZXIoKTtcbiAgICAgICAgICAgIH0sIDUwMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhLnRleHRUcmFja3MuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy50cmFja0NoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWVkaWFEZXRhY2hpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghdGhpcy5tZWRpYSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnVzZVRleHRUcmFja1BvbGxpbmcpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdWJ0aXRsZVBvbGxpbmdJbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lZGlhLnRleHRUcmFja3MucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy50cmFja0NoYW5nZUxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1lZGlhID0gbnVsbDtcbiAgICB9O1xuICAgIC8vIFJlc2V0IHN1YnRpdGxlIHRyYWNrcyBvbiBtYW5pZmVzdCBsb2FkaW5nXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uTWFuaWZlc3RMb2FkaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnRyYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnRyYWNrSWQgPSAtMTtcbiAgICB9O1xuICAgIC8vIEZpcmVkIHdoZW5ldmVyIGEgbmV3IG1hbmlmZXN0IGlzIGxvYWRlZC5cbiAgICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB0cmFja3MgPSBkYXRhLnN1YnRpdGxlcyB8fCBbXTtcbiAgICAgICAgdGhpcy50cmFja3MgPSB0cmFja3M7XG4gICAgICAgIHRoaXMudHJhY2tJZCA9IC0xO1xuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfVFJBQ0tTX1VQREFURUQsIHsgc3VidGl0bGVUcmFja3M6IHRyYWNrcyB9KTtcbiAgICAgICAgLy8gbG9vcCB0aHJvdWdoIGF2YWlsYWJsZSBzdWJ0aXRsZSB0cmFja3MgYW5kIGF1dG9zZWxlY3QgZGVmYXVsdCBpZiBuZWVkZWRcbiAgICAgICAgLy8gVE9ETzogaW1wcm92ZSBzZWxlY3Rpb24gbG9naWMgdG8gaGFuZGxlIGZvcmNlZCwgZXRjXG4gICAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICAgICAgaWYgKHRyYWNrLmRlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAvLyBzZXR0aW5nIHRoaXMuc3VidGl0bGVUcmFjayB3aWxsIHRyaWdnZXIgaW50ZXJuYWwgbG9naWNcbiAgICAgICAgICAgICAgICAvLyBpZiBtZWRpYSBoYXMgbm90IGJlZW4gYXR0YWNoZWQgeWV0LCBpdCB3aWxsIGZhaWxcbiAgICAgICAgICAgICAgICAvLyB3ZSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZSBkZWZhdWx0IHRyYWNrIGlkXG4gICAgICAgICAgICAgICAgLy8gYW5kIHdlJ2xsIHNldCBzdWJ0aXRsZVRyYWNrIHdoZW4gb25NZWRpYUF0dGFjaGVkIGlzIHRyaWdnZXJlZFxuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5tZWRpYSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdWJ0aXRsZVRyYWNrID0gdHJhY2suaWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5xdWV1ZWREZWZhdWx0VHJhY2sgPSB0cmFjay5pZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gVHJpZ2dlciBzdWJ0aXRsZSB0cmFjayBwbGF5bGlzdCByZWxvYWQuXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLm9uVGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHRyYWNrSWQgPSB0aGlzLnRyYWNrSWQ7XG4gICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrID0gdGhpcy50cmFja3NbdHJhY2tJZF07XG4gICAgICAgIGlmICghc3VidGl0bGVUcmFjaykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBkZXRhaWxzID0gc3VidGl0bGVUcmFjay5kZXRhaWxzO1xuICAgICAgICAvLyBjaGVjayBpZiB3ZSBuZWVkIHRvIGxvYWQgcGxheWxpc3QgZm9yIHRoaXMgc3VidGl0bGUgVHJhY2tcbiAgICAgICAgaWYgKCFkZXRhaWxzIHx8IGRldGFpbHMubGl2ZSkge1xuICAgICAgICAgICAgLy8gdHJhY2sgbm90IHJldHJpZXZlZCB5ZXQsIG9yIGxpdmUgcGxheWxpc3Qgd2UgbmVlZCB0byAocmUpbG9hZCBpdFxuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIihyZSlsb2FkaW5nIHBsYXlsaXN0IGZvciBzdWJ0aXRsZSB0cmFjayBcIiArIHRyYWNrSWQpO1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURJTkcsIHsgdXJsOiBzdWJ0aXRsZVRyYWNrLnVybCwgaWQ6IHRyYWNrSWQgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoZGF0YS5pZCA8IHRoaXMudHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN1YnRpdGxlIHRyYWNrIFwiICsgZGF0YS5pZCArIFwiIGxvYWRlZFwiKTtcbiAgICAgICAgICAgIHRoaXMudHJhY2tzW2RhdGEuaWRdLmRldGFpbHMgPSBkYXRhLmRldGFpbHM7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBjdXJyZW50IHBsYXlsaXN0IGlzIGEgbGl2ZSBwbGF5bGlzdFxuICAgICAgICAgICAgaWYgKGRhdGEuZGV0YWlscy5saXZlICYmICF0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgbGl2ZSBwbGF5bGlzdCB3ZSB3aWxsIGhhdmUgdG8gcmVsb2FkIGl0IHBlcmlvZGljYWxseVxuICAgICAgICAgICAgICAgIC8vIHNldCByZWxvYWQgcGVyaW9kIHRvIHBsYXlsaXN0IHRhcmdldCBkdXJhdGlvblxuICAgICAgICAgICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uVGljaygpO1xuICAgICAgICAgICAgICAgIH0sIDEwMDAgKiBkYXRhLmRldGFpbHMudGFyZ2V0ZHVyYXRpb24sIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXRhLmRldGFpbHMubGl2ZSAmJiB0aGlzLnRpbWVyKSB7XG4gICAgICAgICAgICAgICAgLy8gcGxheWxpc3QgaXMgbm90IGxpdmUgYW5kIHRpbWVyIGlzIGFybWVkIDogc3RvcHBpbmcgaXRcbiAgICAgICAgICAgICAgICB0aGlzLl9zdG9wVGltZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZSwgXCJzdWJ0aXRsZVRyYWNrc1wiLCB7XG4gICAgICAgIC8qKiBnZXQgYWx0ZXJuYXRlIHN1YnRpdGxlIHRyYWNrcyBsaXN0IGZyb20gcGxheWxpc3QgKiovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhY2tzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLCBcInN1YnRpdGxlVHJhY2tcIiwge1xuICAgICAgICAvKiogZ2V0IGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpICoqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYWNrSWQ7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKiBzZWxlY3QgYSBzdWJ0aXRsZSB0cmFjaywgYmFzZWQgb24gaXRzIGluZGV4IGluIHN1YnRpdGxlIHRyYWNrIGxpc3RzKiovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHN1YnRpdGxlVHJhY2tJZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMudHJhY2tJZCAhPT0gc3VidGl0bGVUcmFja0lkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdG9nZ2xlVHJhY2tNb2RlcyhzdWJ0aXRsZVRyYWNrSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3VidGl0bGVUcmFja0ludGVybmFsKHN1YnRpdGxlVHJhY2tJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIHJlc3BvbnNpYmxlIGZvciB2YWxpZGF0aW5nIHRoZSBzdWJ0aXRsZSBpbmRleCBhbmQgcGVyaW9kaWNhbGx5IHJlbG9hZGluZyBpZiBsaXZlLlxuICAgICAqIERpc3BhdGNoZXMgdGhlIFNVQlRJVExFX1RSQUNLX1NXSVRDSCBldmVudCwgd2hpY2ggaW5zdHJ1Y3RzIHRoZSBzdWJ0aXRsZS1zdHJlYW0tY29udHJvbGxlciB0byBsb2FkIHRoZSBzZWxlY3RlZCB0cmFjay5cbiAgICAgKiBAcGFyYW0gbmV3SWQgLSBUaGUgaWQgb2YgdGhlIHN1YnRpdGxlIHRyYWNrIHRvIGFjdGl2YXRlLlxuICAgICAqL1xuICAgIFN1YnRpdGxlVHJhY2tDb250cm9sbGVyLnByb3RvdHlwZS5zZXRTdWJ0aXRsZVRyYWNrSW50ZXJuYWwgPSBmdW5jdGlvbiAobmV3SWQpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgaGxzID0gX2EuaGxzLCB0cmFja3MgPSBfYS50cmFja3M7XG4gICAgICAgIGlmICh0eXBlb2YgbmV3SWQgIT09ICdudW1iZXInIHx8IG5ld0lkIDwgLTEgfHwgbmV3SWQgPj0gdHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0b3BUaW1lcigpO1xuICAgICAgICB0aGlzLnRyYWNrSWQgPSBuZXdJZDtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInN3aXRjaGluZyB0byBzdWJ0aXRsZSB0cmFjayBcIiArIG5ld0lkKTtcbiAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9UUkFDS19TV0lUQ0gsIHsgaWQ6IG5ld0lkIH0pO1xuICAgICAgICBpZiAobmV3SWQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgd2UgbmVlZCB0byBsb2FkIHBsYXlsaXN0IGZvciB0aGlzIHN1YnRpdGxlIFRyYWNrXG4gICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrID0gdHJhY2tzW25ld0lkXTtcbiAgICAgICAgdmFyIGRldGFpbHMgPSBzdWJ0aXRsZVRyYWNrLmRldGFpbHM7XG4gICAgICAgIGlmICghZGV0YWlscyB8fCBkZXRhaWxzLmxpdmUpIHtcbiAgICAgICAgICAgIC8vIHRyYWNrIG5vdCByZXRyaWV2ZWQgeWV0LCBvciBsaXZlIHBsYXlsaXN0IHdlIG5lZWQgdG8gKHJlKWxvYWQgaXRcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCIocmUpbG9hZGluZyBwbGF5bGlzdCBmb3Igc3VidGl0bGUgdHJhY2sgXCIgKyBuZXdJZCk7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURJTkcsIHsgdXJsOiBzdWJ0aXRsZVRyYWNrLnVybCwgaWQ6IG5ld0lkIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5wcm90b3R5cGUuX3N0b3BUaW1lciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMudGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgICAgICAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgdGhlIG9sZCBzdWJ0aXRsZVRyYWNrIGFuZCBzZXRzIGN1cnJlbnQgbW9kZSBvbiB0aGUgbmV4dCBzdWJ0aXRsZVRyYWNrLlxuICAgICAqIFRoaXMgb3BlcmF0ZXMgb24gdGhlIERPTSB0ZXh0VHJhY2tzLlxuICAgICAqIEEgdmFsdWUgb2YgLTEgd2lsbCBkaXNhYmxlIGFsbCBzdWJ0aXRsZSB0cmFja3MuXG4gICAgICogQHBhcmFtIG5ld0lkIC0gVGhlIGlkIG9mIHRoZSBuZXh0IHRyYWNrIHRvIGVuYWJsZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgU3VidGl0bGVUcmFja0NvbnRyb2xsZXIucHJvdG90eXBlLl90b2dnbGVUcmFja01vZGVzID0gZnVuY3Rpb24gKG5ld0lkKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIG1lZGlhID0gX2EubWVkaWEsIHN1YnRpdGxlRGlzcGxheSA9IF9hLnN1YnRpdGxlRGlzcGxheSwgdHJhY2tJZCA9IF9hLnRyYWNrSWQ7XG4gICAgICAgIGlmICghbWVkaWEpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dFRyYWNrcyA9IGZpbHRlclN1YnRpdGxlVHJhY2tzKG1lZGlhLnRleHRUcmFja3MpO1xuICAgICAgICBpZiAobmV3SWQgPT09IC0xKSB7XG4gICAgICAgICAgICBbXS5zbGljZS5jYWxsKHRleHRUcmFja3MpLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgICAgICAgICAgdHJhY2subW9kZSA9ICdkaXNhYmxlZCc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBvbGRUcmFjayA9IHRleHRUcmFja3NbdHJhY2tJZF07XG4gICAgICAgICAgICBpZiAob2xkVHJhY2spIHtcbiAgICAgICAgICAgICAgICBvbGRUcmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV4dFRyYWNrID0gdGV4dFRyYWNrc1tuZXdJZF07XG4gICAgICAgIGlmIChuZXh0VHJhY2spIHtcbiAgICAgICAgICAgIG5leHRUcmFjay5tb2RlID0gc3VidGl0bGVEaXNwbGF5ID8gJ3Nob3dpbmcnIDogJ2hpZGRlbic7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFN1YnRpdGxlVHJhY2tDb250cm9sbGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NvbnRyb2xsZXIvdGltZWxpbmUtY29udHJvbGxlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY29udHJvbGxlci90aW1lbGluZS1jb250cm9sbGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qXG4gKiBUaW1lbGluZSBDb250cm9sbGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgY2VhXzYwOF9wYXJzZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2NlYS02MDgtcGFyc2VyICovIFwiLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanNcIik7XG52YXIgb3V0cHV0X2ZpbHRlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvb3V0cHV0LWZpbHRlciAqLyBcIi4vc3JjL3V0aWxzL291dHB1dC1maWx0ZXIuanNcIik7XG52YXIgd2VidnR0X3BhcnNlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvd2VidnR0LXBhcnNlciAqLyBcIi4vc3JjL3V0aWxzL3dlYnZ0dC1wYXJzZXIuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgdGV4dHRyYWNrX3V0aWxzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy90ZXh0dHJhY2stdXRpbHMgKi8gXCIuL3NyYy91dGlscy90ZXh0dHJhY2stdXRpbHMuanNcIik7XG5mdW5jdGlvbiBjYW5SZXVzZVZ0dFRleHRUcmFjayhpblVzZVRyYWNrLCBtYW5pZmVzdFRyYWNrKSB7XG4gICAgcmV0dXJuIGluVXNlVHJhY2sgJiYgaW5Vc2VUcmFjay5sYWJlbCA9PT0gbWFuaWZlc3RUcmFjay5uYW1lICYmICEoaW5Vc2VUcmFjay50ZXh0VHJhY2sxIHx8IGluVXNlVHJhY2sudGV4dFRyYWNrMik7XG59XG5mdW5jdGlvbiBpbnRlcnNlY3Rpb24oeDEsIHgyLCB5MSwgeTIpIHtcbiAgICByZXR1cm4gTWF0aC5taW4oeDIsIHkyKSAtIE1hdGgubWF4KHgxLCB5MSk7XG59XG52YXIgVGltZWxpbmVDb250cm9sbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhUaW1lbGluZUNvbnRyb2xsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gVGltZWxpbmVDb250cm9sbGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuTUVESUFfQVRUQUNISU5HLCBldmVudHNfMS5kZWZhdWx0Lk1FRElBX0RFVEFDSElORywgZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19ERUNSWVBURUQsIGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BRElORywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FERUQsIGV2ZW50c18xLmRlZmF1bHQuTEVWRUxfU1dJVENISU5HLCBldmVudHNfMS5kZWZhdWx0LklOSVRfUFRTX0ZPVU5EKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5obHMgPSBobHM7XG4gICAgICAgIF90aGlzLmNvbmZpZyA9IGhscy5jb25maWc7XG4gICAgICAgIF90aGlzLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICBfdGhpcy5DdWVzID0gaGxzLmNvbmZpZy5jdWVIYW5kbGVyO1xuICAgICAgICBfdGhpcy50ZXh0VHJhY2tzID0gW107XG4gICAgICAgIF90aGlzLnRyYWNrcyA9IFtdO1xuICAgICAgICBfdGhpcy51bnBhcnNlZFZ0dEZyYWdzID0gW107XG4gICAgICAgIF90aGlzLmluaXRQVFMgPSBbXTtcbiAgICAgICAgX3RoaXMuY3VlUmFuZ2VzID0gW107XG4gICAgICAgIF90aGlzLmNhcHRpb25zVHJhY2tzID0ge307XG4gICAgICAgIF90aGlzLmNhcHRpb25zUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHRleHRUcmFjazE6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhYmVsLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMUxhbmd1YWdlQ29kZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHRUcmFjazI6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhYmVsLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlQ29kZTogX3RoaXMuY29uZmlnLmNhcHRpb25zVGV4dFRyYWNrMkxhbmd1YWdlQ29kZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoX3RoaXMuY29uZmlnLmVuYWJsZUNFQTcwOENhcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbDEgPSBuZXcgb3V0cHV0X2ZpbHRlcl8xLmRlZmF1bHQoX3RoaXMsICd0ZXh0VHJhY2sxJyk7XG4gICAgICAgICAgICB2YXIgY2hhbm5lbDIgPSBuZXcgb3V0cHV0X2ZpbHRlcl8xLmRlZmF1bHQoX3RoaXMsICd0ZXh0VHJhY2syJyk7XG4gICAgICAgICAgICBfdGhpcy5jZWE2MDhQYXJzZXIgPSBuZXcgY2VhXzYwOF9wYXJzZXJfMS5kZWZhdWx0KDAsIGNoYW5uZWwxLCBjaGFubmVsMik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmFkZEN1ZXMgPSBmdW5jdGlvbiAodHJhY2tOYW1lLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbikge1xuICAgICAgICAvLyBza2lwIGN1ZXMgd2hpY2ggb3ZlcmxhcCBtb3JlIHRoYW4gNTAlIHdpdGggcHJldmlvdXNseSBwYXJzZWQgdGltZSByYW5nZXNcbiAgICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuY3VlUmFuZ2VzO1xuICAgICAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gICAgICAgIGZvciAodmFyIGkgPSByYW5nZXMubGVuZ3RoOyBpLS07KSB7XG4gICAgICAgICAgICB2YXIgY3VlUmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgICAgICB2YXIgb3ZlcmxhcCA9IGludGVyc2VjdGlvbihjdWVSYW5nZVswXSwgY3VlUmFuZ2VbMV0sIHN0YXJ0VGltZSwgZW5kVGltZSk7XG4gICAgICAgICAgICBpZiAob3ZlcmxhcCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgY3VlUmFuZ2VbMF0gPSBNYXRoLm1pbihjdWVSYW5nZVswXSwgc3RhcnRUaW1lKTtcbiAgICAgICAgICAgICAgICBjdWVSYW5nZVsxXSA9IE1hdGgubWF4KGN1ZVJhbmdlWzFdLCBlbmRUaW1lKTtcbiAgICAgICAgICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICgob3ZlcmxhcCAvIChlbmRUaW1lIC0gc3RhcnRUaW1lKSkgPiAwLjUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgICAgICAgcmFuZ2VzLnB1c2goW3N0YXJ0VGltZSwgZW5kVGltZV0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuQ3Vlcy5uZXdDdWUodGhpcy5jYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdLCBzdGFydFRpbWUsIGVuZFRpbWUsIHNjcmVlbik7XG4gICAgfTtcbiAgICAvLyBUcmlnZ2VyZWQgd2hlbiBhbiBpbml0aWFsIFBUUyBpcyBmb3VuZDsgdXNlZCBmb3Igc3luY2hyb25pc2F0aW9uIG9mIFdlYlZUVC5cbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLm9uSW5pdFB0c0ZvdW5kID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKGRhdGEuaWQgPT09ICdtYWluJykge1xuICAgICAgICAgICAgdGhpcy5pbml0UFRTW2RhdGEuZnJhZy5jY10gPSBkYXRhLmluaXRQVFM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRHVlIHRvIGFzeW5jaHJvbm91cyBwcm9jZXNzaW5nLCBpbml0aWFsIFBUUyBtYXkgYXJyaXZlIGxhdGVyIHRoYW4gdGhlIGZpcnN0IFZUVCBmcmFnbWVudHMgYXJlIGxvYWRlZC5cbiAgICAgICAgLy8gUGFyc2UgYW55IHVucGFyc2VkIGZyYWdtZW50cyB1cG9uIHJlY2VpdmluZyB0aGUgaW5pdGlhbCBQVFMuXG4gICAgICAgIGlmICh0aGlzLnVucGFyc2VkVnR0RnJhZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgdW5wYXJzZWRWdHRGcmFncyA9IHRoaXMudW5wYXJzZWRWdHRGcmFncztcbiAgICAgICAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncyA9IFtdO1xuICAgICAgICAgICAgdW5wYXJzZWRWdHRGcmFncy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMub25GcmFnTG9hZGVkKGZyYWcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0RXhpc3RpbmdUcmFjayA9IGZ1bmN0aW9uICh0cmFja05hbWUpIHtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lZGlhLnRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrID0gbWVkaWEudGV4dFRyYWNrc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAodGV4dFRyYWNrW3RyYWNrTmFtZV0pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRleHRUcmFjaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZUNhcHRpb25zVHJhY2sgPSBmdW5jdGlvbiAodHJhY2tOYW1lKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMuY2FwdGlvbnNQcm9wZXJ0aWVzW3RyYWNrTmFtZV0sIGxhYmVsID0gX2EubGFiZWwsIGxhbmd1YWdlQ29kZSA9IF9hLmxhbmd1YWdlQ29kZTtcbiAgICAgICAgdmFyIGNhcHRpb25zVHJhY2tzID0gdGhpcy5jYXB0aW9uc1RyYWNrcztcbiAgICAgICAgaWYgKCFjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdKSB7XG4gICAgICAgICAgICAvLyBFbmFibGUgcmV1c2Ugb2YgZXhpc3RpbmcgdGV4dCB0cmFjay5cbiAgICAgICAgICAgIHZhciBleGlzdGluZ1RyYWNrID0gdGhpcy5nZXRFeGlzdGluZ1RyYWNrKHRyYWNrTmFtZSk7XG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nVHJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrID0gdGhpcy5jcmVhdGVUZXh0VHJhY2soJ2NhcHRpb25zJywgbGFiZWwsIGxhbmd1YWdlQ29kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgYSBzcGVjaWFsIHByb3BlcnR5IG9uIHRoZSB0cmFjayBzbyB3ZSBrbm93IGl0J3MgbWFuYWdlZCBieSBIbHMuanNcbiAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrW3RyYWNrTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXB0aW9uc1RyYWNrc1t0cmFja05hbWVdID0gdGV4dFRyYWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0gPSBleGlzdGluZ1RyYWNrO1xuICAgICAgICAgICAgICAgIHRleHR0cmFja191dGlsc18xLmNsZWFyQ3VycmVudEN1ZXMoY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSk7XG4gICAgICAgICAgICAgICAgdGV4dHRyYWNrX3V0aWxzXzEuc2VuZEFkZFRyYWNrRXZlbnQoY2FwdGlvbnNUcmFja3NbdHJhY2tOYW1lXSwgdGhpcy5tZWRpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuY3JlYXRlVGV4dFRyYWNrID0gZnVuY3Rpb24gKGtpbmQsIGxhYmVsLCBsYW5nKSB7XG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgcmV0dXJuIG1lZGlhLmFkZFRleHRUcmFjayhraW5kLCBsYWJlbCwgbGFuZyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQucHJvdG90eXBlLmRlc3Ryb3kuY2FsbCh0aGlzKTtcbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NZWRpYUF0dGFjaGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubWVkaWEgPSBkYXRhLm1lZGlhO1xuICAgICAgICB0aGlzLl9jbGVhblRyYWNrcygpO1xuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1lZGlhRGV0YWNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2FwdGlvbnNUcmFja3MgPSB0aGlzLmNhcHRpb25zVHJhY2tzO1xuICAgICAgICBPYmplY3Qua2V5cyhjYXB0aW9uc1RyYWNrcykuZm9yRWFjaChmdW5jdGlvbiAodHJhY2tOYW1lKSB7XG4gICAgICAgICAgICB0ZXh0dHJhY2tfdXRpbHNfMS5jbGVhckN1cnJlbnRDdWVzKGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV0pO1xuICAgICAgICAgICAgZGVsZXRlIGNhcHRpb25zVHJhY2tzW3RyYWNrTmFtZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbk1hbmlmZXN0TG9hZGluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5sYXN0U24gPSAtMTsgLy8gRGV0ZWN0IGRpc2NvbnRpZ3VpdHkgaW4gZnJhZ21lbnQgcGFyc2luZ1xuICAgICAgICB0aGlzLnByZXZDQyA9IC0xO1xuICAgICAgICB0aGlzLnZ0dENDcyA9IHtcbiAgICAgICAgICAgIGNjT2Zmc2V0OiAwLFxuICAgICAgICAgICAgcHJlc2VudGF0aW9uT2Zmc2V0OiAwLFxuICAgICAgICAgICAgMDoge1xuICAgICAgICAgICAgICAgIHN0YXJ0OiAwLCBwcmV2Q0M6IC0xLCBuZXc6IGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2NsZWFuVHJhY2tzKCk7XG4gICAgfTtcbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLl9jbGVhblRyYWNrcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2xlYXIgb3V0ZGF0ZWQgc3VidGl0bGVzXG4gICAgICAgIHZhciBtZWRpYSA9IHRoaXMubWVkaWE7XG4gICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgdmFyIHRleHRUcmFja3MgPSBtZWRpYS50ZXh0VHJhY2tzO1xuICAgICAgICAgICAgaWYgKHRleHRUcmFja3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRleHRUcmFja3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dHRyYWNrX3V0aWxzXzEuY2xlYXJDdXJyZW50Q3Vlcyh0ZXh0VHJhY2tzW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRlZCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMudGV4dFRyYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgPSB0aGlzLnVucGFyc2VkVnR0RnJhZ3MgfHwgW107XG4gICAgICAgIHRoaXMuaW5pdFBUUyA9IFtdO1xuICAgICAgICB0aGlzLmN1ZVJhbmdlcyA9IFtdO1xuICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlV2ViVlRUKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWNrcyA9IGRhdGEuc3VidGl0bGVzIHx8IFtdO1xuICAgICAgICAgICAgdmFyIGluVXNlVHJhY2tzXzEgPSB0aGlzLm1lZGlhID8gdGhpcy5tZWRpYS50ZXh0VHJhY2tzIDogW107XG4gICAgICAgICAgICB0aGlzLnRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFRyYWNrO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGluVXNlVHJhY2tzXzEubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpblVzZVRyYWNrID0gW10uc2xpY2UuY2FsbChpblVzZVRyYWNrc18xKS5maW5kKGZ1bmN0aW9uIChpblVzZVRyYWNrKSB7IHJldHVybiBjYW5SZXVzZVZ0dFRleHRUcmFjayhpblVzZVRyYWNrLCB0cmFjayk7IH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZXVzZSB0cmFja3Mgd2l0aCB0aGUgc2FtZSBsYWJlbCwgYnV0IGRvIG5vdCByZXVzZSA2MDgvNzA4IHRyYWNrc1xuICAgICAgICAgICAgICAgICAgICBpZiAoaW5Vc2VUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrID0gaW5Vc2VUcmFjaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIXRleHRUcmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhY2sgPSBfdGhpcy5jcmVhdGVUZXh0VHJhY2soJ3N1YnRpdGxlcycsIHRyYWNrLm5hbWUsIHRyYWNrLmxhbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHJhY2suZGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0VHJhY2subW9kZSA9IF90aGlzLmhscy5zdWJ0aXRsZURpc3BsYXkgPyAnc2hvd2luZycgOiAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHRUcmFjay5tb2RlID0gJ2Rpc2FibGVkJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3RoaXMudGV4dFRyYWNrcy5wdXNoKHRleHRUcmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkxldmVsU3dpdGNoaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmVuYWJsZWQgPSB0aGlzLmhscy5jdXJyZW50TGV2ZWwuY2xvc2VkQ2FwdGlvbnMgIT09ICdOT05FJztcbiAgICB9O1xuICAgIFRpbWVsaW5lQ29udHJvbGxlci5wcm90b3R5cGUub25GcmFnTG9hZGVkID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBkYXRhLmZyYWcsIHBheWxvYWQgPSBkYXRhLnBheWxvYWQ7XG4gICAgICAgIGlmIChmcmFnLnR5cGUgPT09ICdtYWluJykge1xuICAgICAgICAgICAgdmFyIHNuID0gZnJhZy5zbjtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgZnJhZyBpc24ndCBjb250aWd1b3VzLCBjbGVhciB0aGUgcGFyc2VyIHNvIGN1ZXMgd2l0aCBiYWQgc3RhcnQvZW5kIHRpbWVzIGFyZW4ndCBhZGRlZCB0byB0aGUgdGV4dFRyYWNrXG4gICAgICAgICAgICBpZiAoc24gIT09IHRoaXMubGFzdFNuICsgMSkge1xuICAgICAgICAgICAgICAgIHZhciBjZWE2MDhQYXJzZXIgPSB0aGlzLmNlYTYwOFBhcnNlcjtcbiAgICAgICAgICAgICAgICBpZiAoY2VhNjA4UGFyc2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNlYTYwOFBhcnNlci5yZXNldCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubGFzdFNuID0gc247XG4gICAgICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbGluZSBicmFjZS1zdHlsZVxuICAgICAgICAvLyBJZiBmcmFnbWVudCBpcyBzdWJ0aXRsZSB0eXBlLCBwYXJzZSBhcyBXZWJWVFQuXG4gICAgICAgIGVsc2UgaWYgKGZyYWcudHlwZSA9PT0gJ3N1YnRpdGxlJykge1xuICAgICAgICAgICAgaWYgKHBheWxvYWQuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgYW4gaW5pdGlhbCBzeW5jaHJvbmlzYXRpb24gUFRTLiBTdG9yZSBmcmFnbWVudHMgYXMgbG9uZyBhcyBub25lIGhhcyBhcnJpdmVkLlxuICAgICAgICAgICAgICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHRoaXMuaW5pdFBUU1tmcmFnLmNjXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnBhcnNlZFZ0dEZyYWdzLnB1c2goZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmluaXRQVFMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5pc2ggdW5zdWNjZXNzZnVsbHksIG90aGVyd2lzZSB0aGUgc3VidGl0bGUtc3RyZWFtLWNvbnRyb2xsZXIgY291bGQgYmUgYmxvY2tlZCBmcm9tIGxvYWRpbmcgbmV3IGZyYWdzLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7IHN1Y2Nlc3M6IGZhbHNlLCBmcmFnOiBmcmFnIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGRlY3J5cHREYXRhID0gZnJhZy5kZWNyeXB0ZGF0YTtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgc3VidGl0bGVzIGFyZSBub3QgZW5jcnlwdGVkLCBwYXJzZSBWVFRzIG5vdy4gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHdhaXQuXG4gICAgICAgICAgICAgICAgaWYgKChkZWNyeXB0RGF0YSA9PSBudWxsKSB8fCAoZGVjcnlwdERhdGEua2V5ID09IG51bGwpIHx8IChkZWNyeXB0RGF0YS5tZXRob2QgIT09ICdBRVMtMTI4JykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VWVFRzKGZyYWcsIHBheWxvYWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEluIGNhc2UgdGhlcmUgaXMgbm8gcGF5bG9hZCwgZmluaXNoIHVuc3VjY2Vzc2Z1bGx5LlxuICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9GUkFHX1BST0NFU1NFRCwgeyBzdWNjZXNzOiBmYWxzZSwgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5fcGFyc2VWVFRzID0gZnVuY3Rpb24gKGZyYWcsIHBheWxvYWQpIHtcbiAgICAgICAgdmFyIHZ0dENDcyA9IHRoaXMudnR0Q0NzO1xuICAgICAgICBpZiAoIXZ0dENDc1tmcmFnLmNjXSkge1xuICAgICAgICAgICAgdnR0Q0NzW2ZyYWcuY2NdID0geyBzdGFydDogZnJhZy5zdGFydCwgcHJldkNDOiB0aGlzLnByZXZDQywgbmV3OiB0cnVlIH07XG4gICAgICAgICAgICB0aGlzLnByZXZDQyA9IGZyYWcuY2M7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRleHRUcmFja3MgPSB0aGlzLnRleHRUcmFja3MsIGhscyA9IHRoaXMuaGxzO1xuICAgICAgICAvLyBQYXJzZSB0aGUgV2ViVlRUIGZpbGUgY29udGVudHMuXG4gICAgICAgIHdlYnZ0dF9wYXJzZXJfMS5kZWZhdWx0LnBhcnNlKHBheWxvYWQsIHRoaXMuaW5pdFBUU1tmcmFnLmNjXSwgdnR0Q0NzLCBmcmFnLmNjLCBmdW5jdGlvbiAoY3Vlcykge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUcmFjayA9IHRleHRUcmFja3NbZnJhZy50cmFja0lkXTtcbiAgICAgICAgICAgIC8vIFdlYlZUVFBhcnNlci5wYXJzZSBpcyBhbiBhc3luYyBtZXRob2QgYW5kIGlmIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgdGV4dCB0cmFjayBtb2RlIGlzIHNldCB0byBcImRpc2FibGVkXCJcbiAgICAgICAgICAgIC8vIGJlZm9yZSBwYXJzaW5nIGlzIGRvbmUgdGhlbiBkb24ndCB0cnkgdG8gYWNjZXNzIGN1cnJlbnRUcmFjay5jdWVzLmdldEN1ZUJ5SWQgYXMgY3VlcyB3aWxsIGJlIG51bGxcbiAgICAgICAgICAgIC8vIGFuZCB0cnlpbmcgdG8gYWNjZXNzIGdldEN1ZUJ5SWQgbWV0aG9kIG9mIGN1ZXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb25cbiAgICAgICAgICAgIGlmIChjdXJyZW50VHJhY2subW9kZSA9PT0gJ2Rpc2FibGVkJykge1xuICAgICAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQWRkIGN1ZXMgYW5kIHRyaWdnZXIgZXZlbnQgd2l0aCBzdWNjZXNzIHRydWUuXG4gICAgICAgICAgICBjdWVzLmZvckVhY2goZnVuY3Rpb24gKGN1ZSkge1xuICAgICAgICAgICAgICAgIC8vIFNvbWV0aW1lcyB0aGVyZSBhcmUgY3VlIG92ZXJsYXBzIG9uIHNlZ21lbnRlZCB2dHRzIHNvIHRoZSBzYW1lXG4gICAgICAgICAgICAgICAgLy8gY3VlIGNhbiBhcHBlYXIgbW9yZSB0aGFuIG9uY2UgaW4gZGlmZmVyZW50IHZ0dCBmaWxlcy5cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGF2b2lkIHNob3dpbmcgZHVwbGljYXRlZCBjdWVzIHdpdGggc2FtZSB0aW1lY29kZSBhbmQgdGV4dC5cbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRUcmFjay5jdWVzLmdldEN1ZUJ5SWQoY3VlLmlkKSkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNrLmFkZEN1ZShjdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0VHJhY2tDdWUgPSBuZXcgd2luZG93LlRleHRUcmFja0N1ZShjdWUuc3RhcnRUaW1lLCBjdWUuZW5kVGltZSwgY3VlLnRleHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFRyYWNrQ3VlLmlkID0gY3VlLmlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRyYWNrLmFkZEN1ZSh0ZXh0VHJhY2tDdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX0ZSQUdfUFJPQ0VTU0VELCB7IHN1Y2Nlc3M6IHRydWUsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBTb21ldGhpbmcgd2VudCB3cm9uZyB3aGlsZSBwYXJzaW5nLiBUcmlnZ2VyIGV2ZW50IHdpdGggc3VjY2VzcyBmYWxzZS5cbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJGYWlsZWQgdG8gcGFyc2UgVlRUIGN1ZTogXCIgKyBlKTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuU1VCVElUTEVfRlJBR19QUk9DRVNTRUQsIHsgc3VjY2VzczogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdEZWNyeXB0ZWQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZGVjcnlwdGVkRGF0YSA9IGRhdGEucGF5bG9hZCwgZnJhZyA9IGRhdGEuZnJhZztcbiAgICAgICAgaWYgKGZyYWcudHlwZSA9PT0gJ3N1YnRpdGxlJykge1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGhpcy5pbml0UFRTW2ZyYWcuY2NdKSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5wYXJzZWRWdHRGcmFncy5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3BhcnNlVlRUcyhmcmFnLCBkZWNyeXB0ZWREYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVGltZWxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5vbkZyYWdQYXJzaW5nVXNlcmRhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBwdXNoIGFsbCBvZiB0aGUgQ0VBLTcwOCBtZXNzYWdlcyBpbnRvIHRoZSBpbnRlcnByZXRlclxuICAgICAgICAvLyBpbW1lZGlhdGVseS4gSXQgd2lsbCBjcmVhdGUgdGhlIHByb3BlciB0aW1lc3RhbXBzIGJhc2VkIG9uIG91ciBQVFMgdmFsdWVcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCAmJiB0aGlzLmNvbmZpZy5lbmFibGVDRUE3MDhDYXB0aW9ucykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLnNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2NkYXRhcyA9IHRoaXMuZXh0cmFjdENlYTYwOERhdGEoZGF0YS5zYW1wbGVzW2ldLmJ5dGVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNlYTYwOFBhcnNlci5hZGREYXRhKGRhdGEuc2FtcGxlc1tpXS5wdHMsIGNjZGF0YXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUaW1lbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLmV4dHJhY3RDZWE2MDhEYXRhID0gZnVuY3Rpb24gKGJ5dGVBcnJheSkge1xuICAgICAgICB2YXIgY291bnQgPSBieXRlQXJyYXlbMF0gJiAzMTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gMjtcbiAgICAgICAgdmFyIHRtcEJ5dGUsIGNjYnl0ZTEsIGNjYnl0ZTIsIGNjVmFsaWQsIGNjVHlwZTtcbiAgICAgICAgdmFyIGFjdHVhbENDQnl0ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICB0bXBCeXRlID0gYnl0ZUFycmF5W3Bvc2l0aW9uKytdO1xuICAgICAgICAgICAgY2NieXRlMSA9IDB4N0YgJiBieXRlQXJyYXlbcG9zaXRpb24rK107XG4gICAgICAgICAgICBjY2J5dGUyID0gMHg3RiAmIGJ5dGVBcnJheVtwb3NpdGlvbisrXTtcbiAgICAgICAgICAgIGNjVmFsaWQgPSAoNCAmIHRtcEJ5dGUpICE9PSAwO1xuICAgICAgICAgICAgY2NUeXBlID0gMyAmIHRtcEJ5dGU7XG4gICAgICAgICAgICBpZiAoY2NieXRlMSA9PT0gMCAmJiBjY2J5dGUyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2NWYWxpZCkge1xuICAgICAgICAgICAgICAgIGlmIChjY1R5cGUgPT09IDApIHsgLy8gfHwgY2NUeXBlID09PSAxXG4gICAgICAgICAgICAgICAgICAgIGFjdHVhbENDQnl0ZXMucHVzaChjY2J5dGUxKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0dWFsQ0NCeXRlcy5wdXNoKGNjYnl0ZTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWN0dWFsQ0NCeXRlcztcbiAgICB9O1xuICAgIHJldHVybiBUaW1lbGluZUNvbnRyb2xsZXI7XG59KGV2ZW50X2hhbmRsZXJfMS5kZWZhdWx0KSk7XG5leHBvcnRzLmRlZmF1bHQgPSBUaW1lbGluZUNvbnRyb2xsZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NyeXB0L2Flcy1jcnlwdG8uanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jcnlwdC9hZXMtY3J5cHRvLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBBRVNDcnlwdG8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQUVTQ3J5cHRvKHN1YnRsZSwgaXYpIHtcbiAgICAgICAgdGhpcy5zdWJ0bGUgPSBzdWJ0bGU7XG4gICAgICAgIHRoaXMuYWVzSVYgPSBpdjtcbiAgICB9XG4gICAgQUVTQ3J5cHRvLnByb3RvdHlwZS5kZWNyeXB0ID0gZnVuY3Rpb24gKGRhdGEsIGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdWJ0bGUuZGVjcnlwdCh7IG5hbWU6ICdBRVMtQ0JDJywgaXY6IHRoaXMuYWVzSVYgfSwga2V5LCBkYXRhKTtcbiAgICB9O1xuICAgIHJldHVybiBBRVNDcnlwdG87XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQUVTQ3J5cHRvO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NyeXB0L2Flcy1kZWNyeXB0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9jcnlwdC9hZXMtZGVjcnlwdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIFBLQ1M3XG5mdW5jdGlvbiByZW1vdmVQYWRkaW5nKGJ1ZmZlcikge1xuICAgIHZhciBvdXRwdXRCeXRlcyA9IGJ1ZmZlci5ieXRlTGVuZ3RoO1xuICAgIHZhciBwYWRkaW5nQnl0ZXMgPSBvdXRwdXRCeXRlcyAmJiAobmV3IERhdGFWaWV3KGJ1ZmZlcikpLmdldFVpbnQ4KG91dHB1dEJ5dGVzIC0gMSk7XG4gICAgaWYgKHBhZGRpbmdCeXRlcykge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKDAsIG91dHB1dEJ5dGVzIC0gcGFkZGluZ0J5dGVzKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBidWZmZXI7XG4gICAgfVxufVxuZXhwb3J0cy5yZW1vdmVQYWRkaW5nID0gcmVtb3ZlUGFkZGluZztcbnZhciBBRVNEZWNyeXB0b3IgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQUVTRGVjcnlwdG9yKCkge1xuICAgICAgICAvLyBTdGF0aWMgYWZ0ZXIgcnVubmluZyBpbml0VGFibGVcbiAgICAgICAgdGhpcy5yY29uID0gWzB4MCwgMHgxLCAweDIsIDB4NCwgMHg4LCAweDEwLCAweDIwLCAweDQwLCAweDgwLCAweDFiLCAweDM2XTtcbiAgICAgICAgdGhpcy5zdWJNaXggPSBbbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NildO1xuICAgICAgICB0aGlzLmludlN1Yk1peCA9IFtuZXcgVWludDMyQXJyYXkoMjU2KSwgbmV3IFVpbnQzMkFycmF5KDI1NiksIG5ldyBVaW50MzJBcnJheSgyNTYpLCBuZXcgVWludDMyQXJyYXkoMjU2KV07XG4gICAgICAgIHRoaXMuc0JveCA9IG5ldyBVaW50MzJBcnJheSgyNTYpO1xuICAgICAgICB0aGlzLmludlNCb3ggPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICAgICAgLy8gQ2hhbmdlcyBkdXJpbmcgcnVudGltZVxuICAgICAgICB0aGlzLmtleSA9IG5ldyBVaW50MzJBcnJheSgwKTtcbiAgICAgICAgdGhpcy5pbml0VGFibGUoKTtcbiAgICB9XG4gICAgLy8gVXNpbmcgdmlldy5nZXRVaW50MzIoKSBhbHNvIHN3YXBzIHRoZSBieXRlIG9yZGVyLlxuICAgIEFFU0RlY3J5cHRvci5wcm90b3R5cGUudWludDhBcnJheVRvVWludDMyQXJyYXlfID0gZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgICAgIHZhciB2aWV3ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyKTtcbiAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQzMkFycmF5KDQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQ7IGkrKykge1xuICAgICAgICAgICAgbmV3QXJyYXlbaV0gPSB2aWV3LmdldFVpbnQzMihpICogNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgIH07XG4gICAgQUVTRGVjcnlwdG9yLnByb3RvdHlwZS5pbml0VGFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzQm94ID0gdGhpcy5zQm94O1xuICAgICAgICB2YXIgaW52U0JveCA9IHRoaXMuaW52U0JveDtcbiAgICAgICAgdmFyIHN1Yk1peCA9IHRoaXMuc3ViTWl4O1xuICAgICAgICB2YXIgc3ViTWl4MCA9IHN1Yk1peFswXTtcbiAgICAgICAgdmFyIHN1Yk1peDEgPSBzdWJNaXhbMV07XG4gICAgICAgIHZhciBzdWJNaXgyID0gc3ViTWl4WzJdO1xuICAgICAgICB2YXIgc3ViTWl4MyA9IHN1Yk1peFszXTtcbiAgICAgICAgdmFyIGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgICAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICAgICAgdmFyIGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgICAgIHZhciBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgICAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcbiAgICAgICAgdmFyIGQgPSBuZXcgVWludDMyQXJyYXkoMjU2KTtcbiAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICB2YXIgeGkgPSAwO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPCAxMjgpIHtcbiAgICAgICAgICAgICAgICBkW2ldID0gaSA8PCAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZFtpXSA9IChpIDw8IDEpIF4gMHgxMWI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3ggPSB4aSBeICh4aSA8PCAxKSBeICh4aSA8PCAyKSBeICh4aSA8PCAzKSBeICh4aSA8PCA0KTtcbiAgICAgICAgICAgIHN4ID0gKHN4ID4+PiA4KSBeIChzeCAmIDB4ZmYpIF4gMHg2MztcbiAgICAgICAgICAgIHNCb3hbeF0gPSBzeDtcbiAgICAgICAgICAgIGludlNCb3hbc3hdID0geDtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgbXVsdGlwbGljYXRpb25cbiAgICAgICAgICAgIHZhciB4MiA9IGRbeF07XG4gICAgICAgICAgICB2YXIgeDQgPSBkW3gyXTtcbiAgICAgICAgICAgIHZhciB4OCA9IGRbeDRdO1xuICAgICAgICAgICAgLy8gQ29tcHV0ZSBzdWIvaW52U3ViIGJ5dGVzLCBtaXggY29sdW1ucyB0YWJsZXNcbiAgICAgICAgICAgIHZhciB0ID0gKGRbc3hdICogMHgxMDEpIF4gKHN4ICogMHgxMDEwMTAwKTtcbiAgICAgICAgICAgIHN1Yk1peDBbeF0gPSAodCA8PCAyNCkgfCAodCA+Pj4gOCk7XG4gICAgICAgICAgICBzdWJNaXgxW3hdID0gKHQgPDwgMTYpIHwgKHQgPj4+IDE2KTtcbiAgICAgICAgICAgIHN1Yk1peDJbeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XG4gICAgICAgICAgICBzdWJNaXgzW3hdID0gdDtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgaW52IHN1YiBieXRlcywgaW52IG1peCBjb2x1bW5zIHRhYmxlc1xuICAgICAgICAgICAgdCA9ICh4OCAqIDB4MTAxMDEwMSkgXiAoeDQgKiAweDEwMDAxKSBeICh4MiAqIDB4MTAxKSBeICh4ICogMHgxMDEwMTAwKTtcbiAgICAgICAgICAgIGludlN1Yk1peDBbc3hdID0gKHQgPDwgMjQpIHwgKHQgPj4+IDgpO1xuICAgICAgICAgICAgaW52U3ViTWl4MVtzeF0gPSAodCA8PCAxNikgfCAodCA+Pj4gMTYpO1xuICAgICAgICAgICAgaW52U3ViTWl4MltzeF0gPSAodCA8PCA4KSB8ICh0ID4+PiAyNCk7XG4gICAgICAgICAgICBpbnZTdWJNaXgzW3N4XSA9IHQ7XG4gICAgICAgICAgICAvLyBDb21wdXRlIG5leHQgY291bnRlclxuICAgICAgICAgICAgaWYgKCF4KSB7XG4gICAgICAgICAgICAgICAgeCA9IHhpID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHggPSB4MiBeIGRbZFtkW3g4IF4geDJdXV07XG4gICAgICAgICAgICAgICAgeGkgXj0gZFtkW3hpXV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFFU0RlY3J5cHRvci5wcm90b3R5cGUuZXhwYW5kS2V5ID0gZnVuY3Rpb24gKGtleUJ1ZmZlcikge1xuICAgICAgICAvLyBjb252ZXJ0IGtleUJ1ZmZlciB0byBVaW50MzJBcnJheVxuICAgICAgICB2YXIga2V5ID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oa2V5QnVmZmVyKTtcbiAgICAgICAgdmFyIHNhbWVLZXkgPSB0cnVlO1xuICAgICAgICB2YXIgb2Zmc2V0ID0gMDtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGtleS5sZW5ndGggJiYgc2FtZUtleSkge1xuICAgICAgICAgICAgc2FtZUtleSA9IChrZXlbb2Zmc2V0XSA9PT0gdGhpcy5rZXlbb2Zmc2V0XSk7XG4gICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FtZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICB2YXIga2V5U2l6ZSA9IHRoaXMua2V5U2l6ZSA9IGtleS5sZW5ndGg7XG4gICAgICAgIGlmIChrZXlTaXplICE9PSA0ICYmIGtleVNpemUgIT09IDYgJiYga2V5U2l6ZSAhPT0gOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGFlcyBrZXkgc2l6ZT0nICsga2V5U2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGtzUm93cyA9IHRoaXMua3NSb3dzID0gKGtleVNpemUgKyA2ICsgMSkgKiA0O1xuICAgICAgICB2YXIga3NSb3c7XG4gICAgICAgIHZhciBpbnZLc1JvdztcbiAgICAgICAgdmFyIGtleVNjaGVkdWxlID0gdGhpcy5rZXlTY2hlZHVsZSA9IG5ldyBVaW50MzJBcnJheShrc1Jvd3MpO1xuICAgICAgICB2YXIgaW52S2V5U2NoZWR1bGUgPSB0aGlzLmludktleVNjaGVkdWxlID0gbmV3IFVpbnQzMkFycmF5KGtzUm93cyk7XG4gICAgICAgIHZhciBzYm94ID0gdGhpcy5zQm94O1xuICAgICAgICB2YXIgcmNvbiA9IHRoaXMucmNvbjtcbiAgICAgICAgdmFyIGludlN1Yk1peCA9IHRoaXMuaW52U3ViTWl4O1xuICAgICAgICB2YXIgaW52U3ViTWl4MCA9IGludlN1Yk1peFswXTtcbiAgICAgICAgdmFyIGludlN1Yk1peDEgPSBpbnZTdWJNaXhbMV07XG4gICAgICAgIHZhciBpbnZTdWJNaXgyID0gaW52U3ViTWl4WzJdO1xuICAgICAgICB2YXIgaW52U3ViTWl4MyA9IGludlN1Yk1peFszXTtcbiAgICAgICAgdmFyIHByZXY7XG4gICAgICAgIHZhciB0O1xuICAgICAgICBmb3IgKGtzUm93ID0gMDsga3NSb3cgPCBrc1Jvd3M7IGtzUm93KyspIHtcbiAgICAgICAgICAgIGlmIChrc1JvdyA8IGtleVNpemUpIHtcbiAgICAgICAgICAgICAgICBwcmV2ID0ga2V5U2NoZWR1bGVba3NSb3ddID0ga2V5W2tzUm93XTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHQgPSBwcmV2O1xuICAgICAgICAgICAgaWYgKGtzUm93ICUga2V5U2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFJvdCB3b3JkXG4gICAgICAgICAgICAgICAgdCA9ICh0IDw8IDgpIHwgKHQgPj4+IDI0KTtcbiAgICAgICAgICAgICAgICAvLyBTdWIgd29yZFxuICAgICAgICAgICAgICAgIHQgPSAoc2JveFt0ID4+PiAyNF0gPDwgMjQpIHwgKHNib3hbKHQgPj4+IDE2KSAmIDB4ZmZdIDw8IDE2KSB8IChzYm94Wyh0ID4+PiA4KSAmIDB4ZmZdIDw8IDgpIHwgc2JveFt0ICYgMHhmZl07XG4gICAgICAgICAgICAgICAgLy8gTWl4IFJjb25cbiAgICAgICAgICAgICAgICB0IF49IHJjb25bKGtzUm93IC8ga2V5U2l6ZSkgfCAwXSA8PCAyNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGtleVNpemUgPiA2ICYmIGtzUm93ICUga2V5U2l6ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIC8vIFN1YiB3b3JkXG4gICAgICAgICAgICAgICAgdCA9IChzYm94W3QgPj4+IDI0XSA8PCAyNCkgfCAoc2JveFsodCA+Pj4gMTYpICYgMHhmZl0gPDwgMTYpIHwgKHNib3hbKHQgPj4+IDgpICYgMHhmZl0gPDwgOCkgfCBzYm94W3QgJiAweGZmXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGtleVNjaGVkdWxlW2tzUm93XSA9IHByZXYgPSAoa2V5U2NoZWR1bGVba3NSb3cgLSBrZXlTaXplXSBeIHQpID4+PiAwO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaW52S3NSb3cgPSAwOyBpbnZLc1JvdyA8IGtzUm93czsgaW52S3NSb3crKykge1xuICAgICAgICAgICAga3NSb3cgPSBrc1Jvd3MgLSBpbnZLc1JvdztcbiAgICAgICAgICAgIGlmIChpbnZLc1JvdyAmIDMpIHtcbiAgICAgICAgICAgICAgICB0ID0ga2V5U2NoZWR1bGVba3NSb3ddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdCA9IGtleVNjaGVkdWxlW2tzUm93IC0gNF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW52S3NSb3cgPCA0IHx8IGtzUm93IDw9IDQpIHtcbiAgICAgICAgICAgICAgICBpbnZLZXlTY2hlZHVsZVtpbnZLc1Jvd10gPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaW52S2V5U2NoZWR1bGVbaW52S3NSb3ddID0gaW52U3ViTWl4MFtzYm94W3QgPj4+IDI0XV0gXiBpbnZTdWJNaXgxW3Nib3hbKHQgPj4+IDE2KSAmIDB4ZmZdXSBeIGludlN1Yk1peDJbc2JveFsodCA+Pj4gOCkgJiAweGZmXV0gXiBpbnZTdWJNaXgzW3Nib3hbdCAmIDB4ZmZdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGludktleVNjaGVkdWxlW2ludktzUm93XSA9IGludktleVNjaGVkdWxlW2ludktzUm93XSA+Pj4gMDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQWRkaW5nIHRoaXMgYXMgYSBtZXRob2QgZ3JlYXRseSBpbXByb3ZlcyBwZXJmb3JtYW5jZS5cbiAgICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLm5ldHdvcmtUb0hvc3RPcmRlclN3YXAgPSBmdW5jdGlvbiAod29yZCkge1xuICAgICAgICByZXR1cm4gKHdvcmQgPDwgMjQpIHwgKCh3b3JkICYgMHhmZjAwKSA8PCA4KSB8ICgod29yZCAmIDB4ZmYwMDAwKSA+PiA4KSB8ICh3b3JkID4+PiAyNCk7XG4gICAgfTtcbiAgICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLmRlY3J5cHQgPSBmdW5jdGlvbiAoaW5wdXRBcnJheUJ1ZmZlciwgb2Zmc2V0LCBhZXNJViwgcmVtb3ZlUEtDUzdQYWRkaW5nKSB7XG4gICAgICAgIHZhciBuUm91bmRzID0gdGhpcy5rZXlTaXplICsgNjtcbiAgICAgICAgdmFyIGludktleVNjaGVkdWxlID0gdGhpcy5pbnZLZXlTY2hlZHVsZTtcbiAgICAgICAgdmFyIGludlNCT1ggPSB0aGlzLmludlNCb3g7XG4gICAgICAgIHZhciBpbnZTdWJNaXggPSB0aGlzLmludlN1Yk1peDtcbiAgICAgICAgdmFyIGludlN1Yk1peDAgPSBpbnZTdWJNaXhbMF07XG4gICAgICAgIHZhciBpbnZTdWJNaXgxID0gaW52U3ViTWl4WzFdO1xuICAgICAgICB2YXIgaW52U3ViTWl4MiA9IGludlN1Yk1peFsyXTtcbiAgICAgICAgdmFyIGludlN1Yk1peDMgPSBpbnZTdWJNaXhbM107XG4gICAgICAgIHZhciBpbml0VmVjdG9yID0gdGhpcy51aW50OEFycmF5VG9VaW50MzJBcnJheV8oYWVzSVYpO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjAgPSBpbml0VmVjdG9yWzBdO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjEgPSBpbml0VmVjdG9yWzFdO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjIgPSBpbml0VmVjdG9yWzJdO1xuICAgICAgICB2YXIgaW5pdFZlY3RvcjMgPSBpbml0VmVjdG9yWzNdO1xuICAgICAgICB2YXIgaW5wdXRJbnQzMiA9IG5ldyBJbnQzMkFycmF5KGlucHV0QXJyYXlCdWZmZXIpO1xuICAgICAgICB2YXIgb3V0cHV0SW50MzIgPSBuZXcgSW50MzJBcnJheShpbnB1dEludDMyLmxlbmd0aCk7XG4gICAgICAgIHZhciB0MCwgdDEsIHQyLCB0MztcbiAgICAgICAgdmFyIHMwLCBzMSwgczIsIHMzO1xuICAgICAgICB2YXIgaW5wdXRXb3JkczAsIGlucHV0V29yZHMxLCBpbnB1dFdvcmRzMiwgaW5wdXRXb3JkczM7XG4gICAgICAgIHZhciBrc1JvdywgaTtcbiAgICAgICAgdmFyIHN3YXBXb3JkID0gdGhpcy5uZXR3b3JrVG9Ib3N0T3JkZXJTd2FwO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgaW5wdXRJbnQzMi5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlucHV0V29yZHMwID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXRdKTtcbiAgICAgICAgICAgIGlucHV0V29yZHMxID0gc3dhcFdvcmQoaW5wdXRJbnQzMltvZmZzZXQgKyAxXSk7XG4gICAgICAgICAgICBpbnB1dFdvcmRzMiA9IHN3YXBXb3JkKGlucHV0SW50MzJbb2Zmc2V0ICsgMl0pO1xuICAgICAgICAgICAgaW5wdXRXb3JkczMgPSBzd2FwV29yZChpbnB1dEludDMyW29mZnNldCArIDNdKTtcbiAgICAgICAgICAgIHMwID0gaW5wdXRXb3JkczAgXiBpbnZLZXlTY2hlZHVsZVswXTtcbiAgICAgICAgICAgIHMxID0gaW5wdXRXb3JkczMgXiBpbnZLZXlTY2hlZHVsZVsxXTtcbiAgICAgICAgICAgIHMyID0gaW5wdXRXb3JkczIgXiBpbnZLZXlTY2hlZHVsZVsyXTtcbiAgICAgICAgICAgIHMzID0gaW5wdXRXb3JkczEgXiBpbnZLZXlTY2hlZHVsZVszXTtcbiAgICAgICAgICAgIGtzUm93ID0gNDtcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCB0aGUgcm91bmRzIG9mIGRlY3J5cHRpb25cbiAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBuUm91bmRzOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0MCA9IGludlN1Yk1peDBbczAgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMxID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczIgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczMgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93XTtcbiAgICAgICAgICAgICAgICB0MSA9IGludlN1Yk1peDBbczEgPj4+IDI0XSBeIGludlN1Yk1peDFbKHMyID4+IDE2KSAmIDB4ZmZdIF4gaW52U3ViTWl4MlsoczMgPj4gOCkgJiAweGZmXSBeIGludlN1Yk1peDNbczAgJiAweGZmXSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgMV07XG4gICAgICAgICAgICAgICAgdDIgPSBpbnZTdWJNaXgwW3MyID4+PiAyNF0gXiBpbnZTdWJNaXgxWyhzMyA+PiAxNikgJiAweGZmXSBeIGludlN1Yk1peDJbKHMwID4+IDgpICYgMHhmZl0gXiBpbnZTdWJNaXgzW3MxICYgMHhmZl0gXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDJdO1xuICAgICAgICAgICAgICAgIHQzID0gaW52U3ViTWl4MFtzMyA+Pj4gMjRdIF4gaW52U3ViTWl4MVsoczAgPj4gMTYpICYgMHhmZl0gXiBpbnZTdWJNaXgyWyhzMSA+PiA4KSAmIDB4ZmZdIF4gaW52U3ViTWl4M1tzMiAmIDB4ZmZdIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAzXTtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc3RhdGVcbiAgICAgICAgICAgICAgICBzMCA9IHQwO1xuICAgICAgICAgICAgICAgIHMxID0gdDE7XG4gICAgICAgICAgICAgICAgczIgPSB0MjtcbiAgICAgICAgICAgICAgICBzMyA9IHQzO1xuICAgICAgICAgICAgICAgIGtzUm93ID0ga3NSb3cgKyA0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2hpZnQgcm93cywgc3ViIGJ5dGVzLCBhZGQgcm91bmQga2V5XG4gICAgICAgICAgICB0MCA9ICgoaW52U0JPWFtzMCA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMSA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczIgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczMgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1Jvd107XG4gICAgICAgICAgICB0MSA9ICgoaW52U0JPWFtzMSA+Pj4gMjRdIDw8IDI0KSBeIChpbnZTQk9YWyhzMiA+PiAxNikgJiAweGZmXSA8PCAxNikgXiAoaW52U0JPWFsoczMgPj4gOCkgJiAweGZmXSA8PCA4KSBeIGludlNCT1hbczAgJiAweGZmXSkgXiBpbnZLZXlTY2hlZHVsZVtrc1JvdyArIDFdO1xuICAgICAgICAgICAgdDIgPSAoKGludlNCT1hbczIgPj4+IDI0XSA8PCAyNCkgXiAoaW52U0JPWFsoczMgPj4gMTYpICYgMHhmZl0gPDwgMTYpIF4gKGludlNCT1hbKHMwID4+IDgpICYgMHhmZl0gPDwgOCkgXiBpbnZTQk9YW3MxICYgMHhmZl0pIF4gaW52S2V5U2NoZWR1bGVba3NSb3cgKyAyXTtcbiAgICAgICAgICAgIHQzID0gKChpbnZTQk9YW3MzID4+PiAyNF0gPDwgMjQpIF4gKGludlNCT1hbKHMwID4+IDE2KSAmIDB4ZmZdIDw8IDE2KSBeIChpbnZTQk9YWyhzMSA+PiA4KSAmIDB4ZmZdIDw8IDgpIF4gaW52U0JPWFtzMiAmIDB4ZmZdKSBeIGludktleVNjaGVkdWxlW2tzUm93ICsgM107XG4gICAgICAgICAgICBrc1JvdyA9IGtzUm93ICsgMztcbiAgICAgICAgICAgIC8vIFdyaXRlXG4gICAgICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXRdID0gc3dhcFdvcmQodDAgXiBpbml0VmVjdG9yMCk7XG4gICAgICAgICAgICBvdXRwdXRJbnQzMltvZmZzZXQgKyAxXSA9IHN3YXBXb3JkKHQzIF4gaW5pdFZlY3RvcjEpO1xuICAgICAgICAgICAgb3V0cHV0SW50MzJbb2Zmc2V0ICsgMl0gPSBzd2FwV29yZCh0MiBeIGluaXRWZWN0b3IyKTtcbiAgICAgICAgICAgIG91dHB1dEludDMyW29mZnNldCArIDNdID0gc3dhcFdvcmQodDEgXiBpbml0VmVjdG9yMyk7XG4gICAgICAgICAgICAvLyByZXNldCBpbml0VmVjdG9yIHRvIGxhc3QgNCB1bnNpZ25lZCBpbnRcbiAgICAgICAgICAgIGluaXRWZWN0b3IwID0gaW5wdXRXb3JkczA7XG4gICAgICAgICAgICBpbml0VmVjdG9yMSA9IGlucHV0V29yZHMxO1xuICAgICAgICAgICAgaW5pdFZlY3RvcjIgPSBpbnB1dFdvcmRzMjtcbiAgICAgICAgICAgIGluaXRWZWN0b3IzID0gaW5wdXRXb3JkczM7XG4gICAgICAgICAgICBvZmZzZXQgPSBvZmZzZXQgKyA0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZW1vdmVQS0NTN1BhZGRpbmcgPyByZW1vdmVQYWRkaW5nKG91dHB1dEludDMyLmJ1ZmZlcikgOiBvdXRwdXRJbnQzMi5idWZmZXI7XG4gICAgfTtcbiAgICBBRVNEZWNyeXB0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMua2V5ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmtleVNpemUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMua3NSb3dzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnNCb3ggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW52U0JveCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zdWJNaXggPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaW52U3ViTWl4ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmtleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmludktleVNjaGVkdWxlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnJjb24gPSB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICByZXR1cm4gQUVTRGVjcnlwdG9yO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFFU0RlY3J5cHRvcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9jcnlwdC9kZWNyeXB0ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2NyeXB0L2RlY3J5cHRlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBhZXNfY3J5cHRvXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Flcy1jcnlwdG8gKi8gXCIuL3NyYy9jcnlwdC9hZXMtY3J5cHRvLmpzXCIpO1xudmFyIGZhc3RfYWVzX2tleV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9mYXN0LWFlcy1rZXkgKi8gXCIuL3NyYy9jcnlwdC9mYXN0LWFlcy1rZXkuanNcIik7XG52YXIgYWVzX2RlY3J5cHRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9hZXMtZGVjcnlwdG9yICovIFwiLi9zcmMvY3J5cHQvYWVzLWRlY3J5cHRvci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBnZXRfc2VsZl9zY29wZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZ2V0LXNlbGYtc2NvcGUgKi8gXCIuL3NyYy91dGlscy9nZXQtc2VsZi1zY29wZS5qc1wiKTtcbi8vIHNlZSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTEyMzcyNTkvNTg5NDkzXG52YXIgZ2xvYmFsID0gZ2V0X3NlbGZfc2NvcGVfMS5nZXRTZWxmU2NvcGUoKTsgLy8gc2FmZWd1YXJkIGZvciBjb2RlIHRoYXQgbWlnaHQgcnVuIGJvdGggb24gd29ya2VyIGFuZCBtYWluIHRocmVhZFxudmFyIERlY3J5cHRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBEZWNyeXB0ZXIob2JzZXJ2ZXIsIGNvbmZpZywgX2EpIHtcbiAgICAgICAgdmFyIF9iID0gKF9hID09PSB2b2lkIDAgPyB7fSA6IF9hKS5yZW1vdmVQS0NTN1BhZGRpbmcsIHJlbW92ZVBLQ1M3UGFkZGluZyA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2I7XG4gICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucmVtb3ZlUEtDUzdQYWRkaW5nID0gcmVtb3ZlUEtDUzdQYWRkaW5nO1xuICAgICAgICAvLyBidWlsdCBpbiBkZWNyeXB0b3IgZXhwZWN0cyBQS0NTNyBwYWRkaW5nXG4gICAgICAgIGlmIChyZW1vdmVQS0NTN1BhZGRpbmcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGJyb3dzZXJDcnlwdG8gPSBnbG9iYWwuY3J5cHRvO1xuICAgICAgICAgICAgICAgIGlmIChicm93c2VyQ3J5cHRvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VidGxlID0gYnJvd3NlckNyeXB0by5zdWJ0bGUgfHwgYnJvd3NlckNyeXB0by53ZWJraXRTdWJ0bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzYWJsZVdlYkNyeXB0byA9ICF0aGlzLnN1YnRsZTtcbiAgICB9XG4gICAgRGVjcnlwdGVyLnByb3RvdHlwZS5pc1N5bmMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5kaXNhYmxlV2ViQ3J5cHRvICYmIHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKTtcbiAgICB9O1xuICAgIERlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdCA9IGZ1bmN0aW9uIChkYXRhLCBrZXksIGl2LCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAodGhpcy5kaXNhYmxlV2ViQ3J5cHRvICYmIHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5sb2dFbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnSlMgQUVTIGRlY3J5cHQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ0VuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkZWNyeXB0b3IgPSB0aGlzLmRlY3J5cHRvcjtcbiAgICAgICAgICAgIGlmICghZGVjcnlwdG9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWNyeXB0b3IgPSBkZWNyeXB0b3IgPSBuZXcgYWVzX2RlY3J5cHRvcl8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlY3J5cHRvci5leHBhbmRLZXkoa2V5KTtcbiAgICAgICAgICAgIGNhbGxiYWNrKGRlY3J5cHRvci5kZWNyeXB0KGRhdGEsIDAsIGl2LCB0aGlzLnJlbW92ZVBLQ1M3UGFkZGluZykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMubG9nRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ1dlYkNyeXB0byBBRVMgZGVjcnlwdCcpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN1YnRsZV8xID0gdGhpcy5zdWJ0bGU7XG4gICAgICAgICAgICBpZiAodGhpcy5rZXkgIT09IGtleSkge1xuICAgICAgICAgICAgICAgIHRoaXMua2V5ID0ga2V5O1xuICAgICAgICAgICAgICAgIHRoaXMuZmFzdEFlc0tleSA9IG5ldyBmYXN0X2Flc19rZXlfMS5kZWZhdWx0KHN1YnRsZV8xLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5mYXN0QWVzS2V5LmV4cGFuZEtleSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGFlc0tleSkge1xuICAgICAgICAgICAgICAgIC8vIGRlY3J5cHQgdXNpbmcgd2ViIGNyeXB0b1xuICAgICAgICAgICAgICAgIHZhciBjcnlwdG8gPSBuZXcgYWVzX2NyeXB0b18xLmRlZmF1bHQoc3VidGxlXzEsIGl2KTtcbiAgICAgICAgICAgICAgICBjcnlwdG8uZGVjcnlwdChkYXRhLCBhZXNLZXkpXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICAgIF90aGlzLm9uV2ViQ3J5cHRvRXJyb3IoZXJyLCBkYXRhLCBrZXksIGl2LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVjcnlwdGVyLnByb3RvdHlwZS5vbldlYkNyeXB0b0Vycm9yID0gZnVuY3Rpb24gKGVyciwgZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZVNvZnR3YXJlQUVTKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdXZWJDcnlwdG8gRXJyb3IsIGRpc2FibGUgV2ViQ3J5cHRvIEFQSScpO1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlV2ViQ3J5cHRvID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubG9nRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmRlY3J5cHQoZGF0YSwga2V5LCBpdiwgY2FsbGJhY2spO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKFwiZGVjcnlwdGluZyBlcnJvciA6IFwiICsgZXJyLm1lc3NhZ2UpO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfREVDUllQVF9FUlJPUiwgZmF0YWw6IHRydWUsIHJlYXNvbjogZXJyLm1lc3NhZ2UgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlY3J5cHRlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlY3J5cHRvciA9IHRoaXMuZGVjcnlwdG9yO1xuICAgICAgICBpZiAoZGVjcnlwdG9yKSB7XG4gICAgICAgICAgICBkZWNyeXB0b3IuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0b3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBEZWNyeXB0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRGVjcnlwdGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2NyeXB0L2Zhc3QtYWVzLWtleS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvY3J5cHQvZmFzdC1hZXMta2V5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEZhc3RBRVNLZXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmFzdEFFU0tleShzdWJ0bGUsIGtleSkge1xuICAgICAgICB0aGlzLnN1YnRsZSA9IHN1YnRsZTtcbiAgICAgICAgdGhpcy5rZXkgPSBrZXk7XG4gICAgfVxuICAgIEZhc3RBRVNLZXkucHJvdG90eXBlLmV4cGFuZEtleSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3VidGxlLmltcG9ydEtleSgncmF3JywgdGhpcy5rZXksIHsgbmFtZTogJ0FFUy1DQkMnIH0sIGZhbHNlLCBbJ2VuY3J5cHQnLCAnZGVjcnlwdCddKTtcbiAgICB9O1xuICAgIHJldHVybiBGYXN0QUVTS2V5O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZhc3RBRVNLZXk7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvYWFjZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2FhY2RlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogQUFDIGRlbXV4ZXJcbiAqL1xudmFyIEFEVFMgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2FkdHMgKi8gXCIuL3NyYy9kZW11eC9hZHRzLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGlkM18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvaWQzICovIFwiLi9zcmMvZGVtdXgvaWQzLmpzXCIpO1xudmFyIEFBQ0RlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQUFDRGVtdXhlcihvYnNlcnZlciwgcmVtdXhlciwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgICAgIHRoaXMucmVtdXhlciA9IHJlbXV4ZXI7XG4gICAgfVxuICAgIEFBQ0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0SW5pdFNlZ21lbnQgPSBmdW5jdGlvbiAoaW5pdFNlZ21lbnQsIGF1ZGlvQ29kZWMsIHZpZGVvQ29kZWMsIGR1cmF0aW9uKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL2FkdHMnLCB0eXBlOiAnYXVkaW8nLCBpZDogMCwgc2VxdWVuY2VOdW1iZXI6IDAsIGlzQUFDOiB0cnVlLCBzYW1wbGVzOiBbXSwgbGVuOiAwLCBtYW5pZmVzdENvZGVjOiBhdWRpb0NvZGVjLCBkdXJhdGlvbjogZHVyYXRpb24sIGlucHV0VGltZVNjYWxlOiA5MDAwMCB9O1xuICAgIH07XG4gICAgQUFDRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBBQUNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgZm9yIHRoZSBBRFRTIHN5bmMgd29yZFxuICAgICAgICAvLyBMb29rIGZvciBBRFRTIGhlYWRlciB8IDExMTEgMTExMSB8IDExMTEgWDAwWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDFcbiAgICAgICAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyAwIGZvciBBRFRTXG4gICAgICAgIC8vIE1vcmUgaW5mbyBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuICAgICAgICB2YXIgaWQzRGF0YSA9IGlkM18xLmRlZmF1bHQuZ2V0SUQzRGF0YShkYXRhLCAwKSB8fCBbXTtcbiAgICAgICAgdmFyIG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoO1xuICAgICAgICBmb3IgKHZhciBsZW5ndGhfMSA9IGRhdGEubGVuZ3RoOyBvZmZzZXQgPCBsZW5ndGhfMTsgb2Zmc2V0KyspIHtcbiAgICAgICAgICAgIGlmIChBRFRTLnByb2JlKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdBRFRTIHN5bmMgd29yZCBmb3VuZCAhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuICAgIEFBQ0RlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIHRyYWNrID0gdGhpcy5fYXVkaW9UcmFjaztcbiAgICAgICAgdmFyIGlkM0RhdGEgPSBpZDNfMS5kZWZhdWx0LmdldElEM0RhdGEoZGF0YSwgMCkgfHwgW107XG4gICAgICAgIHZhciB0aW1lc3RhbXAgPSBpZDNfMS5kZWZhdWx0LmdldFRpbWVTdGFtcChpZDNEYXRhKTtcbiAgICAgICAgdmFyIHB0cyA9IE51bWJlci5pc0Zpbml0ZSh0aW1lc3RhbXApID8gdGltZXN0YW1wICogOTAgOiB0aW1lT2Zmc2V0ICogOTAwMDA7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgdmFyIHN0YW1wID0gcHRzO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBvZmZzZXQgPSBpZDNEYXRhLmxlbmd0aDtcbiAgICAgICAgdmFyIGlkM1NhbXBsZXMgPSBbeyBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wLCBkYXRhOiBpZDNEYXRhIH1dO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaWYgKEFEVFMuaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSAmJiAob2Zmc2V0ICsgNSkgPCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBBRFRTLmluaXRUcmFja0NvbmZpZyh0cmFjaywgdGhpcy5vYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCB0cmFjay5tYW5pZmVzdENvZGVjKTtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBBRFRTLmFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHN0YW1wID0gZnJhbWUuc2FtcGxlLnB0cztcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVJbmRleCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnVW5hYmxlIHRvIHBhcnNlIEFBQyBmcmFtZScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpZDNfMS5kZWZhdWx0LmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWQzU2FtcGxlcy5wdXNoKHsgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9KTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbXV4ZXIucmVtdXgodHJhY2ssIHsgc2FtcGxlczogW10gfSwgeyBzYW1wbGVzOiBpZDNTYW1wbGVzLCBpbnB1dFRpbWVTY2FsZTogOTAwMDAgfSwgeyBzYW1wbGVzOiBbXSB9LCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgIH07XG4gICAgQUFDRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIHJldHVybiBBQUNEZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEFBQ0RlbXV4ZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L2FkdHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kZW11eC9hZHRzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogIEFEVFMgcGFyc2VyIGhlbHBlclxuICovXG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG5mdW5jdGlvbiBnZXRBdWRpb0NvbmZpZyhvYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCBhdWRpb0NvZGVjKSB7XG4gICAgdmFyIGFkdHNPYmplY3RUeXBlLCAvLyA6aW50XG4gICAgYWR0c1NhbXBsZWluZ0luZGV4LCAvLyA6aW50XG4gICAgYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4LCAvLyA6aW50XG4gICAgYWR0c0NoYW5lbENvbmZpZywgLy8gOmludFxuICAgIGNvbmZpZywgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLCBtYW5pZmVzdENvZGVjID0gYXVkaW9Db2RlYywgYWR0c1NhbXBsZWluZ1JhdGVzID0gW1xuICAgICAgICA5NjAwMCwgODgyMDAsXG4gICAgICAgIDY0MDAwLCA0ODAwMCxcbiAgICAgICAgNDQxMDAsIDMyMDAwLFxuICAgICAgICAyNDAwMCwgMjIwNTAsXG4gICAgICAgIDE2MDAwLCAxMjAwMCxcbiAgICAgICAgMTEwMjUsIDgwMDAsXG4gICAgICAgIDczNTBcbiAgICBdO1xuICAgIC8vIGJ5dGUgMlxuICAgIGFkdHNPYmplY3RUeXBlID0gKChkYXRhW29mZnNldCArIDJdICYgMHhDMCkgPj4+IDYpICsgMTtcbiAgICBhZHRzU2FtcGxlaW5nSW5kZXggPSAoKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDNDKSA+Pj4gMik7XG4gICAgaWYgKGFkdHNTYW1wbGVpbmdJbmRleCA+IGFkdHNTYW1wbGVpbmdSYXRlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogdHJ1ZSwgcmVhc29uOiBcImludmFsaWQgQURUUyBzYW1wbGluZyBpbmRleDpcIiArIGFkdHNTYW1wbGVpbmdJbmRleCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBhZHRzQ2hhbmVsQ29uZmlnID0gKChkYXRhW29mZnNldCArIDJdICYgMHgwMSkgPDwgMik7XG4gICAgLy8gYnl0ZSAzXG4gICAgYWR0c0NoYW5lbENvbmZpZyB8PSAoKGRhdGFbb2Zmc2V0ICsgM10gJiAweEMwKSA+Pj4gNik7XG4gICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIm1hbmlmZXN0IGNvZGVjOlwiICsgYXVkaW9Db2RlYyArIFwiLEFEVFMgZGF0YTp0eXBlOlwiICsgYWR0c09iamVjdFR5cGUgKyBcIixzYW1wbGVpbmdJbmRleDpcIiArIGFkdHNTYW1wbGVpbmdJbmRleCArIFwiW1wiICsgYWR0c1NhbXBsZWluZ1JhdGVzW2FkdHNTYW1wbGVpbmdJbmRleF0gKyBcIkh6XSxjaGFubmVsQ29uZmlnOlwiICsgYWR0c0NoYW5lbENvbmZpZyk7XG4gICAgLy8gZmlyZWZveDogZnJlcSBsZXNzIHRoYW4gMjRrSHogPSBBQUMgU0JSIChIRS1BQUMpXG4gICAgaWYgKC9maXJlZm94L2kudGVzdCh1c2VyQWdlbnQpKSB7XG4gICAgICAgIGlmIChhZHRzU2FtcGxlaW5nSW5kZXggPj0gNikge1xuICAgICAgICAgICAgYWR0c09iamVjdFR5cGUgPSA1O1xuICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDQpO1xuICAgICAgICAgICAgLy8gSEUtQUFDIHVzZXMgU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKSAsIGhpZ2ggZnJlcXVlbmNpZXMgYXJlIGNvbnN0cnVjdGVkIGZyb20gbG93IGZyZXF1ZW5jaWVzXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBhIGZhY3RvciAyIGJldHdlZW4gZnJhbWUgc2FtcGxlIHJhdGUgYW5kIG91dHB1dCBzYW1wbGUgcmF0ZVxuICAgICAgICAgICAgLy8gbXVsdGlwbHkgZnJlcXVlbmN5IGJ5IDIgKHNlZSB0YWJsZSBiZWxvdywgZXF1aXZhbGVudCB0byBzdWJzdHJhY3QgMylcbiAgICAgICAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleCAtIDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhZHRzT2JqZWN0VHlwZSA9IDI7XG4gICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICAgICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQW5kcm9pZCA6IGFsd2F5cyB1c2UgQUFDXG4gICAgfVxuICAgIGVsc2UgaWYgKHVzZXJBZ2VudC5pbmRleE9mKCdhbmRyb2lkJykgIT09IC0xKSB7XG4gICAgICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKiAgZm9yIG90aGVyIGJyb3dzZXJzIChDaHJvbWUvVml2YWxkaS9PcGVyYSAuLi4pXG4gICAgICAgICAgICBhbHdheXMgZm9yY2UgYXVkaW8gdHlwZSB0byBiZSBIRS1BQUMgU0JSLCBhcyBzb21lIGJyb3dzZXJzIGRvIG5vdCBzdXBwb3J0IGF1ZGlvIGNvZGVjIHN3aXRjaCBwcm9wZXJseSAobGlrZSBDaHJvbWUgLi4uKVxuICAgICAgICAqL1xuICAgICAgICBhZHRzT2JqZWN0VHlwZSA9IDU7XG4gICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSg0KTtcbiAgICAgICAgLy8gaWYgKG1hbmlmZXN0IGNvZGVjIGlzIEhFLUFBQyBvciBIRS1BQUN2MikgT1IgKG1hbmlmZXN0IGNvZGVjIG5vdCBzcGVjaWZpZWQgQU5EIGZyZXF1ZW5jeSBsZXNzIHRoYW4gMjRrSHopXG4gICAgICAgIGlmICgoYXVkaW9Db2RlYyAmJiAoKGF1ZGlvQ29kZWMuaW5kZXhPZignbXA0YS40MC4yOScpICE9PSAtMSkgfHxcbiAgICAgICAgICAgIChhdWRpb0NvZGVjLmluZGV4T2YoJ21wNGEuNDAuNScpICE9PSAtMSkpKSB8fFxuICAgICAgICAgICAgKCFhdWRpb0NvZGVjICYmIGFkdHNTYW1wbGVpbmdJbmRleCA+PSA2KSkge1xuICAgICAgICAgICAgLy8gSEUtQUFDIHVzZXMgU0JSIChTcGVjdHJhbCBCYW5kIFJlcGxpY2F0aW9uKSAsIGhpZ2ggZnJlcXVlbmNpZXMgYXJlIGNvbnN0cnVjdGVkIGZyb20gbG93IGZyZXF1ZW5jaWVzXG4gICAgICAgICAgICAvLyB0aGVyZSBpcyBhIGZhY3RvciAyIGJldHdlZW4gZnJhbWUgc2FtcGxlIHJhdGUgYW5kIG91dHB1dCBzYW1wbGUgcmF0ZVxuICAgICAgICAgICAgLy8gbXVsdGlwbHkgZnJlcXVlbmN5IGJ5IDIgKHNlZSB0YWJsZSBiZWxvdywgZXF1aXZhbGVudCB0byBzdWJzdHJhY3QgMylcbiAgICAgICAgICAgIGFkdHNFeHRlbnNpb25TYW1wbGVpbmdJbmRleCA9IGFkdHNTYW1wbGVpbmdJbmRleCAtIDM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBpZiAobWFuaWZlc3QgY29kZWMgaXMgQUFDKSBBTkQgKGZyZXF1ZW5jeSBsZXNzIHRoYW4gMjRrSHogQU5EIG5iIGNoYW5uZWwgaXMgMSkgT1IgKG1hbmlmZXN0IGNvZGVjIG5vdCBzcGVjaWZpZWQgYW5kIG1vbm8gYXVkaW8pXG4gICAgICAgICAgICAvLyBDaHJvbWUgZmFpbHMgdG8gcGxheSBiYWNrIHdpdGggbG93IGZyZXF1ZW5jeSBBQUMgTEMgbW9ubyB3aGVuIGluaXRpYWxpemVkIHdpdGggSEUtQUFDLiAgVGhpcyBpcyBub3QgYSBwcm9ibGVtIHdpdGggc3RlcmVvLlxuICAgICAgICAgICAgaWYgKGF1ZGlvQ29kZWMgJiYgYXVkaW9Db2RlYy5pbmRleE9mKCdtcDRhLjQwLjInKSAhPT0gLTEgJiYgKChhZHRzU2FtcGxlaW5nSW5kZXggPj0gNiAmJiBhZHRzQ2hhbmVsQ29uZmlnID09PSAxKSB8fFxuICAgICAgICAgICAgICAgIC92aXZhbGRpL2kudGVzdCh1c2VyQWdlbnQpKSB8fFxuICAgICAgICAgICAgICAgICghYXVkaW9Db2RlYyAmJiBhZHRzQ2hhbmVsQ29uZmlnID09PSAxKSkge1xuICAgICAgICAgICAgICAgIGFkdHNPYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggPSBhZHRzU2FtcGxlaW5nSW5kZXg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogcmVmZXIgdG8gaHR0cDovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9TVBFRy00X0F1ZGlvI0F1ZGlvX1NwZWNpZmljX0NvbmZpZ1xuICAgICAgICBJU08gMTQ0OTYtMyAoQUFDKS5wZGYgLSBUYWJsZSAxLjEzIOKAlCBTeW50YXggb2YgQXVkaW9TcGVjaWZpY0NvbmZpZygpXG4gICAgICBBdWRpbyBQcm9maWxlIC8gQXVkaW8gT2JqZWN0IFR5cGVcbiAgICAgIDA6IE51bGxcbiAgICAgIDE6IEFBQyBNYWluXG4gICAgICAyOiBBQUMgTEMgKExvdyBDb21wbGV4aXR5KVxuICAgICAgMzogQUFDIFNTUiAoU2NhbGFibGUgU2FtcGxlIFJhdGUpXG4gICAgICA0OiBBQUMgTFRQIChMb25nIFRlcm0gUHJlZGljdGlvbilcbiAgICAgIDU6IFNCUiAoU3BlY3RyYWwgQmFuZCBSZXBsaWNhdGlvbilcbiAgICAgIDY6IEFBQyBTY2FsYWJsZVxuICAgICBzYW1wbGluZyBmcmVxXG4gICAgICAwOiA5NjAwMCBIelxuICAgICAgMTogODgyMDAgSHpcbiAgICAgIDI6IDY0MDAwIEh6XG4gICAgICAzOiA0ODAwMCBIelxuICAgICAgNDogNDQxMDAgSHpcbiAgICAgIDU6IDMyMDAwIEh6XG4gICAgICA2OiAyNDAwMCBIelxuICAgICAgNzogMjIwNTAgSHpcbiAgICAgIDg6IDE2MDAwIEh6XG4gICAgICA5OiAxMjAwMCBIelxuICAgICAgMTA6IDExMDI1IEh6XG4gICAgICAxMTogODAwMCBIelxuICAgICAgMTI6IDczNTAgSHpcbiAgICAgIDEzOiBSZXNlcnZlZFxuICAgICAgMTQ6IFJlc2VydmVkXG4gICAgICAxNTogZnJlcXVlbmN5IGlzIHdyaXR0ZW4gZXhwbGljdGx5XG4gICAgICBDaGFubmVsIENvbmZpZ3VyYXRpb25zXG4gICAgICBUaGVzZSBhcmUgdGhlIGNoYW5uZWwgY29uZmlndXJhdGlvbnM6XG4gICAgICAwOiBEZWZpbmVkIGluIEFPVCBTcGVjaWZjIENvbmZpZ1xuICAgICAgMTogMSBjaGFubmVsOiBmcm9udC1jZW50ZXJcbiAgICAgIDI6IDIgY2hhbm5lbHM6IGZyb250LWxlZnQsIGZyb250LXJpZ2h0XG4gICAgKi9cbiAgICAvLyBhdWRpb09iamVjdFR5cGUgPSBwcm9maWxlID0+IHByb2ZpbGUsIHRoZSBNUEVHLTQgQXVkaW8gT2JqZWN0IFR5cGUgbWludXMgMVxuICAgIGNvbmZpZ1swXSA9IGFkdHNPYmplY3RUeXBlIDw8IDM7XG4gICAgLy8gc2FtcGxpbmdGcmVxdWVuY3lJbmRleFxuICAgIGNvbmZpZ1swXSB8PSAoYWR0c1NhbXBsZWluZ0luZGV4ICYgMHgwRSkgPj4gMTtcbiAgICBjb25maWdbMV0gfD0gKGFkdHNTYW1wbGVpbmdJbmRleCAmIDB4MDEpIDw8IDc7XG4gICAgLy8gY2hhbm5lbENvbmZpZ3VyYXRpb25cbiAgICBjb25maWdbMV0gfD0gYWR0c0NoYW5lbENvbmZpZyA8PCAzO1xuICAgIGlmIChhZHRzT2JqZWN0VHlwZSA9PT0gNSkge1xuICAgICAgICAvLyBhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXhcbiAgICAgICAgY29uZmlnWzFdIHw9IChhZHRzRXh0ZW5zaW9uU2FtcGxlaW5nSW5kZXggJiAweDBFKSA+PiAxO1xuICAgICAgICBjb25maWdbMl0gPSAoYWR0c0V4dGVuc2lvblNhbXBsZWluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgICAgICAgLy8gYWR0c09iamVjdFR5cGUgKGZvcmNlIHRvIDIsIGNocm9tZSBpcyBjaGVja2luZyB0aGF0IG9iamVjdCB0eXBlIGlzIGxlc3MgdGhhbiA1ID8/P1xuICAgICAgICAvLyAgICBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vY2hyb21pdW0vc3JjLmdpdC8rL21hc3Rlci9tZWRpYS9mb3JtYXRzL21wNC9hYWMuY2NcbiAgICAgICAgY29uZmlnWzJdIHw9IDIgPDwgMjtcbiAgICAgICAgY29uZmlnWzNdID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIHsgY29uZmlnOiBjb25maWcsIHNhbXBsZXJhdGU6IGFkdHNTYW1wbGVpbmdSYXRlc1thZHRzU2FtcGxlaW5nSW5kZXhdLCBjaGFubmVsQ291bnQ6IGFkdHNDaGFuZWxDb25maWcsIGNvZGVjOiAoJ21wNGEuNDAuJyArIGFkdHNPYmplY3RUeXBlKSwgbWFuaWZlc3RDb2RlYzogbWFuaWZlc3RDb2RlYyB9O1xufVxuZXhwb3J0cy5nZXRBdWRpb0NvbmZpZyA9IGdldEF1ZGlvQ29uZmlnO1xuZnVuY3Rpb24gaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkge1xuICAgIHJldHVybiBkYXRhW29mZnNldF0gPT09IDB4ZmYgJiYgKGRhdGFbb2Zmc2V0ICsgMV0gJiAweGY2KSA9PT0gMHhmMDtcbn1cbmV4cG9ydHMuaXNIZWFkZXJQYXR0ZXJuID0gaXNIZWFkZXJQYXR0ZXJuO1xuZnVuY3Rpb24gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCkge1xuICAgIHJldHVybiAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MDEgPyA3IDogOSk7XG59XG5leHBvcnRzLmdldEhlYWRlckxlbmd0aCA9IGdldEhlYWRlckxlbmd0aDtcbmZ1bmN0aW9uIGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpIHtcbiAgICByZXR1cm4gKChkYXRhW29mZnNldCArIDNdICYgMHgwMykgPDwgMTEpIHxcbiAgICAgICAgKGRhdGFbb2Zmc2V0ICsgNF0gPDwgMykgfFxuICAgICAgICAoKGRhdGFbb2Zmc2V0ICsgNV0gJiAweEUwKSA+Pj4gNSk7XG59XG5leHBvcnRzLmdldEZ1bGxGcmFtZUxlbmd0aCA9IGdldEZ1bGxGcmFtZUxlbmd0aDtcbmZ1bmN0aW9uIGlzSGVhZGVyKGRhdGEsIG9mZnNldCkge1xuICAgIC8vIExvb2sgZm9yIEFEVFMgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExMSBYMDBYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMVxuICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgMCBmb3IgQURUU1xuICAgIC8vIE1vcmUgaW5mbyBodHRwczovL3dpa2kubXVsdGltZWRpYS5jeC9pbmRleC5waHA/dGl0bGU9QURUU1xuICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMuaXNIZWFkZXIgPSBpc0hlYWRlcjtcbmZ1bmN0aW9uIHByb2JlKGRhdGEsIG9mZnNldCkge1xuICAgIC8vIHNhbWUgYXMgaXNIZWFkZXIgYnV0IHdlIGFsc28gY2hlY2sgdGhhdCBBRFRTIGZyYW1lIGZvbGxvd3MgbGFzdCBBRFRTIGZyYW1lXG4gICAgLy8gb3IgZW5kIG9mIGRhdGEgaXMgcmVhY2hlZFxuICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgLy8gQURUUyBoZWFkZXIgTGVuZ3RoXG4gICAgICAgIHZhciBoZWFkZXJMZW5ndGggPSBnZXRIZWFkZXJMZW5ndGgoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgLy8gQURUUyBmcmFtZSBMZW5ndGhcbiAgICAgICAgdmFyIGZyYW1lTGVuZ3RoID0gaGVhZGVyTGVuZ3RoO1xuICAgICAgICBpZiAob2Zmc2V0ICsgNSA8IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBmcmFtZUxlbmd0aCA9IGdldEZ1bGxGcmFtZUxlbmd0aChkYXRhLCBvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBuZXdPZmZzZXQgPSBvZmZzZXQgKyBmcmFtZUxlbmd0aDtcbiAgICAgICAgaWYgKG5ld09mZnNldCA9PT0gZGF0YS5sZW5ndGggfHwgKG5ld09mZnNldCArIDEgPCBkYXRhLmxlbmd0aCAmJiBpc0hlYWRlclBhdHRlcm4oZGF0YSwgbmV3T2Zmc2V0KSkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydHMucHJvYmUgPSBwcm9iZTtcbmZ1bmN0aW9uIGluaXRUcmFja0NvbmZpZyh0cmFjaywgb2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgYXVkaW9Db2RlYykge1xuICAgIGlmICghdHJhY2suc2FtcGxlcmF0ZSkge1xuICAgICAgICB2YXIgY29uZmlnID0gZ2V0QXVkaW9Db25maWcob2JzZXJ2ZXIsIGRhdGEsIG9mZnNldCwgYXVkaW9Db2RlYyk7XG4gICAgICAgIHRyYWNrLmNvbmZpZyA9IGNvbmZpZy5jb25maWc7XG4gICAgICAgIHRyYWNrLnNhbXBsZXJhdGUgPSBjb25maWcuc2FtcGxlcmF0ZTtcbiAgICAgICAgdHJhY2suY2hhbm5lbENvdW50ID0gY29uZmlnLmNoYW5uZWxDb3VudDtcbiAgICAgICAgdHJhY2suY29kZWMgPSBjb25maWcuY29kZWM7XG4gICAgICAgIHRyYWNrLm1hbmlmZXN0Q29kZWMgPSBjb25maWcubWFuaWZlc3RDb2RlYztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInBhcnNlZCBjb2RlYzpcIiArIHRyYWNrLmNvZGVjICsgXCIscmF0ZTpcIiArIGNvbmZpZy5zYW1wbGVyYXRlICsgXCIsbmIgY2hhbm5lbDpcIiArIGNvbmZpZy5jaGFubmVsQ291bnQpO1xuICAgIH1cbn1cbmV4cG9ydHMuaW5pdFRyYWNrQ29uZmlnID0gaW5pdFRyYWNrQ29uZmlnO1xuZnVuY3Rpb24gZ2V0RnJhbWVEdXJhdGlvbihzYW1wbGVyYXRlKSB7XG4gICAgcmV0dXJuIDEwMjQgKiA5MDAwMCAvIHNhbXBsZXJhdGU7XG59XG5leHBvcnRzLmdldEZyYW1lRHVyYXRpb24gPSBnZXRGcmFtZUR1cmF0aW9uO1xuZnVuY3Rpb24gcGFyc2VGcmFtZUhlYWRlcihkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCwgZnJhbWVEdXJhdGlvbikge1xuICAgIHZhciBoZWFkZXJMZW5ndGgsIGZyYW1lTGVuZ3RoLCBzdGFtcDtcbiAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgLy8gVGhlIHByb3RlY3Rpb24gc2tpcCBiaXQgdGVsbHMgdXMgaWYgd2UgaGF2ZSAyIGJ5dGVzIG9mIENSQyBkYXRhIGF0IHRoZSBlbmQgb2YgdGhlIEFEVFMgaGVhZGVyXG4gICAgaGVhZGVyTGVuZ3RoID0gZ2V0SGVhZGVyTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gICAgLy8gcmV0cmlldmUgZnJhbWUgc2l6ZVxuICAgIGZyYW1lTGVuZ3RoID0gZ2V0RnVsbEZyYW1lTGVuZ3RoKGRhdGEsIG9mZnNldCk7XG4gICAgZnJhbWVMZW5ndGggLT0gaGVhZGVyTGVuZ3RoO1xuICAgIGlmICgoZnJhbWVMZW5ndGggPiAwKSAmJiAoKG9mZnNldCArIGhlYWRlckxlbmd0aCArIGZyYW1lTGVuZ3RoKSA8PSBsZW5ndGgpKSB7XG4gICAgICAgIHN0YW1wID0gcHRzICsgZnJhbWVJbmRleCAqIGZyYW1lRHVyYXRpb247XG4gICAgICAgIC8vIGxvZ2dlci5sb2coYEFBQyBmcmFtZSwgb2Zmc2V0L2xlbmd0aC90b3RhbC9wdHM6JHtvZmZzZXQraGVhZGVyTGVuZ3RofS8ke2ZyYW1lTGVuZ3RofS8ke2RhdGEuYnl0ZUxlbmd0aH0vJHsoc3RhbXAvOTApLnRvRml4ZWQoMCl9YCk7XG4gICAgICAgIHJldHVybiB7IGhlYWRlckxlbmd0aDogaGVhZGVyTGVuZ3RoLCBmcmFtZUxlbmd0aDogZnJhbWVMZW5ndGgsIHN0YW1wOiBzdGFtcCB9O1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0cy5wYXJzZUZyYW1lSGVhZGVyID0gcGFyc2VGcmFtZUhlYWRlcjtcbmZ1bmN0aW9uIGFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCkge1xuICAgIHZhciBmcmFtZUR1cmF0aW9uID0gZ2V0RnJhbWVEdXJhdGlvbih0cmFjay5zYW1wbGVyYXRlKTtcbiAgICB2YXIgaGVhZGVyID0gcGFyc2VGcmFtZUhlYWRlcihkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCwgZnJhbWVEdXJhdGlvbik7XG4gICAgaWYgKGhlYWRlcikge1xuICAgICAgICB2YXIgc3RhbXAgPSBoZWFkZXIuc3RhbXA7XG4gICAgICAgIHZhciBoZWFkZXJMZW5ndGggPSBoZWFkZXIuaGVhZGVyTGVuZ3RoO1xuICAgICAgICB2YXIgZnJhbWVMZW5ndGggPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgIC8vIGxvZ2dlci5sb2coYEFBQyBmcmFtZSwgb2Zmc2V0L2xlbmd0aC90b3RhbC9wdHM6JHtvZmZzZXQraGVhZGVyTGVuZ3RofS8ke2ZyYW1lTGVuZ3RofS8ke2RhdGEuYnl0ZUxlbmd0aH0vJHsoc3RhbXAvOTApLnRvRml4ZWQoMCl9YCk7XG4gICAgICAgIHZhciBhYWNTYW1wbGUgPSB7XG4gICAgICAgICAgICB1bml0OiBkYXRhLnN1YmFycmF5KG9mZnNldCArIGhlYWRlckxlbmd0aCwgb2Zmc2V0ICsgaGVhZGVyTGVuZ3RoICsgZnJhbWVMZW5ndGgpLFxuICAgICAgICAgICAgcHRzOiBzdGFtcCxcbiAgICAgICAgICAgIGR0czogc3RhbXBcbiAgICAgICAgfTtcbiAgICAgICAgdHJhY2suc2FtcGxlcy5wdXNoKGFhY1NhbXBsZSk7XG4gICAgICAgIHRyYWNrLmxlbiArPSBmcmFtZUxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHsgc2FtcGxlOiBhYWNTYW1wbGUsIGxlbmd0aDogZnJhbWVMZW5ndGggKyBoZWFkZXJMZW5ndGggfTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbmV4cG9ydHMuYXBwZW5kRnJhbWUgPSBhcHBlbmRGcmFtZTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKlxuICogaW5saW5lIGRlbXV4ZXI6IHByb2JlIGZyYWdtZW50cyBhbmQgaW5zdGFudGlhdGVcbiAqIGFwcHJvcHJpYXRlIGRlbXV4ZXIgZGVwZW5kaW5nIG9uIGNvbnRlbnQgdHlwZSAoVFNEZW11eGVyLCBBQUNEZW11eGVyLCAuLi4pXG4gKlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgZGVjcnlwdGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9jcnlwdC9kZWNyeXB0ZXIgKi8gXCIuL3NyYy9jcnlwdC9kZWNyeXB0ZXIuanNcIik7XG52YXIgYWFjZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvYWFjZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L2FhY2RlbXV4ZXIuanNcIik7XG52YXIgbXA0ZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvbXA0ZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L21wNGRlbXV4ZXIuanNcIik7XG52YXIgdHNkZW11eGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC90c2RlbXV4ZXIgKi8gXCIuL3NyYy9kZW11eC90c2RlbXV4ZXIuanNcIik7XG52YXIgbXAzZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvbXAzZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L21wM2RlbXV4ZXIuanNcIik7XG52YXIgbXA0X3JlbXV4ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3JlbXV4L21wNC1yZW11eGVyICovIFwiLi9zcmMvcmVtdXgvbXA0LXJlbXV4ZXIuanNcIik7XG52YXIgcGFzc3Rocm91Z2hfcmVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vcmVtdXgvcGFzc3Rocm91Z2gtcmVtdXhlciAqLyBcIi4vc3JjL3JlbXV4L3Bhc3N0aHJvdWdoLXJlbXV4ZXIuanNcIik7XG52YXIgZ2V0X3NlbGZfc2NvcGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2dldC1zZWxmLXNjb3BlICovIFwiLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG4vLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExMjM3MjU5LzU4OTQ5M1xudmFyIGdsb2JhbCA9IGdldF9zZWxmX3Njb3BlXzEuZ2V0U2VsZlNjb3BlKCk7IC8vIHNhZmVndWFyZCBmb3IgY29kZSB0aGF0IG1pZ2h0IHJ1biBib3RoIG9uIHdvcmtlciBhbmQgbWFpbiB0aHJlYWRcbnZhciBub3c7XG4vLyBwZXJmb3JtYW5jZS5ub3coKSBub3QgYXZhaWxhYmxlIG9uIFdlYldvcmtlciwgYXQgbGVhc3Qgb24gU2FmYXJpIERlc2t0b3BcbnRyeSB7XG4gICAgbm93ID0gZ2xvYmFsLnBlcmZvcm1hbmNlLm5vdy5iaW5kKGdsb2JhbC5wZXJmb3JtYW5jZSk7XG59XG5jYXRjaCAoZXJyKSB7XG4gICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKCdVbmFibGUgdG8gdXNlIFBlcmZvcm1hbmNlIEFQSSBvbiB0aGlzIGVudmlyb25tZW50Jyk7XG4gICAgbm93ID0gZ2xvYmFsLkRhdGUubm93O1xufVxudmFyIERlbXV4ZXJJbmxpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVtdXhlcklubGluZShvYnNlcnZlciwgdHlwZVN1cHBvcnRlZCwgY29uZmlnLCB2ZW5kb3IpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy52ZW5kb3IgPSB2ZW5kb3I7XG4gICAgfVxuICAgIERlbXV4ZXJJbmxpbmUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgICBpZiAoZGVtdXhlcikge1xuICAgICAgICAgICAgZGVtdXhlci5kZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIERlbXV4ZXJJbmxpbmUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZGF0YSwgZGVjcnlwdGRhdGEsIGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKChkYXRhLmJ5dGVMZW5ndGggPiAwKSAmJiAoZGVjcnlwdGRhdGEgIT0gbnVsbCkgJiYgKGRlY3J5cHRkYXRhLmtleSAhPSBudWxsKSAmJiAoZGVjcnlwdGRhdGEubWV0aG9kID09PSAnQUVTLTEyOCcpKSB7XG4gICAgICAgICAgICB2YXIgZGVjcnlwdGVyID0gdGhpcy5kZWNyeXB0ZXI7XG4gICAgICAgICAgICBpZiAoZGVjcnlwdGVyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkZWNyeXB0ZXIgPSB0aGlzLmRlY3J5cHRlciA9IG5ldyBkZWNyeXB0ZXJfMS5kZWZhdWx0KHRoaXMub2JzZXJ2ZXIsIHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdGFydFRpbWVfMSA9IG5vdygpO1xuICAgICAgICAgICAgZGVjcnlwdGVyLmRlY3J5cHQoZGF0YSwgZGVjcnlwdGRhdGEua2V5LmJ1ZmZlciwgZGVjcnlwdGRhdGEuaXYuYnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBlbmRUaW1lID0gbm93KCk7XG4gICAgICAgICAgICAgICAgX3RoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfREVDUllQVEVELCB7IHN0YXRzOiB7IHRzdGFydDogc3RhcnRUaW1lXzEsIHRkZWNyeXB0OiBlbmRUaW1lIH0gfSk7XG4gICAgICAgICAgICAgICAgX3RoaXMucHVzaERlY3J5cHRlZChuZXcgVWludDhBcnJheShkZWNyeXB0ZWREYXRhKSwgZGVjcnlwdGRhdGEsIG5ldyBVaW50OEFycmF5KGluaXRTZWdtZW50KSwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wdXNoRGVjcnlwdGVkKG5ldyBVaW50OEFycmF5KGRhdGEpLCBkZWNyeXB0ZGF0YSwgbmV3IFVpbnQ4QXJyYXkoaW5pdFNlZ21lbnQpLCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaCwgY29udGlndW91cywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBEZW11eGVySW5saW5lLnByb3RvdHlwZS5wdXNoRGVjcnlwdGVkID0gZnVuY3Rpb24gKGRhdGEsIGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKSB7XG4gICAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgICBpZiAoIWRlbXV4ZXIgfHxcbiAgICAgICAgICAgIC8vIGluIGNhc2Ugb2YgY29udGludWl0eSBjaGFuZ2UsIG9yIHRyYWNrIHN3aXRjaFxuICAgICAgICAgICAgLy8gd2UgbWlnaHQgc3dpdGNoIGZyb20gY29udGVudCB0eXBlIChBQUMgY29udGFpbmVyIHRvIFRTIGNvbnRhaW5lciwgb3IgVFMgdG8gZm1wNCBmb3IgZXhhbXBsZSlcbiAgICAgICAgICAgIC8vIHNvIGxldCdzIGNoZWNrIHRoYXQgY3VycmVudCBkZW11eGVyIGlzIHN0aWxsIHZhbGlkXG4gICAgICAgICAgICAoKGRpc2NvbnRpbnVpdHkgfHwgdHJhY2tTd2l0Y2gpICYmICF0aGlzLnByb2JlKGRhdGEpKSkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlcjtcbiAgICAgICAgICAgIHZhciB0eXBlU3VwcG9ydGVkID0gdGhpcy50eXBlU3VwcG9ydGVkO1xuICAgICAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuY29uZmlnO1xuICAgICAgICAgICAgLy8gcHJvYmluZyBvcmRlciBpcyBUUy9BQUMvTVAzL01QNFxuICAgICAgICAgICAgdmFyIG11eENvbmZpZyA9IFtcbiAgICAgICAgICAgICAgICB7IGRlbXV4OiB0c2RlbXV4ZXJfMS5kZWZhdWx0LCByZW11eDogbXA0X3JlbXV4ZXJfMS5kZWZhdWx0IH0sXG4gICAgICAgICAgICAgICAgeyBkZW11eDogbXA0ZGVtdXhlcl8xLmRlZmF1bHQsIHJlbXV4OiBwYXNzdGhyb3VnaF9yZW11eGVyXzEuZGVmYXVsdCB9LFxuICAgICAgICAgICAgICAgIHsgZGVtdXg6IGFhY2RlbXV4ZXJfMS5kZWZhdWx0LCByZW11eDogbXA0X3JlbXV4ZXJfMS5kZWZhdWx0IH0sXG4gICAgICAgICAgICAgICAgeyBkZW11eDogbXAzZGVtdXhlcl8xLmRlZmF1bHQsIHJlbXV4OiBtcDRfcmVtdXhlcl8xLmRlZmF1bHQgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIC8vIHByb2JlIGZvciBjb250ZW50IHR5cGVcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtdXhDb25maWcubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbXV4ID0gbXV4Q29uZmlnW2ldO1xuICAgICAgICAgICAgICAgIHZhciBwcm9iZSA9IG11eC5kZW11eC5wcm9iZTtcbiAgICAgICAgICAgICAgICBpZiAocHJvYmUoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbXV4ZXJfMSA9IHRoaXMucmVtdXhlciA9IG5ldyBtdXgucmVtdXgob2JzZXJ2ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCwgdGhpcy52ZW5kb3IpO1xuICAgICAgICAgICAgICAgICAgICBkZW11eGVyID0gbmV3IG11eC5kZW11eChvYnNlcnZlciwgcmVtdXhlcl8xLCBjb25maWcsIHR5cGVTdXBwb3J0ZWQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2JlID0gcHJvYmU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGVtdXhlcikge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk1FRElBX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuRlJBR19QQVJTSU5HX0VSUk9SLCBmYXRhbDogdHJ1ZSwgcmVhc29uOiAnbm8gZGVtdXggbWF0Y2hpbmcgd2l0aCBjb250ZW50IGZvdW5kJyB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBkZW11eGVyO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZW11eGVyID0gdGhpcy5yZW11eGVyO1xuICAgICAgICBpZiAoZGlzY29udGludWl0eSB8fCB0cmFja1N3aXRjaCkge1xuICAgICAgICAgICAgZGVtdXhlci5yZXNldEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbik7XG4gICAgICAgICAgICByZW11eGVyLnJlc2V0SW5pdFNlZ21lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzY29udGludWl0eSkge1xuICAgICAgICAgICAgZGVtdXhlci5yZXNldFRpbWVTdGFtcChkZWZhdWx0SW5pdFBUUyk7XG4gICAgICAgICAgICByZW11eGVyLnJlc2V0VGltZVN0YW1wKGRlZmF1bHRJbml0UFRTKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRlbXV4ZXIuc2V0RGVjcnlwdERhdGEoZGVjcnlwdGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGRlbXV4ZXIuYXBwZW5kKGRhdGEsIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgfTtcbiAgICByZXR1cm4gRGVtdXhlcklubGluZTtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBEZW11eGVySW5saW5lO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L2RlbXV4ZXItd29ya2VyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2RlbXV4ZXItd29ya2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKiBkZW11eGVyIHdlYiB3b3JrZXIuXG4gKiAgLSBsaXN0ZW4gdG8gd29ya2VyIG1lc3NhZ2UsIGFuZCB0cmlnZ2VyIERlbXV4ZXJJbmxpbmUgdXBvbiByZWNlcHRpb24gb2YgRnJhZ21lbnRzLlxuICogIC0gcHJvdmlkZXMgTVA0IEJveGVzIGJhY2sgdG8gbWFpbiB0aHJlYWQgdXNpbmcgW3RyYW5zZmVyYWJsZSBvYmplY3RzXShodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDExLzEyL1RyYW5zZmVyYWJsZS1PYmplY3RzLUxpZ2h0bmluZy1GYXN0KSBpbiBvcmRlciB0byBtaW5pbWl6ZSBtZXNzYWdlIHBhc3Npbmcgb3ZlcmhlYWQuXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkZW11eGVyX2lubGluZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvZGVtdXhlci1pbmxpbmUgKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLWlubGluZS5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBldmVudHNfMiA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIGV2ZW50cyAqLyBcIi4vbm9kZV9tb2R1bGVzL25vZGUtbGlicy1icm93c2VyL25vZGVfbW9kdWxlcy9ldmVudHMvZXZlbnRzLmpzXCIpO1xudmFyIERlbXV4ZXJXb3JrZXIgPSBmdW5jdGlvbiAoc2VsZikge1xuICAgIC8vIG9ic2VydmVyIHNldHVwXG4gICAgdmFyIG9ic2VydmVyID0gbmV3IGV2ZW50c18yLkV2ZW50RW1pdHRlcigpO1xuICAgIG9ic2VydmVyLnRyaWdnZXIgPSBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBkYXRhW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIG9ic2VydmVyLmVtaXQuYXBwbHkob2JzZXJ2ZXIsIFtldmVudCwgZXZlbnRdLmNvbmNhdChkYXRhKSk7XG4gICAgfTtcbiAgICBvYnNlcnZlci5vZmYgPSBmdW5jdGlvbiBvZmYoZXZlbnQpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGRhdGFbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgb2JzZXJ2ZXIucmVtb3ZlTGlzdGVuZXIuYXBwbHkob2JzZXJ2ZXIsIFtldmVudF0uY29uY2F0KGRhdGEpKTtcbiAgICB9O1xuICAgIHZhciBmb3J3YXJkTWVzc2FnZSA9IGZ1bmN0aW9uIChldiwgZGF0YSkge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHsgZXZlbnQ6IGV2LCBkYXRhOiBkYXRhIH0pO1xuICAgIH07XG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHZhciBkYXRhID0gZXYuZGF0YTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RlbXV4ZXIgY21kOicgKyBkYXRhLmNtZCk7XG4gICAgICAgIHN3aXRjaCAoZGF0YS5jbWQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2luaXQnOlxuICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBKU09OLnBhcnNlKGRhdGEuY29uZmlnKTtcbiAgICAgICAgICAgICAgICBzZWxmLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl9pbmxpbmVfMS5kZWZhdWx0KG9ic2VydmVyLCBkYXRhLnR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgZGF0YS52ZW5kb3IpO1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmVuYWJsZUxvZ3MoY29uZmlnLmRlYnVnKTtcbiAgICAgICAgICAgICAgICAvLyBzaWduYWwgZW5kIG9mIHdvcmtlciBpbml0XG4gICAgICAgICAgICAgICAgZm9yd2FyZE1lc3NhZ2UoJ2luaXQnLCBudWxsKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RlbXV4JzpcbiAgICAgICAgICAgICAgICBzZWxmLmRlbXV4ZXIucHVzaChkYXRhLmRhdGEsIGRhdGEuZGVjcnlwdGRhdGEsIGRhdGEuaW5pdFNlZ21lbnQsIGRhdGEuYXVkaW9Db2RlYywgZGF0YS52aWRlb0NvZGVjLCBkYXRhLnRpbWVPZmZzZXQsIGRhdGEuZGlzY29udGludWl0eSwgZGF0YS50cmFja1N3aXRjaCwgZGF0YS5jb250aWd1b3VzLCBkYXRhLmR1cmF0aW9uLCBkYXRhLmFjY3VyYXRlVGltZU9mZnNldCwgZGF0YS5kZWZhdWx0SW5pdFBUUyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgLy8gZm9yd2FyZCBldmVudHMgdG8gbWFpbiB0aHJlYWRcbiAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkZSQUdfREVDUllQVEVELCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGZvcndhcmRNZXNzYWdlKTtcbiAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19NRVRBREFUQSwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5JTklUX1BUU19GT1VORCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgRlJBR19QQVJTSU5HX0RBVEE6IHBhc3MgZGF0YTEvZGF0YTIgYXMgdHJhbnNmZXJhYmxlIG9iamVjdCAobm8gY29weSlcbiAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19EQVRBLCBmdW5jdGlvbiAoZXYsIGRhdGEpIHtcbiAgICAgICAgdmFyIHRyYW5zZmVyYWJsZSA9IFtdO1xuICAgICAgICB2YXIgbWVzc2FnZSA9IHsgZXZlbnQ6IGV2LCBkYXRhOiBkYXRhIH07XG4gICAgICAgIGlmIChkYXRhLmRhdGExKSB7XG4gICAgICAgICAgICBtZXNzYWdlLmRhdGExID0gZGF0YS5kYXRhMS5idWZmZXI7XG4gICAgICAgICAgICB0cmFuc2ZlcmFibGUucHVzaChkYXRhLmRhdGExLmJ1ZmZlcik7XG4gICAgICAgICAgICBkZWxldGUgZGF0YS5kYXRhMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5kYXRhMikge1xuICAgICAgICAgICAgbWVzc2FnZS5kYXRhMiA9IGRhdGEuZGF0YTIuYnVmZmVyO1xuICAgICAgICAgICAgdHJhbnNmZXJhYmxlLnB1c2goZGF0YS5kYXRhMi5idWZmZXIpO1xuICAgICAgICAgICAgZGVsZXRlIGRhdGEuZGF0YTI7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZShtZXNzYWdlLCB0cmFuc2ZlcmFibGUpO1xuICAgIH0pO1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IERlbXV4ZXJXb3JrZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2RlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB3b3JrID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgd2Vid29ya2lmeS13ZWJwYWNrICovIFwiLi9ub2RlX21vZHVsZXMvd2Vid29ya2lmeS13ZWJwYWNrL2luZGV4LmpzXCIpO1xudmFyIGV2ZW50c18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIGRlbXV4ZXJfaW5saW5lXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9kZW11eGVyLWlubGluZSAqLyBcIi4vc3JjL2RlbXV4L2RlbXV4ZXItaW5saW5lLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGVycm9yc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXJyb3JzICovIFwiLi9zcmMvZXJyb3JzLmpzXCIpO1xudmFyIG1lZGlhc291cmNlX2hlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyICovIFwiLi9zcmMvdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyLmpzXCIpO1xudmFyIGdldF9zZWxmX3Njb3BlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nZXQtc2VsZi1zY29wZSAqLyBcIi4vc3JjL3V0aWxzL2dldC1zZWxmLXNjb3BlLmpzXCIpO1xudmFyIG9ic2VydmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9vYnNlcnZlciAqLyBcIi4vc3JjL29ic2VydmVyLmpzXCIpO1xuLy8gc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMTIzNzI1OS81ODk0OTNcbnZhciBnbG9iYWwgPSBnZXRfc2VsZl9zY29wZV8xLmdldFNlbGZTY29wZSgpOyAvLyBzYWZlZ3VhcmQgZm9yIGNvZGUgdGhhdCBtaWdodCBydW4gYm90aCBvbiB3b3JrZXIgYW5kIG1haW4gdGhyZWFkXG52YXIgTWVkaWFTb3VyY2UgPSBtZWRpYXNvdXJjZV9oZWxwZXJfMS5nZXRNZWRpYVNvdXJjZSgpO1xudmFyIERlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRGVtdXhlcihobHMsIGlkKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuaGxzID0gaGxzO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXIgPSBuZXcgb2JzZXJ2ZXJfMS5PYnNlcnZlcigpO1xuICAgICAgICB2YXIgY29uZmlnID0gaGxzLmNvbmZpZztcbiAgICAgICAgdmFyIGZvcndhcmRNZXNzYWdlID0gZnVuY3Rpb24gKGV2LCBkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gZGF0YSB8fCB7fTtcbiAgICAgICAgICAgIGRhdGEuZnJhZyA9IF90aGlzLmZyYWc7XG4gICAgICAgICAgICBkYXRhLmlkID0gX3RoaXMuaWQ7XG4gICAgICAgICAgICBobHMudHJpZ2dlcihldiwgZGF0YSk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGZvcndhcmQgZXZlbnRzIHRvIG1haW4gdGhyZWFkXG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19ERUNSWVBURUQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfSU5JVF9TRUdNRU5ULCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIGZvcndhcmRNZXNzYWdlKTtcbiAgICAgICAgb2JzZXJ2ZXIub24oZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCwgZm9yd2FyZE1lc3NhZ2UpO1xuICAgICAgICBvYnNlcnZlci5vbihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX01FVEFEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX1VTRVJEQVRBLCBmb3J3YXJkTWVzc2FnZSk7XG4gICAgICAgIG9ic2VydmVyLm9uKGV2ZW50c18xLmRlZmF1bHQuSU5JVF9QVFNfRk9VTkQsIGZvcndhcmRNZXNzYWdlKTtcbiAgICAgICAgdmFyIHR5cGVTdXBwb3J0ZWQgPSB7XG4gICAgICAgICAgICBtcDQ6IE1lZGlhU291cmNlLmlzVHlwZVN1cHBvcnRlZCgndmlkZW8vbXA0JyksXG4gICAgICAgICAgICBtcGVnOiBNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoJ2F1ZGlvL21wZWcnKSxcbiAgICAgICAgICAgIG1wMzogTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCdhdWRpby9tcDQ7IGNvZGVjcz1cIm1wM1wiJylcbiAgICAgICAgfTtcbiAgICAgICAgLy8gbmF2aWdhdG9yLnZlbmRvciBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZSBpbiBXZWIgV29ya2VyXG4gICAgICAgIC8vIHJlZmVyIHRvIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Xb3JrZXJHbG9iYWxTY29wZS9uYXZpZ2F0b3JcbiAgICAgICAgdmFyIHZlbmRvciA9IG5hdmlnYXRvci52ZW5kb3I7XG4gICAgICAgIGlmIChjb25maWcuZW5hYmxlV29ya2VyICYmICh0eXBlb2YgKFdvcmtlcikgIT09ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGVtdXhpbmcgaW4gd2Vid29ya2VyJyk7XG4gICAgICAgICAgICB2YXIgdyA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdyA9IHRoaXMudyA9IHdvcmsoLypyZXF1aXJlLnJlc29sdmUqLygvKiEgLi4vZGVtdXgvZGVtdXhlci13b3JrZXIuanMgKi8gXCIuL3NyYy9kZW11eC9kZW11eGVyLXdvcmtlci5qc1wiKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbndtc2cgPSB0aGlzLm9uV29ya2VyTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIHcuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub253bXNnKTtcbiAgICAgICAgICAgICAgICB3Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk9USEVSX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuSU5URVJOQUxfRVhDRVBUSU9OLCBmYXRhbDogdHJ1ZSwgZXZlbnQ6ICdkZW11eGVyV29ya2VyJywgZXJyOiB7IG1lc3NhZ2U6IGV2ZW50Lm1lc3NhZ2UgKyAnICgnICsgZXZlbnQuZmlsZW5hbWUgKyAnOicgKyBldmVudC5saW5lbm8gKyAnKScgfSB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHcucG9zdE1lc3NhZ2UoeyBjbWQ6ICdpbml0JywgdHlwZVN1cHBvcnRlZDogdHlwZVN1cHBvcnRlZCwgdmVuZG9yOiB2ZW5kb3IsIGlkOiBpZCwgY29uZmlnOiBKU09OLnN0cmluZ2lmeShjb25maWcpIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdFcnJvciBpbiB3b3JrZXI6JywgZXJyKTtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0Vycm9yIHdoaWxlIGluaXRpYWxpemluZyBEZW11eGVyV29ya2VyLCBmYWxsYmFjayBvbiBEZW11eGVySW5saW5lJyk7XG4gICAgICAgICAgICAgICAgaWYgKHcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcmV2b2tlIHRoZSBPYmplY3QgVVJMIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIGRlbXV4ZXIgd29ya2VyLCBzbyBhcyBub3QgdG8gbGVhayBpdFxuICAgICAgICAgICAgICAgICAgICBnbG9iYWwuVVJMLnJldm9rZU9iamVjdFVSTCh3Lm9iamVjdFVSTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZGVtdXhlciA9IG5ldyBkZW11eGVyX2lubGluZV8xLmRlZmF1bHQob2JzZXJ2ZXIsIHR5cGVTdXBwb3J0ZWQsIGNvbmZpZywgdmVuZG9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLncgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBuZXcgZGVtdXhlcl9pbmxpbmVfMS5kZWZhdWx0KG9ic2VydmVyLCB0eXBlU3VwcG9ydGVkLCBjb25maWcsIHZlbmRvcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLnc7XG4gICAgICAgIGlmICh3KSB7XG4gICAgICAgICAgICB3LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9ud21zZyk7XG4gICAgICAgICAgICB3LnRlcm1pbmF0ZSgpO1xuICAgICAgICAgICAgdGhpcy53ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkZW11eGVyID0gdGhpcy5kZW11eGVyO1xuICAgICAgICAgICAgaWYgKGRlbXV4ZXIpIHtcbiAgICAgICAgICAgICAgICBkZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbXV4ZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgICAgIGlmIChvYnNlcnZlcikge1xuICAgICAgICAgICAgb2JzZXJ2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVtdXhlci5wcm90b3R5cGUucHVzaCA9IGZ1bmN0aW9uIChkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZnJhZywgZHVyYXRpb24sIGFjY3VyYXRlVGltZU9mZnNldCwgZGVmYXVsdEluaXRQVFMpIHtcbiAgICAgICAgdmFyIHcgPSB0aGlzLnc7XG4gICAgICAgIHZhciB0aW1lT2Zmc2V0ID0gTnVtYmVyLmlzRmluaXRlKGZyYWcuc3RhcnRQVFMpID8gZnJhZy5zdGFydFBUUyA6IGZyYWcuc3RhcnQ7XG4gICAgICAgIHZhciBkZWNyeXB0ZGF0YSA9IGZyYWcuZGVjcnlwdGRhdGE7XG4gICAgICAgIHZhciBsYXN0RnJhZyA9IHRoaXMuZnJhZztcbiAgICAgICAgdmFyIGRpc2NvbnRpbnVpdHkgPSAhKGxhc3RGcmFnICYmIChmcmFnLmNjID09PSBsYXN0RnJhZy5jYykpO1xuICAgICAgICB2YXIgdHJhY2tTd2l0Y2ggPSAhKGxhc3RGcmFnICYmIChmcmFnLmxldmVsID09PSBsYXN0RnJhZy5sZXZlbCkpO1xuICAgICAgICB2YXIgbmV4dFNOID0gbGFzdEZyYWcgJiYgKGZyYWcuc24gPT09IChsYXN0RnJhZy5zbiArIDEpKTtcbiAgICAgICAgdmFyIGNvbnRpZ3VvdXMgPSAhdHJhY2tTd2l0Y2ggJiYgbmV4dFNOO1xuICAgICAgICBpZiAoZGlzY29udGludWl0eSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyh0aGlzLmlkICsgXCI6ZGlzY29udGludWl0eSBkZXRlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhY2tTd2l0Y2gpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2codGhpcy5pZCArIFwiOnN3aXRjaCBkZXRlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZyYWcgPSBmcmFnO1xuICAgICAgICBpZiAodykge1xuICAgICAgICAgICAgLy8gcG9zdCBmcmFnbWVudCBwYXlsb2FkIGFzIHRyYW5zZmVyYWJsZSBvYmplY3RzIGZvciBBcnJheUJ1ZmZlciAobm8gY29weSlcbiAgICAgICAgICAgIHcucG9zdE1lc3NhZ2UoeyBjbWQ6ICdkZW11eCcsIGRhdGE6IGRhdGEsIGRlY3J5cHRkYXRhOiBkZWNyeXB0ZGF0YSwgaW5pdFNlZ21lbnQ6IGluaXRTZWdtZW50LCBhdWRpb0NvZGVjOiBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjOiB2aWRlb0NvZGVjLCB0aW1lT2Zmc2V0OiB0aW1lT2Zmc2V0LCBkaXNjb250aW51aXR5OiBkaXNjb250aW51aXR5LCB0cmFja1N3aXRjaDogdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXM6IGNvbnRpZ3VvdXMsIGR1cmF0aW9uOiBkdXJhdGlvbiwgYWNjdXJhdGVUaW1lT2Zmc2V0OiBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTOiBkZWZhdWx0SW5pdFBUUyB9LCBkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIgPyBbZGF0YV0gOiBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgZGVtdXhlciA9IHRoaXMuZGVtdXhlcjtcbiAgICAgICAgICAgIGlmIChkZW11eGVyKSB7XG4gICAgICAgICAgICAgICAgZGVtdXhlci5wdXNoKGRhdGEsIGRlY3J5cHRkYXRhLCBpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgdGltZU9mZnNldCwgZGlzY29udGludWl0eSwgdHJhY2tTd2l0Y2gsIGNvbnRpZ3VvdXMsIGR1cmF0aW9uLCBhY2N1cmF0ZVRpbWVPZmZzZXQsIGRlZmF1bHRJbml0UFRTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVtdXhlci5wcm90b3R5cGUub25Xb3JrZXJNZXNzYWdlID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgIHZhciBkYXRhID0gZXYuZGF0YSwgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIHN3aXRjaCAoZGF0YS5ldmVudCkge1xuICAgICAgICAgICAgY2FzZSAnaW5pdCc6XG4gICAgICAgICAgICAgICAgLy8gcmV2b2tlIHRoZSBPYmplY3QgVVJMIHRoYXQgd2FzIHVzZWQgdG8gY3JlYXRlIGRlbXV4ZXIgd29ya2VyLCBzbyBhcyBub3QgdG8gbGVhayBpdFxuICAgICAgICAgICAgICAgIGdsb2JhbC5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMudy5vYmplY3RVUkwpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBGUkFHX1BBUlNJTkdfREFUQTogZGF0YTEgYW5kIGRhdGEyIGFyZSB0cmFuc2ZlcmFibGUgb2JqZWN0c1xuICAgICAgICAgICAgY2FzZSBldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19EQVRBOlxuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5kYXRhMSA9IG5ldyBVaW50OEFycmF5KGRhdGEuZGF0YTEpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGEyKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5kYXRhMiA9IG5ldyBVaW50OEFycmF5KGRhdGEuZGF0YTIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGZhbGxzIHRocm91Z2ggKi9cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZGF0YS5kYXRhID0gZGF0YS5kYXRhIHx8IHt9O1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5mcmFnID0gdGhpcy5mcmFnO1xuICAgICAgICAgICAgICAgIGRhdGEuZGF0YS5pZCA9IHRoaXMuaWQ7XG4gICAgICAgICAgICAgICAgaGxzLnRyaWdnZXIoZGF0YS5ldmVudCwgZGF0YS5kYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIERlbXV4ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRGVtdXhlcjtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvZXhwLWdvbG9tYi5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L2V4cC1nb2xvbWIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBQYXJzZXIgZm9yIGV4cG9uZW50aWFsIEdvbG9tYiBjb2RlcywgYSB2YXJpYWJsZS1iaXR3aWR0aCBudW1iZXIgZW5jb2Rpbmcgc2NoZW1lIHVzZWQgYnkgaDI2NC5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgRXhwR29sb21iID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEV4cEdvbG9tYihkYXRhKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIC8vIHRoZSBudW1iZXIgb2YgYnl0ZXMgbGVmdCB0byBleGFtaW5lIGluIHRoaXMuZGF0YVxuICAgICAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAvLyB0aGUgY3VycmVudCB3b3JkIGJlaW5nIGV4YW1pbmVkXG4gICAgICAgIHRoaXMud29yZCA9IDA7IC8vIDp1aW50XG4gICAgICAgIC8vIHRoZSBudW1iZXIgb2YgYml0cyBsZWZ0IHRvIGV4YW1pbmUgaW4gdGhlIGN1cnJlbnQgd29yZFxuICAgICAgICB0aGlzLmJpdHNBdmFpbGFibGUgPSAwOyAvLyA6dWludFxuICAgIH1cbiAgICAvLyAoKTp2b2lkXG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5sb2FkV29yZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmRhdGEsIGJ5dGVzQXZhaWxhYmxlID0gdGhpcy5ieXRlc0F2YWlsYWJsZSwgcG9zaXRpb24gPSBkYXRhLmJ5dGVMZW5ndGggLSBieXRlc0F2YWlsYWJsZSwgd29ya2luZ0J5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCksIGF2YWlsYWJsZUJ5dGVzID0gTWF0aC5taW4oNCwgYnl0ZXNBdmFpbGFibGUpO1xuICAgICAgICBpZiAoYXZhaWxhYmxlQnl0ZXMgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignbm8gYnl0ZXMgYXZhaWxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgICAgd29ya2luZ0J5dGVzLnNldChkYXRhLnN1YmFycmF5KHBvc2l0aW9uLCBwb3NpdGlvbiArIGF2YWlsYWJsZUJ5dGVzKSk7XG4gICAgICAgIHRoaXMud29yZCA9IG5ldyBEYXRhVmlldyh3b3JraW5nQnl0ZXMuYnVmZmVyKS5nZXRVaW50MzIoMCk7XG4gICAgICAgIC8vIHRyYWNrIHRoZSBhbW91bnQgb2YgdGhpcy5kYXRhIHRoYXQgaGFzIGJlZW4gcHJvY2Vzc2VkXG4gICAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSA9IGF2YWlsYWJsZUJ5dGVzICogODtcbiAgICAgICAgdGhpcy5ieXRlc0F2YWlsYWJsZSAtPSBhdmFpbGFibGVCeXRlcztcbiAgICB9O1xuICAgIC8vIChjb3VudDppbnQpOnZvaWRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBCaXRzID0gZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICAgIHZhciBza2lwQnl0ZXM7IC8vIDppbnRcbiAgICAgICAgaWYgKHRoaXMuYml0c0F2YWlsYWJsZSA+IGNvdW50KSB7XG4gICAgICAgICAgICB0aGlzLndvcmQgPDw9IGNvdW50O1xuICAgICAgICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY291bnQgLT0gdGhpcy5iaXRzQXZhaWxhYmxlO1xuICAgICAgICAgICAgc2tpcEJ5dGVzID0gY291bnQgPj4gMztcbiAgICAgICAgICAgIGNvdW50IC09IChza2lwQnl0ZXMgPj4gMyk7XG4gICAgICAgICAgICB0aGlzLmJ5dGVzQXZhaWxhYmxlIC09IHNraXBCeXRlcztcbiAgICAgICAgICAgIHRoaXMubG9hZFdvcmQoKTtcbiAgICAgICAgICAgIHRoaXMud29yZCA8PD0gY291bnQ7XG4gICAgICAgICAgICB0aGlzLmJpdHNBdmFpbGFibGUgLT0gY291bnQ7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIChzaXplOmludCk6dWludFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZEJpdHMgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgYml0cyA9IE1hdGgubWluKHRoaXMuYml0c0F2YWlsYWJsZSwgc2l6ZSksIC8vIDp1aW50XG4gICAgICAgIHZhbHUgPSB0aGlzLndvcmQgPj4+ICgzMiAtIGJpdHMpOyAvLyA6dWludFxuICAgICAgICBpZiAoc2l6ZSA+IDMyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoJ0Nhbm5vdCByZWFkIG1vcmUgdGhhbiAzMiBiaXRzIGF0IGEgdGltZScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYml0c0F2YWlsYWJsZSAtPSBiaXRzO1xuICAgICAgICBpZiAodGhpcy5iaXRzQXZhaWxhYmxlID4gMCkge1xuICAgICAgICAgICAgdGhpcy53b3JkIDw8PSBiaXRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuYnl0ZXNBdmFpbGFibGUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxvYWRXb3JkKCk7XG4gICAgICAgIH1cbiAgICAgICAgYml0cyA9IHNpemUgLSBiaXRzO1xuICAgICAgICBpZiAoYml0cyA+IDAgJiYgdGhpcy5iaXRzQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdSA8PCBiaXRzIHwgdGhpcy5yZWFkQml0cyhiaXRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyAoKTp1aW50XG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwTFogPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsZWFkaW5nWmVyb0NvdW50OyAvLyA6dWludFxuICAgICAgICBmb3IgKGxlYWRpbmdaZXJvQ291bnQgPSAwOyBsZWFkaW5nWmVyb0NvdW50IDwgdGhpcy5iaXRzQXZhaWxhYmxlOyArK2xlYWRpbmdaZXJvQ291bnQpIHtcbiAgICAgICAgICAgIGlmICgodGhpcy53b3JkICYgKDB4ODAwMDAwMDAgPj4+IGxlYWRpbmdaZXJvQ291bnQpKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIHRoZSBmaXJzdCBiaXQgb2Ygd29ya2luZyB3b3JkIGlzIDFcbiAgICAgICAgICAgICAgICB0aGlzLndvcmQgPDw9IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5iaXRzQXZhaWxhYmxlIC09IGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdaZXJvQ291bnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UgZXhoYXVzdGVkIHdvcmQgYW5kIHN0aWxsIGhhdmUgbm90IGZvdW5kIGEgMVxuICAgICAgICB0aGlzLmxvYWRXb3JkKCk7XG4gICAgICAgIHJldHVybiBsZWFkaW5nWmVyb0NvdW50ICsgdGhpcy5za2lwTFooKTtcbiAgICB9O1xuICAgIC8vICgpOnZvaWRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnNraXBVRUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc2tpcEJpdHMoMSArIHRoaXMuc2tpcExaKCkpO1xuICAgIH07XG4gICAgLy8gKCk6dm9pZFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUuc2tpcEVHID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNraXBCaXRzKDEgKyB0aGlzLnNraXBMWigpKTtcbiAgICB9O1xuICAgIC8vICgpOnVpbnRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRVRUcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjbHogPSB0aGlzLnNraXBMWigpOyAvLyA6dWludFxuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyhjbHogKyAxKSAtIDE7XG4gICAgfTtcbiAgICAvLyAoKTppbnRcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRFRyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHZhbHUgPSB0aGlzLnJlYWRVRUcoKTsgLy8gOmludFxuICAgICAgICBpZiAoMHgwMSAmIHZhbHUpIHtcbiAgICAgICAgICAgIC8vIHRoZSBudW1iZXIgaXMgb2RkIGlmIHRoZSBsb3cgb3JkZXIgYml0IGlzIHNldFxuICAgICAgICAgICAgcmV0dXJuICgxICsgdmFsdSkgPj4+IDE7IC8vIGFkZCAxIHRvIG1ha2UgaXQgZXZlbiwgYW5kIGRpdmlkZSBieSAyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLTEgKiAodmFsdSA+Pj4gMSk7IC8vIGRpdmlkZSBieSB0d28gdGhlbiBtYWtlIGl0IG5lZ2F0aXZlXG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIFNvbWUgY29udmVuaWVuY2UgZnVuY3Rpb25zXG4gICAgLy8gOkJvb2xlYW5cbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRCb29sZWFuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cygxKSA9PT0gMTtcbiAgICB9O1xuICAgIC8vICgpOmludFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVCeXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkQml0cyg4KTtcbiAgICB9O1xuICAgIC8vICgpOmludFxuICAgIEV4cEdvbG9tYi5wcm90b3R5cGUucmVhZFVTaG9ydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMTYpO1xuICAgIH07XG4gICAgLy8gKCk6aW50XG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkVUludCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMzIpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQWR2YW5jZSB0aGUgRXhwR29sb21iIGRlY29kZXIgcGFzdCBhIHNjYWxpbmcgbGlzdC4gVGhlIHNjYWxpbmdcbiAgICAgKiBsaXN0IGlzIG9wdGlvbmFsbHkgdHJhbnNtaXR0ZWQgYXMgcGFydCBvZiBhIHNlcXVlbmNlIHBhcmFtZXRlclxuICAgICAqIHNldCBhbmQgaXMgbm90IHJlbGV2YW50IHRvIHRyYW5zbXV4aW5nLlxuICAgICAqIEBwYXJhbSBjb3VudCB7bnVtYmVyfSB0aGUgbnVtYmVyIG9mIGVudHJpZXMgaW4gdGhpcyBzY2FsaW5nIGxpc3RcbiAgICAgKiBAc2VlIFJlY29tbWVuZGF0aW9uIElUVS1UIEguMjY0LCBTZWN0aW9uIDcuMy4yLjEuMS4xXG4gICAgICovXG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5za2lwU2NhbGluZ0xpc3QgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgICAgdmFyIGxhc3RTY2FsZSA9IDgsIG5leHRTY2FsZSA9IDgsIGosIGRlbHRhU2NhbGU7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBjb3VudDsgaisrKSB7XG4gICAgICAgICAgICBpZiAobmV4dFNjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFTY2FsZSA9IHRoaXMucmVhZEVHKCk7XG4gICAgICAgICAgICAgICAgbmV4dFNjYWxlID0gKGxhc3RTY2FsZSArIGRlbHRhU2NhbGUgKyAyNTYpICUgMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdFNjYWxlID0gKG5leHRTY2FsZSA9PT0gMCkgPyBsYXN0U2NhbGUgOiBuZXh0U2NhbGU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJlYWQgYSBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0IGFuZCByZXR1cm4gc29tZSBpbnRlcmVzdGluZyB2aWRlb1xuICAgICAqIHByb3BlcnRpZXMuIEEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldCBpcyB0aGUgSDI2NCBtZXRhZGF0YSB0aGF0XG4gICAgICogZGVzY3JpYmVzIHRoZSBwcm9wZXJ0aWVzIG9mIHVwY29taW5nIHZpZGVvIGZyYW1lcy5cbiAgICAgKiBAcGFyYW0gZGF0YSB7VWludDhBcnJheX0gdGhlIGJ5dGVzIG9mIGEgc2VxdWVuY2UgcGFyYW1ldGVyIHNldFxuICAgICAqIEByZXR1cm4ge29iamVjdH0gYW4gb2JqZWN0IHdpdGggY29uZmlndXJhdGlvbiBwYXJzZWQgZnJvbSB0aGVcbiAgICAgKiBzZXF1ZW5jZSBwYXJhbWV0ZXIgc2V0LCBpbmNsdWRpbmcgdGhlIGRpbWVuc2lvbnMgb2YgdGhlXG4gICAgICogYXNzb2NpYXRlZCB2aWRlbyBmcmFtZXMuXG4gICAgICovXG4gICAgRXhwR29sb21iLnByb3RvdHlwZS5yZWFkU1BTID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZnJhbWVDcm9wTGVmdE9mZnNldCA9IDAsIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ID0gMCwgZnJhbWVDcm9wVG9wT2Zmc2V0ID0gMCwgZnJhbWVDcm9wQm90dG9tT2Zmc2V0ID0gMCwgcHJvZmlsZUlkYywgcHJvZmlsZUNvbXBhdCwgbGV2ZWxJZGMsIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSwgcGljV2lkdGhJbk1ic01pbnVzMSwgcGljSGVpZ2h0SW5NYXBVbml0c01pbnVzMSwgZnJhbWVNYnNPbmx5RmxhZywgc2NhbGluZ0xpc3RDb3VudCwgaSwgcmVhZFVCeXRlID0gdGhpcy5yZWFkVUJ5dGUuYmluZCh0aGlzKSwgcmVhZEJpdHMgPSB0aGlzLnJlYWRCaXRzLmJpbmQodGhpcyksIHJlYWRVRUcgPSB0aGlzLnJlYWRVRUcuYmluZCh0aGlzKSwgcmVhZEJvb2xlYW4gPSB0aGlzLnJlYWRCb29sZWFuLmJpbmQodGhpcyksIHNraXBCaXRzID0gdGhpcy5za2lwQml0cy5iaW5kKHRoaXMpLCBza2lwRUcgPSB0aGlzLnNraXBFRy5iaW5kKHRoaXMpLCBza2lwVUVHID0gdGhpcy5za2lwVUVHLmJpbmQodGhpcyksIHNraXBTY2FsaW5nTGlzdCA9IHRoaXMuc2tpcFNjYWxpbmdMaXN0LmJpbmQodGhpcyk7XG4gICAgICAgIHJlYWRVQnl0ZSgpO1xuICAgICAgICBwcm9maWxlSWRjID0gcmVhZFVCeXRlKCk7IC8vIHByb2ZpbGVfaWRjXG4gICAgICAgIHByb2ZpbGVDb21wYXQgPSByZWFkQml0cyg1KTsgLy8gY29uc3RyYWludF9zZXRbMC00XV9mbGFnLCB1KDUpXG4gICAgICAgIHNraXBCaXRzKDMpOyAvLyByZXNlcnZlZF96ZXJvXzNiaXRzIHUoMyksXG4gICAgICAgIGxldmVsSWRjID0gcmVhZFVCeXRlKCk7IC8vIGxldmVsX2lkYyB1KDgpXG4gICAgICAgIHNraXBVRUcoKTsgLy8gc2VxX3BhcmFtZXRlcl9zZXRfaWRcbiAgICAgICAgLy8gc29tZSBwcm9maWxlcyBoYXZlIG1vcmUgb3B0aW9uYWwgZGF0YSB3ZSBkb24ndCBuZWVkXG4gICAgICAgIGlmIChwcm9maWxlSWRjID09PSAxMDAgfHxcbiAgICAgICAgICAgIHByb2ZpbGVJZGMgPT09IDExMCB8fFxuICAgICAgICAgICAgcHJvZmlsZUlkYyA9PT0gMTIyIHx8XG4gICAgICAgICAgICBwcm9maWxlSWRjID09PSAyNDQgfHxcbiAgICAgICAgICAgIHByb2ZpbGVJZGMgPT09IDQ0IHx8XG4gICAgICAgICAgICBwcm9maWxlSWRjID09PSA4MyB8fFxuICAgICAgICAgICAgcHJvZmlsZUlkYyA9PT0gODYgfHxcbiAgICAgICAgICAgIHByb2ZpbGVJZGMgPT09IDExOCB8fFxuICAgICAgICAgICAgcHJvZmlsZUlkYyA9PT0gMTI4KSB7XG4gICAgICAgICAgICB2YXIgY2hyb21hRm9ybWF0SWRjID0gcmVhZFVFRygpO1xuICAgICAgICAgICAgaWYgKGNocm9tYUZvcm1hdElkYyA9PT0gMykge1xuICAgICAgICAgICAgICAgIHNraXBCaXRzKDEpO1xuICAgICAgICAgICAgfSAvLyBzZXBhcmF0ZV9jb2xvdXJfcGxhbmVfZmxhZ1xuICAgICAgICAgICAgc2tpcFVFRygpOyAvLyBiaXRfZGVwdGhfbHVtYV9taW51czhcbiAgICAgICAgICAgIHNraXBVRUcoKTsgLy8gYml0X2RlcHRoX2Nocm9tYV9taW51czhcbiAgICAgICAgICAgIHNraXBCaXRzKDEpOyAvLyBxcHByaW1lX3lfemVyb190cmFuc2Zvcm1fYnlwYXNzX2ZsYWdcbiAgICAgICAgICAgIGlmIChyZWFkQm9vbGVhbigpKSB7IC8vIHNlcV9zY2FsaW5nX21hdHJpeF9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBzY2FsaW5nTGlzdENvdW50ID0gKGNocm9tYUZvcm1hdElkYyAhPT0gMykgPyA4IDogMTI7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHNjYWxpbmdMaXN0Q291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVhZEJvb2xlYW4oKSkgeyAvLyBzZXFfc2NhbGluZ19saXN0X3ByZXNlbnRfZmxhZ1sgaSBdXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwU2NhbGluZ0xpc3QoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcFNjYWxpbmdMaXN0KDY0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBza2lwVUVHKCk7IC8vIGxvZzJfbWF4X2ZyYW1lX251bV9taW51czRcbiAgICAgICAgdmFyIHBpY09yZGVyQ250VHlwZSA9IHJlYWRVRUcoKTtcbiAgICAgICAgaWYgKHBpY09yZGVyQ250VHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgcmVhZFVFRygpOyAvLyBsb2cyX21heF9waWNfb3JkZXJfY250X2xzYl9taW51czRcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwaWNPcmRlckNudFR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgIHNraXBCaXRzKDEpOyAvLyBkZWx0YV9waWNfb3JkZXJfYWx3YXlzX3plcm9fZmxhZ1xuICAgICAgICAgICAgc2tpcEVHKCk7IC8vIG9mZnNldF9mb3Jfbm9uX3JlZl9waWNcbiAgICAgICAgICAgIHNraXBFRygpOyAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgICAgICAgIG51bVJlZkZyYW1lc0luUGljT3JkZXJDbnRDeWNsZSA9IHJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBudW1SZWZGcmFtZXNJblBpY09yZGVyQ250Q3ljbGU7IGkrKykge1xuICAgICAgICAgICAgICAgIHNraXBFRygpO1xuICAgICAgICAgICAgfSAvLyBvZmZzZXRfZm9yX3JlZl9mcmFtZVsgaSBdXG4gICAgICAgIH1cbiAgICAgICAgc2tpcFVFRygpOyAvLyBtYXhfbnVtX3JlZl9mcmFtZXNcbiAgICAgICAgc2tpcEJpdHMoMSk7IC8vIGdhcHNfaW5fZnJhbWVfbnVtX3ZhbHVlX2FsbG93ZWRfZmxhZ1xuICAgICAgICBwaWNXaWR0aEluTWJzTWludXMxID0gcmVhZFVFRygpO1xuICAgICAgICBwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxID0gcmVhZFVFRygpO1xuICAgICAgICBmcmFtZU1ic09ubHlGbGFnID0gcmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChmcmFtZU1ic09ubHlGbGFnID09PSAwKSB7XG4gICAgICAgICAgICBza2lwQml0cygxKTtcbiAgICAgICAgfSAvLyBtYl9hZGFwdGl2ZV9mcmFtZV9maWVsZF9mbGFnXG4gICAgICAgIHNraXBCaXRzKDEpOyAvLyBkaXJlY3RfOHg4X2luZmVyZW5jZV9mbGFnXG4gICAgICAgIGlmIChyZWFkQm9vbGVhbigpKSB7IC8vIGZyYW1lX2Nyb3BwaW5nX2ZsYWdcbiAgICAgICAgICAgIGZyYW1lQ3JvcExlZnRPZmZzZXQgPSByZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZUNyb3BSaWdodE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lQ3JvcFRvcE9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgICAgICAgIGZyYW1lQ3JvcEJvdHRvbU9mZnNldCA9IHJlYWRVRUcoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IFsxLCAxXTtcbiAgICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgIC8vIHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgaWYgKHJlYWRCb29sZWFuKCkpIHtcbiAgICAgICAgICAgICAgICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICB2YXIgYXNwZWN0UmF0aW9JZGMgPSByZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGFzcGVjdFJhdGlvSWRjKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMSwgMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxMiwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMTAsIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE2LCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0MCwgMzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbMjQsIDExXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvID0gWzIwLCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA4OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFszMiwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbODAsIDMzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxOCwgMTFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBwaXhlbFJhdGlvID0gWzE1LCAxMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpeGVsUmF0aW8gPSBbNjQsIDMzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsxNjAsIDk5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFs0LCAzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFszLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFsyLCAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI1NToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGl4ZWxSYXRpbyA9IFtyZWFkVUJ5dGUoKSA8PCA4IHwgcmVhZFVCeXRlKCksIHJlYWRVQnl0ZSgpIDw8IDggfCByZWFkVUJ5dGUoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IE1hdGguY2VpbCgoKChwaWNXaWR0aEluTWJzTWludXMxICsgMSkgKiAxNikgLSBmcmFtZUNyb3BMZWZ0T2Zmc2V0ICogMiAtIGZyYW1lQ3JvcFJpZ2h0T2Zmc2V0ICogMikpLFxuICAgICAgICAgICAgaGVpZ2h0OiAoKDIgLSBmcmFtZU1ic09ubHlGbGFnKSAqIChwaWNIZWlnaHRJbk1hcFVuaXRzTWludXMxICsgMSkgKiAxNikgLSAoKGZyYW1lTWJzT25seUZsYWcgPyAyIDogNCkgKiAoZnJhbWVDcm9wVG9wT2Zmc2V0ICsgZnJhbWVDcm9wQm90dG9tT2Zmc2V0KSksXG4gICAgICAgICAgICBwaXhlbFJhdGlvOiBwaXhlbFJhdGlvXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBFeHBHb2xvbWIucHJvdG90eXBlLnJlYWRTbGljZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIHNraXAgTkFMdSB0eXBlXG4gICAgICAgIHRoaXMucmVhZFVCeXRlKCk7XG4gICAgICAgIC8vIGRpc2NhcmQgZmlyc3RfbWJfaW5fc2xpY2VcbiAgICAgICAgdGhpcy5yZWFkVUVHKCk7XG4gICAgICAgIC8vIHJldHVybiBzbGljZV90eXBlXG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRVRUcoKTtcbiAgICB9O1xuICAgIHJldHVybiBFeHBHb2xvbWI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXhwR29sb21iO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L2lkMy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZGVtdXgvaWQzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBJRDMgcGFyc2VyXG4gKi9cbnZhciBJRDMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSUQzKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYW4gSUQzIGhlYWRlciBjYW4gYmUgZm91bmQgYXQgb2Zmc2V0IGluIGRhdGFcbiAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAtIFRydWUgaWYgYW4gSUQzIGhlYWRlciBpcyBmb3VuZFxuICAgICAqL1xuICAgIElEMy5pc0hlYWRlciA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLypcbiAgICAgICAgKiBodHRwOi8vaWQzLm9yZy9pZDN2Mi4zLjBcbiAgICAgICAgKiBbMF0gICAgID0gJ0knXG4gICAgICAgICogWzFdICAgICA9ICdEJ1xuICAgICAgICAqIFsyXSAgICAgPSAnMydcbiAgICAgICAgKiBbMyw0XSAgID0ge1ZlcnNpb259XG4gICAgICAgICogWzVdICAgICA9IHtGbGFnc31cbiAgICAgICAgKiBbNi05XSAgID0ge0lEMyBTaXplfVxuICAgICAgICAqXG4gICAgICAgICogQW4gSUQzdjIgdGFnIGNhbiBiZSBkZXRlY3RlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGF0dGVybjpcbiAgICAgICAgKiAgJDQ5IDQ0IDMzIHl5IHl5IHh4IHp6IHp6IHp6IHp6XG4gICAgICAgICogV2hlcmUgeXkgaXMgbGVzcyB0aGFuICRGRiwgeHggaXMgdGhlICdmbGFncycgYnl0ZSBhbmQgenogaXMgbGVzcyB0aGFuICQ4MFxuICAgICAgICAqL1xuICAgICAgICBpZiAob2Zmc2V0ICsgMTAgPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGxvb2sgZm9yICdJRDMnIGlkZW50aWZpZXJcbiAgICAgICAgICAgIGlmIChkYXRhW29mZnNldF0gPT09IDB4NDkgJiYgZGF0YVtvZmZzZXQgKyAxXSA9PT0gMHg0NCAmJiBkYXRhW29mZnNldCArIDJdID09PSAweDMzKSB7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgdmVyc2lvbiBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyAzXSA8IDB4RkYgJiYgZGF0YVtvZmZzZXQgKyA0XSA8IDB4RkYpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgc2l6ZSBpcyB3aXRoaW4gcmFuZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbb2Zmc2V0ICsgNl0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgN10gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOF0gPCAweDgwICYmIGRhdGFbb2Zmc2V0ICsgOV0gPCAweDgwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgYW4gSUQzIGZvb3RlciBjYW4gYmUgZm91bmQgYXQgb2Zmc2V0IGluIGRhdGFcbiAgICAgKiBAcGFyYW0ge1VpbnQ4QXJyYXl9IGRhdGEgLSBUaGUgZGF0YSB0byBzZWFyY2ggaW5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IC0gVGhlIG9mZnNldCBhdCB3aGljaCB0byBzdGFydCBzZWFyY2hpbmdcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSAtIFRydWUgaWYgYW4gSUQzIGZvb3RlciBpcyBmb3VuZFxuICAgICAqL1xuICAgIElEMy5pc0Zvb3RlciA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLypcbiAgICAgICAgKiBUaGUgZm9vdGVyIGlzIGEgY29weSBvZiB0aGUgaGVhZGVyLCBidXQgd2l0aCBhIGRpZmZlcmVudCBpZGVudGlmaWVyXG4gICAgICAgICovXG4gICAgICAgIGlmIChvZmZzZXQgKyAxMCA8PSBkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gbG9vayBmb3IgJzNESScgaWRlbnRpZmllclxuICAgICAgICAgICAgaWYgKGRhdGFbb2Zmc2V0XSA9PT0gMHgzMyAmJiBkYXRhW29mZnNldCArIDFdID09PSAweDQ0ICYmIGRhdGFbb2Zmc2V0ICsgMl0gPT09IDB4NDkpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayB2ZXJzaW9uIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICAgICAgICAgIGlmIChkYXRhW29mZnNldCArIDNdIDwgMHhGRiAmJiBkYXRhW29mZnNldCArIDRdIDwgMHhGRikge1xuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBzaXplIGlzIHdpdGhpbiByYW5nZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YVtvZmZzZXQgKyA2XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA3XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA4XSA8IDB4ODAgJiYgZGF0YVtvZmZzZXQgKyA5XSA8IDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW55IGFkamFjZW50IElEMyB0YWdzIGZvdW5kIGluIGRhdGEgc3RhcnRpbmcgYXQgb2Zmc2V0LCBhcyBvbmUgYmxvY2sgb2YgZGF0YVxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YSAtIFRoZSBkYXRhIHRvIHNlYXJjaCBpblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBvZmZzZXQgLSBUaGUgb2Zmc2V0IGF0IHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZ1xuICAgICAqIEByZXR1cm4ge1VpbnQ4QXJyYXl9IC0gVGhlIGJsb2NrIG9mIGRhdGEgY29udGFpbmluZyBhbnkgSUQzIHRhZ3MgZm91bmRcbiAgICAgKi9cbiAgICBJRDMuZ2V0SUQzRGF0YSA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGZyb250ID0gb2Zmc2V0O1xuICAgICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgICAgd2hpbGUgKElEMy5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAvLyBJRDMgaGVhZGVyIGlzIDEwIGJ5dGVzXG4gICAgICAgICAgICBsZW5ndGggKz0gMTA7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IElEMy5fcmVhZFNpemUoZGF0YSwgb2Zmc2V0ICsgNik7XG4gICAgICAgICAgICBsZW5ndGggKz0gc2l6ZTtcbiAgICAgICAgICAgIGlmIChJRDMuaXNGb290ZXIoZGF0YSwgb2Zmc2V0ICsgMTApKSB7XG4gICAgICAgICAgICAgICAgLy8gSUQzIGZvb3RlciBpcyAxMCBieXRlc1xuICAgICAgICAgICAgICAgIGxlbmd0aCArPSAxMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCArPSBsZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhLnN1YmFycmF5KGZyb250LCBmcm9udCArIGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIElEMy5fcmVhZFNpemUgPSBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIHZhciBzaXplID0gMDtcbiAgICAgICAgc2l6ZSA9ICgoZGF0YVtvZmZzZXRdICYgMHg3ZikgPDwgMjEpO1xuICAgICAgICBzaXplIHw9ICgoZGF0YVtvZmZzZXQgKyAxXSAmIDB4N2YpIDw8IDE0KTtcbiAgICAgICAgc2l6ZSB8PSAoKGRhdGFbb2Zmc2V0ICsgMl0gJiAweDdmKSA8PCA3KTtcbiAgICAgICAgc2l6ZSB8PSAoZGF0YVtvZmZzZXQgKyAzXSAmIDB4N2YpO1xuICAgICAgICByZXR1cm4gc2l6ZTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIGZvciB0aGUgRWxlbWVudGFyeSBTdHJlYW0gdGltZXN0YW1wIGZvdW5kIGluIHRoZSBJRDMgZGF0YSBjaHVua1xuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gZGF0YSAtIEJsb2NrIG9mIGRhdGEgY29udGFpbmluZyBvbmUgb3IgbW9yZSBJRDMgdGFnc1xuICAgICAqIEByZXR1cm4ge251bWJlcn0gLSBUaGUgdGltZXN0YW1wXG4gICAgICovXG4gICAgSUQzLmdldFRpbWVTdGFtcCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBmcmFtZXMgPSBJRDMuZ2V0SUQzRnJhbWVzKGRhdGEpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZyYW1lID0gZnJhbWVzW2ldO1xuICAgICAgICAgICAgaWYgKElEMy5pc1RpbWVTdGFtcEZyYW1lKGZyYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBJRDMuX3JlYWRUaW1lU3RhbXAoZnJhbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIElEMyBmcmFtZSBpcyBhbiBFbGVtZW50YXJ5IFN0cmVhbSB0aW1lc3RhbXAgZnJhbWVcbiAgICAgKiBAcGFyYW0ge0lEMyBmcmFtZX0gZnJhbWVcbiAgICAgKi9cbiAgICBJRDMuaXNUaW1lU3RhbXBGcmFtZSA9IGZ1bmN0aW9uIChmcmFtZSkge1xuICAgICAgICByZXR1cm4gKGZyYW1lICYmIGZyYW1lLmtleSA9PT0gJ1BSSVYnICYmIGZyYW1lLmluZm8gPT09ICdjb20uYXBwbGUuc3RyZWFtaW5nLnRyYW5zcG9ydFN0cmVhbVRpbWVzdGFtcCcpO1xuICAgIH07XG4gICAgSUQzLl9nZXRGcmFtZURhdGEgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvKlxuICAgICAgICBGcmFtZSBJRCAgICAgICAkeHggeHggeHggeHggKGZvdXIgY2hhcmFjdGVycylcbiAgICAgICAgU2l6ZSAgICAgICAgICAgJHh4IHh4IHh4IHh4XG4gICAgICAgIEZsYWdzICAgICAgICAgICR4eCB4eFxuICAgICAgICAqL1xuICAgICAgICB2YXIgdHlwZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoZGF0YVswXSwgZGF0YVsxXSwgZGF0YVsyXSwgZGF0YVszXSk7XG4gICAgICAgIHZhciBzaXplID0gSUQzLl9yZWFkU2l6ZShkYXRhLCA0KTtcbiAgICAgICAgLy8gc2tpcCBmcmFtZSBpZCwgc2l6ZSwgYW5kIGZsYWdzXG4gICAgICAgIHZhciBvZmZzZXQgPSAxMDtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogdHlwZSwgc2l6ZTogc2l6ZSwgZGF0YTogZGF0YS5zdWJhcnJheShvZmZzZXQsIG9mZnNldCArIHNpemUpIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIElEMyBmcmFtZXMgZm91bmQgaW4gYWxsIHRoZSBJRDMgdGFncyBpbiB0aGUgaWQzRGF0YVxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gaWQzRGF0YSAtIFRoZSBJRDMgZGF0YSBjb250YWluaW5nIG9uZSBvciBtb3JlIElEMyB0YWdzXG4gICAgICogQHJldHVybiB7SUQzIGZyYW1lW119IC0gQXJyYXkgb2YgSUQzIGZyYW1lIG9iamVjdHNcbiAgICAgKi9cbiAgICBJRDMuZ2V0SUQzRnJhbWVzID0gZnVuY3Rpb24gKGlkM0RhdGEpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBmcmFtZXMgPSBbXTtcbiAgICAgICAgd2hpbGUgKElEMy5pc0hlYWRlcihpZDNEYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICB2YXIgc2l6ZSA9IElEMy5fcmVhZFNpemUoaWQzRGF0YSwgb2Zmc2V0ICsgNik7XG4gICAgICAgICAgICAvLyBza2lwIHBhc3QgSUQzIGhlYWRlclxuICAgICAgICAgICAgb2Zmc2V0ICs9IDEwO1xuICAgICAgICAgICAgdmFyIGVuZCA9IG9mZnNldCArIHNpemU7XG4gICAgICAgICAgICAvLyBsb29wIHRocm91Z2ggZnJhbWVzIGluIHRoZSBJRDMgdGFnXG4gICAgICAgICAgICB3aGlsZSAob2Zmc2V0ICsgOCA8IGVuZCkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZURhdGEgPSBJRDMuX2dldEZyYW1lRGF0YShpZDNEYXRhLnN1YmFycmF5KG9mZnNldCkpO1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IElEMy5fZGVjb2RlRnJhbWUoZnJhbWVEYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVzLnB1c2goZnJhbWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBza2lwIGZyYW1lIGhlYWRlciBhbmQgZnJhbWUgZGF0YVxuICAgICAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZURhdGEuc2l6ZSArIDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKElEMy5pc0Zvb3RlcihpZDNEYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmcmFtZXM7XG4gICAgfTtcbiAgICBJRDMuX2RlY29kZUZyYW1lID0gZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgIGlmIChmcmFtZS50eXBlID09PSAnUFJJVicpIHtcbiAgICAgICAgICAgIHJldHVybiBJRDMuX2RlY29kZVByaXZGcmFtZShmcmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZnJhbWUudHlwZVswXSA9PT0gJ1QnKSB7XG4gICAgICAgICAgICByZXR1cm4gSUQzLl9kZWNvZGVUZXh0RnJhbWUoZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZyYW1lLnR5cGVbMF0gPT09ICdXJykge1xuICAgICAgICAgICAgcmV0dXJuIElEMy5fZGVjb2RlVVJMRnJhbWUoZnJhbWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICBJRDMuX3JlYWRUaW1lU3RhbXAgPSBmdW5jdGlvbiAodGltZVN0YW1wRnJhbWUpIHtcbiAgICAgICAgaWYgKHRpbWVTdGFtcEZyYW1lLmRhdGEuYnl0ZUxlbmd0aCA9PT0gOCkge1xuICAgICAgICAgICAgdmFyIGRhdGEgPSBuZXcgVWludDhBcnJheSh0aW1lU3RhbXBGcmFtZS5kYXRhKTtcbiAgICAgICAgICAgIC8vIHRpbWVzdGFtcCBpcyAzMyBiaXQgZXhwcmVzc2VkIGFzIGEgYmlnLWVuZGlhbiBlaWdodC1vY3RldCBudW1iZXIsXG4gICAgICAgICAgICAvLyB3aXRoIHRoZSB1cHBlciAzMSBiaXRzIHNldCB0byB6ZXJvLlxuICAgICAgICAgICAgdmFyIHB0czMzQml0ID0gZGF0YVszXSAmIDB4MTtcbiAgICAgICAgICAgIHZhciB0aW1lc3RhbXAgPSAoZGF0YVs0XSA8PCAyMykgK1xuICAgICAgICAgICAgICAgIChkYXRhWzVdIDw8IDE1KSArXG4gICAgICAgICAgICAgICAgKGRhdGFbNl0gPDwgNykgK1xuICAgICAgICAgICAgICAgIGRhdGFbN107XG4gICAgICAgICAgICB0aW1lc3RhbXAgLz0gNDU7XG4gICAgICAgICAgICBpZiAocHRzMzNCaXQpIHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXAgKz0gNDc3MjE4NTguODQ7XG4gICAgICAgICAgICB9IC8vIDJeMzIgLyA5MFxuICAgICAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgSUQzLl9kZWNvZGVQcml2RnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgLypcbiAgICAgICAgRm9ybWF0OiA8dGV4dCBzdHJpbmc+XFwwPGJpbmFyeSBkYXRhPlxuICAgICAgICAqL1xuICAgICAgICBpZiAoZnJhbWUuc2l6ZSA8IDIpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG93bmVyID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLCB0cnVlKTtcbiAgICAgICAgdmFyIHByaXZhdGVEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZnJhbWUuZGF0YS5zdWJhcnJheShvd25lci5sZW5ndGggKyAxKSk7XG4gICAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgaW5mbzogb3duZXIsIGRhdGE6IHByaXZhdGVEYXRhLmJ1ZmZlciB9O1xuICAgIH07XG4gICAgSUQzLl9kZWNvZGVUZXh0RnJhbWUgPSBmdW5jdGlvbiAoZnJhbWUpIHtcbiAgICAgICAgaWYgKGZyYW1lLnNpemUgPCAyKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmcmFtZS50eXBlID09PSAnVFhYWCcpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBGb3JtYXQ6XG4gICAgICAgICAgICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICAgICAgICAgICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1ZhbHVlfVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBpbmRleCA9IDE7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb24gPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcbiAgICAgICAgICAgIGluZGV4ICs9IGRlc2NyaXB0aW9uLmxlbmd0aCArIDE7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBJRDMuX3V0ZjhBcnJheVRvU3RyKGZyYW1lLmRhdGEuc3ViYXJyYXkoaW5kZXgpKTtcbiAgICAgICAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgaW5mbzogZGVzY3JpcHRpb24sIGRhdGE6IHZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvKlxuICAgICAgICAgICAgRm9ybWF0OlxuICAgICAgICAgICAgWzBdICAgPSB7VGV4dCBFbmNvZGluZ31cbiAgICAgICAgICAgIFsxLT9dID0ge1ZhbHVlfVxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciB0ZXh0ID0gSUQzLl91dGY4QXJyYXlUb1N0cihmcmFtZS5kYXRhLnN1YmFycmF5KDEpKTtcbiAgICAgICAgICAgIHJldHVybiB7IGtleTogZnJhbWUudHlwZSwgZGF0YTogdGV4dCB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICBJRDMuX2RlY29kZVVSTEZyYW1lID0gZnVuY3Rpb24gKGZyYW1lKSB7XG4gICAgICAgIGlmIChmcmFtZS50eXBlID09PSAnV1hYWCcpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBGb3JtYXQ6XG4gICAgICAgICAgICBbMF0gICA9IHtUZXh0IEVuY29kaW5nfVxuICAgICAgICAgICAgWzEtP10gPSB7RGVzY3JpcHRpb259XFwwe1VSTH1cbiAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoZnJhbWUuc2l6ZSA8IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGluZGV4ID0gMTtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuICAgICAgICAgICAgaW5kZXggKz0gZGVzY3JpcHRpb24ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YS5zdWJhcnJheShpbmRleCkpO1xuICAgICAgICAgICAgcmV0dXJuIHsga2V5OiBmcmFtZS50eXBlLCBpbmZvOiBkZXNjcmlwdGlvbiwgZGF0YTogdmFsdWUgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICBGb3JtYXQ6XG4gICAgICAgICAgICBbMC0/XSA9IHtVUkx9XG4gICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHVybCA9IElEMy5fdXRmOEFycmF5VG9TdHIoZnJhbWUuZGF0YSk7XG4gICAgICAgICAgICByZXR1cm4geyBrZXk6IGZyYW1lLnR5cGUsIGRhdGE6IHVybCB9O1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzg5MzY5ODQvdWludDhhcnJheS10by1zdHJpbmctaW4tamF2YXNjcmlwdC8yMjM3MzE5N1xuICAgIC8vIGh0dHA6Ly93d3cub25pY29zLmNvbS9zdGFmZi9pei9hbXVzZS9qYXZhc2NyaXB0L2V4cGVydC91dGYudHh0XG4gICAgLyogdXRmLmpzIC0gVVRGLTggPD0+IFVURi0xNiBjb252ZXJ0aW9uXG4gICAgICpcbiAgICAgKiBDb3B5cmlnaHQgKEMpIDE5OTkgTWFzYW5hbyBJenVtbyA8aXpAb25pY29zLmNvLmpwPlxuICAgICAqIFZlcnNpb246IDEuMFxuICAgICAqIExhc3RNb2RpZmllZDogRGVjIDI1IDE5OTlcbiAgICAgKiBUaGlzIGxpYnJhcnkgaXMgZnJlZS4gIFlvdSBjYW4gcmVkaXN0cmlidXRlIGl0IGFuZC9vciBtb2RpZnkgaXQuXG4gICAgICovXG4gICAgSUQzLl91dGY4QXJyYXlUb1N0ciA9IGZ1bmN0aW9uIChhcnJheSwgZXhpdE9uTnVsbCkge1xuICAgICAgICBpZiAoZXhpdE9uTnVsbCA9PT0gdm9pZCAwKSB7IGV4aXRPbk51bGwgPSBmYWxzZTsgfVxuICAgICAgICB2YXIgbGVuID0gYXJyYXkubGVuZ3RoO1xuICAgICAgICB2YXIgYztcbiAgICAgICAgdmFyIGNoYXIyO1xuICAgICAgICB2YXIgY2hhcjM7XG4gICAgICAgIHZhciBvdXQgPSAnJztcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IGxlbikge1xuICAgICAgICAgICAgYyA9IGFycmF5W2krK107XG4gICAgICAgICAgICBpZiAoYyA9PT0gMHgwMCAmJiBleGl0T25OdWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGMgPT09IDB4MDAgfHwgYyA9PT0gMHgwMykge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjaGFyYWN0ZXIgaXMgMyAoRU5EX09GX1RFWFQpIG9yIDAgKE5VTEwpIHRoZW4gc2tpcCBpdFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoIChjID4+IDQpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGNhc2UgNTpcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgICAgICAgICAvLyAweHh4eHh4eFxuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgICAgICAgICAgICAvLyAxMTB4IHh4eHggICAxMHh4IHh4eHhcbiAgICAgICAgICAgICAgICAgICAgY2hhcjIgPSBhcnJheVtpKytdO1xuICAgICAgICAgICAgICAgICAgICBvdXQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMgJiAweDFGKSA8PCA2KSB8IChjaGFyMiAmIDB4M0YpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICAgICAgICAgICAgLy8gMTExMCB4eHh4ICAxMHh4IHh4eHggIDEweHggeHh4eFxuICAgICAgICAgICAgICAgICAgICBjaGFyMiA9IGFycmF5W2krK107XG4gICAgICAgICAgICAgICAgICAgIGNoYXIzID0gYXJyYXlbaSsrXTtcbiAgICAgICAgICAgICAgICAgICAgb3V0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjICYgMHgwRikgPDwgMTIpIHxcbiAgICAgICAgICAgICAgICAgICAgICAgICgoY2hhcjIgJiAweDNGKSA8PCA2KSB8XG4gICAgICAgICAgICAgICAgICAgICAgICAoKGNoYXIzICYgMHgzRikgPDwgMCkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICByZXR1cm4gSUQzO1xufSgpKTtcbnZhciB1dGY4QXJyYXlUb1N0ciA9IElEMy5fdXRmOEFycmF5VG9TdHI7XG5leHBvcnRzLnV0ZjhBcnJheVRvU3RyID0gdXRmOEFycmF5VG9TdHI7XG5leHBvcnRzLmRlZmF1bHQgPSBJRDM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvbXAzZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L21wM2RlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBNUDMgZGVtdXhlclxuICovXG52YXIgaWQzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9kZW11eC9pZDMgKi8gXCIuL3NyYy9kZW11eC9pZDMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgbXBlZ2F1ZGlvXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21wZWdhdWRpbyAqLyBcIi4vc3JjL2RlbXV4L21wZWdhdWRpby5qc1wiKTtcbnZhciBNUDNEZW11eGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1QM0RlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIsIGNvbmZpZykge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICAgIH1cbiAgICBNUDNEZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gKGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgICAgICB0aGlzLl9hdWRpb1RyYWNrID0geyBjb250YWluZXI6ICdhdWRpby9tcGVnJywgdHlwZTogJ2F1ZGlvJywgaWQ6IC0xLCBzZXF1ZW5jZU51bWJlcjogMCwgaXNBQUM6IGZhbHNlLCBzYW1wbGVzOiBbXSwgbGVuOiAwLCBtYW5pZmVzdENvZGVjOiBhdWRpb0NvZGVjLCBkdXJhdGlvbjogZHVyYXRpb24sIGlucHV0VGltZVNjYWxlOiA5MDAwMCB9O1xuICAgIH07XG4gICAgTVAzRGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBNUDNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgLy8gY2hlY2sgaWYgZGF0YSBjb250YWlucyBJRDMgdGltZXN0YW1wIGFuZCBNUEVHIHN5bmMgd29yZFxuICAgICAgICB2YXIgb2Zmc2V0LCBsZW5ndGg7XG4gICAgICAgIHZhciBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgICAgICBpZiAoaWQzRGF0YSAmJiBpZDNfMS5kZWZhdWx0LmdldFRpbWVTdGFtcChpZDNEYXRhKSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBMb29rIGZvciBNUEVHIGhlYWRlciB8IDExMTEgMTExMSB8IDExMVggWFlaWCB8IHdoZXJlIFggY2FuIGJlIGVpdGhlciAwIG9yIDEgYW5kIFkgb3IgWiBzaG91bGQgYmUgMVxuICAgICAgICAgICAgLy8gTGF5ZXIgYml0cyAocG9zaXRpb24gMTQgYW5kIDE1KSBpbiBoZWFkZXIgc2hvdWxkIGJlIGFsd2F5cyBkaWZmZXJlbnQgZnJvbSAwIChMYXllciBJIG9yIExheWVyIElJIG9yIExheWVyIElJSSlcbiAgICAgICAgICAgIC8vIE1vcmUgaW5mbyBodHRwOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gICAgICAgICAgICBmb3IgKG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoLCBsZW5ndGggPSBNYXRoLm1pbihkYXRhLmxlbmd0aCAtIDEsIG9mZnNldCArIDEwMCk7IG9mZnNldCA8IGxlbmd0aDsgb2Zmc2V0KyspIHtcbiAgICAgICAgICAgICAgICBpZiAobXBlZ2F1ZGlvXzEuZGVmYXVsdC5wcm9iZShkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01QRUcgQXVkaW8gc3luYyB3b3JkIGZvdW5kICEnKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIC8vIGZlZWQgaW5jb21pbmcgZGF0YSB0byB0aGUgZnJvbnQgb2YgdGhlIHBhcnNpbmcgcGlwZWxpbmVcbiAgICBNUDNEZW11eGVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoZGF0YSwgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgICAgIHZhciBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIDApO1xuICAgICAgICB2YXIgdGltZXN0YW1wID0gaWQzXzEuZGVmYXVsdC5nZXRUaW1lU3RhbXAoaWQzRGF0YSk7XG4gICAgICAgIHZhciBwdHMgPSB0aW1lc3RhbXAgPyA5MCAqIHRpbWVzdGFtcCA6IHRpbWVPZmZzZXQgKiA5MDAwMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IGlkM0RhdGEubGVuZ3RoO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gMCwgc3RhbXAgPSAwO1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrO1xuICAgICAgICB2YXIgaWQzU2FtcGxlcyA9IFt7IHB0czogcHRzLCBkdHM6IHB0cywgZGF0YTogaWQzRGF0YSB9XTtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKG1wZWdhdWRpb18xLmRlZmF1bHQuaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgICAgIHZhciBmcmFtZSA9IG1wZWdhdWRpb18xLmRlZmF1bHQuYXBwZW5kRnJhbWUodHJhY2ssIGRhdGEsIG9mZnNldCwgcHRzLCBmcmFtZUluZGV4KTtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdVbmFibGUgdG8gcGFyc2UgTXBlZyBhdWRpbyBmcmFtZScpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpZDNfMS5kZWZhdWx0LmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBpZDNEYXRhID0gaWQzXzEuZGVmYXVsdC5nZXRJRDNEYXRhKGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgaWQzU2FtcGxlcy5wdXNoKHsgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCwgZGF0YTogaWQzRGF0YSB9KTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gaWQzRGF0YS5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBub3RoaW5nIGZvdW5kLCBrZWVwIGxvb2tpbmdcbiAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbXV4ZXIucmVtdXgodHJhY2ssIHsgc2FtcGxlczogW10gfSwgeyBzYW1wbGVzOiBpZDNTYW1wbGVzLCBpbnB1dFRpbWVTY2FsZTogOTAwMDAgfSwgeyBzYW1wbGVzOiBbXSB9LCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgIH07XG4gICAgTVAzRGVtdXhlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIHJldHVybiBNUDNEZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1QM0RlbXV4ZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvbXA0ZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L21wNGRlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBNUDQgZGVtdXhlclxuICovXG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgVUlOVDMyX01BWCA9IE1hdGgucG93KDIsIDMyKSAtIDE7XG52YXIgTVA0RGVtdXhlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNUDREZW11eGVyKG9ic2VydmVyLCByZW11eGVyKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICAgICAgdGhpcy5yZW11eGVyID0gcmVtdXhlcjtcbiAgICB9XG4gICAgTVA0RGVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoaW5pdFBUUykge1xuICAgICAgICB0aGlzLmluaXRQVFMgPSBpbml0UFRTO1xuICAgIH07XG4gICAgTVA0RGVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uIChpbml0U2VnbWVudCwgYXVkaW9Db2RlYywgdmlkZW9Db2RlYywgZHVyYXRpb24pIHtcbiAgICAgICAgLy8ganNoaW50IHVudXNlZDpmYWxzZVxuICAgICAgICBpZiAoaW5pdFNlZ21lbnQgJiYgaW5pdFNlZ21lbnQuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YSA9IE1QNERlbXV4ZXIucGFyc2VJbml0U2VnbWVudChpbml0U2VnbWVudCk7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IGF1ZGlvIGNvZGVjIGlmIG5vdGhpbmcgc3BlY2lmaWVkXG4gICAgICAgICAgICAvLyBUT0RPIDogZXh0cmFjdCB0aGF0IGZyb20gaW5pdHNlZ21lbnRcbiAgICAgICAgICAgIGlmIChhdWRpb0NvZGVjID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhdWRpb0NvZGVjID0gJ21wNGEuNDAuNSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmlkZW9Db2RlYyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmlkZW9Db2RlYyA9ICdhdmMxLjQyZTAxZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdHJhY2tzID0ge307XG4gICAgICAgICAgICBpZiAoaW5pdERhdGEuYXVkaW8gJiYgaW5pdERhdGEudmlkZW8pIHtcbiAgICAgICAgICAgICAgICB0cmFja3MuYXVkaW92aWRlbyA9IHsgY29udGFpbmVyOiAndmlkZW8vbXA0JywgY29kZWM6IGF1ZGlvQ29kZWMgKyAnLCcgKyB2aWRlb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChpbml0RGF0YS5hdWRpbykge1xuICAgICAgICAgICAgICAgICAgICB0cmFja3MuYXVkaW8gPSB7IGNvbnRhaW5lcjogJ2F1ZGlvL21wNCcsIGNvZGVjOiBhdWRpb0NvZGVjLCBpbml0U2VnbWVudDogZHVyYXRpb24gPyBpbml0U2VnbWVudCA6IG51bGwgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluaXREYXRhLnZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrcy52aWRlbyA9IHsgY29udGFpbmVyOiAndmlkZW8vbXA0JywgY29kZWM6IHZpZGVvQ29kZWMsIGluaXRTZWdtZW50OiBkdXJhdGlvbiA/IGluaXRTZWdtZW50IDogbnVsbCB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIHsgdHJhY2tzOiB0cmFja3MgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9Db2RlYykge1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IGF1ZGlvQ29kZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodmlkZW9Db2RlYykge1xuICAgICAgICAgICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IHZpZGVvQ29kZWM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1QNERlbXV4ZXIucHJvYmUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBlbnN1cmUgd2UgZmluZCBhIG1vb2YgYm94IGluIHRoZSBmaXJzdCAxNiBrQlxuICAgICAgICByZXR1cm4gTVA0RGVtdXhlci5maW5kQm94KHsgZGF0YTogZGF0YSwgc3RhcnQ6IDAsIGVuZDogTWF0aC5taW4oZGF0YS5sZW5ndGgsIDE2Mzg0KSB9LCBbJ21vb2YnXSkubGVuZ3RoID4gMDtcbiAgICB9O1xuICAgIE1QNERlbXV4ZXIuYmluMnN0ciA9IGZ1bmN0aW9uIChidWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgYnVmZmVyKTtcbiAgICB9O1xuICAgIE1QNERlbXV4ZXIucmVhZFVpbnQxNiA9IGZ1bmN0aW9uIChidWZmZXIsIG9mZnNldCkge1xuICAgICAgICBpZiAoYnVmZmVyLmRhdGEpIHtcbiAgICAgICAgICAgIG9mZnNldCArPSBidWZmZXIuc3RhcnQ7XG4gICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsID0gYnVmZmVyW29mZnNldF0gPDwgOCB8XG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV07XG4gICAgICAgIHJldHVybiB2YWwgPCAwID8gNjU1MzYgKyB2YWwgOiB2YWw7XG4gICAgfTtcbiAgICBNUDREZW11eGVyLnJlYWRVaW50MzIgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQpIHtcbiAgICAgICAgaWYgKGJ1ZmZlci5kYXRhKSB7XG4gICAgICAgICAgICBvZmZzZXQgKz0gYnVmZmVyLnN0YXJ0O1xuICAgICAgICAgICAgYnVmZmVyID0gYnVmZmVyLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbCA9IGJ1ZmZlcltvZmZzZXRdIDw8IDI0IHxcbiAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA8PCAxNiB8XG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMl0gPDwgOCB8XG4gICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgM107XG4gICAgICAgIHJldHVybiB2YWwgPCAwID8gNDI5NDk2NzI5NiArIHZhbCA6IHZhbDtcbiAgICB9O1xuICAgIE1QNERlbXV4ZXIud3JpdGVVaW50MzIgPSBmdW5jdGlvbiAoYnVmZmVyLCBvZmZzZXQsIHZhbHVlKSB7XG4gICAgICAgIGlmIChidWZmZXIuZGF0YSkge1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGJ1ZmZlci5zdGFydDtcbiAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5kYXRhO1xuICAgICAgICB9XG4gICAgICAgIGJ1ZmZlcltvZmZzZXRdID0gdmFsdWUgPj4gMjQ7XG4gICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9ICh2YWx1ZSA+PiAxNikgJiAweGZmO1xuICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMl0gPSAodmFsdWUgPj4gOCkgJiAweGZmO1xuICAgICAgICBidWZmZXJbb2Zmc2V0ICsgM10gPSB2YWx1ZSAmIDB4ZmY7XG4gICAgfTtcbiAgICAvLyBGaW5kIHRoZSBkYXRhIGZvciBhIGJveCBzcGVjaWZpZWQgYnkgaXRzIHBhdGhcbiAgICBNUDREZW11eGVyLmZpbmRCb3ggPSBmdW5jdGlvbiAoZGF0YSwgcGF0aCkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IFtdLCBpLCBzaXplLCB0eXBlLCBlbmQsIHN1YnJlc3VsdHMsIHN0YXJ0LCBlbmRib3g7XG4gICAgICAgIGlmIChkYXRhLmRhdGEpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gZGF0YS5zdGFydDtcbiAgICAgICAgICAgIGVuZCA9IGRhdGEuZW5kO1xuICAgICAgICAgICAgZGF0YSA9IGRhdGEuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgICAgIGVuZCA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBzaG9ydC1jaXJjdWl0IHRoZSBzZWFyY2ggZm9yIGVtcHR5IHBhdGhzXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8IGVuZDspIHtcbiAgICAgICAgICAgIHNpemUgPSBNUDREZW11eGVyLnJlYWRVaW50MzIoZGF0YSwgaSk7XG4gICAgICAgICAgICB0eXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGRhdGEuc3ViYXJyYXkoaSArIDQsIGkgKyA4KSk7XG4gICAgICAgICAgICBlbmRib3ggPSBzaXplID4gMSA/IGkgKyBzaXplIDogZW5kO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IHBhdGhbMF0pIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBpcyB0aGUgZW5kIG9mIHRoZSBwYXRoIGFuZCB3ZSd2ZSBmb3VuZCB0aGUgYm94IHdlIHdlcmVcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9va2luZyBmb3JcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHsgZGF0YTogZGF0YSwgc3RhcnQ6IGkgKyA4LCBlbmQ6IGVuZGJveCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlY3Vyc2l2ZWx5IHNlYXJjaCBmb3IgdGhlIG5leHQgYm94IGFsb25nIHRoZSBwYXRoXG4gICAgICAgICAgICAgICAgICAgIHN1YnJlc3VsdHMgPSBNUDREZW11eGVyLmZpbmRCb3goeyBkYXRhOiBkYXRhLCBzdGFydDogaSArIDgsIGVuZDogZW5kYm94IH0sIHBhdGguc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VicmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSByZXN1bHRzLmNvbmNhdChzdWJyZXN1bHRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgPSBlbmRib3g7XG4gICAgICAgIH1cbiAgICAgICAgLy8gd2UndmUgZmluaXNoZWQgc2VhcmNoaW5nIGFsbCBvZiBkYXRhXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgIH07XG4gICAgTVA0RGVtdXhlci5wYXJzZVNlZ21lbnRJbmRleCA9IGZ1bmN0aW9uIChpbml0U2VnbWVudCkge1xuICAgICAgICB2YXIgbW9vdiA9IE1QNERlbXV4ZXIuZmluZEJveChpbml0U2VnbWVudCwgWydtb292J10pWzBdO1xuICAgICAgICB2YXIgbW9vdkVuZE9mZnNldCA9IG1vb3YgPyBtb292LmVuZCA6IG51bGw7IC8vIHdlIG5lZWQgdGhpcyBpbiBjYXNlIHdlIG5lZWQgdG8gY2hvcCBvZiBnYXJiYWdlIG9mIHRoZSBlbmQgb2YgY3VycmVudCBkYXRhXG4gICAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICAgIHZhciBzaWR4ID0gTVA0RGVtdXhlci5maW5kQm94KGluaXRTZWdtZW50LCBbJ3NpZHgnXSk7XG4gICAgICAgIHZhciByZWZlcmVuY2VzO1xuICAgICAgICBpZiAoIXNpZHggfHwgIXNpZHhbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJlZmVyZW5jZXMgPSBbXTtcbiAgICAgICAgc2lkeCA9IHNpZHhbMF07XG4gICAgICAgIHZhciB2ZXJzaW9uID0gc2lkeC5kYXRhWzBdO1xuICAgICAgICAvLyBzZXQgaW5pdGlhbCBvZmZzZXQsIHdlIHNraXAgdGhlIHJlZmVyZW5jZSBJRCAobm90IG5lZWRlZClcbiAgICAgICAgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gOCA6IDE2O1xuICAgICAgICB2YXIgdGltZXNjYWxlID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHNpZHgsIGluZGV4KTtcbiAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgLy8gVE9ETzogcGFyc2UgZWFybGllc3RQcmVzZW50YXRpb25UaW1lIGFuZCBmaXJzdE9mZnNldFxuICAgICAgICAvLyB1c3VhbGx5IHplcm8gaW4gb3VyIGNhc2VcbiAgICAgICAgdmFyIGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSA9IDA7XG4gICAgICAgIHZhciBmaXJzdE9mZnNldCA9IDA7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgICAgICBpbmRleCArPSA4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaW5kZXggKz0gMTY7XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2tpcCByZXNlcnZlZFxuICAgICAgICBpbmRleCArPSAyO1xuICAgICAgICB2YXIgc3RhcnRCeXRlID0gc2lkeC5lbmQgKyBmaXJzdE9mZnNldDtcbiAgICAgICAgdmFyIHJlZmVyZW5jZXNDb3VudCA9IE1QNERlbXV4ZXIucmVhZFVpbnQxNihzaWR4LCBpbmRleCk7XG4gICAgICAgIGluZGV4ICs9IDI7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVmZXJlbmNlc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VJbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgdmFyIHJlZmVyZW5jZUluZm8gPSBNUDREZW11eGVyLnJlYWRVaW50MzIoc2lkeCwgcmVmZXJlbmNlSW5kZXgpO1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggKz0gNDtcbiAgICAgICAgICAgIHZhciByZWZlcmVuY2VTaXplID0gcmVmZXJlbmNlSW5mbyAmIDB4N0ZGRkZGRkY7XG4gICAgICAgICAgICB2YXIgcmVmZXJlbmNlVHlwZSA9IChyZWZlcmVuY2VJbmZvICYgMHg4MDAwMDAwMCkgPj4+IDMxO1xuICAgICAgICAgICAgaWYgKHJlZmVyZW5jZVR5cGUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1NJRFggaGFzIGhpZXJhcmNoaWNhbCByZWZlcmVuY2VzIChub3Qgc3VwcG9ydGVkKScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdWJzZWdtZW50RHVyYXRpb24gPSBNUDREZW11eGVyLnJlYWRVaW50MzIoc2lkeCwgcmVmZXJlbmNlSW5kZXgpO1xuICAgICAgICAgICAgcmVmZXJlbmNlSW5kZXggKz0gNDtcbiAgICAgICAgICAgIHJlZmVyZW5jZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgcmVmZXJlbmNlU2l6ZTogcmVmZXJlbmNlU2l6ZSxcbiAgICAgICAgICAgICAgICBzdWJzZWdtZW50RHVyYXRpb246IHN1YnNlZ21lbnREdXJhdGlvbixcbiAgICAgICAgICAgICAgICBpbmZvOiB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBzdWJzZWdtZW50RHVyYXRpb24gLyB0aW1lc2NhbGUsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydEJ5dGUsXG4gICAgICAgICAgICAgICAgICAgIGVuZDogc3RhcnRCeXRlICsgcmVmZXJlbmNlU2l6ZSAtIDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHN0YXJ0Qnl0ZSArPSByZWZlcmVuY2VTaXplO1xuICAgICAgICAgICAgLy8gU2tpcHBpbmcgMSBiaXQgZm9yIHxzdGFydHNXaXRoU2FwfCwgMyBiaXRzIGZvciB8c2FwVHlwZXwsIGFuZCAyOCBiaXRzXG4gICAgICAgICAgICAvLyBmb3IgfHNhcERlbHRhfC5cbiAgICAgICAgICAgIHJlZmVyZW5jZUluZGV4ICs9IDQ7XG4gICAgICAgICAgICAvLyBza2lwIHRvIG5leHQgcmVmXG4gICAgICAgICAgICBpbmRleCA9IHJlZmVyZW5jZUluZGV4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlYXJsaWVzdFByZXNlbnRhdGlvblRpbWU6IGVhcmxpZXN0UHJlc2VudGF0aW9uVGltZSxcbiAgICAgICAgICAgIHRpbWVzY2FsZTogdGltZXNjYWxlLFxuICAgICAgICAgICAgdmVyc2lvbjogdmVyc2lvbixcbiAgICAgICAgICAgIHJlZmVyZW5jZXNDb3VudDogcmVmZXJlbmNlc0NvdW50LFxuICAgICAgICAgICAgcmVmZXJlbmNlczogcmVmZXJlbmNlcyxcbiAgICAgICAgICAgIG1vb3ZFbmRPZmZzZXQ6IG1vb3ZFbmRPZmZzZXRcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhbiBNUDQgaW5pdGlhbGl6YXRpb24gc2VnbWVudCBhbmQgZXh0cmFjdHMgc3RyZWFtIHR5cGUgYW5kXG4gICAgICogdGltZXNjYWxlIHZhbHVlcyBmb3IgYW55IGRlY2xhcmVkIHRyYWNrcy4gVGltZXNjYWxlIHZhbHVlcyBpbmRpY2F0ZSB0aGVcbiAgICAgKiBudW1iZXIgb2YgY2xvY2sgdGlja3MgcGVyIHNlY29uZCB0byBhc3N1bWUgZm9yIHRpbWUtYmFzZWQgdmFsdWVzXG4gICAgICogZWxzZXdoZXJlIGluIHRoZSBNUDQuXG4gICAgICpcbiAgICAgKiBUbyBkZXRlcm1pbmUgdGhlIHN0YXJ0IHRpbWUgb2YgYW4gTVA0LCB5b3UgbmVlZCB0d28gcGllY2VzIG9mXG4gICAgICogaW5mb3JtYXRpb246IHRoZSB0aW1lc2NhbGUgdW5pdCBhbmQgdGhlIGVhcmxpZXN0IGJhc2UgbWVkaWEgZGVjb2RlXG4gICAgICogdGltZS4gTXVsdGlwbGUgdGltZXNjYWxlcyBjYW4gYmUgc3BlY2lmaWVkIHdpdGhpbiBhbiBNUDQgYnV0IHRoZVxuICAgICAqIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgaXMgYWx3YXlzIGV4cHJlc3NlZCBpbiB0aGUgdGltZXNjYWxlIGZyb21cbiAgICAgKiB0aGUgbWVkaWEgaGVhZGVyIGJveCBmb3IgdGhlIHRyYWNrOlxuICAgICAqIGBgYFxuICAgICAqIG1vb3YgPiB0cmFrID4gbWRpYSA+IG1kaGQudGltZXNjYWxlXG4gICAgICogbW9vdiA+IHRyYWsgPiBtZGlhID4gaGRsclxuICAgICAqIGBgYFxuICAgICAqIEBwYXJhbSBpbml0IHtVaW50OEFycmF5fSB0aGUgYnl0ZXMgb2YgdGhlIGluaXQgc2VnbWVudFxuICAgICAqIEByZXR1cm4ge29iamVjdH0gYSBoYXNoIG9mIHRyYWNrIHR5cGUgdG8gdGltZXNjYWxlIHZhbHVlcyBvciBudWxsIGlmXG4gICAgICogdGhlIGluaXQgc2VnbWVudCBpcyBtYWxmb3JtZWQuXG4gICAgICovXG4gICAgTVA0RGVtdXhlci5wYXJzZUluaXRTZWdtZW50ID0gZnVuY3Rpb24gKGluaXRTZWdtZW50KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgICAgdmFyIHRyYWtzID0gTVA0RGVtdXhlci5maW5kQm94KGluaXRTZWdtZW50LCBbJ21vb3YnLCAndHJhayddKTtcbiAgICAgICAgdHJha3MuZm9yRWFjaChmdW5jdGlvbiAodHJhaykge1xuICAgICAgICAgICAgdmFyIHRraGQgPSBNUDREZW11eGVyLmZpbmRCb3godHJhaywgWyd0a2hkJ10pWzBdO1xuICAgICAgICAgICAgaWYgKHRraGQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbiA9IHRraGQuZGF0YVt0a2hkLnN0YXJ0XTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgICAgICAgICAgICB2YXIgdHJhY2tJZCA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0a2hkLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgdmFyIG1kaGQgPSBNUDREZW11eGVyLmZpbmRCb3godHJhaywgWydtZGlhJywgJ21kaGQnXSlbMF07XG4gICAgICAgICAgICAgICAgaWYgKG1kaGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9IG1kaGQuZGF0YVttZGhkLnN0YXJ0XTtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSB2ZXJzaW9uID09PSAwID8gMTIgOiAyMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVzY2FsZSA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMihtZGhkLCBpbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZGxyID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWssIFsnbWRpYScsICdoZGxyJ10pWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGRscikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhkbHJUeXBlID0gTVA0RGVtdXhlci5iaW4yc3RyKGhkbHIuZGF0YS5zdWJhcnJheShoZGxyLnN0YXJ0ICsgOCwgaGRsci5zdGFydCArIDEyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZSA9IHsgJ3NvdW4nOiAnYXVkaW8nLCAndmlkZSc6ICd2aWRlbycgfVtoZGxyVHlwZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4dHJhY3QgY29kZWMgaW5mby4gVE9ETyA6IHBhcnNlIGNvZGVjIGRldGFpbHMgdG8gYmUgYWJsZSB0byBidWlsZCBNSU1FIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZWNCb3ggPSBNUDREZW11eGVyLmZpbmRCb3godHJhaywgWydtZGlhJywgJ21pbmYnLCAnc3RibCcsICdzdHNkJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlY0JveC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZWNCb3ggPSBjb2RlY0JveFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGVjVHlwZSA9IE1QNERlbXV4ZXIuYmluMnN0cihjb2RlY0JveC5kYXRhLnN1YmFycmF5KGNvZGVjQm94LnN0YXJ0ICsgMTIsIGNvZGVjQm94LnN0YXJ0ICsgMTYpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIk1QNERlbXV4ZXI6XCIgKyB0eXBlICsgXCI6XCIgKyBjb2RlY1R5cGUgKyBcIiBmb3VuZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3RyYWNrSWRdID0geyB0aW1lc2NhbGU6IHRpbWVzY2FsZSwgdHlwZTogdHlwZSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFt0eXBlXSA9IHsgdGltZXNjYWxlOiB0aW1lc2NhbGUsIGlkOiB0cmFja0lkIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgLyoqXG4gICAqIERldGVybWluZSB0aGUgYmFzZSBtZWRpYSBkZWNvZGUgc3RhcnQgdGltZSwgaW4gc2Vjb25kcywgZm9yIGFuIE1QNFxuICAgKiBmcmFnbWVudC4gSWYgbXVsdGlwbGUgZnJhZ21lbnRzIGFyZSBzcGVjaWZpZWQsIHRoZSBlYXJsaWVzdCB0aW1lIGlzXG4gICAqIHJldHVybmVkLlxuICAgKlxuICAgKiBUaGUgYmFzZSBtZWRpYSBkZWNvZGUgdGltZSBjYW4gYmUgcGFyc2VkIGZyb20gdHJhY2sgZnJhZ21lbnRcbiAgICogbWV0YWRhdGE6XG4gICAqIGBgYFxuICAgKiBtb29mID4gdHJhZiA+IHRmZHQuYmFzZU1lZGlhRGVjb2RlVGltZVxuICAgKiBgYGBcbiAgICogSXQgcmVxdWlyZXMgdGhlIHRpbWVzY2FsZSB2YWx1ZSBmcm9tIHRoZSBtZGhkIHRvIGludGVycHJldC5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVzY2FsZSB7b2JqZWN0fSBhIGhhc2ggb2YgdHJhY2sgaWRzIHRvIHRpbWVzY2FsZSB2YWx1ZXMuXG4gICAqIEByZXR1cm4ge251bWJlcn0gdGhlIGVhcmxpZXN0IGJhc2UgbWVkaWEgZGVjb2RlIHN0YXJ0IHRpbWUgZm9yIHRoZVxuICAgKiBmcmFnbWVudCwgaW4gc2Vjb25kc1xuICAgKi9cbiAgICBNUDREZW11eGVyLmdldFN0YXJ0RFRTID0gZnVuY3Rpb24gKGluaXREYXRhLCBmcmFnbWVudCkge1xuICAgICAgICB2YXIgdHJhZnMsIGJhc2VUaW1lcywgcmVzdWx0O1xuICAgICAgICAvLyB3ZSBuZWVkIGluZm8gZnJvbSB0d28gY2hpbGRyZW5kIG9mIGVhY2ggdHJhY2sgZnJhZ21lbnQgYm94XG4gICAgICAgIHRyYWZzID0gTVA0RGVtdXhlci5maW5kQm94KGZyYWdtZW50LCBbJ21vb2YnLCAndHJhZiddKTtcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSBzdGFydCB0aW1lcyBmb3IgZWFjaCB0cmFja1xuICAgICAgICBiYXNlVGltZXMgPSBbXS5jb25jYXQuYXBwbHkoW10sIHRyYWZzLm1hcChmdW5jdGlvbiAodHJhZikge1xuICAgICAgICAgICAgcmV0dXJuIE1QNERlbXV4ZXIuZmluZEJveCh0cmFmLCBbJ3RmaGQnXSkubWFwKGZ1bmN0aW9uICh0ZmhkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlkLCBzY2FsZSwgYmFzZVRpbWU7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSB0cmFjayBpZCBmcm9tIHRoZSB0ZmhkXG4gICAgICAgICAgICAgICAgaWQgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZoZCwgNCk7XG4gICAgICAgICAgICAgICAgLy8gYXNzdW1lIGEgOTBrSHogY2xvY2sgaWYgbm8gdGltZXNjYWxlIHdhcyBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICBzY2FsZSA9IGluaXREYXRhW2lkXS50aW1lc2NhbGUgfHwgOTBlMztcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGJhc2UgbWVkaWEgZGVjb2RlIHRpbWUgZnJvbSB0aGUgdGZkdFxuICAgICAgICAgICAgICAgIGJhc2VUaW1lID0gTVA0RGVtdXhlci5maW5kQm94KHRyYWYsIFsndGZkdCddKS5tYXAoZnVuY3Rpb24gKHRmZHQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlcnNpb24sIHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbiA9IHRmZHQuZGF0YVt0ZmR0LnN0YXJ0XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gTVA0RGVtdXhlci5yZWFkVWludDMyKHRmZHQsIDQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICo9IE1hdGgucG93KDIsIDMyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9KVswXTtcbiAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IGJhc2UgdGltZSB0byBzZWNvbmRzXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJhc2VUaW1lIC8gc2NhbGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyByZXR1cm4gdGhlIG1pbmltdW1cbiAgICAgICAgcmVzdWx0ID0gTWF0aC5taW4uYXBwbHkobnVsbCwgYmFzZVRpbWVzKTtcbiAgICAgICAgcmV0dXJuIGlzRmluaXRlKHJlc3VsdCkgPyByZXN1bHQgOiAwO1xuICAgIH07XG4gICAgTVA0RGVtdXhlci5vZmZzZXRTdGFydERUUyA9IGZ1bmN0aW9uIChpbml0RGF0YSwgZnJhZ21lbnQsIHRpbWVPZmZzZXQpIHtcbiAgICAgICAgTVA0RGVtdXhlci5maW5kQm94KGZyYWdtZW50LCBbJ21vb2YnLCAndHJhZiddKS5tYXAoZnVuY3Rpb24gKHRyYWYpIHtcbiAgICAgICAgICAgIHJldHVybiBNUDREZW11eGVyLmZpbmRCb3godHJhZiwgWyd0ZmhkJ10pLm1hcChmdW5jdGlvbiAodGZoZCkge1xuICAgICAgICAgICAgICAgIC8vIGdldCB0aGUgdHJhY2sgaWQgZnJvbSB0aGUgdGZoZFxuICAgICAgICAgICAgICAgIHZhciBpZCA9IE1QNERlbXV4ZXIucmVhZFVpbnQzMih0ZmhkLCA0KTtcbiAgICAgICAgICAgICAgICAvLyBhc3N1bWUgYSA5MGtIeiBjbG9jayBpZiBubyB0aW1lc2NhbGUgd2FzIHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIHZhciB0aW1lc2NhbGUgPSBpbml0RGF0YVtpZF0udGltZXNjYWxlIHx8IDkwZTM7XG4gICAgICAgICAgICAgICAgLy8gZ2V0IHRoZSBiYXNlIG1lZGlhIGRlY29kZSB0aW1lIGZyb20gdGhlIHRmZHRcbiAgICAgICAgICAgICAgICBNUDREZW11eGVyLmZpbmRCb3godHJhZiwgWyd0ZmR0J10pLm1hcChmdW5jdGlvbiAodGZkdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmVyc2lvbiA9IHRmZHQuZGF0YVt0ZmR0LnN0YXJ0XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VNZWRpYURlY29kZVRpbWUgPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgNCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDQsIGJhc2VNZWRpYURlY29kZVRpbWUgLSB0aW1lT2Zmc2V0ICogdGltZXNjYWxlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VNZWRpYURlY29kZVRpbWUgKj0gTWF0aC5wb3coMiwgMzIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZU1lZGlhRGVjb2RlVGltZSArPSBNUDREZW11eGVyLnJlYWRVaW50MzIodGZkdCwgOCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lIC09IHRpbWVPZmZzZXQgKiB0aW1lc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlTWVkaWFEZWNvZGVUaW1lID0gTWF0aC5tYXgoYmFzZU1lZGlhRGVjb2RlVGltZSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBwZXIgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgLyAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb3dlciA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAlIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgTVA0RGVtdXhlci53cml0ZVVpbnQzMih0ZmR0LCA0LCB1cHBlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUDREZW11eGVyLndyaXRlVWludDMyKHRmZHQsIDgsIGxvd2VyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgLy8gZmVlZCBpbmNvbWluZyBkYXRhIHRvIHRoZSBmcm9udCBvZiB0aGUgcGFyc2luZyBwaXBlbGluZVxuICAgIE1QNERlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIGluaXREYXRhID0gdGhpcy5pbml0RGF0YTtcbiAgICAgICAgaWYgKCFpbml0RGF0YSkge1xuICAgICAgICAgICAgdGhpcy5yZXNldEluaXRTZWdtZW50KGRhdGEsIHRoaXMuYXVkaW9Db2RlYywgdGhpcy52aWRlb0NvZGVjLCBmYWxzZSk7XG4gICAgICAgICAgICBpbml0RGF0YSA9IHRoaXMuaW5pdERhdGE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHN0YXJ0RFRTLCBpbml0UFRTID0gdGhpcy5pbml0UFRTO1xuICAgICAgICBpZiAoaW5pdFBUUyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnREVFNfMSA9IE1QNERlbXV4ZXIuZ2V0U3RhcnREVFMoaW5pdERhdGEsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0UFRTID0gaW5pdFBUUyA9IHN0YXJ0RFRTXzEgLSB0aW1lT2Zmc2V0O1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuSU5JVF9QVFNfRk9VTkQsIHsgaW5pdFBUUzogaW5pdFBUUyB9KTtcbiAgICAgICAgfVxuICAgICAgICBNUDREZW11eGVyLm9mZnNldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhLCBpbml0UFRTKTtcbiAgICAgICAgc3RhcnREVFMgPSBNUDREZW11eGVyLmdldFN0YXJ0RFRTKGluaXREYXRhLCBkYXRhKTtcbiAgICAgICAgdGhpcy5yZW11eGVyLnJlbXV4KGluaXREYXRhLmF1ZGlvLCBpbml0RGF0YS52aWRlbywgbnVsbCwgbnVsbCwgc3RhcnREVFMsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCwgZGF0YSk7XG4gICAgfTtcbiAgICBNUDREZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIHJldHVybiBNUDREZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE1QNERlbXV4ZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvbXBlZ2F1ZGlvLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9kZW11eC9tcGVnYXVkaW8uanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqICBNUEVHIHBhcnNlciBoZWxwZXJcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIE1wZWdBdWRpbyA9IHtcbiAgICBCaXRyYXRlc01hcDogW1xuICAgICAgICAzMiwgNjQsIDk2LCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMjg4LCAzMjAsIDM1MiwgMzg0LCA0MTYsIDQ0OCxcbiAgICAgICAgMzIsIDQ4LCA1NiwgNjQsIDgwLCA5NiwgMTEyLCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMzIwLCAzODQsXG4gICAgICAgIDMyLCA0MCwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAzMjAsXG4gICAgICAgIDMyLCA0OCwgNTYsIDY0LCA4MCwgOTYsIDExMiwgMTI4LCAxNDQsIDE2MCwgMTc2LCAxOTIsIDIyNCwgMjU2LFxuICAgICAgICA4LCAxNiwgMjQsIDMyLCA0MCwgNDgsIDU2LCA2NCwgODAsIDk2LCAxMTIsIDEyOCwgMTQ0LCAxNjBcbiAgICBdLFxuICAgIFNhbXBsaW5nUmF0ZU1hcDogWzQ0MTAwLCA0ODAwMCwgMzIwMDAsIDIyMDUwLCAyNDAwMCwgMTYwMDAsIDExMDI1LCAxMjAwMCwgODAwMF0sXG4gICAgU2FtcGxlc0NvZWZmaWNpZW50czogW1xuICAgICAgICAvLyBNUEVHIDIuNVxuICAgICAgICBbXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgNzIsXG4gICAgICAgICAgICAxNDQsXG4gICAgICAgICAgICAxMiAvLyBMYXllcjFcbiAgICAgICAgXSxcbiAgICAgICAgLy8gUmVzZXJ2ZWRcbiAgICAgICAgW1xuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgMCAvLyBMYXllcjFcbiAgICAgICAgXSxcbiAgICAgICAgLy8gTVBFRyAyXG4gICAgICAgIFtcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICA3MixcbiAgICAgICAgICAgIDE0NCxcbiAgICAgICAgICAgIDEyIC8vIExheWVyMVxuICAgICAgICBdLFxuICAgICAgICAvLyBNUEVHIDFcbiAgICAgICAgW1xuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIDE0NCxcbiAgICAgICAgICAgIDE0NCxcbiAgICAgICAgICAgIDEyIC8vIExheWVyMVxuICAgICAgICBdXG4gICAgXSxcbiAgICBCeXRlc0luU2xvdDogW1xuICAgICAgICAwLFxuICAgICAgICAxLFxuICAgICAgICAxLFxuICAgICAgICA0IC8vIExheWVyMVxuICAgIF0sXG4gICAgYXBwZW5kRnJhbWU6IGZ1bmN0aW9uICh0cmFjaywgZGF0YSwgb2Zmc2V0LCBwdHMsIGZyYW1lSW5kZXgpIHtcbiAgICAgICAgLy8gVXNpbmcgaHR0cDovL3d3dy5kYXRhdm95YWdlLmNvbS9tcGdzY3JpcHQvbXBlZ2hkci5odG0gYXMgYSByZWZlcmVuY2VcbiAgICAgICAgaWYgKG9mZnNldCArIDI0ID4gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMucGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgaWYgKGhlYWRlciAmJiBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGggPD0gZGF0YS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBmcmFtZUR1cmF0aW9uID0gaGVhZGVyLnNhbXBsZXNQZXJGcmFtZSAqIDkwMDAwIC8gaGVhZGVyLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB2YXIgc3RhbXAgPSBwdHMgKyBmcmFtZUluZGV4ICogZnJhbWVEdXJhdGlvbjtcbiAgICAgICAgICAgIHZhciBzYW1wbGUgPSB7IHVuaXQ6IGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBvZmZzZXQgKyBoZWFkZXIuZnJhbWVMZW5ndGgpLCBwdHM6IHN0YW1wLCBkdHM6IHN0YW1wIH07XG4gICAgICAgICAgICB0cmFjay5jb25maWcgPSBbXTtcbiAgICAgICAgICAgIHRyYWNrLmNoYW5uZWxDb3VudCA9IGhlYWRlci5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICB0cmFjay5zYW1wbGVyYXRlID0gaGVhZGVyLnNhbXBsZVJhdGU7XG4gICAgICAgICAgICB0cmFjay5zYW1wbGVzLnB1c2goc2FtcGxlKTtcbiAgICAgICAgICAgIHRyYWNrLmxlbiArPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4geyBzYW1wbGU6IHNhbXBsZSwgbGVuZ3RoOiBoZWFkZXIuZnJhbWVMZW5ndGggfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0sXG4gICAgcGFyc2VIZWFkZXI6IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIGhlYWRlckIgPSAoZGF0YVtvZmZzZXQgKyAxXSA+PiAzKSAmIDM7XG4gICAgICAgIHZhciBoZWFkZXJDID0gKGRhdGFbb2Zmc2V0ICsgMV0gPj4gMSkgJiAzO1xuICAgICAgICB2YXIgaGVhZGVyRSA9IChkYXRhW29mZnNldCArIDJdID4+IDQpICYgMTU7XG4gICAgICAgIHZhciBoZWFkZXJGID0gKGRhdGFbb2Zmc2V0ICsgMl0gPj4gMikgJiAzO1xuICAgICAgICB2YXIgaGVhZGVyRyA9IChkYXRhW29mZnNldCArIDJdID4+IDEpICYgMTtcbiAgICAgICAgaWYgKGhlYWRlckIgIT09IDEgJiYgaGVhZGVyRSAhPT0gMCAmJiBoZWFkZXJFICE9PSAxNSAmJiBoZWFkZXJGICE9PSAzKSB7XG4gICAgICAgICAgICB2YXIgY29sdW1uSW5CaXRyYXRlcyA9IGhlYWRlckIgPT09IDMgPyAoMyAtIGhlYWRlckMpIDogKGhlYWRlckMgPT09IDMgPyAzIDogNCk7XG4gICAgICAgICAgICB2YXIgYml0UmF0ZSA9IE1wZWdBdWRpby5CaXRyYXRlc01hcFtjb2x1bW5JbkJpdHJhdGVzICogMTQgKyBoZWFkZXJFIC0gMV0gKiAxMDAwO1xuICAgICAgICAgICAgdmFyIGNvbHVtbkluU2FtcGxlUmF0ZXMgPSBoZWFkZXJCID09PSAzID8gMCA6IGhlYWRlckIgPT09IDIgPyAxIDogMjtcbiAgICAgICAgICAgIHZhciBzYW1wbGVSYXRlID0gTXBlZ0F1ZGlvLlNhbXBsaW5nUmF0ZU1hcFtjb2x1bW5JblNhbXBsZVJhdGVzICogMyArIGhlYWRlckZdO1xuICAgICAgICAgICAgdmFyIGNoYW5uZWxDb3VudCA9IGRhdGFbb2Zmc2V0ICsgM10gPj4gNiA9PT0gMyA/IDEgOiAyOyAvLyBJZiBiaXRzIG9mIGNoYW5uZWwgbW9kZSBhcmUgYDExYCB0aGVuIGl0IGlzIGEgc2luZ2xlIGNoYW5uZWwgKE1vbm8pXG4gICAgICAgICAgICB2YXIgc2FtcGxlQ29lZmZpY2llbnQgPSBNcGVnQXVkaW8uU2FtcGxlc0NvZWZmaWNpZW50c1toZWFkZXJCXVtoZWFkZXJDXTtcbiAgICAgICAgICAgIHZhciBieXRlc0luU2xvdCA9IE1wZWdBdWRpby5CeXRlc0luU2xvdFtoZWFkZXJDXTtcbiAgICAgICAgICAgIHZhciBzYW1wbGVzUGVyRnJhbWUgPSBzYW1wbGVDb2VmZmljaWVudCAqIDggKiBieXRlc0luU2xvdDtcbiAgICAgICAgICAgIHZhciBmcmFtZUxlbmd0aCA9IHBhcnNlSW50KHNhbXBsZUNvZWZmaWNpZW50ICogYml0UmF0ZSAvIHNhbXBsZVJhdGUgKyBoZWFkZXJHLCAxMCkgKiBieXRlc0luU2xvdDtcbiAgICAgICAgICAgIHJldHVybiB7IHNhbXBsZVJhdGU6IHNhbXBsZVJhdGUsIGNoYW5uZWxDb3VudDogY2hhbm5lbENvdW50LCBmcmFtZUxlbmd0aDogZnJhbWVMZW5ndGgsIHNhbXBsZXNQZXJGcmFtZTogc2FtcGxlc1BlckZyYW1lIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9LFxuICAgIGlzSGVhZGVyUGF0dGVybjogZnVuY3Rpb24gKGRhdGEsIG9mZnNldCkge1xuICAgICAgICByZXR1cm4gZGF0YVtvZmZzZXRdID09PSAweGZmICYmIChkYXRhW29mZnNldCArIDFdICYgMHhlMCkgPT09IDB4ZTAgJiYgKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDA2KSAhPT0gMHgwMDtcbiAgICB9LFxuICAgIGlzSGVhZGVyOiBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0KSB7XG4gICAgICAgIC8vIExvb2sgZm9yIE1QRUcgaGVhZGVyIHwgMTExMSAxMTExIHwgMTExWCBYWVpYIHwgd2hlcmUgWCBjYW4gYmUgZWl0aGVyIDAgb3IgMSBhbmQgWSBvciBaIHNob3VsZCBiZSAxXG4gICAgICAgIC8vIExheWVyIGJpdHMgKHBvc2l0aW9uIDE0IGFuZCAxNSkgaW4gaGVhZGVyIHNob3VsZCBiZSBhbHdheXMgZGlmZmVyZW50IGZyb20gMCAoTGF5ZXIgSSBvciBMYXllciBJSSBvciBMYXllciBJSUkpXG4gICAgICAgIC8vIE1vcmUgaW5mbyBodHRwOi8vd3d3Lm1wMy10ZWNoLm9yZy9wcm9ncmFtbWVyL2ZyYW1lX2hlYWRlci5odG1sXG4gICAgICAgIGlmIChvZmZzZXQgKyAxIDwgZGF0YS5sZW5ndGggJiYgdGhpcy5pc0hlYWRlclBhdHRlcm4oZGF0YSwgb2Zmc2V0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sXG4gICAgcHJvYmU6IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLy8gc2FtZSBhcyBpc0hlYWRlciBidXQgd2UgYWxzbyBjaGVjayB0aGF0IE1QRUcgZnJhbWUgZm9sbG93cyBsYXN0IE1QRUcgZnJhbWVcbiAgICAgICAgLy8gb3IgZW5kIG9mIGRhdGEgaXMgcmVhY2hlZFxuICAgICAgICBpZiAob2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIHRoaXMuaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgIC8vIE1QRUcgaGVhZGVyIExlbmd0aFxuICAgICAgICAgICAgdmFyIGhlYWRlckxlbmd0aCA9IDQ7XG4gICAgICAgICAgICAvLyBNUEVHIGZyYW1lIExlbmd0aFxuICAgICAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMucGFyc2VIZWFkZXIoZGF0YSwgb2Zmc2V0KTtcbiAgICAgICAgICAgIHZhciBmcmFtZUxlbmd0aCA9IGhlYWRlckxlbmd0aDtcbiAgICAgICAgICAgIGlmIChoZWFkZXIgJiYgaGVhZGVyLmZyYW1lTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZnJhbWVMZW5ndGggPSBoZWFkZXIuZnJhbWVMZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbmV3T2Zmc2V0ID0gb2Zmc2V0ICsgZnJhbWVMZW5ndGg7XG4gICAgICAgICAgICBpZiAobmV3T2Zmc2V0ID09PSBkYXRhLmxlbmd0aCB8fCAobmV3T2Zmc2V0ICsgMSA8IGRhdGEubGVuZ3RoICYmIHRoaXMuaXNIZWFkZXJQYXR0ZXJuKGRhdGEsIG5ld09mZnNldCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBNcGVnQXVkaW87XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvZGVtdXgvc2FtcGxlLWFlcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2RlbXV4L3NhbXBsZS1hZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBTQU1QTEUtQUVTIGRlY3J5cHRlclxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBkZWNyeXB0ZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2NyeXB0L2RlY3J5cHRlciAqLyBcIi4vc3JjL2NyeXB0L2RlY3J5cHRlci5qc1wiKTtcbnZhciBTYW1wbGVBZXNEZWNyeXB0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU2FtcGxlQWVzRGVjcnlwdGVyKG9ic2VydmVyLCBjb25maWcsIGRlY3J5cHRkYXRhLCBkaXNjYXJkRVBCKSB7XG4gICAgICAgIHRoaXMuZGVjcnlwdGRhdGEgPSBkZWNyeXB0ZGF0YTtcbiAgICAgICAgdGhpcy5kaXNjYXJkRVBCID0gZGlzY2FyZEVQQjtcbiAgICAgICAgdGhpcy5kZWNyeXB0ZXIgPSBuZXcgZGVjcnlwdGVyXzEuZGVmYXVsdChvYnNlcnZlciwgY29uZmlnLCB7IHJlbW92ZVBLQ1M3UGFkZGluZzogZmFsc2UgfSk7XG4gICAgfVxuICAgIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEJ1ZmZlciA9IGZ1bmN0aW9uIChlbmNyeXB0ZWREYXRhLCBjYWxsYmFjaykge1xuICAgICAgICB0aGlzLmRlY3J5cHRlci5kZWNyeXB0KGVuY3J5cHRlZERhdGEsIHRoaXMuZGVjcnlwdGRhdGEua2V5LmJ1ZmZlciwgdGhpcy5kZWNyeXB0ZGF0YS5pdi5idWZmZXIsIGNhbGxiYWNrKTtcbiAgICB9O1xuICAgIC8vIEFBQyAtIGVuY3J5cHQgYWxsIGZ1bGwgMTYgYnl0ZXMgYmxvY2tzIHN0YXJ0aW5nIGZyb20gb2Zmc2V0IDE2XG4gICAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QWFjU2FtcGxlID0gZnVuY3Rpb24gKHNhbXBsZXMsIHNhbXBsZUluZGV4LCBjYWxsYmFjaywgc3luYykge1xuICAgICAgICB2YXIgY3VyVW5pdCA9IHNhbXBsZXNbc2FtcGxlSW5kZXhdLnVuaXQ7XG4gICAgICAgIHZhciBlbmNyeXB0ZWREYXRhID0gY3VyVW5pdC5zdWJhcnJheSgxNiwgY3VyVW5pdC5sZW5ndGggLSBjdXJVbml0Lmxlbmd0aCAlIDE2KTtcbiAgICAgICAgdmFyIGVuY3J5cHRlZEJ1ZmZlciA9IGVuY3J5cHRlZERhdGEuYnVmZmVyLnNsaWNlKGVuY3J5cHRlZERhdGEuYnl0ZU9mZnNldCwgZW5jcnlwdGVkRGF0YS5ieXRlT2Zmc2V0ICsgZW5jcnlwdGVkRGF0YS5sZW5ndGgpO1xuICAgICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kZWNyeXB0QnVmZmVyKGVuY3J5cHRlZEJ1ZmZlciwgZnVuY3Rpb24gKGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgICAgIGRlY3J5cHRlZERhdGEgPSBuZXcgVWludDhBcnJheShkZWNyeXB0ZWREYXRhKTtcbiAgICAgICAgICAgIGN1clVuaXQuc2V0KGRlY3J5cHRlZERhdGEsIDE2KTtcbiAgICAgICAgICAgIGlmICghc3luYykge1xuICAgICAgICAgICAgICAgIGxvY2FsdGhpcy5kZWNyeXB0QWFjU2FtcGxlcyhzYW1wbGVzLCBzYW1wbGVJbmRleCArIDEsIGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmRlY3J5cHRBYWNTYW1wbGVzID0gZnVuY3Rpb24gKHNhbXBsZXMsIHNhbXBsZUluZGV4LCBjYWxsYmFjaykge1xuICAgICAgICBmb3IgKDs7IHNhbXBsZUluZGV4KyspIHtcbiAgICAgICAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNhbXBsZXNbc2FtcGxlSW5kZXhdLnVuaXQubGVuZ3RoIDwgMzIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzeW5jID0gdGhpcy5kZWNyeXB0ZXIuaXNTeW5jKCk7XG4gICAgICAgICAgICB0aGlzLmRlY3J5cHRBYWNTYW1wbGUoc2FtcGxlcywgc2FtcGxlSW5kZXgsIGNhbGxiYWNrLCBzeW5jKTtcbiAgICAgICAgICAgIGlmICghc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gQVZDIC0gZW5jcnlwdCBvbmUgMTYgYnl0ZXMgYmxvY2sgb3V0IG9mIHRlbiwgc3RhcnRpbmcgZnJvbSBvZmZzZXQgMzJcbiAgICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmdldEF2Y0VuY3J5cHRlZERhdGEgPSBmdW5jdGlvbiAoZGVjb2RlZERhdGEpIHtcbiAgICAgICAgdmFyIGVuY3J5cHRlZERhdGFMZW4gPSBNYXRoLmZsb29yKChkZWNvZGVkRGF0YS5sZW5ndGggLSA0OCkgLyAxNjApICogMTYgKyAxNjtcbiAgICAgICAgdmFyIGVuY3J5cHRlZERhdGEgPSBuZXcgSW50OEFycmF5KGVuY3J5cHRlZERhdGFMZW4pO1xuICAgICAgICB2YXIgb3V0cHV0UG9zID0gMDtcbiAgICAgICAgZm9yICh2YXIgaW5wdXRQb3MgPSAzMjsgaW5wdXRQb3MgPD0gZGVjb2RlZERhdGEubGVuZ3RoIC0gMTY7IGlucHV0UG9zICs9IDE2MCwgb3V0cHV0UG9zICs9IDE2KSB7XG4gICAgICAgICAgICBlbmNyeXB0ZWREYXRhLnNldChkZWNvZGVkRGF0YS5zdWJhcnJheShpbnB1dFBvcywgaW5wdXRQb3MgKyAxNiksIG91dHB1dFBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVuY3J5cHRlZERhdGE7XG4gICAgfTtcbiAgICBTYW1wbGVBZXNEZWNyeXB0ZXIucHJvdG90eXBlLmdldEF2Y0RlY3J5cHRlZFVuaXQgPSBmdW5jdGlvbiAoZGVjb2RlZERhdGEsIGRlY3J5cHRlZERhdGEpIHtcbiAgICAgICAgZGVjcnlwdGVkRGF0YSA9IG5ldyBVaW50OEFycmF5KGRlY3J5cHRlZERhdGEpO1xuICAgICAgICB2YXIgaW5wdXRQb3MgPSAwO1xuICAgICAgICBmb3IgKHZhciBvdXRwdXRQb3MgPSAzMjsgb3V0cHV0UG9zIDw9IGRlY29kZWREYXRhLmxlbmd0aCAtIDE2OyBvdXRwdXRQb3MgKz0gMTYwLCBpbnB1dFBvcyArPSAxNikge1xuICAgICAgICAgICAgZGVjb2RlZERhdGEuc2V0KGRlY3J5cHRlZERhdGEuc3ViYXJyYXkoaW5wdXRQb3MsIGlucHV0UG9zICsgMTYpLCBvdXRwdXRQb3MpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNvZGVkRGF0YTtcbiAgICB9O1xuICAgIFNhbXBsZUFlc0RlY3J5cHRlci5wcm90b3R5cGUuZGVjcnlwdEF2Y1NhbXBsZSA9IGZ1bmN0aW9uIChzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYykge1xuICAgICAgICB2YXIgZGVjb2RlZERhdGEgPSB0aGlzLmRpc2NhcmRFUEIoY3VyVW5pdC5kYXRhKTtcbiAgICAgICAgdmFyIGVuY3J5cHRlZERhdGEgPSB0aGlzLmdldEF2Y0VuY3J5cHRlZERhdGEoZGVjb2RlZERhdGEpO1xuICAgICAgICB2YXIgbG9jYWx0aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5kZWNyeXB0QnVmZmVyKGVuY3J5cHRlZERhdGEuYnVmZmVyLCBmdW5jdGlvbiAoZGVjcnlwdGVkRGF0YSkge1xuICAgICAgICAgICAgY3VyVW5pdC5kYXRhID0gbG9jYWx0aGlzLmdldEF2Y0RlY3J5cHRlZFVuaXQoZGVjb2RlZERhdGEsIGRlY3J5cHRlZERhdGEpO1xuICAgICAgICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgICAgICAgICAgbG9jYWx0aGlzLmRlY3J5cHRBdmNTYW1wbGVzKHNhbXBsZXMsIHNhbXBsZUluZGV4LCB1bml0SW5kZXggKyAxLCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgU2FtcGxlQWVzRGVjcnlwdGVyLnByb3RvdHlwZS5kZWNyeXB0QXZjU2FtcGxlcyA9IGZ1bmN0aW9uIChzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaykge1xuICAgICAgICBmb3IgKDs7IHNhbXBsZUluZGV4KyssIHVuaXRJbmRleCA9IDApIHtcbiAgICAgICAgICAgIGlmIChzYW1wbGVJbmRleCA+PSBzYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1clVuaXRzID0gc2FtcGxlc1tzYW1wbGVJbmRleF0udW5pdHM7XG4gICAgICAgICAgICBmb3IgKDs7IHVuaXRJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHVuaXRJbmRleCA+PSBjdXJVbml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBjdXJVbml0ID0gY3VyVW5pdHNbdW5pdEluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoY3VyVW5pdC5sZW5ndGggPD0gNDggfHwgKGN1clVuaXQudHlwZSAhPT0gMSAmJiBjdXJVbml0LnR5cGUgIT09IDUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgc3luYyA9IHRoaXMuZGVjcnlwdGVyLmlzU3luYygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZGVjcnlwdEF2Y1NhbXBsZShzYW1wbGVzLCBzYW1wbGVJbmRleCwgdW5pdEluZGV4LCBjYWxsYmFjaywgY3VyVW5pdCwgc3luYyk7XG4gICAgICAgICAgICAgICAgaWYgKCFzeW5jKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBTYW1wbGVBZXNEZWNyeXB0ZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gU2FtcGxlQWVzRGVjcnlwdGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2RlbXV4L3RzZGVtdXhlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZGVtdXgvdHNkZW11eGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBoaWdobHkgb3B0aW1pemVkIFRTIGRlbXV4ZXI6XG4gKiBwYXJzZSBQQVQsIFBNVFxuICogZXh0cmFjdCBQRVMgcGFja2V0IGZyb20gYXVkaW8gYW5kIHZpZGVvIFBJRHNcbiAqIGV4dHJhY3QgQVZDL0gyNjQgTkFMIHVuaXRzIGFuZCBBQUMvQURUUyBzYW1wbGVzIGZyb20gUEVTIHBhY2tldFxuICogdHJpZ2dlciB0aGUgcmVtdXhlciB1cG9uIHBhcnNpbmcgY29tcGxldGlvblxuICogaXQgYWxzbyB0cmllcyB0byB3b3JrYXJvdW5kIGFzIGJlc3QgYXMgaXQgY2FuIGF1ZGlvIGNvZGVjIHN3aXRjaCAoSEUtQUFDIHRvIEFBQyBhbmQgdmljZSB2ZXJzYSksIHdpdGhvdXQgaGF2aW5nIHRvIHJlc3RhcnQgdGhlIE1lZGlhU291cmNlLlxuICogaXQgYWxzbyBjb250cm9scyB0aGUgcmVtdXhpbmcgcHJvY2VzcyA6XG4gKiB1cG9uIGRpc2NvbnRpbnVpdHkgb3IgbGV2ZWwgc3dpdGNoIGRldGVjdGlvbiwgaXQgd2lsbCBhbHNvIG5vdGlmaWVzIHRoZSByZW11eGVyIHNvIHRoYXQgaXQgY2FuIHJlc2V0IGl0cyBzdGF0ZS5cbiovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQURUUyA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYWR0cyAqLyBcIi4vc3JjL2RlbXV4L2FkdHMuanNcIik7XG52YXIgbXBlZ2F1ZGlvXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL21wZWdhdWRpbyAqLyBcIi4vc3JjL2RlbXV4L21wZWdhdWRpby5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBleHBfZ29sb21iXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2V4cC1nb2xvbWIgKi8gXCIuL3NyYy9kZW11eC9leHAtZ29sb21iLmpzXCIpO1xudmFyIHNhbXBsZV9hZXNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc2FtcGxlLWFlcyAqLyBcIi4vc3JjL2RlbXV4L3NhbXBsZS1hZXMuanNcIik7XG4vLyBpbXBvcnQgSGV4IGZyb20gJy4uL3V0aWxzL2hleCc7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG4vLyBXZSBhcmUgdXNpbmcgZml4ZWQgdHJhY2sgSURzIGZvciBkcml2aW5nIHRoZSBNUDQgcmVtdXhlclxuLy8gaW5zdGVhZCBvZiBmb2xsb3dpbmcgdGhlIFRTIFBJRHMuXG4vLyBUaGVyZSBpcyBubyByZWFzb24gbm90IHRvIGRvIHRoaXMgYW5kIHNvbWUgYnJvd3NlcnMvU291cmNlQnVmZmVyLWRlbXV4ZXJzXG4vLyBtYXkgbm90IGxpa2UgaWYgdGhlcmUgYXJlIFRyYWNrSUQgXCJzd2l0Y2hlc1wiXG4vLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzEzMzFcbi8vIEhlcmUgd2UgYXJlIG1hcHBpbmcgb3VyIGludGVybmFsIHRyYWNrIHR5cGVzIHRvIGNvbnN0YW50IE1QNCB0cmFjayBJRHNcbi8vIFdpdGggTVNFIGN1cnJlbnRseSBvbmUgY2FuIG9ubHkgaGF2ZSBvbmUgdHJhY2sgb2YgZWFjaCwgYW5kIHdlIGFyZSBtdXhpbmdcbi8vIHdoYXRldmVyIHZpZGVvL2F1ZGlvIHJlbmRpdGlvbiBpbiB0aGVtLlxudmFyIFJlbXV4ZXJUcmFja0lkQ29uZmlnID0ge1xuICAgIHZpZGVvOiAxLFxuICAgIGF1ZGlvOiAyLFxuICAgIGlkMzogMyxcbiAgICB0ZXh0OiA0XG59O1xudmFyIFRTRGVtdXhlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBUU0RlbXV4ZXIob2JzZXJ2ZXIsIHJlbXV4ZXIsIGNvbmZpZywgdHlwZVN1cHBvcnRlZCkge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gb2JzZXJ2ZXI7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLnR5cGVTdXBwb3J0ZWQgPSB0eXBlU3VwcG9ydGVkO1xuICAgICAgICB0aGlzLnJlbXV4ZXIgPSByZW11eGVyO1xuICAgICAgICB0aGlzLnNhbXBsZUFlcyA9IG51bGw7XG4gICAgfVxuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuc2V0RGVjcnlwdERhdGEgPSBmdW5jdGlvbiAoZGVjcnlwdGRhdGEpIHtcbiAgICAgICAgaWYgKChkZWNyeXB0ZGF0YSAhPSBudWxsKSAmJiAoZGVjcnlwdGRhdGEua2V5ICE9IG51bGwpICYmIChkZWNyeXB0ZGF0YS5tZXRob2QgPT09ICdTQU1QTEUtQUVTJykpIHtcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlQWVzID0gbmV3IHNhbXBsZV9hZXNfMS5kZWZhdWx0KHRoaXMub2JzZXJ2ZXIsIHRoaXMuY29uZmlnLCBkZWNyeXB0ZGF0YSwgdGhpcy5kaXNjYXJkRVBCKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2FtcGxlQWVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb2JlID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdmFyIHN5bmNPZmZzZXQgPSBUU0RlbXV4ZXIuX3N5bmNPZmZzZXQoZGF0YSk7XG4gICAgICAgIGlmIChzeW5jT2Zmc2V0IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHN5bmNPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIk1QRUcyLVRTIGRldGVjdGVkIGJ1dCBmaXJzdCBzeW5jIHdvcmQgZm91bmQgQCBvZmZzZXQgXCIgKyBzeW5jT2Zmc2V0ICsgXCIsIGp1bmsgYWhlYWQgP1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIuX3N5bmNPZmZzZXQgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAvLyBzY2FuIDEwMDAgZmlyc3QgYnl0ZXNcbiAgICAgICAgdmFyIHNjYW53aW5kb3cgPSBNYXRoLm1pbigxMDAwLCBkYXRhLmxlbmd0aCAtIDMgKiAxODgpO1xuICAgICAgICB2YXIgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgc2NhbndpbmRvdykge1xuICAgICAgICAgICAgLy8gYSBUUyBmcmFnbWVudCBzaG91bGQgY29udGFpbiBhdCBsZWFzdCAzIFRTIHBhY2tldHMsIGEgUEFULCBhIFBNVCwgYW5kIG9uZSBQSUQsIGVhY2ggc3RhcnRpbmcgd2l0aCAweDQ3XG4gICAgICAgICAgICBpZiAoZGF0YVtpXSA9PT0gMHg0NyAmJiBkYXRhW2kgKyAxODhdID09PSAweDQ3ICYmIGRhdGFbaSArIDIgKiAxODhdID09PSAweDQ3KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRyYWNrIG1vZGVsIGludGVybmFsIHRvIGRlbXV4ZXIgdXNlZCB0byBkcml2ZSByZW11eGluZyBpbnB1dFxuICAgICAqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgJ2F1ZGlvJyB8ICd2aWRlbycgfCAnaWQzJyB8ICd0ZXh0J1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVFNEZW11eGVyJ3MgaW50ZXJuYWwgdHJhY2sgbW9kZWxcbiAgICAgKi9cbiAgICBUU0RlbXV4ZXIuY3JlYXRlVHJhY2sgPSBmdW5jdGlvbiAodHlwZSwgZHVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbnRhaW5lcjogdHlwZSA9PT0gJ3ZpZGVvJyB8fCB0eXBlID09PSAnYXVkaW8nID8gJ3ZpZGVvL21wMnQnIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGlkOiBSZW11eGVyVHJhY2tJZENvbmZpZ1t0eXBlXSxcbiAgICAgICAgICAgIHBpZDogLTEsXG4gICAgICAgICAgICBpbnB1dFRpbWVTY2FsZTogOTAwMDAsXG4gICAgICAgICAgICBzZXF1ZW5jZU51bWJlcjogMCxcbiAgICAgICAgICAgIHNhbXBsZXM6IFtdLFxuICAgICAgICAgICAgbGVuOiAwLFxuICAgICAgICAgICAgZHJvcHBlZDogdHlwZSA9PT0gJ3ZpZGVvJyA/IDAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBpc0FBQzogdHlwZSA9PT0gJ2F1ZGlvJyA/IHRydWUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkdXJhdGlvbjogdHlwZSA9PT0gJ2F1ZGlvJyA/IGR1cmF0aW9uIDogdW5kZWZpbmVkXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIG5ldyBpbml0IHNlZ21lbnQgb24gdGhlIGRlbXV4ZXIvcmVtdXhlciBpbnRlcmZhY2UuIE5lZWRlZCBmb3IgZGlzY29udGludWl0aWVzL3RyYWNrLXN3aXRjaGVzIChvciBhdCBzdHJlYW0gc3RhcnQpXG4gICAgICogUmVzZXRzIGFsbCBpbnRlcm5hbCB0cmFjayBpbnN0YW5jZXMgb2YgdGhlIGRlbXV4ZXIuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGUgSW1wbGVtZW50cyBnZW5lcmljIGRlbXV4aW5nL3JlbXV4aW5nIGludGVyZmFjZSAoc2VlIERlbXV4ZXJJbmxpbmUpXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGluaXRTZWdtZW50XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGF1ZGlvQ29kZWNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmlkZW9Db2RlY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvbiAoaW4gVFMgdGltZXNjYWxlID0gOTBrSHopXG4gICAgICovXG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gKGluaXRTZWdtZW50LCBhdWRpb0NvZGVjLCB2aWRlb0NvZGVjLCBkdXJhdGlvbikge1xuICAgICAgICB0aGlzLnBtdFBhcnNlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wbXRJZCA9IC0xO1xuICAgICAgICB0aGlzLl9hdmNUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygndmlkZW8nLCBkdXJhdGlvbik7XG4gICAgICAgIHRoaXMuX2F1ZGlvVHJhY2sgPSBUU0RlbXV4ZXIuY3JlYXRlVHJhY2soJ2F1ZGlvJywgZHVyYXRpb24pO1xuICAgICAgICB0aGlzLl9pZDNUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygnaWQzJywgZHVyYXRpb24pO1xuICAgICAgICB0aGlzLl90eHRUcmFjayA9IFRTRGVtdXhlci5jcmVhdGVUcmFjaygndGV4dCcsIGR1cmF0aW9uKTtcbiAgICAgICAgLy8gZmx1c2ggYW55IHBhcnRpYWwgY29udGVudFxuICAgICAgICB0aGlzLmFhY092ZXJGbG93ID0gbnVsbDtcbiAgICAgICAgdGhpcy5hYWNMYXN0UFRTID0gbnVsbDtcbiAgICAgICAgdGhpcy5hdmNTYW1wbGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ29kZWMgPSBhdWRpb0NvZGVjO1xuICAgICAgICB0aGlzLnZpZGVvQ29kZWMgPSB2aWRlb0NvZGVjO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIH07XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKi9cbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLnJlc2V0VGltZVN0YW1wID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIC8vIGZlZWQgaW5jb21pbmcgZGF0YSB0byB0aGUgZnJvbnQgb2YgdGhlIHBhcnNpbmcgcGlwZWxpbmVcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChkYXRhLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIHN0YXJ0LCBsZW4gPSBkYXRhLmxlbmd0aCwgc3R0LCBwaWQsIGF0Ziwgb2Zmc2V0LCBwZXMsIHVua25vd25QSURzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY29udGlndW91cyA9IGNvbnRpZ3VvdXM7XG4gICAgICAgIHZhciBwbXRQYXJzZWQgPSB0aGlzLnBtdFBhcnNlZCwgYXZjVHJhY2sgPSB0aGlzLl9hdmNUcmFjaywgYXVkaW9UcmFjayA9IHRoaXMuX2F1ZGlvVHJhY2ssIGlkM1RyYWNrID0gdGhpcy5faWQzVHJhY2ssIGF2Y0lkID0gYXZjVHJhY2sucGlkLCBhdWRpb0lkID0gYXVkaW9UcmFjay5waWQsIGlkM0lkID0gaWQzVHJhY2sucGlkLCBwbXRJZCA9IHRoaXMuX3BtdElkLCBhdmNEYXRhID0gYXZjVHJhY2sucGVzRGF0YSwgYXVkaW9EYXRhID0gYXVkaW9UcmFjay5wZXNEYXRhLCBpZDNEYXRhID0gaWQzVHJhY2sucGVzRGF0YSwgcGFyc2VQQVQgPSB0aGlzLl9wYXJzZVBBVCwgcGFyc2VQTVQgPSB0aGlzLl9wYXJzZVBNVCwgcGFyc2VQRVMgPSB0aGlzLl9wYXJzZVBFUywgcGFyc2VBVkNQRVMgPSB0aGlzLl9wYXJzZUFWQ1BFUy5iaW5kKHRoaXMpLCBwYXJzZUFBQ1BFUyA9IHRoaXMuX3BhcnNlQUFDUEVTLmJpbmQodGhpcyksIHBhcnNlTVBFR1BFUyA9IHRoaXMuX3BhcnNlTVBFR1BFUy5iaW5kKHRoaXMpLCBwYXJzZUlEM1BFUyA9IHRoaXMuX3BhcnNlSUQzUEVTLmJpbmQodGhpcyk7XG4gICAgICAgIHZhciBzeW5jT2Zmc2V0ID0gVFNEZW11eGVyLl9zeW5jT2Zmc2V0KGRhdGEpO1xuICAgICAgICAvLyBkb24ndCBwYXJzZSBsYXN0IFRTIHBhY2tldCBpZiBpbmNvbXBsZXRlXG4gICAgICAgIGxlbiAtPSAobGVuICsgc3luY09mZnNldCkgJSAxODg7XG4gICAgICAgIC8vIGxvb3AgdGhyb3VnaCBUUyBwYWNrZXRzXG4gICAgICAgIGZvciAoc3RhcnQgPSBzeW5jT2Zmc2V0OyBzdGFydCA8IGxlbjsgc3RhcnQgKz0gMTg4KSB7XG4gICAgICAgICAgICBpZiAoZGF0YVtzdGFydF0gPT09IDB4NDcpIHtcbiAgICAgICAgICAgICAgICBzdHQgPSAhIShkYXRhW3N0YXJ0ICsgMV0gJiAweDQwKTtcbiAgICAgICAgICAgICAgICAvLyBwaWQgaXMgYSAxMy1iaXQgZmllbGQgc3RhcnRpbmcgYXQgdGhlIGxhc3QgYml0IG9mIFRTWzFdXG4gICAgICAgICAgICAgICAgcGlkID0gKChkYXRhW3N0YXJ0ICsgMV0gJiAweDFmKSA8PCA4KSArIGRhdGFbc3RhcnQgKyAyXTtcbiAgICAgICAgICAgICAgICBhdGYgPSAoZGF0YVtzdGFydCArIDNdICYgMHgzMCkgPj4gNDtcbiAgICAgICAgICAgICAgICAvLyBpZiBhbiBhZGFwdGlvbiBmaWVsZCBpcyBwcmVzZW50LCBpdHMgbGVuZ3RoIGlzIHNwZWNpZmllZCBieSB0aGUgZmlmdGggYnl0ZSBvZiB0aGUgVFMgcGFja2V0IGhlYWRlci5cbiAgICAgICAgICAgICAgICBpZiAoYXRmID4gMSkge1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBzdGFydCArIDUgKyBkYXRhW3N0YXJ0ICsgNF07XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnRpbnVlIGlmIHRoZXJlIGlzIG9ubHkgYWRhcHRhdGlvbiBmaWVsZFxuICAgICAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ID09PSAoc3RhcnQgKyAxODgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gc3RhcnQgKyA0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHBpZCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGF2Y0lkOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdmNEYXRhICYmIChwZXMgPSBwYXJzZVBFUyhhdmNEYXRhKSkgJiYgcGVzLnB0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlQVZDUEVTKHBlcywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmNEYXRhID0geyBkYXRhOiBbXSwgc2l6ZTogMCB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF2Y0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmNEYXRhLmRhdGEucHVzaChkYXRhLnN1YmFycmF5KG9mZnNldCwgc3RhcnQgKyAxODgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdmNEYXRhLnNpemUgKz0gc3RhcnQgKyAxODggLSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBhdWRpb0lkOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGF1ZGlvRGF0YSkpICYmIHBlcy5wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VBQUNQRVMocGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlTVBFR1BFUyhwZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0RhdGEuZGF0YS5wdXNoKGRhdGEuc3ViYXJyYXkob2Zmc2V0LCBzdGFydCArIDE4OCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvRGF0YS5zaXplICs9IHN0YXJ0ICsgMTg4IC0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaWQzSWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSAmJiBwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VJRDNQRVMocGVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzRGF0YSA9IHsgZGF0YTogW10sIHNpemU6IDAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZDNEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzRGF0YS5kYXRhLnB1c2goZGF0YS5zdWJhcnJheShvZmZzZXQsIHN0YXJ0ICsgMTg4KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzRGF0YS5zaXplICs9IHN0YXJ0ICsgMTg4IC0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZGF0YVtvZmZzZXRdICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHBtdElkID0gdGhpcy5fcG10SWQgPSBwYXJzZVBBVChkYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgcG10SWQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3R0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGFbb2Zmc2V0XSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VkUElEcyA9IHBhcnNlUE1UKGRhdGEsIG9mZnNldCwgdGhpcy50eXBlU3VwcG9ydGVkLm1wZWcgPT09IHRydWUgfHwgdGhpcy50eXBlU3VwcG9ydGVkLm1wMyA9PT0gdHJ1ZSwgdGhpcy5zYW1wbGVBZXMgIT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0cmFjayBpZCBpZiB0cmFjayBQSUQgZm91bmQgd2hpbGUgcGFyc2luZyBQTVRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMgaXMgdG8gYXZvaWQgcmVzZXR0aW5nIHRoZSBQSUQgdG8gLTEgaW4gY2FzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJhY2sgUElEIHRyYW5zaWVudGx5IGRpc2FwcGVhcnMgZnJvbSB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNvdWxkIGhhcHBlbiBpbiBjYXNlIG9mIHRyYW5zaWVudCBtaXNzaW5nIGF1ZGlvIHNhbXBsZXMgZm9yIGV4YW1wbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEUgdGhpcyBpcyBvbmx5IHRoZSBQSUQgb2YgdGhlIHRyYWNrIGFzIGZvdW5kIGluIFRTLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnV0IHdlIGFyZSBub3QgdXNpbmcgdGhpcyBmb3IgTVA0IHRyYWNrIElEcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y0lkID0gcGFyc2VkUElEcy5hdmM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXZjSWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZjVHJhY2sucGlkID0gYXZjSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0lkID0gcGFyc2VkUElEcy5hdWRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0lkID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2sucGlkID0gYXVkaW9JZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb1RyYWNrLmlzQUFDID0gcGFyc2VkUElEcy5pc0FBQztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkM0lkID0gcGFyc2VkUElEcy5pZDM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWQzSWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQzVHJhY2sucGlkID0gaWQzSWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodW5rbm93blBJRHMgJiYgIXBtdFBhcnNlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3JlcGFyc2UgZnJvbSBiZWdpbm5pbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1bmtub3duUElEcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIHNldCBpdCB0byAtMTg4LCB0aGUgKz0gMTg4IGluIHRoZSBmb3IgbG9vcCB3aWxsIHJlc2V0IHN0YXJ0IHRvIDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IHN5bmNPZmZzZXQgLSAxODg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbXRQYXJzZWQgPSB0aGlzLnBtdFBhcnNlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAweDFmZmY6XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHVua25vd25QSURzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgcmVhc29uOiAnVFMgcGFja2V0IGRpZCBub3Qgc3RhcnQgd2l0aCAweDQ3JyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0cnkgdG8gcGFyc2UgbGFzdCBQRVMgcGFja2V0c1xuICAgICAgICBpZiAoYXZjRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXZjRGF0YSkpICYmIHBlcy5wdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyc2VBVkNQRVMocGVzLCB0cnVlKTtcbiAgICAgICAgICAgIGF2Y1RyYWNrLnBlc0RhdGEgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZWl0aGVyIGF2Y0RhdGEgbnVsbCBvciBQRVMgdHJ1bmNhdGVkLCBrZWVwIGl0IGZvciBuZXh0IGZyYWcgcGFyc2luZ1xuICAgICAgICAgICAgYXZjVHJhY2sucGVzRGF0YSA9IGF2Y0RhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF1ZGlvRGF0YSAmJiAocGVzID0gcGFyc2VQRVMoYXVkaW9EYXRhKSkgJiYgcGVzLnB0cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgIHBhcnNlQUFDUEVTKHBlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJzZU1QRUdQRVMocGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1ZGlvVHJhY2sucGVzRGF0YSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYXVkaW9EYXRhICYmIGF1ZGlvRGF0YS5zaXplKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnbGFzdCBBQUMgUEVTIHBhY2tldCB0cnVuY2F0ZWQsbWlnaHQgb3ZlcmxhcCBiZXR3ZWVuIGZyYWdtZW50cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZWl0aGVyIGF1ZGlvRGF0YSBudWxsIG9yIFBFUyB0cnVuY2F0ZWQsIGtlZXAgaXQgZm9yIG5leHQgZnJhZyBwYXJzaW5nXG4gICAgICAgICAgICBhdWRpb1RyYWNrLnBlc0RhdGEgPSBhdWRpb0RhdGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkM0RhdGEgJiYgKHBlcyA9IHBhcnNlUEVTKGlkM0RhdGEpKSAmJiBwZXMucHRzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhcnNlSUQzUEVTKHBlcyk7XG4gICAgICAgICAgICBpZDNUcmFjay5wZXNEYXRhID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVpdGhlciBpZDNEYXRhIG51bGwgb3IgUEVTIHRydW5jYXRlZCwga2VlcCBpdCBmb3IgbmV4dCBmcmFnIHBhcnNpbmdcbiAgICAgICAgICAgIGlkM1RyYWNrLnBlc0RhdGEgPSBpZDNEYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNhbXBsZUFlcyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLnJlbXV4ZXIucmVtdXgoYXVkaW9UcmFjaywgYXZjVHJhY2ssIGlkM1RyYWNrLCB0aGlzLl90eHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGVjcnlwdEFuZFJlbXV4KGF1ZGlvVHJhY2ssIGF2Y1RyYWNrLCBpZDNUcmFjaywgdGhpcy5fdHh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuZGVjcnlwdEFuZFJlbXV4ID0gZnVuY3Rpb24gKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICBpZiAoYXVkaW9UcmFjay5zYW1wbGVzICYmIGF1ZGlvVHJhY2suaXNBQUMpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbHRoaXNfMSA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNhbXBsZUFlcy5kZWNyeXB0QWFjU2FtcGxlcyhhdWRpb1RyYWNrLnNhbXBsZXMsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbHRoaXNfMS5kZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0QW5kUmVtdXhBdmMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5kZWNyeXB0QW5kUmVtdXhBdmMgPSBmdW5jdGlvbiAoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0KSB7XG4gICAgICAgIGlmICh2aWRlb1RyYWNrLnNhbXBsZXMpIHtcbiAgICAgICAgICAgIHZhciBsb2NhbHRoaXNfMiA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLnNhbXBsZUFlcy5kZWNyeXB0QXZjU2FtcGxlcyh2aWRlb1RyYWNrLnNhbXBsZXMsIDAsIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsb2NhbHRoaXNfMi5yZW11eGVyLnJlbXV4KGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIGlkM1RyYWNrLCB0ZXh0VHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtdXhlci5yZW11eChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2luaXRQVFMgPSB0aGlzLl9pbml0RFRTID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IDA7XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZVBBVCA9IGZ1bmN0aW9uIChkYXRhLCBvZmZzZXQpIHtcbiAgICAgICAgLy8gc2tpcCB0aGUgUFNJIGhlYWRlciBhbmQgcGFyc2UgdGhlIGZpcnN0IFBNVCBlbnRyeVxuICAgICAgICByZXR1cm4gKGRhdGFbb2Zmc2V0ICsgMTBdICYgMHgxRikgPDwgOCB8IGRhdGFbb2Zmc2V0ICsgMTFdO1xuICAgICAgICAvLyBsb2dnZXIubG9nKCdQTVQgUElEOicgICsgdGhpcy5fcG10SWQpO1xuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VQTVQgPSBmdW5jdGlvbiAoZGF0YSwgb2Zmc2V0LCBtcGVnU3VwcG9ydGVkLCBpc1NhbXBsZUFlcykge1xuICAgICAgICB2YXIgc2VjdGlvbkxlbmd0aCwgdGFibGVFbmQsIHByb2dyYW1JbmZvTGVuZ3RoLCBwaWQsIHJlc3VsdCA9IHsgYXVkaW86IC0xLCBhdmM6IC0xLCBpZDM6IC0xLCBpc0FBQzogdHJ1ZSB9O1xuICAgICAgICBzZWN0aW9uTGVuZ3RoID0gKGRhdGFbb2Zmc2V0ICsgMV0gJiAweDBmKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyAyXTtcbiAgICAgICAgdGFibGVFbmQgPSBvZmZzZXQgKyAzICsgc2VjdGlvbkxlbmd0aCAtIDQ7XG4gICAgICAgIC8vIHRvIGRldGVybWluZSB3aGVyZSB0aGUgdGFibGUgaXMsIHdlIGhhdmUgdG8gZmlndXJlIG91dCBob3dcbiAgICAgICAgLy8gbG9uZyB0aGUgcHJvZ3JhbSBpbmZvIGRlc2NyaXB0b3JzIGFyZVxuICAgICAgICBwcm9ncmFtSW5mb0xlbmd0aCA9IChkYXRhW29mZnNldCArIDEwXSAmIDB4MGYpIDw8IDggfCBkYXRhW29mZnNldCArIDExXTtcbiAgICAgICAgLy8gYWR2YW5jZSB0aGUgb2Zmc2V0IHRvIHRoZSBmaXJzdCBlbnRyeSBpbiB0aGUgbWFwcGluZyB0YWJsZVxuICAgICAgICBvZmZzZXQgKz0gMTIgKyBwcm9ncmFtSW5mb0xlbmd0aDtcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IHRhYmxlRW5kKSB7XG4gICAgICAgICAgICBwaWQgPSAoZGF0YVtvZmZzZXQgKyAxXSAmIDB4MUYpIDw8IDggfCBkYXRhW29mZnNldCArIDJdO1xuICAgICAgICAgICAgc3dpdGNoIChkYXRhW29mZnNldF0pIHtcbiAgICAgICAgICAgICAgICBjYXNlIDB4Y2Y6IC8vIFNBTVBMRS1BRVMgQUFDXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNTYW1wbGVBZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgIC8vIElTTy9JRUMgMTM4MTgtNyBBRFRTIEFBQyAoTVBFRy0yIGxvd2VyIGJpdC1yYXRlIGF1ZGlvKVxuICAgICAgICAgICAgICAgIGNhc2UgMHgwZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnQUFDIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYXVkaW8gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXVkaW8gPSBwaWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gUGFja2V0aXplZCBtZXRhZGF0YSAoSUQzKVxuICAgICAgICAgICAgICAgIGNhc2UgMHgxNTpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnSUQzIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaWQzID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmlkMyA9IHBpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDB4ZGI6IC8vIFNBTVBMRS1BRVMgQVZDXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNTYW1wbGVBZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3Vua293biBzdHJlYW0gdHlwZTonICsgZGF0YVtvZmZzZXRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgIC8vIElUVS1UIFJlYy4gSC4yNjQgYW5kIElTTy9JRUMgMTQ0OTYtMTAgKGxvd2VyIGJpdC1yYXRlIHZpZGVvKVxuICAgICAgICAgICAgICAgIGNhc2UgMHgxYjpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnQVZDIFBJRDonICArIHBpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuYXZjID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmF2YyA9IHBpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBJU08vSUVDIDExMTcyLTMgKE1QRUctMSBhdWRpbylcbiAgICAgICAgICAgICAgICAvLyBvciBJU08vSUVDIDEzODE4LTMgKE1QRUctMiBoYWx2ZWQgc2FtcGxlIHJhdGUgYXVkaW8pXG4gICAgICAgICAgICAgICAgY2FzZSAweDAzOlxuICAgICAgICAgICAgICAgIGNhc2UgMHgwNDpcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnTVBFRyBQSUQ6JyAgKyBwaWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1wZWdTdXBwb3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ01QRUcgYXVkaW8gZm91bmQsIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyIGZvciBub3cnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQuYXVkaW8gPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuYXVkaW8gPSBwaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuaXNBQUMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDB4MjQ6XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdIRVZDIHN0cmVhbSB0eXBlIGZvdW5kLCBub3Qgc3VwcG9ydGVkIGZvciBub3cnKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygndW5rb3duIHN0cmVhbSB0eXBlOicgKyBkYXRhW29mZnNldF0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG1vdmUgdG8gdGhlIG5leHQgdGFibGUgZW50cnlcbiAgICAgICAgICAgIC8vIHNraXAgcGFzdCB0aGUgZWxlbWVudGFyeSBzdHJlYW0gZGVzY3JpcHRvcnMsIGlmIHByZXNlbnRcbiAgICAgICAgICAgIG9mZnNldCArPSAoKGRhdGFbb2Zmc2V0ICsgM10gJiAweDBGKSA8PCA4IHwgZGF0YVtvZmZzZXQgKyA0XSkgKyA1O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZVBFUyA9IGZ1bmN0aW9uIChzdHJlYW0pIHtcbiAgICAgICAgdmFyIGkgPSAwLCBmcmFnLCBwZXNGbGFncywgcGVzUHJlZml4LCBwZXNMZW4sIHBlc0hkckxlbiwgcGVzRGF0YSwgcGVzUHRzLCBwZXNEdHMsIHBheWxvYWRTdGFydE9mZnNldCwgZGF0YSA9IHN0cmVhbS5kYXRhO1xuICAgICAgICAvLyBzYWZldHkgY2hlY2tcbiAgICAgICAgaWYgKCFzdHJlYW0gfHwgc3RyZWFtLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIG1pZ2h0IG5lZWQgdXAgdG8gMTkgYnl0ZXMgdG8gcmVhZCBQRVMgaGVhZGVyXG4gICAgICAgIC8vIGlmIGZpcnN0IGNodW5rIG9mIGRhdGEgaXMgbGVzcyB0aGFuIDE5IGJ5dGVzLCBsZXQncyBtZXJnZSBpdCB3aXRoIGZvbGxvd2luZyBvbmVzIHVudGlsIHdlIGdldCAxOSBieXRlc1xuICAgICAgICAvLyB1c3VhbGx5IG9ubHkgb25lIG1lcmdlIGlzIG5lZWRlZCAoYW5kIHRoaXMgaXMgcmFyZSAuLi4pXG4gICAgICAgIHdoaWxlIChkYXRhWzBdLmxlbmd0aCA8IDE5ICYmIGRhdGEubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdmFyIG5ld0RhdGEgPSBuZXcgVWludDhBcnJheShkYXRhWzBdLmxlbmd0aCArIGRhdGFbMV0ubGVuZ3RoKTtcbiAgICAgICAgICAgIG5ld0RhdGEuc2V0KGRhdGFbMF0pO1xuICAgICAgICAgICAgbmV3RGF0YS5zZXQoZGF0YVsxXSwgZGF0YVswXS5sZW5ndGgpO1xuICAgICAgICAgICAgZGF0YVswXSA9IG5ld0RhdGE7XG4gICAgICAgICAgICBkYXRhLnNwbGljZSgxLCAxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRyaWV2ZSBQVFMvRFRTIGZyb20gZmlyc3QgZnJhZ21lbnRcbiAgICAgICAgZnJhZyA9IGRhdGFbMF07XG4gICAgICAgIHBlc1ByZWZpeCA9IChmcmFnWzBdIDw8IDE2KSArIChmcmFnWzFdIDw8IDgpICsgZnJhZ1syXTtcbiAgICAgICAgaWYgKHBlc1ByZWZpeCA9PT0gMSkge1xuICAgICAgICAgICAgcGVzTGVuID0gKGZyYWdbNF0gPDwgOCkgKyBmcmFnWzVdO1xuICAgICAgICAgICAgLy8gaWYgUEVTIHBhcnNlZCBsZW5ndGggaXMgbm90IHplcm8gYW5kIGdyZWF0ZXIgdGhhbiB0b3RhbCByZWNlaXZlZCBsZW5ndGgsIHN0b3AgcGFyc2luZy4gUEVTIG1pZ2h0IGJlIHRydW5jYXRlZFxuICAgICAgICAgICAgLy8gbWludXMgNiA6IFBFUyBoZWFkZXIgc2l6ZVxuICAgICAgICAgICAgaWYgKHBlc0xlbiAmJiBwZXNMZW4gPiBzdHJlYW0uc2l6ZSAtIDYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBlc0ZsYWdzID0gZnJhZ1s3XTtcbiAgICAgICAgICAgIGlmIChwZXNGbGFncyAmIDB4QzApIHtcbiAgICAgICAgICAgICAgICAvKiBQRVMgaGVhZGVyIGRlc2NyaWJlZCBoZXJlIDogaHR0cDovL2R2ZC5zb3VyY2Vmb3JnZS5uZXQvZHZkaW5mby9wZXMtaGRyLmh0bWxcbiAgICAgICAgICAgICAgICAgICAgYXMgUFRTIC8gRFRTIGlzIDMzIGJpdCB3ZSBjYW5ub3QgdXNlIGJpdHdpc2Ugb3BlcmF0b3IgaW4gSlMsXG4gICAgICAgICAgICAgICAgICAgIGFzIEJpdHdpc2Ugb3BlcmF0b3JzIHRyZWF0IHRoZWlyIG9wZXJhbmRzIGFzIGEgc2VxdWVuY2Ugb2YgMzIgYml0cyAqL1xuICAgICAgICAgICAgICAgIHBlc1B0cyA9IChmcmFnWzldICYgMHgwRSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgICAgICAgICAgICAgIChmcmFnWzEwXSAmIDB4RkYpICogNDE5NDMwNCArIC8vIDEgPDwgMjJcbiAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTFdICYgMHhGRSkgKiAxNjM4NCArIC8vIDEgPDwgMTRcbiAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTJdICYgMHhGRikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTNdICYgMHhGRSkgLyAyO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIGdyZWF0ZXIgdGhhbiAyXjMyIC0xXG4gICAgICAgICAgICAgICAgaWYgKHBlc1B0cyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVjcmVtZW50IDJeMzNcbiAgICAgICAgICAgICAgICAgICAgcGVzUHRzIC09IDg1ODk5MzQ1OTI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwZXNGbGFncyAmIDB4NDApIHtcbiAgICAgICAgICAgICAgICAgICAgcGVzRHRzID0gKGZyYWdbMTRdICYgMHgwRSkgKiA1MzY4NzA5MTIgKyAvLyAxIDw8IDI5XG4gICAgICAgICAgICAgICAgICAgICAgICAoZnJhZ1sxNV0gJiAweEZGKSAqIDQxOTQzMDQgKyAvLyAxIDw8IDIyXG4gICAgICAgICAgICAgICAgICAgICAgICAoZnJhZ1sxNl0gJiAweEZFKSAqIDE2Mzg0ICsgLy8gMSA8PCAxNFxuICAgICAgICAgICAgICAgICAgICAgICAgKGZyYWdbMTddICYgMHhGRikgKiAxMjggKyAvLyAxIDw8IDdcbiAgICAgICAgICAgICAgICAgICAgICAgIChmcmFnWzE4XSAmIDB4RkUpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgZ3JlYXRlciB0aGFuIDJeMzIgLTFcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBlc0R0cyA+IDQyOTQ5NjcyOTUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRlY3JlbWVudCAyXjMzXG4gICAgICAgICAgICAgICAgICAgICAgICBwZXNEdHMgLT0gODU4OTkzNDU5MjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocGVzUHRzIC0gcGVzRHRzID4gNjAgKiA5MDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oTWF0aC5yb3VuZCgocGVzUHRzIC0gcGVzRHRzKSAvIDkwMDAwKSArIFwicyBkZWx0YSBiZXR3ZWVuIFBUUyBhbmQgRFRTLCBhbGlnbiB0aGVtXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVzUHRzID0gcGVzRHRzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBwZXNEdHMgPSBwZXNQdHM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVzSGRyTGVuID0gZnJhZ1s4XTtcbiAgICAgICAgICAgIC8vIDkgYnl0ZXMgOiA2IGJ5dGVzIGZvciBQRVMgaGVhZGVyICsgMyBieXRlcyBmb3IgUEVTIGV4dGVuc2lvblxuICAgICAgICAgICAgcGF5bG9hZFN0YXJ0T2Zmc2V0ID0gcGVzSGRyTGVuICsgOTtcbiAgICAgICAgICAgIHN0cmVhbS5zaXplIC09IHBheWxvYWRTdGFydE9mZnNldDtcbiAgICAgICAgICAgIC8vIHJlYXNzZW1ibGUgUEVTIHBhY2tldFxuICAgICAgICAgICAgcGVzRGF0YSA9IG5ldyBVaW50OEFycmF5KHN0cmVhbS5zaXplKTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwLCBkYXRhTGVuID0gZGF0YS5sZW5ndGg7IGogPCBkYXRhTGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICBmcmFnID0gZGF0YVtqXTtcbiAgICAgICAgICAgICAgICB2YXIgbGVuID0gZnJhZy5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChwYXlsb2FkU3RhcnRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBheWxvYWRTdGFydE9mZnNldCA+IGxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJpbSBmdWxsIGZyYWcgaWYgUEVTIGhlYWRlciBiaWdnZXIgdGhhbiBmcmFnXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkU3RhcnRPZmZzZXQgLT0gbGVuO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmltIHBhcnRpYWwgZnJhZyBpZiBQRVMgaGVhZGVyIHNtYWxsZXIgdGhhbiBmcmFnXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gZnJhZy5zdWJhcnJheShwYXlsb2FkU3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVuIC09IHBheWxvYWRTdGFydE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRTdGFydE9mZnNldCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcGVzRGF0YS5zZXQoZnJhZywgaSk7XG4gICAgICAgICAgICAgICAgaSArPSBsZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGVzTGVuKSB7XG4gICAgICAgICAgICAgICAgLy8gcGF5bG9hZCBzaXplIDogcmVtb3ZlIFBFUyBoZWFkZXIgKyBQRVMgZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgcGVzTGVuIC09IHBlc0hkckxlbiArIDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBwZXNEYXRhLCBwdHM6IHBlc1B0cywgZHRzOiBwZXNEdHMsIGxlbjogcGVzTGVuIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5wdXNoQWNjZXNVbml0ID0gZnVuY3Rpb24gKGF2Y1NhbXBsZSwgYXZjVHJhY2spIHtcbiAgICAgICAgaWYgKGF2Y1NhbXBsZS51bml0cy5sZW5ndGggJiYgYXZjU2FtcGxlLmZyYW1lKSB7XG4gICAgICAgICAgICB2YXIgc2FtcGxlcyA9IGF2Y1RyYWNrLnNhbXBsZXM7XG4gICAgICAgICAgICB2YXIgbmJTYW1wbGVzID0gc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgICAgICAvLyBvbmx5IHB1c2ggQVZDIHNhbXBsZSBpZiBzdGFydGluZyB3aXRoIGEga2V5ZnJhbWUgaXMgbm90IG1hbmRhdG9yeSBPUlxuICAgICAgICAgICAgLy8gICAgaWYga2V5ZnJhbWUgYWxyZWFkeSBmb3VuZCBpbiB0aGlzIGZyYWdtZW50IE9SXG4gICAgICAgICAgICAvLyAgICAgICBrZXlmcmFtZSBmb3VuZCBpbiBsYXN0IGZyYWdtZW50ICh0cmFjay5zcHMpIEFORFxuICAgICAgICAgICAgLy8gICAgICAgICAgc2FtcGxlcyBhbHJlYWR5IGFwcGVuZGVkICh3ZSBhbHJlYWR5IGZvdW5kIGEga2V5ZnJhbWUgaW4gdGhpcyBmcmFnbWVudCkgT1IgZnJhZ21lbnQgaXMgY29udGlndW91c1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5mb3JjZUtleUZyYW1lT25EaXNjb250aW51aXR5IHx8XG4gICAgICAgICAgICAgICAgYXZjU2FtcGxlLmtleSA9PT0gdHJ1ZSB8fFxuICAgICAgICAgICAgICAgIChhdmNUcmFjay5zcHMgJiYgKG5iU2FtcGxlcyB8fCB0aGlzLmNvbnRpZ3VvdXMpKSkge1xuICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5pZCA9IG5iU2FtcGxlcztcbiAgICAgICAgICAgICAgICBzYW1wbGVzLnB1c2goYXZjU2FtcGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGRyb3BwZWQgc2FtcGxlcywgdHJhY2sgaXRcbiAgICAgICAgICAgICAgICBhdmNUcmFjay5kcm9wcGVkKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF2Y1NhbXBsZS5kZWJ1Zy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coYXZjU2FtcGxlLnB0cyArICcvJyArIGF2Y1NhbXBsZS5kdHMgKyAnOicgKyBhdmNTYW1wbGUuZGVidWcpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUFWQ1BFUyA9IGZ1bmN0aW9uIChwZXMsIGxhc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygncGFyc2UgbmV3IFBFUycpO1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdmNUcmFjaywgdW5pdHMgPSB0aGlzLl9wYXJzZUFWQ05BTHUocGVzLmRhdGEpLCBkZWJ1ZyA9IGZhbHNlLCBleHBHb2xvbWJEZWNvZGVyLCBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSwgcHVzaCwgc3BzZm91bmQgPSBmYWxzZSwgaSwgcHVzaEFjY2VzVW5pdCA9IHRoaXMucHVzaEFjY2VzVW5pdC5iaW5kKHRoaXMpLCBjcmVhdGVBVkNTYW1wbGUgPSBmdW5jdGlvbiAoa2V5LCBwdHMsIGR0cywgZGVidWcpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGtleToga2V5LCBwdHM6IHB0cywgZHRzOiBkdHMsIHVuaXRzOiBbXSwgZGVidWc6IGRlYnVnIH07XG4gICAgICAgIH07XG4gICAgICAgIC8vIGZyZWUgcGVzLmRhdGEgdG8gc2F2ZSB1cCBzb21lIG1lbW9yeVxuICAgICAgICBwZXMuZGF0YSA9IG51bGw7XG4gICAgICAgIC8vIGlmIG5ldyBOQUwgdW5pdHMgZm91bmQgYW5kIGxhc3Qgc2FtcGxlIHN0aWxsIHRoZXJlLCBsZXQncyBwdXNoIC4uLlxuICAgICAgICAvLyB0aGlzIGhlbHBzIHBhcnNpbmcgc3RyZWFtcyB3aXRoIG1pc3NpbmcgQVVEIChvbmx5IGRvIHRoaXMgaWYgQVVEIG5ldmVyIGZvdW5kKVxuICAgICAgICBpZiAoYXZjU2FtcGxlICYmIHVuaXRzLmxlbmd0aCAmJiAhdHJhY2suYXVkRm91bmQpIHtcbiAgICAgICAgICAgIHB1c2hBY2Nlc1VuaXQoYXZjU2FtcGxlLCB0cmFjayk7XG4gICAgICAgICAgICBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZShmYWxzZSwgcGVzLnB0cywgcGVzLmR0cywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHVuaXRzLmZvckVhY2goZnVuY3Rpb24gKHVuaXQpIHtcbiAgICAgICAgICAgIHN3aXRjaCAodW5pdC50eXBlKSB7XG4gICAgICAgICAgICAgICAgLy8gTkRSXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZSA9IF90aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZSh0cnVlLCBwZXMucHRzLCBwZXMuZHRzLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ05EUiAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5mcmFtZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gdW5pdC5kYXRhO1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGNoZWNrIHNsaWNlIHR5cGUgdG8gZGV0ZWN0IEtGIGluIGNhc2UgU1BTIGZvdW5kIGluIHNhbWUgcGFja2V0IChhbnkga2V5ZnJhbWUgaXMgcHJlY2VkZWQgYnkgU1BTIC4uLilcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwc2ZvdW5kICYmIGRhdGEubGVuZ3RoID4gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgc2xpY2UgdHlwZSBieSBwYXJzaW5nIGJlZ2lubmluZyBvZiBOQUwgdW5pdCAoZm9sbG93IEgyNjQgc3BlYywgc2xpY2VfaGVhZGVyIGRlZmluaXRpb24pIHRvIGRldGVjdCBrZXlmcmFtZSBlbWJlZGRlZCBpbiBORFJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGljZVR5cGUgPSBuZXcgZXhwX2dvbG9tYl8xLmRlZmF1bHQoZGF0YSkucmVhZFNsaWNlVHlwZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMiA6IEkgc2xpY2UsIDQgOiBTSSBzbGljZSwgNyA6IEkgc2xpY2UsIDk6IFNJIHNsaWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTSSBzbGljZSA6IEEgc2xpY2UgdGhhdCBpcyBjb2RlZCB1c2luZyBpbnRyYSBwcmVkaWN0aW9uIG9ubHkgYW5kIHVzaW5nIHF1YW50aXNhdGlvbiBvZiB0aGUgcHJlZGljdGlvbiBzYW1wbGVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW4gU0kgc2xpY2UgY2FuIGJlIGNvZGVkIHN1Y2ggdGhhdCBpdHMgZGVjb2RlZCBzYW1wbGVzIGNhbiBiZSBjb25zdHJ1Y3RlZCBpZGVudGljYWxseSB0byBhbiBTUCBzbGljZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEkgc2xpY2U6IEEgc2xpY2UgdGhhdCBpcyBub3QgYW4gU0kgc2xpY2UgdGhhdCBpcyBkZWNvZGVkIHVzaW5nIGludHJhIHByZWRpY3Rpb24gb25seS5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIChzbGljZVR5cGUgPT09IDIgfHwgc2xpY2VUeXBlID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2xpY2VUeXBlID09PSAyIHx8IHNsaWNlVHlwZSA9PT0gNCB8fCBzbGljZVR5cGUgPT09IDcgfHwgc2xpY2VUeXBlID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZjU2FtcGxlLmtleSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy8gSURSXG4gICAgICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgICAgICBwdXNoID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIFBFUyBub3Qgc3RhcnRpbmcgd2l0aCBBVURcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZSA9IF90aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZSh0cnVlLCBwZXMucHRzLCBwZXMuZHRzLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlYnVnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ0lEUiAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5rZXkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZnJhbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBTRUlcbiAgICAgICAgICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1NFSSAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIgPSBuZXcgZXhwX2dvbG9tYl8xLmRlZmF1bHQoX3RoaXMuZGlzY2FyZEVQQih1bml0LmRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBmcmFtZVR5cGVcbiAgICAgICAgICAgICAgICAgICAgZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWRUeXBlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBheWxvYWRTaXplID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVuZE9mQ2FwdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGIgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoIWVuZE9mQ2FwdGlvbnMgJiYgZXhwR29sb21iRGVjb2Rlci5ieXRlc0F2YWlsYWJsZSA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRUeXBlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiID0gZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkVHlwZSArPSBiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSB3aGlsZSAoYiA9PT0gMHhGRik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXJzZSBwYXlsb2FkIHNpemUuXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkU2l6ZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYiA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZFNpemUgKz0gYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGIgPT09IDB4RkYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogdGhlcmUgY2FuIGJlIG1vcmUgdGhhbiBvbmUgcGF5bG9hZCBpbiBhbiBTRUkgcGFja2V0Li4uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBuZWVkIHRvIHJlYWQgdHlwZSBhbmQgc2l6ZSBpbiBhIHdoaWxlIGxvb3AgdG8gZ2V0IHRoZW0gYWxsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF5bG9hZFR5cGUgPT09IDQgJiYgZXhwR29sb21iRGVjb2Rlci5ieXRlc0F2YWlsYWJsZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZE9mQ2FwdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHJ5Q29kZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cnlDb2RlID09PSAxODEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3ZpZGVyQ29kZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVTaG9ydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvdmlkZXJDb2RlID09PSA0OSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJTdHJ1Y3R1cmUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVSW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlclN0cnVjdHVyZSA9PT0gMHg0NzQxMzkzNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2VyRGF0YVR5cGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJhdyBDRUEtNjA4IGJ5dGVzIHdyYXBwZWQgaW4gQ0VBLTcwOCBwYWNrZXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlckRhdGFUeXBlID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Vjb25kQnl0ZSA9IGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbENDcyA9IDMxICYgZmlyc3RCeXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnl0ZUFycmF5ID0gW2ZpcnN0Qnl0ZSwgc2Vjb25kQnl0ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0b3RhbENDczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAzIGJ5dGVzIHBlciBDQ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnl0ZUFycmF5LnB1c2goZXhwR29sb21iRGVjb2Rlci5yZWFkVUJ5dGUoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBieXRlQXJyYXkucHVzaChleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ5dGVBcnJheS5wdXNoKGV4cEdvbG9tYkRlY29kZXIucmVhZFVCeXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLl9pbnNlcnRTYW1wbGVJbk9yZGVyKF90aGlzLl90eHRUcmFjay5zYW1wbGVzLCB7IHR5cGU6IDMsIHB0czogcGVzLnB0cywgYnl0ZXM6IGJ5dGVBcnJheSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXlsb2FkU2l6ZSA8IGV4cEdvbG9tYkRlY29kZXIuYnl0ZXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGF5bG9hZFNpemU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHBHb2xvbWJEZWNvZGVyLnJlYWRVQnl0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBTUFNcbiAgICAgICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBzcHNmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWJ1ZyAmJiBhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAnU1BTICc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0cmFjay5zcHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4cEdvbG9tYkRlY29kZXIgPSBuZXcgZXhwX2dvbG9tYl8xLmRlZmF1bHQodW5pdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSBleHBHb2xvbWJEZWNvZGVyLnJlYWRTUFMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLndpZHRoID0gY29uZmlnLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suaGVpZ2h0ID0gY29uZmlnLmhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnBpeGVsUmF0aW8gPSBjb25maWcucGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLnNwcyA9IFt1bml0LmRhdGFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suZHVyYXRpb24gPSBfdGhpcy5fZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29kZWNhcnJheSA9IHVuaXQuZGF0YS5zdWJhcnJheSgxLCA0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2RlY3N0cmluZyA9ICdhdmMxLic7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBjb2RlY2FycmF5W2ldLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaC5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGggPSAnMCcgKyBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlY3N0cmluZyArPSBoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2suY29kZWMgPSBjb2RlY3N0cmluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBQUFNcbiAgICAgICAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVidWcgJiYgYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdmNTYW1wbGUuZGVidWcgKz0gJ1BQUyAnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghdHJhY2sucHBzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjay5wcHMgPSBbdW5pdC5kYXRhXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAvLyBBVURcbiAgICAgICAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICAgICAgICAgIHB1c2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdHJhY2suYXVkRm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXZjU2FtcGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXNoQWNjZXNVbml0KGF2Y1NhbXBsZSwgdHJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZSA9IF90aGlzLmF2Y1NhbXBsZSA9IGNyZWF0ZUFWQ1NhbXBsZShmYWxzZSwgcGVzLnB0cywgcGVzLmR0cywgZGVidWcgPyAnQVVEICcgOiAnJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIC8vIEZpbGxlciBEYXRhXG4gICAgICAgICAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICAgICAgICAgICAgcHVzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBwdXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF2Y1NhbXBsZS5kZWJ1ZyArPSAndW5rbm93biBOQUwgJyArIHVuaXQudHlwZSArICcgJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhdmNTYW1wbGUgJiYgcHVzaCkge1xuICAgICAgICAgICAgICAgIHZhciB1bml0c18xID0gYXZjU2FtcGxlLnVuaXRzO1xuICAgICAgICAgICAgICAgIHVuaXRzXzEucHVzaCh1bml0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIGxhc3QgUEVTIHBhY2tldCwgcHVzaCBzYW1wbGVzXG4gICAgICAgIGlmIChsYXN0ICYmIGF2Y1NhbXBsZSkge1xuICAgICAgICAgICAgcHVzaEFjY2VzVW5pdChhdmNTYW1wbGUsIHRyYWNrKTtcbiAgICAgICAgICAgIHRoaXMuYXZjU2FtcGxlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5faW5zZXJ0U2FtcGxlSW5PcmRlciA9IGZ1bmN0aW9uIChhcnIsIGRhdGEpIHtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPiAwKSB7XG4gICAgICAgICAgICBpZiAoZGF0YS5wdHMgPj0gYXJyW2xlbiAtIDFdLnB0cykge1xuICAgICAgICAgICAgICAgIGFyci5wdXNoKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcG9zID0gbGVuIC0gMTsgcG9zID49IDA7IHBvcy0tKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnB0cyA8IGFycltwb3NdLnB0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnNwbGljZShwb3MsIDAsIGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcnIucHVzaChkYXRhKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fZ2V0TGFzdE5hbFVuaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhdmNTYW1wbGUgPSB0aGlzLmF2Y1NhbXBsZSwgbGFzdFVuaXQ7XG4gICAgICAgIC8vIHRyeSB0byBmYWxsYmFjayB0byBwcmV2aW91cyBzYW1wbGUgaWYgY3VycmVudCBvbmUgaXMgZW1wdHlcbiAgICAgICAgaWYgKCFhdmNTYW1wbGUgfHwgYXZjU2FtcGxlLnVuaXRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIHRyYWNrID0gdGhpcy5fYXZjVHJhY2ssIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgICAgICAgYXZjU2FtcGxlID0gc2FtcGxlc1tzYW1wbGVzLmxlbmd0aCAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhdmNTYW1wbGUpIHtcbiAgICAgICAgICAgIHZhciB1bml0cyA9IGF2Y1NhbXBsZS51bml0cztcbiAgICAgICAgICAgIGxhc3RVbml0ID0gdW5pdHNbdW5pdHMubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxhc3RVbml0O1xuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VBVkNOQUx1ID0gZnVuY3Rpb24gKGFycmF5KSB7XG4gICAgICAgIHZhciBpID0gMCwgbGVuID0gYXJyYXkuYnl0ZUxlbmd0aCwgdmFsdWUsIG92ZXJmbG93LCB0cmFjayA9IHRoaXMuX2F2Y1RyYWNrLCBzdGF0ZSA9IHRyYWNrLm5hbHVTdGF0ZSB8fCAwLCBsYXN0U3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIHVuaXRzID0gW10sIHVuaXQsIHVuaXRUeXBlLCBsYXN0VW5pdFN0YXJ0ID0gLTEsIGxhc3RVbml0VHlwZTtcbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnUEVTOicgKyBIZXguaGV4RHVtcChhcnJheSkpO1xuICAgICAgICBpZiAoc3RhdGUgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBzcGVjaWFsIHVzZSBjYXNlIHdoZXJlIHdlIGZvdW5kIDMgb3IgNC1ieXRlIHN0YXJ0IGNvZGVzIGV4YWN0bHkgYXQgdGhlIGVuZCBvZiBwcmV2aW91cyBQRVMgcGFja2V0XG4gICAgICAgICAgICBsYXN0VW5pdFN0YXJ0ID0gMDtcbiAgICAgICAgICAgIC8vIE5BTHUgdHlwZSBpcyB2YWx1ZSByZWFkIGZyb20gb2Zmc2V0IDBcbiAgICAgICAgICAgIGxhc3RVbml0VHlwZSA9IGFycmF5WzBdICYgMHgxZjtcbiAgICAgICAgICAgIHN0YXRlID0gMDtcbiAgICAgICAgICAgIGkgPSAxO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChpIDwgbGVuKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W2krK107XG4gICAgICAgICAgICAvLyBvcHRpbWl6YXRpb24uIHN0YXRlIDAgYW5kIDEgYXJlIHRoZSBwcmVkb21pbmFudCBjYXNlLiBsZXQncyBoYW5kbGUgdGhlbSBvdXRzaWRlIG9mIHRoZSBzd2l0Y2gvY2FzZVxuICAgICAgICAgICAgaWYgKCFzdGF0ZSkge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdmFsdWUgPyAwIDogMTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdmFsdWUgPyAwIDogMjtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGhlcmUgd2UgaGF2ZSBzdGF0ZSBlaXRoZXIgZXF1YWwgdG8gMiBvciAzXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFVuaXRTdGFydCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXQgPSB7IGRhdGE6IGFycmF5LnN1YmFycmF5KGxhc3RVbml0U3RhcnQsIGkgLSBzdGF0ZSAtIDEpLCB0eXBlOiBsYXN0VW5pdFR5cGUgfTtcbiAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygncHVzaGluZyBOQUxVLCB0eXBlL3NpemU6JyArIHVuaXQudHlwZSArICcvJyArIHVuaXQuZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgdW5pdHMucHVzaCh1bml0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhc3RVbml0U3RhcnQgaXMgdW5kZWZpbmVkID0+IHRoaXMgaXMgdGhlIGZpcnN0IHN0YXJ0IGNvZGUgZm91bmQgaW4gdGhpcyBQRVMgcGFja2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpcnN0IGNoZWNrIGlmIHN0YXJ0IGNvZGUgZGVsaW1pdGVyIGlzIG92ZXJsYXBwaW5nIGJldHdlZW4gMiBQRVMgcGFja2V0cyxcbiAgICAgICAgICAgICAgICAgICAgLy8gaWUgaXQgc3RhcnRlZCBpbiBsYXN0IHBhY2tldCAobGFzdFN0YXRlIG5vdCB6ZXJvKVxuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgZW5kZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIFBFUyBwYWNrZXQgKGkgPD0gNCAtIGxhc3RTdGF0ZSlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RVbml0ID0gdGhpcy5fZ2V0TGFzdE5hbFVuaXQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RVbml0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGFzdFN0YXRlICYmIChpIDw9IDQgLSBsYXN0U3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgZGVsaW1pdGVyIG92ZXJsYXBwaW5nIGJldHdlZW4gUEVTIHBhY2tldHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdHJpcCBzdGFydCBkZWxpbWl0ZXIgYnl0ZXMgZnJvbSB0aGUgZW5kIG9mIGxhc3QgTkFMIHVuaXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBsYXN0VW5pdCBoYWQgYSBzdGF0ZSBkaWZmZXJlbnQgZnJvbSB6ZXJvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RVbml0LnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0cmlwIGxhc3QgYnl0ZXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFVuaXQuZGF0YSA9IGxhc3RVbml0LmRhdGEuc3ViYXJyYXkoMCwgbGFzdFVuaXQuZGF0YS5ieXRlTGVuZ3RoIC0gbGFzdFN0YXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBOQUwgdW5pdHMgYXJlIG5vdCBzdGFydGluZyByaWdodCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBQRVMgcGFja2V0LCBwdXNoIHByZWNlZGluZyBkYXRhIGludG8gcHJldmlvdXMgTkFMIHVuaXQuXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvdyA9IGkgLSBzdGF0ZSAtIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3ZlcmZsb3cgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnZmlyc3QgTkFMVSBmb3VuZCB3aXRoIG92ZXJmbG93OicgKyBvdmVyZmxvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGxhc3RVbml0LmRhdGEuYnl0ZUxlbmd0aCArIG92ZXJmbG93KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bXAuc2V0KGxhc3RVbml0LmRhdGEsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRtcC5zZXQoYXJyYXkuc3ViYXJyYXkoMCwgb3ZlcmZsb3cpLCBsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSB0bXA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgY2FuIHJlYWQgdW5pdCB0eXBlXG4gICAgICAgICAgICAgICAgaWYgKGkgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pdFR5cGUgPSBhcnJheVtpXSAmIDB4MWY7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ2ZpbmQgTkFMVSBAIG9mZnNldDonICsgaSArICcsdHlwZTonICsgdW5pdFR5cGUpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0VW5pdFN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFVuaXRUeXBlID0gdW5pdFR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCBlbm91Z2ggYnl0ZSB0byByZWFkIHVuaXQgdHlwZS4gbGV0J3MgcmVhZCBpdCBvbiBuZXh0IFBFUyBwYXJzaW5nXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsYXN0VW5pdFN0YXJ0ID49IDAgJiYgc3RhdGUgPj0gMCkge1xuICAgICAgICAgICAgdW5pdCA9IHsgZGF0YTogYXJyYXkuc3ViYXJyYXkobGFzdFVuaXRTdGFydCwgbGVuKSwgdHlwZTogbGFzdFVuaXRUeXBlLCBzdGF0ZTogc3RhdGUgfTtcbiAgICAgICAgICAgIHVuaXRzLnB1c2godW5pdCk7XG4gICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdwdXNoaW5nIE5BTFUsIHR5cGUvc2l6ZS9zdGF0ZTonICsgdW5pdC50eXBlICsgJy8nICsgdW5pdC5kYXRhLmJ5dGVMZW5ndGggKyAnLycgKyBzdGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gTkFMdSBmb3VuZFxuICAgICAgICBpZiAodW5pdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBhcHBlbmQgcGVzLmRhdGEgdG8gcHJldmlvdXMgTkFMIHVuaXRcbiAgICAgICAgICAgIHZhciBsYXN0VW5pdCA9IHRoaXMuX2dldExhc3ROYWxVbml0KCk7XG4gICAgICAgICAgICBpZiAobGFzdFVuaXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG1wID0gbmV3IFVpbnQ4QXJyYXkobGFzdFVuaXQuZGF0YS5ieXRlTGVuZ3RoICsgYXJyYXkuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdG1wLnNldChsYXN0VW5pdC5kYXRhLCAwKTtcbiAgICAgICAgICAgICAgICB0bXAuc2V0KGFycmF5LCBsYXN0VW5pdC5kYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxhc3RVbml0LmRhdGEgPSB0bXA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2submFsdVN0YXRlID0gc3RhdGU7XG4gICAgICAgIHJldHVybiB1bml0cztcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIHJlbW92ZSBFbXVsYXRpb24gUHJldmVudGlvbiBieXRlcyBmcm9tIGEgUkJTUFxuICAgICAqL1xuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuZGlzY2FyZEVQQiA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBkYXRhLmJ5dGVMZW5ndGgsIEVQQlBvc2l0aW9ucyA9IFtdLCBpID0gMSwgbmV3TGVuZ3RoLCBuZXdEYXRhO1xuICAgICAgICAvLyBGaW5kIGFsbCBgRW11bGF0aW9uIFByZXZlbnRpb24gQnl0ZXNgXG4gICAgICAgIHdoaWxlIChpIDwgbGVuZ3RoIC0gMikge1xuICAgICAgICAgICAgaWYgKGRhdGFbaV0gPT09IDAgJiZcbiAgICAgICAgICAgICAgICBkYXRhW2kgKyAxXSA9PT0gMCAmJlxuICAgICAgICAgICAgICAgIGRhdGFbaSArIDJdID09PSAweDAzKSB7XG4gICAgICAgICAgICAgICAgRVBCUG9zaXRpb25zLnB1c2goaSArIDIpO1xuICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBubyBFbXVsYXRpb24gUHJldmVudGlvbiBCeXRlcyB3ZXJlIGZvdW5kIGp1c3QgcmV0dXJuIHRoZSBvcmlnaW5hbFxuICAgICAgICAvLyBhcnJheVxuICAgICAgICBpZiAoRVBCUG9zaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGFycmF5IHRvIGhvbGQgdGhlIE5BTCB1bml0IGRhdGFcbiAgICAgICAgbmV3TGVuZ3RoID0gbGVuZ3RoIC0gRVBCUG9zaXRpb25zLmxlbmd0aDtcbiAgICAgICAgbmV3RGF0YSA9IG5ldyBVaW50OEFycmF5KG5ld0xlbmd0aCk7XG4gICAgICAgIHZhciBzb3VyY2VJbmRleCA9IDA7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuZXdMZW5ndGg7IHNvdXJjZUluZGV4KyssIGkrKykge1xuICAgICAgICAgICAgaWYgKHNvdXJjZUluZGV4ID09PSBFUEJQb3NpdGlvbnNbMF0pIHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIHRoaXMgYnl0ZVxuICAgICAgICAgICAgICAgIHNvdXJjZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgcG9zaXRpb24gaW5kZXhcbiAgICAgICAgICAgICAgICBFUEJQb3NpdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0RhdGFbaV0gPSBkYXRhW3NvdXJjZUluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3RGF0YTtcbiAgICB9O1xuICAgIFRTRGVtdXhlci5wcm90b3R5cGUuX3BhcnNlQUFDUEVTID0gZnVuY3Rpb24gKHBlcykge1xuICAgICAgICB2YXIgdHJhY2sgPSB0aGlzLl9hdWRpb1RyYWNrLCBkYXRhID0gcGVzLmRhdGEsIHB0cyA9IHBlcy5wdHMsIHN0YXJ0T2Zmc2V0ID0gMCwgYWFjT3ZlckZsb3cgPSB0aGlzLmFhY092ZXJGbG93LCBhYWNMYXN0UFRTID0gdGhpcy5hYWNMYXN0UFRTLCBmcmFtZUR1cmF0aW9uLCBmcmFtZUluZGV4LCBvZmZzZXQsIHN0YW1wLCBsZW47XG4gICAgICAgIGlmIChhYWNPdmVyRmxvdykge1xuICAgICAgICAgICAgdmFyIHRtcCA9IG5ldyBVaW50OEFycmF5KGFhY092ZXJGbG93LmJ5dGVMZW5ndGggKyBkYXRhLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgdG1wLnNldChhYWNPdmVyRmxvdywgMCk7XG4gICAgICAgICAgICB0bXAuc2V0KGRhdGEsIGFhY092ZXJGbG93LmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZyhgQUFDOiBhcHBlbmQgb3ZlcmZsb3dpbmcgJHthYWNPdmVyRmxvdy5ieXRlTGVuZ3RofSBieXRlcyB0byBiZWdpbm5pbmcgb2YgbmV3IFBFU2ApO1xuICAgICAgICAgICAgZGF0YSA9IHRtcDtcbiAgICAgICAgfVxuICAgICAgICAvLyBsb29rIGZvciBBRFRTIGhlYWRlciAoMHhGRkZ4KVxuICAgICAgICBmb3IgKG9mZnNldCA9IHN0YXJ0T2Zmc2V0LCBsZW4gPSBkYXRhLmxlbmd0aDsgb2Zmc2V0IDwgbGVuIC0gMTsgb2Zmc2V0KyspIHtcbiAgICAgICAgICAgIGlmIChBRFRTLmlzSGVhZGVyKGRhdGEsIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBBRFRTIGhlYWRlciBkb2VzIG5vdCBzdGFydCBzdHJhaWdodCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIFBFUyBwYXlsb2FkLCByYWlzZSBhbiBlcnJvclxuICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgcmVhc29uID0gdm9pZCAwLCBmYXRhbCA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPCBsZW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgcmVhc29uID0gXCJBQUMgUEVTIGRpZCBub3Qgc3RhcnQgd2l0aCBBRFRTIGhlYWRlcixvZmZzZXQ6XCIgKyBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlYXNvbiA9ICdubyBBRFRTIGhlYWRlciBmb3VuZCBpbiBBQUMgUEVTJztcbiAgICAgICAgICAgICAgICBmYXRhbCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcInBhcnNpbmcgZXJyb3I6XCIgKyByZWFzb24pO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfUEFSU0lOR19FUlJPUiwgZmF0YWw6IGZhdGFsLCByZWFzb246IHJlYXNvbiB9KTtcbiAgICAgICAgICAgIGlmIChmYXRhbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBBRFRTLmluaXRUcmFja0NvbmZpZyh0cmFjaywgdGhpcy5vYnNlcnZlciwgZGF0YSwgb2Zmc2V0LCB0aGlzLmF1ZGlvQ29kZWMpO1xuICAgICAgICBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgZnJhbWVEdXJhdGlvbiA9IEFEVFMuZ2V0RnJhbWVEdXJhdGlvbih0cmFjay5zYW1wbGVyYXRlKTtcbiAgICAgICAgLy8gaWYgbGFzdCBBQUMgZnJhbWUgaXMgb3ZlcmZsb3dpbmcsIHdlIHNob3VsZCBlbnN1cmUgdGltZXN0YW1wcyBhcmUgY29udGlndW91czpcbiAgICAgICAgLy8gZmlyc3Qgc2FtcGxlIFBUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgUFRTICsgZnJhbWVEdXJhdGlvblxuICAgICAgICBpZiAoYWFjT3ZlckZsb3cgJiYgYWFjTGFzdFBUUykge1xuICAgICAgICAgICAgdmFyIG5ld1BUUyA9IGFhY0xhc3RQVFMgKyBmcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKG5ld1BUUyAtIHB0cykgPiAxKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcIkFBQzogYWxpZ24gUFRTIGZvciBvdmVybGFwcGluZyBmcmFtZXMgYnkgXCIgKyBNYXRoLnJvdW5kKChuZXdQVFMgLSBwdHMpIC8gOTApKTtcbiAgICAgICAgICAgICAgICBwdHMgPSBuZXdQVFM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gc2NhbiBmb3IgYWFjIHNhbXBsZXNcbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKEFEVFMuaXNIZWFkZXIoZGF0YSwgb2Zmc2V0KSAmJiAob2Zmc2V0ICsgNSkgPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhbWUgPSBBRFRTLmFwcGVuZEZyYW1lKHRyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYCR7TWF0aC5yb3VuZChmcmFtZS5zYW1wbGUucHRzKX0gOiBBQUNgKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGZyYW1lLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgc3RhbXAgPSBmcmFtZS5zYW1wbGUucHRzO1xuICAgICAgICAgICAgICAgICAgICBmcmFtZUluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCdVbmFibGUgdG8gcGFyc2UgQUFDIGZyYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZzZXQgPCBsZW4pIHtcbiAgICAgICAgICAgIGFhY092ZXJGbG93ID0gZGF0YS5zdWJhcnJheShvZmZzZXQsIGxlbik7XG4gICAgICAgICAgICAvLyBsb2dnZXIubG9nKGBBQUM6IG92ZXJmbG93IGRldGVjdGVkOiR7bGVuLW9mZnNldH1gKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFhY092ZXJGbG93ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFhY092ZXJGbG93ID0gYWFjT3ZlckZsb3c7XG4gICAgICAgIHRoaXMuYWFjTGFzdFBUUyA9IHN0YW1wO1xuICAgIH07XG4gICAgVFNEZW11eGVyLnByb3RvdHlwZS5fcGFyc2VNUEVHUEVTID0gZnVuY3Rpb24gKHBlcykge1xuICAgICAgICB2YXIgZGF0YSA9IHBlcy5kYXRhO1xuICAgICAgICB2YXIgbGVuZ3RoID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIHZhciBmcmFtZUluZGV4ID0gMDtcbiAgICAgICAgdmFyIG9mZnNldCA9IDA7XG4gICAgICAgIHZhciBwdHMgPSBwZXMucHRzO1xuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAobXBlZ2F1ZGlvXzEuZGVmYXVsdC5pc0hlYWRlcihkYXRhLCBvZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gbXBlZ2F1ZGlvXzEuZGVmYXVsdC5hcHBlbmRGcmFtZSh0aGlzLl9hdWRpb1RyYWNrLCBkYXRhLCBvZmZzZXQsIHB0cywgZnJhbWVJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBmcmFtZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGZyYW1lSW5kZXgrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ1VuYWJsZSB0byBwYXJzZSBNcGVnIGF1ZGlvIGZyYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG5vdGhpbmcgZm91bmQsIGtlZXAgbG9va2luZ1xuICAgICAgICAgICAgICAgIG9mZnNldCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBUU0RlbXV4ZXIucHJvdG90eXBlLl9wYXJzZUlEM1BFUyA9IGZ1bmN0aW9uIChwZXMpIHtcbiAgICAgICAgdGhpcy5faWQzVHJhY2suc2FtcGxlcy5wdXNoKHBlcyk7XG4gICAgfTtcbiAgICByZXR1cm4gVFNEZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRTRGVtdXhlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9lcnJvcnMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2Vycm9ycy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuRXJyb3JUeXBlcyA9IHtcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG5ldHdvcmsgZXJyb3IgKGxvYWRpbmcgZXJyb3IgLyB0aW1lb3V0IC4uLilcbiAgICBORVRXT1JLX0VSUk9SOiAnbmV0d29ya0Vycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1lZGlhIEVycm9yICh2aWRlby9wYXJzaW5nL21lZGlhc291cmNlIGVycm9yKVxuICAgIE1FRElBX0VSUk9SOiAnbWVkaWFFcnJvcicsXG4gICAgLy8gRU1FIChlbmNyeXB0ZWQgbWVkaWEgZXh0ZW5zaW9ucykgZXJyb3JzXG4gICAgS0VZX1NZU1RFTV9FUlJPUjogJ2tleVN5c3RlbUVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG11eCBFcnJvciAoZGVtdXhpbmcvcmVtdXhpbmcpXG4gICAgTVVYX0VSUk9SOiAnbXV4RXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFsbCBvdGhlciBlcnJvcnNcbiAgICBPVEhFUl9FUlJPUjogJ290aGVyRXJyb3InXG59O1xuLyoqXG4gKiBAZW51bSB7RXJyb3JEZXRhaWxzfVxuICogQHR5cGVkZWYge3N0cmluZ30gRXJyb3JEZXRhaWxcbiAqL1xuZXhwb3J0cy5FcnJvckRldGFpbHMgPSB7XG4gICAgS0VZX1NZU1RFTV9OT19LRVlTOiAna2V5U3lzdGVtTm9LZXlzJyxcbiAgICBLRVlfU1lTVEVNX05PX0FDQ0VTUzogJ2tleVN5c3RlbU5vQWNjZXNzJyxcbiAgICBLRVlfU1lTVEVNX05PX1NFU1NJT046ICdrZXlTeXN0ZW1Ob1Nlc3Npb24nLFxuICAgIEtFWV9TWVNURU1fTElDRU5TRV9SRVFVRVNUX0ZBSUxFRDogJ2tleVN5c3RlbUxpY2Vuc2VSZXF1ZXN0RmFpbGVkJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgTUFOSUZFU1RfTE9BRF9FUlJPUjogJ21hbmlmZXN0TG9hZEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgICBNQU5JRkVTVF9MT0FEX1RJTUVPVVQ6ICdtYW5pZmVzdExvYWRUaW1lT3V0JyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIG1hbmlmZXN0IHBhcnNpbmcgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgICBNQU5JRkVTVF9QQVJTSU5HX0VSUk9SOiAnbWFuaWZlc3RQYXJzaW5nRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGEgbWFuaWZlc3Qgd2l0aCBvbmx5IGluY29tcGF0aWJsZSBjb2RlY3MgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlYXNvbiA6IGVycm9yIHJlYXNvbn1cbiAgICBNQU5JRkVTVF9JTkNPTVBBVElCTEVfQ09ERUNTX0VSUk9SOiAnbWFuaWZlc3RJbmNvbXBhdGlibGVDb2RlY3NFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBsb2FkIGVycm9yIC0gZGF0YTogeyB1cmwgOiBmYXVsdHkgVVJMLCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICAgIExFVkVMX0xPQURfRVJST1I6ICdsZXZlbExvYWRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBsb2FkIHRpbWVvdXQgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgTEVWRUxfTE9BRF9USU1FT1VUOiAnbGV2ZWxMb2FkVGltZU91dCcsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBsZXZlbCBzd2l0Y2ggZXJyb3IgLSBkYXRhOiB7IGxldmVsIDogZmF1bHR5IGxldmVsIElkLCBldmVudCA6IGVycm9yIGRlc2NyaXB0aW9ufVxuICAgIExFVkVMX1NXSVRDSF9FUlJPUjogJ2xldmVsU3dpdGNoRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGF1ZGlvIHRyYWNrIGxvYWQgZXJyb3IgLSBkYXRhOiB7IHVybCA6IGZhdWx0eSBVUkwsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgQVVESU9fVFJBQ0tfTE9BRF9FUlJPUjogJ2F1ZGlvVHJhY2tMb2FkRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGF1ZGlvIHRyYWNrIGxvYWQgdGltZW91dCAtIGRhdGE6IHsgdXJsIDogZmF1bHR5IFVSTCwgcmVzcG9uc2UgOiB7IGNvZGU6IGVycm9yIGNvZGUsIHRleHQ6IGVycm9yIHRleHQgfX1cbiAgICBBVURJT19UUkFDS19MT0FEX1RJTUVPVVQ6ICdhdWRpb1RyYWNrTG9hZFRpbWVPdXQnLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGZyYWdtZW50IGxvYWQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHJlc3BvbnNlIDogeyBjb2RlOiBlcnJvciBjb2RlLCB0ZXh0OiBlcnJvciB0ZXh0IH19XG4gICAgRlJBR19MT0FEX0VSUk9SOiAnZnJhZ0xvYWRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCB0aW1lb3V0IGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0fVxuICAgIEZSQUdfTE9BRF9USU1FT1VUOiAnZnJhZ0xvYWRUaW1lT3V0JyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIGZyYWdtZW50IGRlY3J5cHRpb24gZXJyb3IgZXZlbnQgLSBkYXRhOiB7aWQgOiBkZW11eGVyIElkLGZyYWc6IGZyYWdtZW50IG9iamVjdCwgcmVhc29uIDogcGFyc2luZyBlcnJvciBkZXNjcmlwdGlvbiB9XG4gICAgRlJBR19ERUNSWVBUX0VSUk9SOiAnZnJhZ0RlY3J5cHRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBmcmFnbWVudCBwYXJzaW5nIGVycm9yIGV2ZW50IC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgSWQsIHJlYXNvbiA6IHBhcnNpbmcgZXJyb3IgZGVzY3JpcHRpb24gfVxuICAgIC8vIHdpbGwgYmUgcmVuYW1lZCBERU1VWF9QQVJTSU5HX0VSUk9SIGFuZCBzd2l0Y2hlZCB0byBNVVhfRVJST1IgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZVxuICAgIEZSQUdfUEFSU0lOR19FUlJPUjogJ2ZyYWdQYXJzaW5nRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGEgcmVtdXggYWxsb2MgZXJyb3IgZXZlbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBJZCwgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgYnl0ZXMgOiBuYiBvZiBieXRlcyBvbiB3aGljaCBhbGxvY2F0aW9uIGZhaWxlZCAsIHJlYXNvbiA6IGVycm9yIHRleHQgfVxuICAgIFJFTVVYX0FMTE9DX0VSUk9SOiAncmVtdXhBbGxvY0Vycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBkZWNyeXB0IGtleSBsb2FkIGVycm9yIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0LCByZXNwb25zZSA6IHsgY29kZTogZXJyb3IgY29kZSwgdGV4dDogZXJyb3IgdGV4dCB9fVxuICAgIEtFWV9MT0FEX0VSUk9SOiAna2V5TG9hZEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBkZWNyeXB0IGtleSBsb2FkIHRpbWVvdXQgZXJyb3IgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3R9XG4gICAgS0VZX0xPQURfVElNRU9VVDogJ2tleUxvYWRUaW1lT3V0JyxcbiAgICAvLyBUcmlnZ2VyZWQgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzIHdoaWxlIGFkZGluZyBhIHNvdXJjZUJ1ZmZlciB0byBNZWRpYVNvdXJjZSAtIGRhdGEgOiB7ICBlcnIgOiBleGNlcHRpb24gLCBtaW1lVHlwZSA6IG1pbWVUeXBlIH1cbiAgICBCVUZGRVJfQUREX0NPREVDX0VSUk9SOiAnYnVmZmVyQWRkQ29kZWNFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgYXBwZW5kIGVycm9yIC0gZGF0YTogYXBwZW5kIGVycm9yIGRlc2NyaXB0aW9uXG4gICAgQlVGRkVSX0FQUEVORF9FUlJPUjogJ2J1ZmZlckFwcGVuZEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBhcHBlbmRpbmcgZXJyb3IgZXZlbnQgLSBkYXRhOiBhcHBlbmRpbmcgZXJyb3IgZGVzY3JpcHRpb25cbiAgICBCVUZGRVJfQVBQRU5ESU5HX0VSUk9SOiAnYnVmZmVyQXBwZW5kaW5nRXJyb3InLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGEgYnVmZmVyIHN0YWxsZWQgZXJyb3IgZXZlbnRcbiAgICBCVUZGRVJfU1RBTExFRF9FUlJPUjogJ2J1ZmZlclN0YWxsZWRFcnJvcicsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgZnVsbCBldmVudFxuICAgIEJVRkZFUl9GVUxMX0VSUk9SOiAnYnVmZmVyRnVsbEVycm9yJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIGJ1ZmZlciBzZWVrIG92ZXIgaG9sZSBldmVudFxuICAgIEJVRkZFUl9TRUVLX09WRVJfSE9MRTogJ2J1ZmZlclNlZWtPdmVySG9sZScsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgYSBidWZmZXIgbnVkZ2Ugb24gc3RhbGwgKHBsYXliYWNrIGlzIHN0dWNrIGFsdGhvdWdoIGN1cnJlbnRUaW1lIGlzIGluIGEgYnVmZmVyZWQgYXJlYSlcbiAgICBCVUZGRVJfTlVER0VfT05fU1RBTEw6ICdidWZmZXJOdWRnZU9uU3RhbGwnLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGludGVybmFsIGV4Y2VwdGlvbiBoYXBwZW5pbmcgaW5zaWRlIGhscy5qcyB3aGlsZSBoYW5kbGluZyBhbiBldmVudFxuICAgIElOVEVSTkFMX0VYQ0VQVElPTjogJ2ludGVybmFsRXhjZXB0aW9uJ1xufTtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9ldmVudC1oYW5kbGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZXZlbnQtaGFuZGxlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuKlxuKiBBbGwgb2JqZWN0cyBpbiB0aGUgZXZlbnQgaGFuZGxpbmcgY2hhaW4gc2hvdWxkIGluaGVyaXQgZnJvbSB0aGlzIGNsYXNzXG4qXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIEZPUkJJRERFTl9FVkVOVF9OQU1FUyA9IHtcbiAgICAnaGxzRXZlbnRHZW5lcmljJzogdHJ1ZSxcbiAgICAnaGxzSGFuZGxlckRlc3Ryb3lpbmcnOiB0cnVlLFxuICAgICdobHNIYW5kbGVyRGVzdHJveWVkJzogdHJ1ZVxufTtcbnZhciBFdmVudEhhbmRsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRIYW5kbGVyKGhscykge1xuICAgICAgICB2YXIgZXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBldmVudHNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5obHMgPSBobHM7XG4gICAgICAgIHRoaXMub25FdmVudCA9IHRoaXMub25FdmVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmhhbmRsZWRFdmVudHMgPSBldmVudHM7XG4gICAgICAgIHRoaXMudXNlR2VuZXJpY0hhbmRsZXIgPSB0cnVlO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vbkhhbmRsZXJEZXN0cm95aW5nKCk7XG4gICAgICAgIHRoaXMudW5yZWdpc3Rlckxpc3RlbmVycygpO1xuICAgICAgICB0aGlzLm9uSGFuZGxlckRlc3Ryb3llZCgpO1xuICAgIH07XG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkhhbmRsZXJEZXN0cm95aW5nID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUub25IYW5kbGVyRGVzdHJveWVkID0gZnVuY3Rpb24gKCkgeyB9O1xuICAgIEV2ZW50SGFuZGxlci5wcm90b3R5cGUuaXNFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5oYW5kbGVkRXZlbnRzID09PSAnb2JqZWN0JyAmJiB0aGlzLmhhbmRsZWRFdmVudHMubGVuZ3RoICYmIHR5cGVvZiB0aGlzLm9uRXZlbnQgPT09ICdmdW5jdGlvbic7XG4gICAgfTtcbiAgICBFdmVudEhhbmRsZXIucHJvdG90eXBlLnJlZ2lzdGVyTGlzdGVuZXJzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5pc0V2ZW50SGFuZGxlcigpKSB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZWRFdmVudHMuZm9yRWFjaChmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoRk9SQklEREVOX0VWRU5UX05BTUVTW2V2ZW50XSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvcmJpZGRlbiBldmVudC1uYW1lOiAnICsgZXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmhscy5vbihldmVudCwgdGhpcy5vbkV2ZW50KTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBFdmVudEhhbmRsZXIucHJvdG90eXBlLnVucmVnaXN0ZXJMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRXZlbnRIYW5kbGVyKCkpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlZEV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaGxzLm9mZihldmVudCwgdGhpcy5vbkV2ZW50KTtcbiAgICAgICAgICAgIH0sIHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBhcmd1bWVudHM6IGV2ZW50IChzdHJpbmcpLCBkYXRhIChhbnkpXG4gICAgICovXG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgIHRoaXMub25FdmVudEdlbmVyaWMoZXZlbnQsIGRhdGEpO1xuICAgIH07XG4gICAgRXZlbnRIYW5kbGVyLnByb3RvdHlwZS5vbkV2ZW50R2VuZXJpYyA9IGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICAgICAgICB2YXIgZXZlbnRUb0Z1bmN0aW9uID0gZnVuY3Rpb24gKGV2ZW50LCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgZnVuY05hbWUgPSAnb24nICsgZXZlbnQucmVwbGFjZSgnaGxzJywgJycpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzW2Z1bmNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkV2ZW50IFwiICsgZXZlbnQgKyBcIiBoYXMgbm8gZ2VuZXJpYyBoYW5kbGVyIGluIHRoaXMgXCIgKyB0aGlzLmNvbnN0cnVjdG9yLm5hbWUgKyBcIiBjbGFzcyAodHJpZWQgXCIgKyBmdW5jTmFtZSArIFwiKVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzW2Z1bmNOYW1lXS5iaW5kKHRoaXMsIGRhdGEpO1xuICAgICAgICB9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZXZlbnRUb0Z1bmN0aW9uLmNhbGwodGhpcywgZXZlbnQsIGRhdGEpLmNhbGwoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIuZXJyb3IoXCJBbiBpbnRlcm5hbCBlcnJvciBoYXBwZW5lZCB3aGlsZSBoYW5kbGluZyBldmVudCBcIiArIGV2ZW50ICsgXCIuIEVycm9yIG1lc3NhZ2U6IFxcXCJcIiArIGVyci5tZXNzYWdlICsgXCJcXFwiLiBIZXJlIGlzIGEgc3RhY2t0cmFjZTpcIiwgZXJyKTtcbiAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk9USEVSX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuSU5URVJOQUxfRVhDRVBUSU9OLCBmYXRhbDogZmFsc2UsIGV2ZW50OiBldmVudCwgZXJyOiBlcnIgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFdmVudEhhbmRsZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gRXZlbnRIYW5kbGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2V2ZW50cy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvZXZlbnRzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyoqXG4gKiBAcmVhZG9ubHlcbiAqIEBlbnVtIHtzdHJpbmd9XG4gKi9cbnZhciBIbHNFdmVudHMgPSB7XG4gICAgLy8gZmlyZWQgYmVmb3JlIE1lZGlhU291cmNlIGlzIGF0dGFjaGluZyB0byBtZWRpYSBlbGVtZW50IC0gZGF0YTogeyBtZWRpYSB9XG4gICAgTUVESUFfQVRUQUNISU5HOiAnaGxzTWVkaWFBdHRhY2hpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gTWVkaWFTb3VyY2UgaGFzIGJlZW4gc3VjY2VzZnVsbHkgYXR0YWNoZWQgdG8gbWVkaWEgZWxlbWVudCAtIGRhdGE6IHsgfVxuICAgIE1FRElBX0FUVEFDSEVEOiAnaGxzTWVkaWFBdHRhY2hlZCcsXG4gICAgLy8gZmlyZWQgYmVmb3JlIGRldGFjaGluZyBNZWRpYVNvdXJjZSBmcm9tIG1lZGlhIGVsZW1lbnQgLSBkYXRhOiB7IH1cbiAgICBNRURJQV9ERVRBQ0hJTkc6ICdobHNNZWRpYURldGFjaGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBNZWRpYVNvdXJjZSBoYXMgYmVlbiBkZXRhY2hlZCBmcm9tIG1lZGlhIGVsZW1lbnQgLSBkYXRhOiB7IH1cbiAgICBNRURJQV9ERVRBQ0hFRDogJ2hsc01lZGlhRGV0YWNoZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gd2UgYnVmZmVyIGlzIGdvaW5nIHRvIGJlIHJlc2V0IC0gZGF0YTogeyB9XG4gICAgQlVGRkVSX1JFU0VUOiAnaGxzQnVmZmVyUmVzZXQnLFxuICAgIC8vIGZpcmVkIHdoZW4gd2Uga25vdyBhYm91dCB0aGUgY29kZWNzIHRoYXQgd2UgbmVlZCBidWZmZXJzIGZvciB0byBwdXNoIGludG8gLSBkYXRhOiB7dHJhY2tzIDogeyBjb250YWluZXIsIGNvZGVjLCBsZXZlbENvZGVjLCBpbml0U2VnbWVudCwgbWV0YWRhdGEgfX1cbiAgICBCVUZGRVJfQ09ERUNTOiAnaGxzQnVmZmVyQ29kZWNzJyxcbiAgICAvLyBmaXJlZCB3aGVuIHNvdXJjZWJ1ZmZlcnMgaGF2ZSBiZWVuIGNyZWF0ZWQgLSBkYXRhOiB7IHRyYWNrcyA6IHRyYWNrcyB9XG4gICAgQlVGRkVSX0NSRUFURUQ6ICdobHNCdWZmZXJDcmVhdGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIHdlIGFwcGVuZCBhIHNlZ21lbnQgdG8gdGhlIGJ1ZmZlciAtIGRhdGE6IHsgc2VnbWVudDogc2VnbWVudCBvYmplY3QgfVxuICAgIEJVRkZFUl9BUFBFTkRJTkc6ICdobHNCdWZmZXJBcHBlbmRpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gd2UgYXJlIGRvbmUgd2l0aCBhcHBlbmRpbmcgYSBtZWRpYSBzZWdtZW50IHRvIHRoZSBidWZmZXIgLSBkYXRhIDogeyBwYXJlbnQgOiBzZWdtZW50IHBhcmVudCB0aGF0IHRyaWdnZXJlZCBCVUZGRVJfQVBQRU5ESU5HLCBwZW5kaW5nIDogbmIgb2Ygc2VnbWVudHMgd2FpdGluZyBmb3IgYXBwZW5kaW5nIGZvciB0aGlzIHNlZ21lbnQgcGFyZW50fVxuICAgIEJVRkZFUl9BUFBFTkRFRDogJ2hsc0J1ZmZlckFwcGVuZGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIHRoZSBzdHJlYW0gaXMgZmluaXNoZWQgYW5kIHdlIHdhbnQgdG8gbm90aWZ5IHRoZSBtZWRpYSBidWZmZXIgdGhhdCB0aGVyZSB3aWxsIGJlIG5vIG1vcmUgZGF0YSAtIGRhdGE6IHsgfVxuICAgIEJVRkZFUl9FT1M6ICdobHNCdWZmZXJFb3MnLFxuICAgIC8vIGZpcmVkIHdoZW4gdGhlIG1lZGlhIGJ1ZmZlciBzaG91bGQgYmUgZmx1c2hlZCAtIGRhdGEgeyBzdGFydE9mZnNldCwgZW5kT2Zmc2V0IH1cbiAgICBCVUZGRVJfRkxVU0hJTkc6ICdobHNCdWZmZXJGbHVzaGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiB0aGUgbWVkaWEgYnVmZmVyIGhhcyBiZWVuIGZsdXNoZWQgLSBkYXRhOiB7IH1cbiAgICBCVUZGRVJfRkxVU0hFRDogJ2hsc0J1ZmZlckZsdXNoZWQnLFxuICAgIC8vIGZpcmVkIHRvIHNpZ25hbCB0aGF0IGEgbWFuaWZlc3QgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IG1hbmlmZXN0VVJMfVxuICAgIE1BTklGRVNUX0xPQURJTkc6ICdobHNNYW5pZmVzdExvYWRpbmcnLFxuICAgIC8vIGZpcmVkIGFmdGVyIG1hbmlmZXN0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgbGV2ZWxzIDogW2F2YWlsYWJsZSBxdWFsaXR5IGxldmVsc10sIGF1ZGlvVHJhY2tzIDogWyBhdmFpbGFibGUgYXVkaW8gdHJhY2tzXSwgdXJsIDogbWFuaWZlc3RVUkwsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWV9fVxuICAgIE1BTklGRVNUX0xPQURFRDogJ2hsc01hbmlmZXN0TG9hZGVkJyxcbiAgICAvLyBmaXJlZCBhZnRlciBtYW5pZmVzdCBoYXMgYmVlbiBwYXJzZWQgLSBkYXRhOiB7IGxldmVscyA6IFthdmFpbGFibGUgcXVhbGl0eSBsZXZlbHNdLCBmaXJzdExldmVsIDogaW5kZXggb2YgZmlyc3QgcXVhbGl0eSBsZXZlbCBhcHBlYXJpbmcgaW4gTWFuaWZlc3R9XG4gICAgTUFOSUZFU1RfUEFSU0VEOiAnaGxzTWFuaWZlc3RQYXJzZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBzd2l0Y2ggaXMgcmVxdWVzdGVkIC0gZGF0YTogeyBsZXZlbCA6IGlkIG9mIG5ldyBsZXZlbCB9XG4gICAgTEVWRUxfU1dJVENISU5HOiAnaGxzTGV2ZWxTd2l0Y2hpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBsZXZlbCBzd2l0Y2ggaXMgZWZmZWN0aXZlIC0gZGF0YTogeyBsZXZlbCA6IGlkIG9mIG5ldyBsZXZlbCB9XG4gICAgTEVWRUxfU1dJVENIRUQ6ICdobHNMZXZlbFN3aXRjaGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwgcGxheWxpc3QgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IHVybCA6IGxldmVsIFVSTCwgbGV2ZWwgOiBpZCBvZiBsZXZlbCBiZWluZyBsb2FkZWR9XG4gICAgTEVWRUxfTE9BRElORzogJ2hsc0xldmVsTG9hZGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBhIGxldmVsIHBsYXlsaXN0IGxvYWRpbmcgZmluaXNoZXMgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBsZXZlbCA6IGlkIG9mIGxvYWRlZCBsZXZlbCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBtdGltZX0gfVxuICAgIExFVkVMX0xPQURFRDogJ2hsc0xldmVsTG9hZGVkJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgbGV2ZWwncyBkZXRhaWxzIGhhdmUgYmVlbiB1cGRhdGVkIGJhc2VkIG9uIHByZXZpb3VzIGRldGFpbHMsIGFmdGVyIGl0IGhhcyBiZWVuIGxvYWRlZCAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGxldmVsIDogaWQgb2YgdXBkYXRlZCBsZXZlbCB9XG4gICAgTEVWRUxfVVBEQVRFRDogJ2hsc0xldmVsVXBkYXRlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhIGxldmVsJ3MgUFRTIGluZm9ybWF0aW9uIGhhcyBiZWVuIHVwZGF0ZWQgYWZ0ZXIgcGFyc2luZyBhIGZyYWdtZW50IC0gZGF0YTogeyBkZXRhaWxzIDogbGV2ZWxEZXRhaWxzIG9iamVjdCwgbGV2ZWwgOiBpZCBvZiB1cGRhdGVkIGxldmVsLCBkcmlmdDogUFRTIGRyaWZ0IG9ic2VydmVkIHdoZW4gcGFyc2luZyBsYXN0IGZyYWdtZW50IH1cbiAgICBMRVZFTF9QVFNfVVBEQVRFRDogJ2hsc0xldmVsUHRzVXBkYXRlZCcsXG4gICAgLy8gZmlyZWQgdG8gbm90aWZ5IHRoYXQgYXVkaW8gdHJhY2sgbGlzdHMgaGFzIGJlZW4gdXBkYXRlZCAtIGRhdGE6IHsgYXVkaW9UcmFja3MgOiBhdWRpb1RyYWNrcyB9XG4gICAgQVVESU9fVFJBQ0tTX1VQREFURUQ6ICdobHNBdWRpb1RyYWNrc1VwZGF0ZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgc3dpdGNoaW5nIGlzIHJlcXVlc3RlZCAtIGRhdGE6IHsgaWQgOiBhdWRpbyB0cmFjayBpZCB9XG4gICAgQVVESU9fVFJBQ0tfU1dJVENISU5HOiAnaGxzQXVkaW9UcmFja1N3aXRjaGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBzd2l0Y2ggYWN0dWFsbHkgb2NjdXJzIC0gZGF0YTogeyBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgICBBVURJT19UUkFDS19TV0lUQ0hFRDogJ2hsc0F1ZGlvVHJhY2tTd2l0Y2hlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhbiBhdWRpbyB0cmFjayBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgdXJsIDogYXVkaW8gdHJhY2sgVVJMLCBpZCA6IGF1ZGlvIHRyYWNrIGlkIH1cbiAgICBBVURJT19UUkFDS19MT0FESU5HOiAnaGxzQXVkaW9UcmFja0xvYWRpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gYW4gYXVkaW8gdHJhY2sgbG9hZGluZyBmaW5pc2hlcyAtIGRhdGE6IHsgZGV0YWlscyA6IGxldmVsRGV0YWlscyBvYmplY3QsIGlkIDogYXVkaW8gdHJhY2sgaWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbXRpbWUgfSB9XG4gICAgQVVESU9fVFJBQ0tfTE9BREVEOiAnaGxzQXVkaW9UcmFja0xvYWRlZCcsXG4gICAgLy8gZmlyZWQgdG8gbm90aWZ5IHRoYXQgc3VidGl0bGUgdHJhY2sgbGlzdHMgaGFzIGJlZW4gdXBkYXRlZCAtIGRhdGE6IHsgc3VidGl0bGVUcmFja3MgOiBzdWJ0aXRsZVRyYWNrcyB9XG4gICAgU1VCVElUTEVfVFJBQ0tTX1VQREFURUQ6ICdobHNTdWJ0aXRsZVRyYWNrc1VwZGF0ZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYW4gc3VidGl0bGUgdHJhY2sgc3dpdGNoIG9jY3VycyAtIGRhdGE6IHsgaWQgOiBzdWJ0aXRsZSB0cmFjayBpZCB9XG4gICAgU1VCVElUTEVfVFJBQ0tfU1dJVENIOiAnaGxzU3VidGl0bGVUcmFja1N3aXRjaCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhIHN1YnRpdGxlIHRyYWNrIGxvYWRpbmcgc3RhcnRzIC0gZGF0YTogeyB1cmwgOiBzdWJ0aXRsZSB0cmFjayBVUkwsIGlkIDogc3VidGl0bGUgdHJhY2sgaWQgfVxuICAgIFNVQlRJVExFX1RSQUNLX0xPQURJTkc6ICdobHNTdWJ0aXRsZVRyYWNrTG9hZGluZycsXG4gICAgLy8gZmlyZWQgd2hlbiBhIHN1YnRpdGxlIHRyYWNrIGxvYWRpbmcgZmluaXNoZXMgLSBkYXRhOiB7IGRldGFpbHMgOiBsZXZlbERldGFpbHMgb2JqZWN0LCBpZCA6IHN1YnRpdGxlIHRyYWNrIGlkLCBzdGF0cyA6IHsgdHJlcXVlc3QsIHRmaXJzdCwgdGxvYWQsIG10aW1lIH0gfVxuICAgIFNVQlRJVExFX1RSQUNLX0xPQURFRDogJ2hsc1N1YnRpdGxlVHJhY2tMb2FkZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBzdWJ0aXRsZSBmcmFnbWVudCBoYXMgYmVlbiBwcm9jZXNzZWQgLSBkYXRhOiB7IHN1Y2Nlc3MgOiBib29sZWFuLCBmcmFnIDogdGhlIHByb2Nlc3NlZCBmcmFnIH1cbiAgICBTVUJUSVRMRV9GUkFHX1BST0NFU1NFRDogJ2hsc1N1YnRpdGxlRnJhZ1Byb2Nlc3NlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiB0aGUgZmlyc3QgdGltZXN0YW1wIGlzIGZvdW5kIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGluaXRQVFM6IGluaXRQVFMsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIElOSVRfUFRTX0ZPVU5EOiAnaGxzSW5pdFB0c0ZvdW5kJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBzdGFydHMgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIEZSQUdfTE9BRElORzogJ2hsc0ZyYWdMb2FkaW5nJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgZnJhZ21lbnQgbG9hZGluZyBpcyBwcm9ncmVzc2luZyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgeyB0cmVxdWVzdCwgdGZpcnN0LCBsb2FkZWQgfSB9XG4gICAgRlJBR19MT0FEX1BST0dSRVNTOiAnaGxzRnJhZ0xvYWRQcm9ncmVzcycsXG4gICAgLy8gSWRlbnRpZmllciBmb3IgZnJhZ21lbnQgbG9hZCBhYm9ydGluZyBmb3IgZW1lcmdlbmN5IHN3aXRjaCBkb3duIC0gZGF0YTogeyBmcmFnIDogZnJhZ21lbnQgb2JqZWN0IH1cbiAgICBGUkFHX0xPQURfRU1FUkdFTkNZX0FCT1JURUQ6ICdobHNGcmFnTG9hZEVtZXJnZW5jeUFib3J0ZWQnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBmcmFnbWVudCBsb2FkaW5nIGlzIGNvbXBsZXRlZCAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCwgcGF5bG9hZCA6IGZyYWdtZW50IHBheWxvYWQsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgbGVuZ3RoIH0gfVxuICAgIEZSQUdfTE9BREVEOiAnaGxzRnJhZ0xvYWRlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBhIGZyYWdtZW50IGhhcyBmaW5pc2hlZCBkZWNyeXB0aW5nIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWc6IGZyYWdtZW50IG9iamVjdCwgcGF5bG9hZCA6IGZyYWdtZW50IHBheWxvYWQsIHN0YXRzIDogeyB0c3RhcnQsIHRkZWNyeXB0IH0gfVxuICAgIEZSQUdfREVDUllQVEVEOiAnaGxzRnJhZ0RlY3J5cHRlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBJbml0IFNlZ21lbnQgaGFzIGJlZW4gZXh0cmFjdGVkIGZyb20gZnJhZ21lbnQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBtb292IDogbW9vdiBNUDQgYm94LCBjb2RlY3MgOiBjb2RlY3MgZm91bmQgd2hpbGUgcGFyc2luZyBmcmFnbWVudCB9XG4gICAgRlJBR19QQVJTSU5HX0lOSVRfU0VHTUVOVDogJ2hsc0ZyYWdQYXJzaW5nSW5pdFNlZ21lbnQnLFxuICAgIC8vIGZpcmVkIHdoZW4gcGFyc2luZyBzZWkgdGV4dCBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBzYW1wbGVzIDogWyBzZWkgc2FtcGxlcyBwZXMgXSB9XG4gICAgRlJBR19QQVJTSU5HX1VTRVJEQVRBOiAnaGxzRnJhZ1BhcnNpbmdVc2VyZGF0YScsXG4gICAgLy8gZmlyZWQgd2hlbiBwYXJzaW5nIGlkMyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGlkIDogZGVtdXhlciBpZCwgZnJhZzogZnJhZ21lbnQgb2JqZWN0LCBzYW1wbGVzIDogWyBpZDMgc2FtcGxlcyBwZXMgXSB9XG4gICAgRlJBR19QQVJTSU5HX01FVEFEQVRBOiAnaGxzRnJhZ1BhcnNpbmdNZXRhZGF0YScsXG4gICAgLy8gZmlyZWQgd2hlbiBkYXRhIGhhdmUgYmVlbiBleHRyYWN0ZWQgZnJvbSBmcmFnbWVudCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QsIGRhdGExIDogbW9vZiBNUDQgYm94IG9yIFRTIGZyYWdtZW50cywgZGF0YTIgOiBtZGF0IE1QNCBib3ggb3IgbnVsbH1cbiAgICBGUkFHX1BBUlNJTkdfREFUQTogJ2hsc0ZyYWdQYXJzaW5nRGF0YScsXG4gICAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCBwYXJzaW5nIGlzIGNvbXBsZXRlZCAtIGRhdGE6IHsgaWQgOiBkZW11eGVyIGlkLCBmcmFnOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIEZSQUdfUEFSU0VEOiAnaGxzRnJhZ1BhcnNlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCByZW11eGVkIE1QNCBib3hlcyBoYXZlIGFsbCBiZWVuIGFwcGVuZGVkIGludG8gU291cmNlQnVmZmVyIC0gZGF0YTogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHN0YXRzIDogeyB0cmVxdWVzdCwgdGZpcnN0LCB0bG9hZCwgdHBhcnNlZCwgdGJ1ZmZlcmVkLCBsZW5ndGgsIGJ3RXN0aW1hdGUgfSB9XG4gICAgRlJBR19CVUZGRVJFRDogJ2hsc0ZyYWdCdWZmZXJlZCcsXG4gICAgLy8gZmlyZWQgd2hlbiBmcmFnbWVudCBtYXRjaGluZyB3aXRoIGN1cnJlbnQgbWVkaWEgcG9zaXRpb24gaXMgY2hhbmdpbmcgLSBkYXRhIDogeyBpZCA6IGRlbXV4ZXIgaWQsIGZyYWcgOiBmcmFnbWVudCBvYmplY3QgfVxuICAgIEZSQUdfQ0hBTkdFRDogJ2hsc0ZyYWdDaGFuZ2VkJyxcbiAgICAvLyBJZGVudGlmaWVyIGZvciBhIEZQUyBkcm9wIGV2ZW50IC0gZGF0YTogeyBjdXJlbnREcm9wcGVkLCBjdXJyZW50RGVjb2RlZCwgdG90YWxEcm9wcGVkRnJhbWVzIH1cbiAgICBGUFNfRFJPUDogJ2hsc0Zwc0Ryb3AnLFxuICAgIC8vIHRyaWdnZXJlZCB3aGVuIEZQUyBkcm9wIHRyaWdnZXJzIGF1dG8gbGV2ZWwgY2FwcGluZyAtIGRhdGE6IHsgbGV2ZWwsIGRyb3BwZWRsZXZlbCB9XG4gICAgRlBTX0RST1BfTEVWRUxfQ0FQUElORzogJ2hsc0Zwc0Ryb3BMZXZlbENhcHBpbmcnLFxuICAgIC8vIElkZW50aWZpZXIgZm9yIGFuIGVycm9yIGV2ZW50IC0gZGF0YTogeyB0eXBlIDogZXJyb3IgdHlwZSwgZGV0YWlscyA6IGVycm9yIGRldGFpbHMsIGZhdGFsIDogaWYgdHJ1ZSwgaGxzLmpzIGNhbm5vdC93aWxsIG5vdCB0cnkgdG8gcmVjb3ZlciwgaWYgZmFsc2UsIGhscy5qcyB3aWxsIHRyeSB0byByZWNvdmVyLG90aGVyIGVycm9yIHNwZWNpZmljIGRhdGEgfVxuICAgIEVSUk9SOiAnaGxzRXJyb3InLFxuICAgIC8vIGZpcmVkIHdoZW4gaGxzLmpzIGluc3RhbmNlIHN0YXJ0cyBkZXN0cm95aW5nLiBEaWZmZXJlbnQgZnJvbSBNRURJQV9ERVRBQ0hFRCBhcyBvbmUgY291bGQgd2FudCB0byBkZXRhY2ggYW5kIHJlYXR0YWNoIGEgbWVkaWEgdG8gdGhlIGluc3RhbmNlIG9mIGhscy5qcyB0byBoYW5kbGUgbWlkLXJvbGxzIGZvciBleGFtcGxlIC0gZGF0YTogeyB9XG4gICAgREVTVFJPWUlORzogJ2hsc0Rlc3Ryb3lpbmcnLFxuICAgIC8vIGZpcmVkIHdoZW4gYSBkZWNyeXB0IGtleSBsb2FkaW5nIHN0YXJ0cyAtIGRhdGE6IHsgZnJhZyA6IGZyYWdtZW50IG9iamVjdCB9XG4gICAgS0VZX0xPQURJTkc6ICdobHNLZXlMb2FkaW5nJyxcbiAgICAvLyBmaXJlZCB3aGVuIGEgZGVjcnlwdCBrZXkgbG9hZGluZyBpcyBjb21wbGV0ZWQgLSBkYXRhOiB7IGZyYWcgOiBmcmFnbWVudCBvYmplY3QsIHBheWxvYWQgOiBrZXkgcGF5bG9hZCwgc3RhdHMgOiB7IHRyZXF1ZXN0LCB0Zmlyc3QsIHRsb2FkLCBsZW5ndGggfSB9XG4gICAgS0VZX0xPQURFRDogJ2hsc0tleUxvYWRlZCcsXG4gICAgLy8gZmlyZWQgdXBvbiBzdHJlYW0gY29udHJvbGxlciBzdGF0ZSB0cmFuc2l0aW9ucyAtIGRhdGE6IHsgcHJldmlvdXNTdGF0ZSwgbmV4dFN0YXRlIH1cbiAgICBTVFJFQU1fU1RBVEVfVFJBTlNJVElPTjogJ2hsc1N0cmVhbVN0YXRlVHJhbnNpdGlvbidcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBIbHNFdmVudHM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvaGxzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9obHMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBVUkxUb29sa2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdXJsLXRvb2xraXQgKi8gXCIuL25vZGVfbW9kdWxlcy91cmwtdG9vbGtpdC9zcmMvdXJsLXRvb2xraXQuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBwbGF5bGlzdF9sb2FkZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbG9hZGVyL3BsYXlsaXN0LWxvYWRlciAqLyBcIi4vc3JjL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIuanNcIik7XG52YXIgZnJhZ21lbnRfbG9hZGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xvYWRlci9mcmFnbWVudC1sb2FkZXIgKi8gXCIuL3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLmpzXCIpO1xudmFyIGtleV9sb2FkZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbG9hZGVyL2tleS1sb2FkZXIgKi8gXCIuL3NyYy9sb2FkZXIva2V5LWxvYWRlci5qc1wiKTtcbnZhciBmcmFnbWVudF90cmFja2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbnRyb2xsZXIvZnJhZ21lbnQtdHJhY2tlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvZnJhZ21lbnQtdHJhY2tlci5qc1wiKTtcbnZhciBzdHJlYW1fY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL3N0cmVhbS1jb250cm9sbGVyICovIFwiLi9zcmMvY29udHJvbGxlci9zdHJlYW0tY29udHJvbGxlci5qc1wiKTtcbnZhciBsZXZlbF9jb250cm9sbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlciAqLyBcIi4vc3JjL2NvbnRyb2xsZXIvbGV2ZWwtY29udHJvbGxlci5qc1wiKTtcbnZhciBpZDNfdHJhY2tfY29udHJvbGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9jb250cm9sbGVyL2lkMy10cmFjay1jb250cm9sbGVyICovIFwiLi9zcmMvY29udHJvbGxlci9pZDMtdHJhY2stY29udHJvbGxlci5qc1wiKTtcbnZhciBpc19zdXBwb3J0ZWRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vaXMtc3VwcG9ydGVkICovIFwiLi9zcmMvaXMtc3VwcG9ydGVkLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgY29uZmlnXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2NvbmZpZyAqLyBcIi4vc3JjL2NvbmZpZy5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnRzICovIFwiLi9zcmMvZXZlbnRzLmpzXCIpO1xudmFyIG9ic2VydmVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL29ic2VydmVyICovIFwiLi9zcmMvb2JzZXJ2ZXIuanNcIik7XG4vKipcbiAqIEBtb2R1bGUgSGxzXG4gKiBAY2xhc3NcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgSGxzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhIbHMsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBhbiBITFMgY2xpZW50IHRoYXQgY2FuIGF0dGFjaCB0byBleGFjdGx5IG9uZSBgSFRNTE1lZGlhRWxlbWVudGAuXG4gICAgICpcbiAgICAgKiBAY29uc3RydWN0cyBIbHNcbiAgICAgKiBAcGFyYW0ge0hsc0NvbmZpZ30gY29uZmlnXG4gICAgICovXG4gICAgZnVuY3Rpb24gSGxzKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnID09PSB2b2lkIDApIHsgY29uZmlnID0ge307IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgdmFyIGRlZmF1bHRDb25maWcgPSBIbHMuRGVmYXVsdENvbmZpZztcbiAgICAgICAgaWYgKChjb25maWcubGl2ZVN5bmNEdXJhdGlvbkNvdW50IHx8IGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQpICYmIChjb25maWcubGl2ZVN5bmNEdXJhdGlvbiB8fCBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBobHMuanMgY29uZmlnOiBkb25cXCd0IG1peCB1cCBsaXZlU3luY0R1cmF0aW9uQ291bnQvbGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IGFuZCBsaXZlU3luY0R1cmF0aW9uL2xpdmVNYXhMYXRlbmN5RHVyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRDb25maWcpIHtcbiAgICAgICAgICAgIGlmIChwcm9wIGluIGNvbmZpZylcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbmZpZ1twcm9wXSA9IGRlZmF1bHRDb25maWdbcHJvcF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5saXZlTWF4TGF0ZW5jeUR1cmF0aW9uQ291bnQgIT09IHVuZGVmaW5lZCAmJiBjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbkNvdW50IDw9IGNvbmZpZy5saXZlU3luY0R1cmF0aW9uQ291bnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSWxsZWdhbCBobHMuanMgY29uZmlnOiBcImxpdmVNYXhMYXRlbmN5RHVyYXRpb25Db3VudFwiIG11c3QgYmUgZ3QgXCJsaXZlU3luY0R1cmF0aW9uQ291bnRcIicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiAhPT0gdW5kZWZpbmVkICYmIChjb25maWcubGl2ZU1heExhdGVuY3lEdXJhdGlvbiA8PSBjb25maWcubGl2ZVN5bmNEdXJhdGlvbiB8fCBjb25maWcubGl2ZVN5bmNEdXJhdGlvbiA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbGxlZ2FsIGhscy5qcyBjb25maWc6IFwibGl2ZU1heExhdGVuY3lEdXJhdGlvblwiIG11c3QgYmUgZ3QgXCJsaXZlU3luY0R1cmF0aW9uXCInKTtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJfMS5lbmFibGVMb2dzKGNvbmZpZy5kZWJ1Zyk7XG4gICAgICAgIF90aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgX3RoaXMuX2F1dG9MZXZlbENhcHBpbmcgPSAtMTtcbiAgICAgICAgLy8gY29yZSBjb250cm9sbGVycyBhbmQgbmV0d29yayBsb2FkZXJzXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtBYnJDb250cm9sbGVyfSBhYnJDb250cm9sbGVyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgYWJyQ29udHJvbGxlciA9IF90aGlzLmFickNvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmFickNvbnRyb2xsZXIoX3RoaXMpO1xuICAgICAgICB2YXIgYnVmZmVyQ29udHJvbGxlciA9IG5ldyBjb25maWcuYnVmZmVyQ29udHJvbGxlcihfdGhpcyk7XG4gICAgICAgIHZhciBjYXBMZXZlbENvbnRyb2xsZXIgPSBuZXcgY29uZmlnLmNhcExldmVsQ29udHJvbGxlcihfdGhpcyk7XG4gICAgICAgIHZhciBmcHNDb250cm9sbGVyID0gbmV3IGNvbmZpZy5mcHNDb250cm9sbGVyKF90aGlzKTtcbiAgICAgICAgdmFyIHBsYXlMaXN0TG9hZGVyID0gbmV3IHBsYXlsaXN0X2xvYWRlcl8xLmRlZmF1bHQoX3RoaXMpO1xuICAgICAgICB2YXIgZnJhZ21lbnRMb2FkZXIgPSBuZXcgZnJhZ21lbnRfbG9hZGVyXzEuZGVmYXVsdChfdGhpcyk7XG4gICAgICAgIHZhciBrZXlMb2FkZXIgPSBuZXcga2V5X2xvYWRlcl8xLmRlZmF1bHQoX3RoaXMpO1xuICAgICAgICB2YXIgaWQzVHJhY2tDb250cm9sbGVyID0gbmV3IGlkM190cmFja19jb250cm9sbGVyXzEuZGVmYXVsdChfdGhpcyk7XG4gICAgICAgIC8vIG5ldHdvcmsgY29udHJvbGxlcnNcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0xldmVsQ29udHJvbGxlcn0gbGV2ZWxDb250cm9sbGVyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgbGV2ZWxDb250cm9sbGVyID0gX3RoaXMubGV2ZWxDb250cm9sbGVyID0gbmV3IGxldmVsX2NvbnRyb2xsZXJfMS5kZWZhdWx0KF90aGlzKTtcbiAgICAgICAgLy8gRklYTUU6IEZyYWdtZW50VHJhY2tlciBtdXN0IGJlIGRlZmluZWQgYmVmb3JlIFN0cmVhbUNvbnRyb2xsZXIgYmVjYXVzZSB0aGUgb3JkZXIgb2YgZXZlbnQgaGFuZGxpbmcgaXMgaW1wb3J0YW50XG4gICAgICAgIHZhciBmcmFnbWVudFRyYWNrZXIgPSBuZXcgZnJhZ21lbnRfdHJhY2tlcl8xLkZyYWdtZW50VHJhY2tlcihfdGhpcyk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAbWVtYmVyIHtTdHJlYW1Db250cm9sbGVyfSBzdHJlYW1Db250cm9sbGVyXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgc3RyZWFtQ29udHJvbGxlciA9IF90aGlzLnN0cmVhbUNvbnRyb2xsZXIgPSBuZXcgc3RyZWFtX2NvbnRyb2xsZXJfMS5kZWZhdWx0KF90aGlzLCBmcmFnbWVudFRyYWNrZXIpO1xuICAgICAgICB2YXIgbmV0d29ya0NvbnRyb2xsZXJzID0gW2xldmVsQ29udHJvbGxlciwgc3RyZWFtQ29udHJvbGxlcl07XG4gICAgICAgIC8vIG9wdGlvbmFsIGF1ZGlvIHN0cmVhbSBjb250cm9sbGVyXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdmFyIHtJQ29yZUNvbXBvbmVudCB8IENvbnRyb2xsZXJ9XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgQ29udHJvbGxlciA9IGNvbmZpZy5hdWRpb1N0cmVhbUNvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICBuZXR3b3JrQ29udHJvbGxlcnMucHVzaChuZXcgQ29udHJvbGxlcihfdGhpcywgZnJhZ21lbnRUcmFja2VyKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBtZW1iZXIge0lOZXR3b3JrQ29udHJvbGxlcltdfSBuZXR3b3JrQ29udHJvbGxlcnNcbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLm5ldHdvcmtDb250cm9sbGVycyA9IG5ldHdvcmtDb250cm9sbGVycztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB2YXIge0lDb3JlQ29tcG9uZW50W119XG4gICAgICAgICAqL1xuICAgICAgICB2YXIgY29yZUNvbXBvbmVudHMgPSBbXG4gICAgICAgICAgICBwbGF5TGlzdExvYWRlcixcbiAgICAgICAgICAgIGZyYWdtZW50TG9hZGVyLFxuICAgICAgICAgICAga2V5TG9hZGVyLFxuICAgICAgICAgICAgYWJyQ29udHJvbGxlcixcbiAgICAgICAgICAgIGJ1ZmZlckNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjYXBMZXZlbENvbnRyb2xsZXIsXG4gICAgICAgICAgICBmcHNDb250cm9sbGVyLFxuICAgICAgICAgICAgaWQzVHJhY2tDb250cm9sbGVyLFxuICAgICAgICAgICAgZnJhZ21lbnRUcmFja2VyXG4gICAgICAgIF07XG4gICAgICAgIC8vIG9wdGlvbmFsIGF1ZGlvIHRyYWNrIGFuZCBzdWJ0aXRsZSBjb250cm9sbGVyXG4gICAgICAgIENvbnRyb2xsZXIgPSBjb25maWcuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9UcmFja0NvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcihfdGhpcyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEBtZW1iZXIge0F1ZGlvVHJhY2tDb250cm9sbGVyfSBhdWRpb1RyYWNrQ29udHJvbGxlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlciA9IGF1ZGlvVHJhY2tDb250cm9sbGVyO1xuICAgICAgICAgICAgY29yZUNvbXBvbmVudHMucHVzaChhdWRpb1RyYWNrQ29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgQ29udHJvbGxlciA9IGNvbmZpZy5zdWJ0aXRsZVRyYWNrQ29udHJvbGxlcjtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKF90aGlzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQG1lbWJlciB7U3VidGl0bGVUcmFja0NvbnRyb2xsZXJ9IHN1YnRpdGxlVHJhY2tDb250cm9sbGVyXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLnN1YnRpdGxlVHJhY2tDb250cm9sbGVyID0gc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICBjb3JlQ29tcG9uZW50cy5wdXNoKHN1YnRpdGxlVHJhY2tDb250cm9sbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBDb250cm9sbGVyID0gY29uZmlnLmVtZUNvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICB2YXIgZW1lQ29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKF90aGlzKTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQG1lbWJlciB7RU1FQ29udHJvbGxlcn0gZW1lQ29udHJvbGxlclxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5lbWVDb250cm9sbGVyID0gZW1lQ29udHJvbGxlcjtcbiAgICAgICAgICAgIGNvcmVDb21wb25lbnRzLnB1c2goZW1lQ29udHJvbGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gb3B0aW9uYWwgc3VidGl0bGUgY29udHJvbGxlcnNcbiAgICAgICAgQ29udHJvbGxlciA9IGNvbmZpZy5zdWJ0aXRsZVN0cmVhbUNvbnRyb2xsZXI7XG4gICAgICAgIGlmIChDb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb3JlQ29tcG9uZW50cy5wdXNoKG5ldyBDb250cm9sbGVyKF90aGlzLCBmcmFnbWVudFRyYWNrZXIpKTtcbiAgICAgICAgfVxuICAgICAgICBDb250cm9sbGVyID0gY29uZmlnLnRpbWVsaW5lQ29udHJvbGxlcjtcbiAgICAgICAgaWYgKENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvcmVDb21wb25lbnRzLnB1c2gobmV3IENvbnRyb2xsZXIoX3RoaXMpKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQG1lbWJlciB7SUNvcmVDb21wb25lbnRbXX1cbiAgICAgICAgICovXG4gICAgICAgIF90aGlzLmNvcmVDb21wb25lbnRzID0gY29yZUNvbXBvbmVudHM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscywgXCJ2ZXJzaW9uXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcIjAuMTIuMlwiO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBIbHMuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBpc19zdXBwb3J0ZWRfMS5pc1N1cHBvcnRlZCgpO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscywgXCJFdmVudHNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge0hsc0V2ZW50c31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50c18xLmRlZmF1bHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMsIFwiRXJyb3JUeXBlc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SGxzRXJyb3JUeXBlc31cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9yc18xLkVycm9yVHlwZXM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMsIFwiRXJyb3JEZXRhaWxzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtIbHNFcnJvckRldGFpbHN9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcnNfMS5FcnJvckRldGFpbHM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMsIFwiRGVmYXVsdENvbmZpZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SGxzQ29uZmlnfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIUhscy5kZWZhdWx0Q29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZ18xLmhsc0RlZmF1bHRDb25maWc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gSGxzLmRlZmF1bHRDb25maWc7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7SGxzQ29uZmlnfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAoZGVmYXVsdENvbmZpZykge1xuICAgICAgICAgICAgSGxzLmRlZmF1bHRDb25maWcgPSBkZWZhdWx0Q29uZmlnO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIHRoZSBpbnN0YW5jZVxuICAgICAqL1xuICAgIEhscy5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGVzdHJveScpO1xuICAgICAgICB0aGlzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5ERVNUUk9ZSU5HKTtcbiAgICAgICAgdGhpcy5kZXRhY2hNZWRpYSgpO1xuICAgICAgICB0aGlzLmNvcmVDb21wb25lbnRzLmNvbmNhdCh0aGlzLm5ldHdvcmtDb250cm9sbGVycykuZm9yRWFjaChmdW5jdGlvbiAoY29tcG9uZW50KSB7XG4gICAgICAgICAgICBjb21wb25lbnQuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy51cmwgPSBudWxsO1xuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nID0gLTE7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBdHRhY2ggYSBtZWRpYSBlbGVtZW50XG4gICAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fSBtZWRpYVxuICAgICAqL1xuICAgIEhscy5wcm90b3R5cGUuYXR0YWNoTWVkaWEgPSBmdW5jdGlvbiAobWVkaWEpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnYXR0YWNoTWVkaWEnKTtcbiAgICAgICAgdGhpcy5tZWRpYSA9IG1lZGlhO1xuICAgICAgICB0aGlzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5NRURJQV9BVFRBQ0hJTkcsIHsgbWVkaWE6IG1lZGlhIH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogRGV0YWNoIGZyb20gdGhlIG1lZGlhXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5kZXRhY2hNZWRpYSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnZGV0YWNoTWVkaWEnKTtcbiAgICAgICAgdGhpcy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUVESUFfREVUQUNISU5HKTtcbiAgICAgICAgdGhpcy5tZWRpYSA9IG51bGw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIHNvdXJjZSBVUkwuIENhbiBiZSByZWxhdGl2ZSBvciBhYnNvbHV0ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5sb2FkU291cmNlID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB1cmwgPSBVUkxUb29sa2l0LmJ1aWxkQWJzb2x1dGVVUkwod2luZG93LmxvY2F0aW9uLmhyZWYsIHVybCwgeyBhbHdheXNOb3JtYWxpemU6IHRydWUgfSk7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJsb2FkU291cmNlOlwiICsgdXJsKTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIC8vIHdoZW4gYXR0YWNoaW5nIHRvIGEgc291cmNlIFVSTCwgdHJpZ2dlciBhIHBsYXlsaXN0IGxvYWRcbiAgICAgICAgdGhpcy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BRElORywgeyB1cmw6IHVybCB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFN0YXJ0IGxvYWRpbmcgZGF0YSBmcm9tIHRoZSBzdHJlYW0gc291cmNlLlxuICAgICAqIERlcGVuZGluZyBvbiBkZWZhdWx0IGNvbmZpZywgY2xpZW50IHN0YXJ0cyBsb2FkaW5nIGF1dG9tYXRpY2FsbHkgd2hlbiBhIHNvdXJjZSBpcyBzZXQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnRQb3NpdGlvbiBTZXQgdGhlIHN0YXJ0IHBvc2l0aW9uIHRvIHN0cmVhbSBmcm9tXG4gICAgICogQGRlZmF1bHQgLTEgTm9uZSAoZnJvbSBlYXJsaWVzdCBwb2ludClcbiAgICAgKi9cbiAgICBIbHMucHJvdG90eXBlLnN0YXJ0TG9hZCA9IGZ1bmN0aW9uIChzdGFydFBvc2l0aW9uKSB7XG4gICAgICAgIGlmIChzdGFydFBvc2l0aW9uID09PSB2b2lkIDApIHsgc3RhcnRQb3NpdGlvbiA9IC0xOyB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzdGFydExvYWQoXCIgKyBzdGFydFBvc2l0aW9uICsgXCIpXCIpO1xuICAgICAgICB0aGlzLm5ldHdvcmtDb250cm9sbGVycy5mb3JFYWNoKGZ1bmN0aW9uIChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLnN0YXJ0TG9hZChzdGFydFBvc2l0aW9uKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTdG9wIGxvYWRpbmcgb2YgYW55IHN0cmVhbSBkYXRhLlxuICAgICAqL1xuICAgIEhscy5wcm90b3R5cGUuc3RvcExvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ3N0b3BMb2FkJyk7XG4gICAgICAgIHRoaXMubmV0d29ya0NvbnRyb2xsZXJzLmZvckVhY2goZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuc3RvcExvYWQoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBTd2FwIHRocm91Z2ggcG9zc2libGUgYXVkaW8gY29kZWNzIGluIHRoZSBzdHJlYW0gKGZvciBleGFtcGxlIHRvIHN3aXRjaCBmcm9tIHN0ZXJlbyB0byA1LjEpXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5zd2FwQXVkaW9Db2RlYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnc3dhcEF1ZGlvQ29kZWMnKTtcbiAgICAgICAgdGhpcy5zdHJlYW1Db250cm9sbGVyLnN3YXBBdWRpb0NvZGVjKCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSBtZWRpYS1lbGVtZW50IGZhaWxzLCB0aGlzIGFsbG93cyB0byBkZXRhY2ggYW5kIHRoZW4gcmUtYXR0YWNoIGl0XG4gICAgICogYXMgb25lIGNhbGwgKGNvbnZlbmllbmNlIG1ldGhvZCkuXG4gICAgICpcbiAgICAgKiBBdXRvbWF0aWMgcmVjb3Zlcnkgb2YgbWVkaWEtZXJyb3JzIGJ5IHRoaXMgcHJvY2VzcyBpcyBjb25maWd1cmFibGUuXG4gICAgICovXG4gICAgSGxzLnByb3RvdHlwZS5yZWNvdmVyTWVkaWFFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygncmVjb3Zlck1lZGlhRXJyb3InKTtcbiAgICAgICAgdmFyIG1lZGlhID0gdGhpcy5tZWRpYTtcbiAgICAgICAgdGhpcy5kZXRhY2hNZWRpYSgpO1xuICAgICAgICB0aGlzLmF0dGFjaE1lZGlhKG1lZGlhKTtcbiAgICB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImxldmVsc1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAdHlwZSB7UXVhbGl0eUxldmVsW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5sZXZlbHM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImN1cnJlbnRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiBxdWFsaXR5IGxldmVsIGN1cnJlbnRseSBwbGF5ZWRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5jdXJyZW50TGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcXVhbGl0eSBsZXZlbCBpbmRleCBpbW1lZGlhdGVseSAuXG4gICAgICAgICAqIFRoaXMgd2lsbCBmbHVzaCB0aGUgY3VycmVudCBidWZmZXIgdG8gcmVwbGFjZSB0aGUgcXVhbGl0eSBhc2FwLlxuICAgICAgICAgKiBUaGF0IG1lYW5zIHBsYXliYWNrIHdpbGwgaW50ZXJydXB0IGF0IGxlYXN0IHNob3J0bHkgdG8gcmUtYnVmZmVyIGFuZCByZS1zeW5jIGV2ZW50dWFsbHkuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInNldCBjdXJyZW50TGV2ZWw6XCIgKyBuZXdMZXZlbCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRMZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICAgICAgdGhpcy5zdHJlYW1Db250cm9sbGVyLmltbWVkaWF0ZUxldmVsU3dpdGNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcIm5leHRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBvZiBuZXh0IHF1YWxpdHkgbGV2ZWwgbG9hZGVkIGFzIHNjaGVkdWxlZCBieSBzdHJlYW0gY29udHJvbGxlci5cbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtQ29udHJvbGxlci5uZXh0TGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgcXVhbGl0eSBsZXZlbCBpbmRleCBmb3IgbmV4dCBsb2FkZWQgZGF0YS5cbiAgICAgICAgICogVGhpcyB3aWxsIHN3aXRjaCB0aGUgdmlkZW8gcXVhbGl0eSBhc2FwLCB3aXRob3V0IGludGVycnVwdGluZyBwbGF5YmFjay5cbiAgICAgICAgICogTWF5IGFib3J0IGN1cnJlbnQgbG9hZGluZyBvZiBkYXRhLCBhbmQgZmx1c2ggcGFydHMgb2YgYnVmZmVyIChvdXRzaWRlIGN1cnJlbnRseSBwbGF5ZWQgZnJhZ21lbnQgcmVnaW9uKS5cbiAgICAgICAgICogQHR5cGUge251bWJlcn0gLTEgZm9yIGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwic2V0IG5leHRMZXZlbDpcIiArIG5ld0xldmVsKTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsID0gbmV3TGV2ZWw7XG4gICAgICAgICAgICB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubmV4dExldmVsU3dpdGNoKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImxvYWRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIHF1YWxpdHkgbGV2ZWwgb2YgdGhlIGN1cnJlbnRseSBvciBsYXN0IChvZiBub25lIGlzIGxvYWRlZCBjdXJyZW50bHkpIHNlZ21lbnRcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGV2ZWxDb250cm9sbGVyLmxldmVsO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHF1YWxpdHkgbGV2ZWwgaW5kZXggZm9yIG5leHQgbG9hZGVkIGRhdGEgaW4gYSBjb25zZXJ2YXRpdmUgd2F5LlxuICAgICAgICAgKiBUaGlzIHdpbGwgc3dpdGNoIHRoZSBxdWFsaXR5IHdpdGhvdXQgZmx1c2hpbmcsIGJ1dCBpbnRlcnJ1cHQgY3VycmVudCBsb2FkaW5nLlxuICAgICAgICAgKiBUaHVzIHRoZSBtb21lbnQgd2hlbiB0aGUgcXVhbGl0eSBzd2l0Y2ggd2lsbCBhcHBlYXIgaW4gZWZmZWN0IHdpbGwgb25seSBiZSBhZnRlciB0aGUgYWxyZWFkeSBleGlzdGluZyBidWZmZXIuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IG5ld0xldmVsIC0xIGZvciBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdMZXZlbCkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcInNldCBsb2FkTGV2ZWw6XCIgKyBuZXdMZXZlbCk7XG4gICAgICAgICAgICB0aGlzLmxldmVsQ29udHJvbGxlci5tYW51YWxMZXZlbCA9IG5ld0xldmVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJuZXh0TG9hZExldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGdldCBuZXh0IHF1YWxpdHkgbGV2ZWwgbG9hZGVkXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5uZXh0TG9hZExldmVsO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHF1YWxpdHkgbGV2ZWwgb2YgbmV4dCBsb2FkZWQgc2VnbWVudCBpbiBhIGZ1bGx5IFwibm9uLWRlc3RydWN0aXZlXCIgd2F5LlxuICAgICAgICAgKiBTYW1lIGFzIGBsb2FkTGV2ZWxgIGJ1dCB3aWxsIHdhaXQgZm9yIG5leHQgc3dpdGNoICh1bnRpbCBjdXJyZW50IGxvYWRpbmcgaXMgZG9uZSkuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9IGxldmVsXG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChsZXZlbCkge1xuICAgICAgICAgICAgdGhpcy5sZXZlbENvbnRyb2xsZXIubmV4dExvYWRMZXZlbCA9IGxldmVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJmaXJzdExldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybiBcImZpcnN0IGxldmVsXCI6IGxpa2UgYSBkZWZhdWx0IGxldmVsLCBpZiBub3Qgc2V0LFxuICAgICAgICAgKiBmYWxscyBiYWNrIHRvIGluZGV4IG9mIGZpcnN0IGxldmVsIHJlZmVyZW5jZWQgaW4gbWFuaWZlc3RcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMubGV2ZWxDb250cm9sbGVyLmZpcnN0TGV2ZWwsIHRoaXMubWluQXV0b0xldmVsKTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgXCJmaXJzdC1sZXZlbFwiLCBzZWUgZ2V0dGVyLlxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzZXQgZmlyc3RMZXZlbDpcIiArIG5ld0xldmVsKTtcbiAgICAgICAgICAgIHRoaXMubGV2ZWxDb250cm9sbGVyLmZpcnN0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwic3RhcnRMZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gc3RhcnQgbGV2ZWwgKGxldmVsIG9mIGZpcnN0IGZyYWdtZW50IHRoYXQgd2lsbCBiZSBwbGF5ZWQgYmFjaylcbiAgICAgICAgICogaWYgbm90IG92ZXJyaWRlZCBieSB1c2VyLCBmaXJzdCBsZXZlbCBhcHBlYXJpbmcgaW4gbWFuaWZlc3Qgd2lsbCBiZSB1c2VkIGFzIHN0YXJ0IGxldmVsXG4gICAgICAgICAqIGlmIC0xIDogYXV0b21hdGljIHN0YXJ0IGxldmVsIHNlbGVjdGlvbiwgcGxheWJhY2sgd2lsbCBzdGFydCBmcm9tIGxldmVsIG1hdGNoaW5nIGRvd25sb2FkIGJhbmR3aWR0aFxuICAgICAgICAgKiAoZGV0ZXJtaW5lZCBmcm9tIGRvd25sb2FkIG9mIGZpcnN0IHNlZ21lbnQpXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxldmVsQ29udHJvbGxlci5zdGFydExldmVsO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogc2V0ICBzdGFydCBsZXZlbCAobGV2ZWwgb2YgZmlyc3QgZnJhZ21lbnQgdGhhdCB3aWxsIGJlIHBsYXllZCBiYWNrKVxuICAgICAgICAgKiBpZiBub3Qgb3ZlcnJpZGVkIGJ5IHVzZXIsIGZpcnN0IGxldmVsIGFwcGVhcmluZyBpbiBtYW5pZmVzdCB3aWxsIGJlIHVzZWQgYXMgc3RhcnQgbGV2ZWxcbiAgICAgICAgICogaWYgLTEgOiBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgc2VsZWN0aW9uLCBwbGF5YmFjayB3aWxsIHN0YXJ0IGZyb20gbGV2ZWwgbWF0Y2hpbmcgZG93bmxvYWQgYmFuZHdpZHRoXG4gICAgICAgICAqIChkZXRlcm1pbmVkIGZyb20gZG93bmxvYWQgb2YgZmlyc3Qgc2VnbWVudClcbiAgICAgICAgICogQHR5cGUge251bWJlcn0gbmV3TGV2ZWxcbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG5ld0xldmVsKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwic2V0IHN0YXJ0TGV2ZWw6XCIgKyBuZXdMZXZlbCk7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgICAgICAgIC8vIGlmIG5vdCBpbiBhdXRvbWF0aWMgc3RhcnQgbGV2ZWwgZGV0ZWN0aW9uLCBlbnN1cmUgc3RhcnRMZXZlbCBpcyBncmVhdGVyIHRoYW4gbWluQXV0b0xldmVsXG4gICAgICAgICAgICBpZiAobmV3TGV2ZWwgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgbmV3TGV2ZWwgPSBNYXRoLm1heChuZXdMZXZlbCwgaGxzLm1pbkF1dG9MZXZlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBobHMubGV2ZWxDb250cm9sbGVyLnN0YXJ0TGV2ZWwgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwiYXV0b0xldmVsQ2FwcGluZ1wiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXBwaW5nL21heCBsZXZlbCB2YWx1ZSB0aGF0IHNob3VsZCBiZSB1c2VkIGJ5IGF1dG9tYXRpYyBsZXZlbCBzZWxlY3Rpb24gYWxnb3JpdGhtIChgQUJSQ29udHJvbGxlcmApXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hdXRvTGV2ZWxDYXBwaW5nO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FwcGluZy9tYXggbGV2ZWwgdmFsdWUgdGhhdCBzaG91bGQgYmUgdXNlZCBieSBhdXRvbWF0aWMgbGV2ZWwgc2VsZWN0aW9uIGFsZ29yaXRobSAoYEFCUkNvbnRyb2xsZXJgKVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAobmV3TGV2ZWwpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJzZXQgYXV0b0xldmVsQ2FwcGluZzpcIiArIG5ld0xldmVsKTtcbiAgICAgICAgICAgIHRoaXMuX2F1dG9MZXZlbENhcHBpbmcgPSBuZXdMZXZlbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwiYXV0b0xldmVsRW5hYmxlZFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcnVlIHdoZW4gYXV0b21hdGljIGxldmVsIHNlbGVjdGlvbiBlbmFibGVkXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gKHRoaXMubGV2ZWxDb250cm9sbGVyLm1hbnVhbExldmVsID09PSAtMSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcIm1hbnVhbExldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExldmVsIHNldCBtYW51YWxseSAoaWYgYW55KVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZXZlbENvbnRyb2xsZXIubWFudWFsTGV2ZWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcIm1pbkF1dG9MZXZlbFwiLCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBtaW4gbGV2ZWwgc2VsZWN0YWJsZSBpbiBhdXRvIG1vZGUgYWNjb3JkaW5nIHRvIGNvbmZpZy5taW5BdXRvQml0cmF0ZVxuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcywgbGV2ZWxzID0gaGxzLmxldmVscywgbWluQXV0b0JpdHJhdGUgPSBobHMuY29uZmlnLm1pbkF1dG9CaXRyYXRlLCBsZW4gPSBsZXZlbHMgPyBsZXZlbHMubGVuZ3RoIDogMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbGV2ZWxOZXh0Qml0cmF0ZSA9IGxldmVsc1tpXS5yZWFsQml0cmF0ZSA/IE1hdGgubWF4KGxldmVsc1tpXS5yZWFsQml0cmF0ZSwgbGV2ZWxzW2ldLmJpdHJhdGUpIDogbGV2ZWxzW2ldLmJpdHJhdGU7XG4gICAgICAgICAgICAgICAgaWYgKGxldmVsTmV4dEJpdHJhdGUgPiBtaW5BdXRvQml0cmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwibWF4QXV0b0xldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG1heCBsZXZlbCBzZWxlY3RhYmxlIGluIGF1dG8gbW9kZSBhY2NvcmRpbmcgdG8gYXV0b0xldmVsQ2FwcGluZ1xuICAgICAgICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaGxzID0gdGhpcztcbiAgICAgICAgICAgIHZhciBsZXZlbHMgPSBobHMubGV2ZWxzO1xuICAgICAgICAgICAgdmFyIGF1dG9MZXZlbENhcHBpbmcgPSBobHMuYXV0b0xldmVsQ2FwcGluZztcbiAgICAgICAgICAgIHZhciBtYXhBdXRvTGV2ZWw7XG4gICAgICAgICAgICBpZiAoYXV0b0xldmVsQ2FwcGluZyA9PT0gLTEgJiYgbGV2ZWxzICYmIGxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBtYXhBdXRvTGV2ZWwgPSBsZXZlbHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1heEF1dG9MZXZlbCA9IGF1dG9MZXZlbENhcHBpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbWF4QXV0b0xldmVsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJuZXh0QXV0b0xldmVsXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIG5leHQgYXV0b21hdGljYWxseSBzZWxlY3RlZCBxdWFsaXR5IGxldmVsXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgICAgICAgLy8gZW5zdXJlIG5leHQgYXV0byBsZXZlbCBpcyBiZXR3ZWVuICBtaW4gYW5kIG1heCBhdXRvIGxldmVsXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgoaGxzLmFickNvbnRyb2xsZXIubmV4dEF1dG9MZXZlbCwgaGxzLm1pbkF1dG9MZXZlbCksIGhscy5tYXhBdXRvTGV2ZWwpO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogdGhpcyBzZXR0ZXIgaXMgdXNlZCB0byBmb3JjZSBuZXh0IGF1dG8gbGV2ZWwuXG4gICAgICAgICAqIHRoaXMgaXMgdXNlZnVsIHRvIGZvcmNlIGEgc3dpdGNoIGRvd24gaW4gYXV0byBtb2RlOlxuICAgICAgICAgKiBpbiBjYXNlIG9mIGxvYWQgZXJyb3Igb24gbGV2ZWwgTiwgaGxzLmpzIGNhbiBzZXQgbmV4dEF1dG9MZXZlbCB0byBOLTEgZm9yIGV4YW1wbGUpXG4gICAgICAgICAqIGZvcmNlZCB2YWx1ZSBpcyB2YWxpZCBmb3Igb25lIGZyYWdtZW50LiB1cG9uIHN1Y2Nlc2Z1bCBmcmFnIGxvYWRpbmcgYXQgZm9yY2VkIGxldmVsLFxuICAgICAgICAgKiB0aGlzIHZhbHVlIHdpbGwgYmUgcmVzZXR0ZWQgdG8gLTEgYnkgQUJSIGNvbnRyb2xsZXIuXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXh0TGV2ZWwpIHtcbiAgICAgICAgICAgIHZhciBobHMgPSB0aGlzO1xuICAgICAgICAgICAgaGxzLmFickNvbnRyb2xsZXIubmV4dEF1dG9MZXZlbCA9IE1hdGgubWF4KGhscy5taW5BdXRvTGV2ZWwsIG5leHRMZXZlbCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImF1ZGlvVHJhY2tzXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEB0eXBlIHtBdWRpb1RyYWNrW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9UcmFja0NvbnRyb2xsZXIgPyBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrcyA6IFtdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJhdWRpb1RyYWNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGluZGV4IG9mIHRoZSBzZWxlY3RlZCBhdWRpbyB0cmFjayAoaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHMpXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBhdWRpb1RyYWNrQ29udHJvbGxlciA9IHRoaXMuYXVkaW9UcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9UcmFja0NvbnRyb2xsZXIgPyBhdWRpb1RyYWNrQ29udHJvbGxlci5hdWRpb1RyYWNrIDogLTE7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZWxlY3RzIGFuIGF1ZGlvIHRyYWNrLCBiYXNlZCBvbiBpdHMgaW5kZXggaW4gYXVkaW8gdHJhY2sgbGlzdHNcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGF1ZGlvVHJhY2tJZCkge1xuICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tDb250cm9sbGVyID0gdGhpcy5hdWRpb1RyYWNrQ29udHJvbGxlcjtcbiAgICAgICAgICAgIGlmIChhdWRpb1RyYWNrQ29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tDb250cm9sbGVyLmF1ZGlvVHJhY2sgPSBhdWRpb1RyYWNrSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShIbHMucHJvdG90eXBlLCBcImxpdmVTeW5jUG9zaXRpb25cIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge1NlY29uZHN9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmVhbUNvbnRyb2xsZXIubGl2ZVN5bmNQb3NpdGlvbjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEhscy5wcm90b3R5cGUsIFwic3VidGl0bGVUcmFja3NcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogZ2V0IGFsdGVybmF0ZSBzdWJ0aXRsZSB0cmFja3MgbGlzdCBmcm9tIHBsYXlsaXN0XG4gICAgICAgICAqIEB0eXBlIHtTdWJ0aXRsZVRyYWNrW119XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrcyA6IFtdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJzdWJ0aXRsZVRyYWNrXCIsIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGluZGV4IG9mIHRoZSBzZWxlY3RlZCBzdWJ0aXRsZSB0cmFjayAoaW5kZXggaW4gc3VidGl0bGUgdHJhY2sgbGlzdHMpXG4gICAgICAgICAqIEB0eXBlIHtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrIDogLTE7XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBzZWxlY3QgYW4gc3VidGl0bGUgdHJhY2ssIGJhc2VkIG9uIGl0cyBpbmRleCBpbiBzdWJ0aXRsZSB0cmFjayBsaXN0c1xuICAgICAgICAgKiBAdHlwZXtudW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChzdWJ0aXRsZVRyYWNrSWQpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICBpZiAoc3VidGl0bGVUcmFja0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZVRyYWNrID0gc3VidGl0bGVUcmFja0lkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSGxzLnByb3RvdHlwZSwgXCJzdWJ0aXRsZURpc3BsYXlcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge2Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICByZXR1cm4gc3VidGl0bGVUcmFja0NvbnRyb2xsZXIgPyBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZURpc3BsYXkgOiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZS9kaXNhYmxlIHN1YnRpdGxlIGRpc3BsYXkgcmVuZGVyaW5nXG4gICAgICAgICAqIEB0eXBlIHtib29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlciA9IHRoaXMuc3VidGl0bGVUcmFja0NvbnRyb2xsZXI7XG4gICAgICAgICAgICBpZiAoc3VidGl0bGVUcmFja0NvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzdWJ0aXRsZVRyYWNrQ29udHJvbGxlci5zdWJ0aXRsZURpc3BsYXkgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEhscztcbn0ob2JzZXJ2ZXJfMS5PYnNlcnZlcikpO1xuZXhwb3J0cy5kZWZhdWx0ID0gSGxzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2lzLXN1cHBvcnRlZC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvaXMtc3VwcG9ydGVkLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIG1lZGlhc291cmNlX2hlbHBlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIgKi8gXCIuL3NyYy91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIuanNcIik7XG5mdW5jdGlvbiBpc1N1cHBvcnRlZCgpIHtcbiAgICB2YXIgbWVkaWFTb3VyY2UgPSBtZWRpYXNvdXJjZV9oZWxwZXJfMS5nZXRNZWRpYVNvdXJjZSgpO1xuICAgIHZhciBzb3VyY2VCdWZmZXIgPSB3aW5kb3cuU291cmNlQnVmZmVyIHx8IHdpbmRvdy5XZWJLaXRTb3VyY2VCdWZmZXI7XG4gICAgdmFyIGlzVHlwZVN1cHBvcnRlZCA9IG1lZGlhU291cmNlICYmXG4gICAgICAgIHR5cGVvZiBtZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQgPT09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgbWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFLG1wNGEuNDAuMlwiJyk7XG4gICAgLy8gaWYgU291cmNlQnVmZmVyIGlzIGV4cG9zZWQgZW5zdXJlIGl0cyBBUEkgaXMgdmFsaWRcbiAgICAvLyBzYWZhcmkgYW5kIG9sZCB2ZXJzaW9uIG9mIENocm9tZSBkb2Ugbm90IGV4cG9zZSBTb3VyY2VCdWZmZXIgZ2xvYmFsbHkgc28gY2hlY2tpbmcgU291cmNlQnVmZmVyLnByb3RvdHlwZSBpcyBpbXBvc3NpYmxlXG4gICAgdmFyIHNvdXJjZUJ1ZmZlclZhbGlkQVBJID0gIXNvdXJjZUJ1ZmZlciB8fFxuICAgICAgICAoc291cmNlQnVmZmVyLnByb3RvdHlwZSAmJlxuICAgICAgICAgICAgdHlwZW9mIHNvdXJjZUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICAgICAgICB0eXBlb2Ygc291cmNlQnVmZmVyLnByb3RvdHlwZS5yZW1vdmUgPT09ICdmdW5jdGlvbicpO1xuICAgIHJldHVybiAhIWlzVHlwZVN1cHBvcnRlZCAmJiAhIXNvdXJjZUJ1ZmZlclZhbGlkQVBJO1xufVxuZXhwb3J0cy5pc1N1cHBvcnRlZCA9IGlzU3VwcG9ydGVkO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2xvYWRlci9mcmFnbWVudC1sb2FkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9sb2FkZXIvZnJhZ21lbnQtbG9hZGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG4vKlxuICogRnJhZ21lbnQgTG9hZGVyXG4qL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgRnJhZ21lbnRMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEZyYWdtZW50TG9hZGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEZyYWdtZW50TG9hZGVyKGhscykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBobHMsIGV2ZW50c18xLmRlZmF1bHQuRlJBR19MT0FESU5HKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2FkZXJzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsb2FkZXJzID0gdGhpcy5sb2FkZXJzO1xuICAgICAgICBmb3IgKHZhciBsb2FkZXJOYW1lIGluIGxvYWRlcnMpIHtcbiAgICAgICAgICAgIHZhciBsb2FkZXIgPSBsb2FkZXJzW2xvYWRlck5hbWVdO1xuICAgICAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgICAgIGxvYWRlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzID0ge307XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLm9uRnJhZ0xvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZywgdHlwZSA9IGZyYWcudHlwZSwgbG9hZGVycyA9IHRoaXMubG9hZGVycywgY29uZmlnID0gdGhpcy5obHMuY29uZmlnLCBGcmFnbWVudElMb2FkZXIgPSBjb25maWcuZkxvYWRlciwgRGVmYXVsdElMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuICAgICAgICAvLyByZXNldCBmcmFnbWVudCBzdGF0ZVxuICAgICAgICBmcmFnLmxvYWRlZCA9IDA7XG4gICAgICAgIHZhciBsb2FkZXIgPSBsb2FkZXJzW3R5cGVdO1xuICAgICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcImFib3J0IHByZXZpb3VzIGZyYWdtZW50IGxvYWRlciBmb3IgdHlwZTogXCIgKyB0eXBlKTtcbiAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGxvYWRlciA9IGxvYWRlcnNbdHlwZV0gPSBmcmFnLmxvYWRlciA9XG4gICAgICAgICAgICBjb25maWcuZkxvYWRlciA/IG5ldyBGcmFnbWVudElMb2FkZXIoY29uZmlnKSA6IG5ldyBEZWZhdWx0SUxvYWRlcihjb25maWcpO1xuICAgICAgICB2YXIgbG9hZGVyQ29udGV4dCwgbG9hZGVyQ29uZmlnLCBsb2FkZXJDYWxsYmFja3M7XG4gICAgICAgIGxvYWRlckNvbnRleHQgPSB7IHVybDogZnJhZy51cmwsIGZyYWc6IGZyYWcsIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJywgcHJvZ3Jlc3NEYXRhOiBmYWxzZSB9O1xuICAgICAgICB2YXIgc3RhcnQgPSBmcmFnLmJ5dGVSYW5nZVN0YXJ0T2Zmc2V0LCBlbmQgPSBmcmFnLmJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShzdGFydCkgJiYgTnVtYmVyLmlzRmluaXRlKGVuZCkpIHtcbiAgICAgICAgICAgIGxvYWRlckNvbnRleHQucmFuZ2VTdGFydCA9IHN0YXJ0O1xuICAgICAgICAgICAgbG9hZGVyQ29udGV4dC5yYW5nZUVuZCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICBsb2FkZXJDb25maWcgPSB7XG4gICAgICAgICAgICB0aW1lb3V0OiBjb25maWcuZnJhZ0xvYWRpbmdUaW1lT3V0LFxuICAgICAgICAgICAgbWF4UmV0cnk6IDAsXG4gICAgICAgICAgICByZXRyeURlbGF5OiAwLFxuICAgICAgICAgICAgbWF4UmV0cnlEZWxheTogY29uZmlnLmZyYWdMb2FkaW5nTWF4UmV0cnlUaW1lb3V0XG4gICAgICAgIH07XG4gICAgICAgIGxvYWRlckNhbGxiYWNrcyA9IHtcbiAgICAgICAgICAgIG9uU3VjY2VzczogdGhpcy5sb2Fkc3VjY2Vzcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSxcbiAgICAgICAgICAgIG9uVGltZW91dDogdGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25Qcm9ncmVzczogdGhpcy5sb2FkcHJvZ3Jlc3MuYmluZCh0aGlzKVxuICAgICAgICB9O1xuICAgICAgICBsb2FkZXIubG9hZChsb2FkZXJDb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gICAgfTtcbiAgICBGcmFnbWVudExvYWRlci5wcm90b3R5cGUubG9hZHN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdmFyIHBheWxvYWQgPSByZXNwb25zZS5kYXRhLCBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgICAgICAvLyBkZXRhY2ggZnJhZ21lbnQgbG9hZGVyIG9uIGxvYWQgc3VjY2Vzc1xuICAgICAgICBmcmFnLmxvYWRlciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX0xPQURFRCwgeyBwYXlsb2FkOiBwYXlsb2FkLCBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICB9O1xuICAgIEZyYWdtZW50TG9hZGVyLnByb3RvdHlwZS5sb2FkZXJyb3IgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKSB7XG4gICAgICAgIGlmIChuZXR3b3JrRGV0YWlscyA9PT0gdm9pZCAwKSB7IG5ldHdvcmtEZXRhaWxzID0gbnVsbDsgfVxuICAgICAgICB2YXIgZnJhZyA9IGNvbnRleHQuZnJhZztcbiAgICAgICAgdmFyIGxvYWRlciA9IGZyYWcubG9hZGVyO1xuICAgICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgICAgICBsb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvYWRlcnNbZnJhZy50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTkVUV09SS19FUlJPUiwgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkZSQUdfTE9BRF9FUlJPUiwgZmF0YWw6IGZhbHNlLCBmcmFnOiBjb250ZXh0LmZyYWcsIHJlc3BvbnNlOiByZXNwb25zZSwgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzIH0pO1xuICAgIH07XG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdmFyIGZyYWcgPSBjb250ZXh0LmZyYWc7XG4gICAgICAgIHZhciBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzW2ZyYWcudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX0xPQURfVElNRU9VVCwgZmF0YWw6IGZhbHNlLCBmcmFnOiBjb250ZXh0LmZyYWcsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICB9O1xuICAgIC8vIGRhdGEgd2lsbCBiZSB1c2VkIGZvciBwcm9ncmVzc2l2ZSBwYXJzaW5nXG4gICAgRnJhZ21lbnRMb2FkZXIucHJvdG90eXBlLmxvYWRwcm9ncmVzcyA9IGZ1bmN0aW9uIChzdGF0cywgY29udGV4dCwgZGF0YSwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgaWYgKG5ldHdvcmtEZXRhaWxzID09PSB2b2lkIDApIHsgbmV0d29ya0RldGFpbHMgPSBudWxsOyB9XG4gICAgICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnO1xuICAgICAgICBmcmFnLmxvYWRlZCA9IHN0YXRzLmxvYWRlZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfTE9BRF9QUk9HUkVTUywgeyBmcmFnOiBmcmFnLCBzdGF0czogc3RhdHMsIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlscyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBGcmFnbWVudExvYWRlcjtcbn0oZXZlbnRfaGFuZGxlcl8xLmRlZmF1bHQpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEZyYWdtZW50TG9hZGVyO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9sb2FkZXIvZnJhZ21lbnQuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2xvYWRlci9mcmFnbWVudC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVVJMVG9vbGtpdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHVybC10b29sa2l0ICovIFwiLi9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzXCIpO1xudmFyIGxldmVsX2tleV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1rZXkgKi8gXCIuL3NyYy9sb2FkZXIvbGV2ZWwta2V5LmpzXCIpO1xudmFyIEZyYWdtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEZyYWdtZW50KCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX3VybCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2J5dGVSYW5nZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlY3J5cHRkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy50YWdMaXN0ID0gW107XG4gICAgICAgIHRoaXMucHJvZ3JhbURhdGVUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBudWxsO1xuICAgICAgICAvLyBIb2xkcyB0aGUgdHlwZXMgb2YgZGF0YSB0aGlzIGZyYWdtZW50IHN1cHBvcnRzXG4gICAgICAgIHRoaXMuX2VsZW1lbnRhcnlTdHJlYW1zID0gKF9hID0ge30sXG4gICAgICAgICAgICBfYVtGcmFnbWVudC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuQVVESU9dID0gZmFsc2UsXG4gICAgICAgICAgICBfYVtGcmFnbWVudC5FbGVtZW50YXJ5U3RyZWFtVHlwZXMuVklERU9dID0gZmFsc2UsXG4gICAgICAgICAgICBfYSk7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudCwgXCJFbGVtZW50YXJ5U3RyZWFtVHlwZXNcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogYHR5cGVgIHByb3BlcnR5IGZvciB0aGlzLl9lbGVtZW50YXJ5U3RyZWFtc1xuICAgICAgICAgKlxuICAgICAgICAgKiBAZW51bVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIEFVRElPOiAnYXVkaW8nLFxuICAgICAgICAgICAgICAgIFZJREVPOiAndmlkZW8nXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcInVybFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl91cmwgJiYgdGhpcy5yZWx1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl91cmwgPSBVUkxUb29sa2l0LmJ1aWxkQWJzb2x1dGVVUkwodGhpcy5iYXNldXJsLCB0aGlzLnJlbHVybCwgeyBhbHdheXNOb3JtYWxpemU6IHRydWUgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXJsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fdXJsID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudC5wcm90b3R5cGUsIFwiYnl0ZVJhbmdlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2J5dGVSYW5nZSAmJiAhdGhpcy5yYXdCeXRlUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fYnl0ZVJhbmdlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2J5dGVSYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBieXRlUmFuZ2UgPSBbXTtcbiAgICAgICAgICAgIGlmICh0aGlzLnJhd0J5dGVSYW5nZSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB0aGlzLnJhd0J5dGVSYW5nZS5zcGxpdCgnQCcsIDIpO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0ID0gdGhpcy5sYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICBieXRlUmFuZ2VbMF0gPSBsYXN0Qnl0ZVJhbmdlRW5kT2Zmc2V0IHx8IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBieXRlUmFuZ2VbMF0gPSBwYXJzZUludChwYXJhbXNbMV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBieXRlUmFuZ2VbMV0gPSBwYXJzZUludChwYXJhbXNbMF0pICsgYnl0ZVJhbmdlWzBdO1xuICAgICAgICAgICAgICAgIHRoaXMuX2J5dGVSYW5nZSA9IGJ5dGVSYW5nZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBieXRlUmFuZ2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudC5wcm90b3R5cGUsIFwiYnl0ZVJhbmdlU3RhcnRPZmZzZXRcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHR5cGUge251bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzBdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcImJ5dGVSYW5nZUVuZE9mZnNldFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZVJhbmdlWzFdO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcImRlY3J5cHRkYXRhXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2RlY3J5cHRkYXRhKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVjcnlwdGRhdGEgPSB0aGlzLmZyYWdtZW50RGVjcnlwdGRhdGFGcm9tTGV2ZWxrZXkodGhpcy5sZXZlbGtleSwgdGhpcy5zbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVjcnlwdGRhdGE7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGcmFnbWVudC5wcm90b3R5cGUsIFwiZW5kUHJvZ3JhbURhdGVUaW1lXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0aGlzLnByb2dyYW1EYXRlVGltZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9ICFOdW1iZXIuaXNGaW5pdGUodGhpcy5kdXJhdGlvbikgPyAwIDogdGhpcy5kdXJhdGlvbjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2dyYW1EYXRlVGltZSArIChkdXJhdGlvbiAqIDEwMDApO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnJhZ21lbnQucHJvdG90eXBlLCBcImVuY3J5cHRlZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKCh0aGlzLmRlY3J5cHRkYXRhICYmIHRoaXMuZGVjcnlwdGRhdGEudXJpICE9PSBudWxsKSAmJiAodGhpcy5kZWNyeXB0ZGF0YS5rZXkgPT09IG51bGwpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50YXJ5U3RyZWFtVHlwZX0gdHlwZVxuICAgICAqL1xuICAgIEZyYWdtZW50LnByb3RvdHlwZS5hZGRFbGVtZW50YXJ5U3RyZWFtID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdGhpcy5fZWxlbWVudGFyeVN0cmVhbXNbdHlwZV0gPSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtFbGVtZW50YXJ5U3RyZWFtVHlwZX0gdHlwZVxuICAgICAqL1xuICAgIEZyYWdtZW50LnByb3RvdHlwZS5oYXNFbGVtZW50YXJ5U3RyZWFtID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VsZW1lbnRhcnlTdHJlYW1zW3R5cGVdID09PSB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBtZXRob2QgZm9yIHBhcnNlTGV2ZWxQbGF5bGlzdCB0byBjcmVhdGUgYW4gaW5pdGlhbGl6YXRpb24gdmVjdG9yIGZvciBhIGdpdmVuIHNlZ21lbnRcbiAgICAgKiBAcmV0dXJucyB7VWludDhBcnJheX1cbiAgICAgKi9cbiAgICBGcmFnbWVudC5wcm90b3R5cGUuY3JlYXRlSW5pdGlhbGl6YXRpb25WZWN0b3IgPSBmdW5jdGlvbiAoc2VnbWVudE51bWJlcikge1xuICAgICAgICB2YXIgdWludDhWaWV3ID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgICAgICBmb3IgKHZhciBpID0gMTI7IGkgPCAxNjsgaSsrKSB7XG4gICAgICAgICAgICB1aW50OFZpZXdbaV0gPSAoc2VnbWVudE51bWJlciA+PiA4ICogKDE1IC0gaSkpICYgMHhmZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdWludDhWaWV3O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBtZXRob2QgZm9yIHBhcnNlTGV2ZWxQbGF5bGlzdCB0byBnZXQgYSBmcmFnbWVudCdzIGRlY3J5cHRpb24gZGF0YSBmcm9tIHRoZSBjdXJyZW50bHkgcGFyc2VkIGVuY3J5cHRpb24ga2V5IGRhdGFcbiAgICAgKiBAcGFyYW0gbGV2ZWxrZXkgLSBhIHBsYXlsaXN0J3MgZW5jcnlwdGlvbiBpbmZvXG4gICAgICogQHBhcmFtIHNlZ21lbnROdW1iZXIgLSB0aGUgZnJhZ21lbnQncyBzZWdtZW50IG51bWJlclxuICAgICAqIEByZXR1cm5zIHsqfSAtIGFuIG9iamVjdCB0byBiZSBhcHBsaWVkIGFzIGEgZnJhZ21lbnQncyBkZWNyeXB0ZGF0YVxuICAgICAqL1xuICAgIEZyYWdtZW50LnByb3RvdHlwZS5mcmFnbWVudERlY3J5cHRkYXRhRnJvbUxldmVsa2V5ID0gZnVuY3Rpb24gKGxldmVsa2V5LCBzZWdtZW50TnVtYmVyKSB7XG4gICAgICAgIHZhciBkZWNyeXB0ZGF0YSA9IGxldmVsa2V5O1xuICAgICAgICBpZiAobGV2ZWxrZXkgJiYgbGV2ZWxrZXkubWV0aG9kICYmIGxldmVsa2V5LnVyaSAmJiAhbGV2ZWxrZXkuaXYpIHtcbiAgICAgICAgICAgIGRlY3J5cHRkYXRhID0gbmV3IGxldmVsX2tleV8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgIGRlY3J5cHRkYXRhLm1ldGhvZCA9IGxldmVsa2V5Lm1ldGhvZDtcbiAgICAgICAgICAgIGRlY3J5cHRkYXRhLmJhc2V1cmkgPSBsZXZlbGtleS5iYXNldXJpO1xuICAgICAgICAgICAgZGVjcnlwdGRhdGEucmVsdXJpID0gbGV2ZWxrZXkucmVsdXJpO1xuICAgICAgICAgICAgZGVjcnlwdGRhdGEuaXYgPSB0aGlzLmNyZWF0ZUluaXRpYWxpemF0aW9uVmVjdG9yKHNlZ21lbnROdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWNyeXB0ZGF0YTtcbiAgICB9O1xuICAgIHJldHVybiBGcmFnbWVudDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBGcmFnbWVudDtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbG9hZGVyL2tleS1sb2FkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbG9hZGVyL2tleS1sb2FkZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBEZWNyeXB0IGtleSBMb2FkZXJcbiovXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBldmVudF9oYW5kbGVyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudC1oYW5kbGVyICovIFwiLi9zcmMvZXZlbnQtaGFuZGxlci5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBLZXlMb2FkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKEtleUxvYWRlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBLZXlMb2FkZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5LRVlfTE9BRElORykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9hZGVycyA9IHt9O1xuICAgICAgICBfdGhpcy5kZWNyeXB0a2V5ID0gbnVsbDtcbiAgICAgICAgX3RoaXMuZGVjcnlwdHVybCA9IG51bGw7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgS2V5TG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmb3IgKHZhciBsb2FkZXJOYW1lIGluIHRoaXMubG9hZGVycykge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMubG9hZGVyc1tsb2FkZXJOYW1lXTtcbiAgICAgICAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgICAgICAgICBsb2FkZXIuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZGVycyA9IHt9O1xuICAgICAgICBldmVudF9oYW5kbGVyXzEuZGVmYXVsdC5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgS2V5TG9hZGVyLnByb3RvdHlwZS5vbktleUxvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB2YXIgZnJhZyA9IGRhdGEuZnJhZywgdHlwZSA9IGZyYWcudHlwZSwgbG9hZGVyID0gdGhpcy5sb2FkZXJzW3R5cGVdLCBkZWNyeXB0ZGF0YSA9IGZyYWcuZGVjcnlwdGRhdGEsIHVyaSA9IGRlY3J5cHRkYXRhLnVyaTtcbiAgICAgICAgLy8gaWYgdXJpIGlzIGRpZmZlcmVudCBmcm9tIHByZXZpb3VzIG9uZSBvciBpZiBkZWNyeXB0IGtleSBub3QgcmV0cmlldmVkIHlldFxuICAgICAgICBpZiAodXJpICE9PSB0aGlzLmRlY3J5cHR1cmwgfHwgdGhpcy5kZWNyeXB0a2V5ID09PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgY29uZmlnID0gdGhpcy5obHMuY29uZmlnO1xuICAgICAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiYWJvcnQgcHJldmlvdXMga2V5IGxvYWRlciBmb3IgdHlwZTpcIiArIHR5cGUpO1xuICAgICAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnJhZy5sb2FkZXIgPSB0aGlzLmxvYWRlcnNbdHlwZV0gPSBuZXcgY29uZmlnLmxvYWRlcihjb25maWcpO1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0dXJsID0gdXJpO1xuICAgICAgICAgICAgdGhpcy5kZWNyeXB0a2V5ID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBsb2FkZXJDb250ZXh0ID0gdm9pZCAwLCBsb2FkZXJDb25maWcgPSB2b2lkIDAsIGxvYWRlckNhbGxiYWNrcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGxvYWRlckNvbnRleHQgPSB7IHVybDogdXJpLCBmcmFnOiBmcmFnLCByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcicgfTtcbiAgICAgICAgICAgIC8vIG1heFJldHJ5IGlzIDAgc28gdGhhdCBpbnN0ZWFkIG9mIHJldHJ5aW5nIHRoZSBzYW1lIGtleSBvbiB0aGUgc2FtZSB2YXJpYW50IG11bHRpcGxlIHRpbWVzLFxuICAgICAgICAgICAgLy8ga2V5LWxvYWRlciB3aWxsIHRyaWdnZXIgYW4gZXJyb3IgYW5kIHJlbHkgb24gc3RyZWFtLWNvbnRyb2xsZXIgdG8gaGFuZGxlIHJldHJ5IGxvZ2ljLlxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGFsc28gYWxpZ24gcmV0cnkgbG9naWMgd2l0aCBmcmFnbWVudC1sb2FkZXJcbiAgICAgICAgICAgIGxvYWRlckNvbmZpZyA9IHsgdGltZW91dDogY29uZmlnLmZyYWdMb2FkaW5nVGltZU91dCwgbWF4UmV0cnk6IDAsIHJldHJ5RGVsYXk6IGNvbmZpZy5mcmFnTG9hZGluZ1JldHJ5RGVsYXksIG1heFJldHJ5RGVsYXk6IGNvbmZpZy5mcmFnTG9hZGluZ01heFJldHJ5VGltZW91dCB9O1xuICAgICAgICAgICAgbG9hZGVyQ2FsbGJhY2tzID0geyBvblN1Y2Nlc3M6IHRoaXMubG9hZHN1Y2Nlc3MuYmluZCh0aGlzKSwgb25FcnJvcjogdGhpcy5sb2FkZXJyb3IuYmluZCh0aGlzKSwgb25UaW1lb3V0OiB0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcykgfTtcbiAgICAgICAgICAgIGZyYWcubG9hZGVyLmxvYWQobG9hZGVyQ29udGV4dCwgbG9hZGVyQ29uZmlnLCBsb2FkZXJDYWxsYmFja3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGVjcnlwdGtleSkge1xuICAgICAgICAgICAgLy8gd2UgYWxyZWFkeSBsb2FkZWQgdGhpcyBrZXksIHJldHVybiBpdFxuICAgICAgICAgICAgZGVjcnlwdGRhdGEua2V5ID0gdGhpcy5kZWNyeXB0a2V5O1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FERUQsIHsgZnJhZzogZnJhZyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgS2V5TG9hZGVyLnByb3RvdHlwZS5sb2Fkc3VjY2VzcyA9IGZ1bmN0aW9uIChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGZyYWcgPSBjb250ZXh0LmZyYWc7XG4gICAgICAgIHRoaXMuZGVjcnlwdGtleSA9IGZyYWcuZGVjcnlwdGRhdGEua2V5ID0gbmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UuZGF0YSk7XG4gICAgICAgIC8vIGRldGFjaCBmcmFnbWVudCBsb2FkZXIgb24gbG9hZCBzdWNjZXNzXG4gICAgICAgIGZyYWcubG9hZGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmxvYWRlcnNbZnJhZy50eXBlXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LktFWV9MT0FERUQsIHsgZnJhZzogZnJhZyB9KTtcbiAgICB9O1xuICAgIEtleUxvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnLCBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9FUlJPUiwgZmF0YWw6IGZhbHNlLCBmcmFnOiBmcmFnLCByZXNwb25zZTogcmVzcG9uc2UgfSk7XG4gICAgfTtcbiAgICBLZXlMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gKHN0YXRzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBmcmFnID0gY29udGV4dC5mcmFnLCBsb2FkZXIgPSBmcmFnLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlcikge1xuICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwgeyB0eXBlOiBlcnJvcnNfMS5FcnJvclR5cGVzLk5FVFdPUktfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5LRVlfTE9BRF9USU1FT1VULCBmYXRhbDogZmFsc2UsIGZyYWc6IGZyYWcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gS2V5TG9hZGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gS2V5TG9hZGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2xvYWRlci9sZXZlbC1rZXkuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9sb2FkZXIvbGV2ZWwta2V5LmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBVUkxUb29sa2l0ID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgdXJsLXRvb2xraXQgKi8gXCIuL25vZGVfbW9kdWxlcy91cmwtdG9vbGtpdC9zcmMvdXJsLXRvb2xraXQuanNcIik7XG52YXIgTGV2ZWxLZXkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGV2ZWxLZXkoKSB7XG4gICAgICAgIHRoaXMubWV0aG9kID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXkgPSBudWxsO1xuICAgICAgICB0aGlzLml2ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdXJpID0gbnVsbDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExldmVsS2V5LnByb3RvdHlwZSwgXCJ1cmlcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fdXJpICYmIHRoaXMucmVsdXJpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXJpID0gVVJMVG9vbGtpdC5idWlsZEFic29sdXRlVVJMKHRoaXMuYmFzZXVyaSwgdGhpcy5yZWx1cmksIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VyaTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIExldmVsS2V5O1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExldmVsS2V5O1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL2xvYWRlci9sZXZlbC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvbG9hZGVyL2xldmVsLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBMZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBMZXZlbChiYXNlVXJsKSB7XG4gICAgICAgIC8vIFBsZWFzZSBrZWVwIHByb3BlcnRpZXMgaW4gYWxwaGFiZXRpY2FsIG9yZGVyXG4gICAgICAgIHRoaXMuZW5kQ0MgPSAwO1xuICAgICAgICB0aGlzLmVuZFNOID0gMDtcbiAgICAgICAgdGhpcy5mcmFnbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5pbml0U2VnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMubGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMubmVlZFNpZHhSYW5nZXMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zdGFydENDID0gMDtcbiAgICAgICAgdGhpcy5zdGFydFNOID0gMDtcbiAgICAgICAgdGhpcy5zdGFydFRpbWVPZmZzZXQgPSBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldGR1cmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy50b3RhbGR1cmF0aW9uID0gMDtcbiAgICAgICAgdGhpcy50eXBlID0gbnVsbDtcbiAgICAgICAgdGhpcy51cmwgPSBiYXNlVXJsO1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBudWxsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTGV2ZWwucHJvdG90eXBlLCBcImhhc1Byb2dyYW1EYXRlVGltZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZnJhZ21lbnRzWzBdICYmIE51bWJlci5pc0Zpbml0ZSh0aGlzLmZyYWdtZW50c1swXS5wcm9ncmFtRGF0ZVRpbWUpKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIExldmVsO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IExldmVsO1xuXG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi99LmNhbGwodGhpcywgX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9zcmMvcG9seWZpbGxzL251bWJlciAqLyBcIi4vc3JjL3BvbHlmaWxscy9udW1iZXIuanNcIilbXCJOdW1iZXJcIl0pKVxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy9sb2FkZXIvbTN1OC1wYXJzZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2xvYWRlci9tM3U4LXBhcnNlci5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG4vKiBXRUJQQUNLIFZBUiBJTkpFQ1RJT04gKi8oZnVuY3Rpb24oTnVtYmVyKSB7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgVVJMVG9vbGtpdCA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIHVybC10b29sa2l0ICovIFwiLi9ub2RlX21vZHVsZXMvdXJsLXRvb2xraXQvc3JjL3VybC10b29sa2l0LmpzXCIpO1xudmFyIGZyYWdtZW50XzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2ZyYWdtZW50ICovIFwiLi9zcmMvbG9hZGVyL2ZyYWdtZW50LmpzXCIpO1xudmFyIGxldmVsXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2xldmVsICovIFwiLi9zcmMvbG9hZGVyL2xldmVsLmpzXCIpO1xudmFyIGxldmVsX2tleV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9sZXZlbC1rZXkgKi8gXCIuL3NyYy9sb2FkZXIvbGV2ZWwta2V5LmpzXCIpO1xudmFyIGF0dHJfbGlzdF8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvYXR0ci1saXN0ICovIFwiLi9zcmMvdXRpbHMvYXR0ci1saXN0LmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xudmFyIGNvZGVjc18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvY29kZWNzICovIFwiLi9zcmMvdXRpbHMvY29kZWNzLmpzXCIpO1xuLyoqXG4gKiBNM1U4IHBhcnNlclxuICogQG1vZHVsZVxuICovXG4vLyBodHRwczovL3JlZ2V4MTAxLmNvbSBpcyB5b3VyIGZyaWVuZFxudmFyIE1BU1RFUl9QTEFZTElTVF9SRUdFWCA9IC8jRVhULVgtU1RSRUFNLUlORjooW15cXG5cXHJdKilbXFxyXFxuXSsoW15cXHJcXG5dKykvZztcbnZhciBNQVNURVJfUExBWUxJU1RfTUVESUFfUkVHRVggPSAvI0VYVC1YLU1FRElBOiguKikvZztcbnZhciBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNUID0gbmV3IFJlZ0V4cChbXG4gICAgLyNFWFRJTkY6XFxzKihcXGQqKD86XFwuXFxkKyk/KSg/OiwoLiopXFxzKyk/Ly5zb3VyY2UsXG4gICAgL3woPyEjKShbXFxTKyA/XSspLy5zb3VyY2UsXG4gICAgL3wjRVhULVgtQllURVJBTkdFOiooLispLy5zb3VyY2UsXG4gICAgL3wjRVhULVgtUFJPR1JBTS1EQVRFLVRJTUU6KC4rKS8uc291cmNlLFxuICAgIC98Iy4qLy5zb3VyY2UgLy8gQWxsIG90aGVyIG5vbi1zZWdtZW50IG9yaWVudGVkIHRhZ3Mgd2lsbCBtYXRjaCB3aXRoIGFsbCBncm91cHMgZW1wdHlcbl0uam9pbignJyksICdnJyk7XG52YXIgTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyA9IC8oPzooPzojKEVYVE0zVSkpfCg/OiNFWFQtWC0oUExBWUxJU1QtVFlQRSk6KC4rKSl8KD86I0VYVC1YLShNRURJQS1TRVFVRU5DRSk6ICooXFxkKykpfCg/OiNFWFQtWC0oVEFSR0VURFVSQVRJT04pOiAqKFxcZCspKXwoPzojRVhULVgtKEtFWSk6KC4rKSl8KD86I0VYVC1YLShTVEFSVCk6KC4rKSl8KD86I0VYVC1YLShFTkRMSVNUKSl8KD86I0VYVC1YLShESVNDT05USU5VSVRZLVNFUSlVRU5DRTooXFxkKykpfCg/OiNFWFQtWC0oRElTKUNPTlRJTlVJVFkpKXwoPzojRVhULVgtKFZFUlNJT04pOihcXGQrKSl8KD86I0VYVC1YLShNQVApOiguKykpfCg/OigjKShbXjpdKik6KC4qKSl8KD86KCMpKC4qKSkoPzouKilcXHI/XFxuPy87XG52YXIgTVA0X1JFR0VYX1NVRkZJWCA9IC9cXC4obXA0fG00c3xtNHZ8bTRhKSQvaTtcbnZhciBNM1U4UGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE0zVThQYXJzZXIoKSB7XG4gICAgfVxuICAgIE0zVThQYXJzZXIuZmluZEdyb3VwID0gZnVuY3Rpb24gKGdyb3VwcywgbWVkaWFHcm91cElkKSB7XG4gICAgICAgIGlmICghZ3JvdXBzKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF0Y2hpbmdHcm91cCA9IG51bGw7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgICAgICBpZiAoZ3JvdXAuaWQgPT09IG1lZGlhR3JvdXBJZCkge1xuICAgICAgICAgICAgICAgIG1hdGNoaW5nR3JvdXAgPSBncm91cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdHcm91cDtcbiAgICB9O1xuICAgIE0zVThQYXJzZXIuY29udmVydEFWQzFUb0FWQ09USSA9IGZ1bmN0aW9uIChjb2RlYykge1xuICAgICAgICB2YXIgcmVzdWx0LCBhdmNkYXRhID0gY29kZWMuc3BsaXQoJy4nKTtcbiAgICAgICAgaWYgKGF2Y2RhdGEubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXZjZGF0YS5zaGlmdCgpICsgJy4nO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHBhcnNlSW50KGF2Y2RhdGEuc2hpZnQoKSkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgcmVzdWx0ICs9ICgnMDAwJyArIHBhcnNlSW50KGF2Y2RhdGEuc2hpZnQoKSkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gY29kZWM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIE0zVThQYXJzZXIucmVzb2x2ZSA9IGZ1bmN0aW9uICh1cmwsIGJhc2VVcmwpIHtcbiAgICAgICAgcmV0dXJuIFVSTFRvb2xraXQuYnVpbGRBYnNvbHV0ZVVSTChiYXNlVXJsLCB1cmwsIHsgYWx3YXlzTm9ybWFsaXplOiB0cnVlIH0pO1xuICAgIH07XG4gICAgTTNVOFBhcnNlci5wYXJzZU1hc3RlclBsYXlsaXN0ID0gZnVuY3Rpb24gKHN0cmluZywgYmFzZXVybCkge1xuICAgICAgICB2YXIgbGV2ZWxzID0gW10sIHJlc3VsdDtcbiAgICAgICAgTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIGZ1bmN0aW9uIHNldENvZGVjcyhjb2RlY3MsIGxldmVsKSB7XG4gICAgICAgICAgICBbJ3ZpZGVvJywgJ2F1ZGlvJ10uZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IGNvZGVjcy5maWx0ZXIoZnVuY3Rpb24gKGNvZGVjKSB7IHJldHVybiBjb2RlY3NfMS5pc0NvZGVjVHlwZShjb2RlYywgdHlwZSk7IH0pO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZWZlcnJlZCA9IGZpbHRlcmVkLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2RlYy5sYXN0SW5kZXhPZignYXZjMScsIDApID09PSAwIHx8IGNvZGVjLmxhc3RJbmRleE9mKCdtcDRhJywgMCkgPT09IDA7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBsZXZlbFt0eXBlICsgXCJDb2RlY1wiXSA9IHByZWZlcnJlZC5sZW5ndGggPiAwID8gcHJlZmVycmVkWzBdIDogZmlsdGVyZWRbMF07XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBmcm9tIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgY29kZWNzID0gY29kZWNzLmZpbHRlcihmdW5jdGlvbiAoY29kZWMpIHsgcmV0dXJuIGZpbHRlcmVkLmluZGV4T2YoY29kZWMpID09PSAtMTsgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsZXZlbC51bmtub3duQ29kZWNzID0gY29kZWNzO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICgocmVzdWx0ID0gTUFTVEVSX1BMQVlMSVNUX1JFR0VYLmV4ZWMoc3RyaW5nKSkgIT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGxldmVsID0ge307XG4gICAgICAgICAgICB2YXIgYXR0cnMgPSBsZXZlbC5hdHRycyA9IG5ldyBhdHRyX2xpc3RfMS5kZWZhdWx0KHJlc3VsdFsxXSk7XG4gICAgICAgICAgICBsZXZlbC51cmwgPSBNM1U4UGFyc2VyLnJlc29sdmUocmVzdWx0WzJdLCBiYXNldXJsKTtcbiAgICAgICAgICAgIHZhciByZXNvbHV0aW9uID0gYXR0cnMuZGVjaW1hbFJlc29sdXRpb24oJ1JFU09MVVRJT04nKTtcbiAgICAgICAgICAgIGlmIChyZXNvbHV0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGV2ZWwud2lkdGggPSByZXNvbHV0aW9uLndpZHRoO1xuICAgICAgICAgICAgICAgIGxldmVsLmhlaWdodCA9IHJlc29sdXRpb24uaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWwuYml0cmF0ZSA9IGF0dHJzLmRlY2ltYWxJbnRlZ2VyKCdBVkVSQUdFLUJBTkRXSURUSCcpIHx8IGF0dHJzLmRlY2ltYWxJbnRlZ2VyKCdCQU5EV0lEVEgnKTtcbiAgICAgICAgICAgIGxldmVsLm5hbWUgPSBhdHRycy5OQU1FO1xuICAgICAgICAgICAgc2V0Q29kZWNzKFtdLmNvbmNhdCgoYXR0cnMuQ09ERUNTIHx8ICcnKS5zcGxpdCgvWyAsXSsvKSksIGxldmVsKTtcbiAgICAgICAgICAgIGlmIChsZXZlbC52aWRlb0NvZGVjICYmIGxldmVsLnZpZGVvQ29kZWMuaW5kZXhPZignYXZjMScpICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIGxldmVsLnZpZGVvQ29kZWMgPSBNM1U4UGFyc2VyLmNvbnZlcnRBVkMxVG9BVkNPVEkobGV2ZWwudmlkZW9Db2RlYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXZlbHMucHVzaChsZXZlbCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxldmVscztcbiAgICB9O1xuICAgIE0zVThQYXJzZXIucGFyc2VNYXN0ZXJQbGF5bGlzdE1lZGlhID0gZnVuY3Rpb24gKHN0cmluZywgYmFzZXVybCwgdHlwZSwgYXVkaW9Hcm91cHMpIHtcbiAgICAgICAgaWYgKGF1ZGlvR3JvdXBzID09PSB2b2lkIDApIHsgYXVkaW9Hcm91cHMgPSBbXTsgfVxuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgbWVkaWFzID0gW107XG4gICAgICAgIHZhciBpZCA9IDA7XG4gICAgICAgIE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB3aGlsZSAoKHJlc3VsdCA9IE1BU1RFUl9QTEFZTElTVF9NRURJQV9SRUdFWC5leGVjKHN0cmluZykpICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgbWVkaWEgPSB7fTtcbiAgICAgICAgICAgIHZhciBhdHRycyA9IG5ldyBhdHRyX2xpc3RfMS5kZWZhdWx0KHJlc3VsdFsxXSk7XG4gICAgICAgICAgICBpZiAoYXR0cnMuVFlQRSA9PT0gdHlwZSkge1xuICAgICAgICAgICAgICAgIG1lZGlhLmdyb3VwSWQgPSBhdHRyc1snR1JPVVAtSUQnXTtcbiAgICAgICAgICAgICAgICBtZWRpYS5uYW1lID0gYXR0cnMuTkFNRTtcbiAgICAgICAgICAgICAgICBtZWRpYS50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICBtZWRpYS5kZWZhdWx0ID0gKGF0dHJzLkRFRkFVTFQgPT09ICdZRVMnKTtcbiAgICAgICAgICAgICAgICBtZWRpYS5hdXRvc2VsZWN0ID0gKGF0dHJzLkFVVE9TRUxFQ1QgPT09ICdZRVMnKTtcbiAgICAgICAgICAgICAgICBtZWRpYS5mb3JjZWQgPSAoYXR0cnMuRk9SQ0VEID09PSAnWUVTJyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJzLlVSSSkge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS51cmwgPSBNM1U4UGFyc2VyLnJlc29sdmUoYXR0cnMuVVJJLCBiYXNldXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWVkaWEubGFuZyA9IGF0dHJzLkxBTkdVQUdFO1xuICAgICAgICAgICAgICAgIGlmICghbWVkaWEubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBtZWRpYS5uYW1lID0gbWVkaWEubGFuZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGF1ZGlvR3JvdXBzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBDb2RlYyA9IE0zVThQYXJzZXIuZmluZEdyb3VwKGF1ZGlvR3JvdXBzLCBtZWRpYS5ncm91cElkKTtcbiAgICAgICAgICAgICAgICAgICAgbWVkaWEuYXVkaW9Db2RlYyA9IGdyb3VwQ29kZWMgPyBncm91cENvZGVjLmNvZGVjIDogYXVkaW9Hcm91cHNbMF0uY29kZWM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1lZGlhLmlkID0gaWQrKztcbiAgICAgICAgICAgICAgICBtZWRpYXMucHVzaChtZWRpYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1lZGlhcztcbiAgICB9O1xuICAgIE0zVThQYXJzZXIucGFyc2VMZXZlbFBsYXlsaXN0ID0gZnVuY3Rpb24gKHN0cmluZywgYmFzZXVybCwgaWQsIHR5cGUsIGxldmVsVXJsSWQpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRTTiA9IDA7XG4gICAgICAgIHZhciB0b3RhbGR1cmF0aW9uID0gMDtcbiAgICAgICAgdmFyIGxldmVsID0gbmV3IGxldmVsXzEuZGVmYXVsdChiYXNldXJsKTtcbiAgICAgICAgdmFyIGxldmVsa2V5ID0gbmV3IGxldmVsX2tleV8xLmRlZmF1bHQoKTtcbiAgICAgICAgdmFyIGNjID0gMDtcbiAgICAgICAgdmFyIHByZXZGcmFnID0gbnVsbDtcbiAgICAgICAgdmFyIGZyYWcgPSBuZXcgZnJhZ21lbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgZmlyc3RQZHRJbmRleCA9IG51bGw7XG4gICAgICAgIExFVkVMX1BMQVlMSVNUX1JFR0VYX0ZBU1QubGFzdEluZGV4ID0gMDtcbiAgICAgICAgd2hpbGUgKChyZXN1bHQgPSBMRVZFTF9QTEFZTElTVF9SRUdFWF9GQVNULmV4ZWMoc3RyaW5nKSkgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IHJlc3VsdFsxXTtcbiAgICAgICAgICAgIGlmIChkdXJhdGlvbikgeyAvLyBJTkZcbiAgICAgICAgICAgICAgICBmcmFnLmR1cmF0aW9uID0gcGFyc2VGbG9hdChkdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgc2xpY2VkIHN0cmluZ3MgICAgaHR0cHM6Ly9naXRodWIuY29tL3ZpZGVvLWRldi9obHMuanMvaXNzdWVzLzkzOVxuICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9ICgnICcgKyByZXN1bHRbMl0pLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGZyYWcudGl0bGUgPSB0aXRsZSB8fCBudWxsO1xuICAgICAgICAgICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKHRpdGxlID8gWydJTkYnLCBkdXJhdGlvbiwgdGl0bGVdIDogWydJTkYnLCBkdXJhdGlvbl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0WzNdKSB7IC8vIHVybFxuICAgICAgICAgICAgICAgIGlmIChOdW1iZXIuaXNGaW5pdGUoZnJhZy5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNuID0gY3VycmVudFNOKys7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcuc3RhcnQgPSB0b3RhbGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBmcmFnLmxldmVsa2V5ID0gbGV2ZWxrZXk7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcuc24gPSBzbjtcbiAgICAgICAgICAgICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgICAgICAgICAgICBmcmFnLmNjID0gY2M7XG4gICAgICAgICAgICAgICAgICAgIGZyYWcudXJsSWQgPSBsZXZlbFVybElkO1xuICAgICAgICAgICAgICAgICAgICBmcmFnLmJhc2V1cmwgPSBiYXNldXJsO1xuICAgICAgICAgICAgICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgICAgICAgICAgICAgIGZyYWcucmVsdXJsID0gKCcgJyArIHJlc3VsdFszXSkuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgICAgIGFzc2lnblByb2dyYW1EYXRlVGltZShmcmFnLCBwcmV2RnJhZyk7XG4gICAgICAgICAgICAgICAgICAgIGxldmVsLmZyYWdtZW50cy5wdXNoKGZyYWcpO1xuICAgICAgICAgICAgICAgICAgICBwcmV2RnJhZyA9IGZyYWc7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsZHVyYXRpb24gKz0gZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgZnJhZyA9IG5ldyBmcmFnbWVudF8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHRbNF0pIHsgLy8gWC1CWVRFUkFOR0VcbiAgICAgICAgICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9ICgnICcgKyByZXN1bHRbNF0pLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2RnJhZykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA9IHByZXZGcmFnLmJ5dGVSYW5nZUVuZE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcubGFzdEJ5dGVSYW5nZUVuZE9mZnNldCA9IGxhc3RCeXRlUmFuZ2VFbmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXN1bHRbNV0pIHsgLy8gUFJPR1JBTS1EQVRFLVRJTUVcbiAgICAgICAgICAgICAgICAvLyBhdm9pZCBzbGljZWQgc3RyaW5ncyAgICBodHRwczovL2dpdGh1Yi5jb20vdmlkZW8tZGV2L2hscy5qcy9pc3N1ZXMvOTM5XG4gICAgICAgICAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSAoJyAnICsgcmVzdWx0WzVdKS5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaChbJ1BST0dSQU0tREFURS1USU1FJywgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWVdKTtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RQZHRJbmRleCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmaXJzdFBkdEluZGV4ID0gbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSByZXN1bHRbMF0ubWF0Y2goTEVWRUxfUExBWUxJU1RfUkVHRVhfU0xPVyk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMTsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0W2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGF2b2lkIHNsaWNlZCBzdHJpbmdzICAgIGh0dHBzOi8vZ2l0aHViLmNvbS92aWRlby1kZXYvaGxzLmpzL2lzc3Vlcy85MzlcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUxID0gKCcgJyArIHJlc3VsdFtpICsgMV0pLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZTIgPSAoJyAnICsgcmVzdWx0W2kgKyAyXSkuc2xpY2UoMSk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXN1bHRbaV0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnIyc6XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLnRhZ0xpc3QucHVzaCh2YWx1ZTIgPyBbdmFsdWUxLCB2YWx1ZTJdIDogW3ZhbHVlMV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1BMQVlMSVNULVRZUEUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwudHlwZSA9IHZhbHVlMS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01FRElBLVNFUVVFTkNFJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTTiA9IGxldmVsLnN0YXJ0U04gPSBwYXJzZUludCh2YWx1ZTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1RBUkdFVERVUkFUSU9OJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsLnRhcmdldGR1cmF0aW9uID0gcGFyc2VGbG9hdCh2YWx1ZTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1ZFUlNJT04nOlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwudmVyc2lvbiA9IHBhcnNlSW50KHZhbHVlMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRVhUTTNVJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdFTkRMSVNUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsLmxpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdESVMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2MrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcudGFnTGlzdC5wdXNoKFsnRElTJ10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RJU0NPTlRJTlVJVFktU0VRJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjID0gcGFyc2VJbnQodmFsdWUxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdLRVknOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LXBhbnRvcy1odHRwLWxpdmUtc3RyZWFtaW5nLTA4I3NlY3Rpb24tMy40LjRcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNyeXB0cGFyYW1zID0gdmFsdWUxO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleUF0dHJzID0gbmV3IGF0dHJfbGlzdF8xLmRlZmF1bHQoZGVjcnlwdHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVjcnlwdG1ldGhvZCA9IGtleUF0dHJzLmVudW1lcmF0ZWRTdHJpbmcoJ01FVEhPRCcpLCBkZWNyeXB0dXJpID0ga2V5QXR0cnMuVVJJLCBkZWNyeXB0aXYgPSBrZXlBdHRycy5oZXhhZGVjaW1hbEludGVnZXIoJ0lWJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVjcnlwdG1ldGhvZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsa2V5ID0gbmV3IGxldmVsX2tleV8xLmRlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGRlY3J5cHR1cmkpICYmIChbJ0FFUy0xMjgnLCAnU0FNUExFLUFFUycsICdTQU1QTEUtQUVTLUNFTkMnXS5pbmRleE9mKGRlY3J5cHRtZXRob2QpID49IDApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsa2V5Lm1ldGhvZCA9IGRlY3J5cHRtZXRob2Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVSSSB0byBnZXQgdGhlIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXZlbGtleS5iYXNldXJpID0gYmFzZXVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxrZXkucmVsdXJpID0gZGVjcnlwdHVyaTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxrZXkua2V5ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW5pdGlhbGl6YXRpb24gVmVjdG9yIChJVilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWxrZXkuaXYgPSBkZWNyeXB0aXY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NUQVJUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydFBhcmFtcyA9IHZhbHVlMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGFydEF0dHJzID0gbmV3IGF0dHJfbGlzdF8xLmRlZmF1bHQoc3RhcnRQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0VGltZU9mZnNldCA9IHN0YXJ0QXR0cnMuZGVjaW1hbEZsb2F0aW5nUG9pbnQoJ1RJTUUtT0ZGU0VUJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUSU1FLU9GRlNFVCBjYW4gYmUgMFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShzdGFydFRpbWVPZmZzZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWwuc3RhcnRUaW1lT2Zmc2V0ID0gc3RhcnRUaW1lT2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ01BUCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFwQXR0cnMgPSBuZXcgYXR0cl9saXN0XzEuZGVmYXVsdCh2YWx1ZTEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5yZWx1cmwgPSBtYXBBdHRycy5VUkk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLnJhd0J5dGVSYW5nZSA9IG1hcEF0dHJzLkJZVEVSQU5HRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWcuYmFzZXVybCA9IGJhc2V1cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLmxldmVsID0gaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5zbiA9ICdpbml0U2VnbWVudCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbC5pbml0U2VnbWVudCA9IGZyYWc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnID0gbmV3IGZyYWdtZW50XzEuZGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBsZXZlbC5pbml0U2VnbWVudC5yYXdQcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwibGluZSBwYXJzZWQgYnV0IG5vdCBoYW5kbGVkOiBcIiArIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnJhZyA9IHByZXZGcmFnO1xuICAgICAgICAvLyBsb2dnZXIubG9nKCdmb3VuZCAnICsgbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aCArICcgZnJhZ21lbnRzJyk7XG4gICAgICAgIGlmIChmcmFnICYmICFmcmFnLnJlbHVybCkge1xuICAgICAgICAgICAgbGV2ZWwuZnJhZ21lbnRzLnBvcCgpO1xuICAgICAgICAgICAgdG90YWxkdXJhdGlvbiAtPSBmcmFnLmR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGxldmVsLnRvdGFsZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uO1xuICAgICAgICBsZXZlbC5hdmVyYWdldGFyZ2V0ZHVyYXRpb24gPSB0b3RhbGR1cmF0aW9uIC8gbGV2ZWwuZnJhZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgbGV2ZWwuZW5kU04gPSBjdXJyZW50U04gLSAxO1xuICAgICAgICBsZXZlbC5zdGFydENDID0gbGV2ZWwuZnJhZ21lbnRzWzBdID8gbGV2ZWwuZnJhZ21lbnRzWzBdLmNjIDogMDtcbiAgICAgICAgbGV2ZWwuZW5kQ0MgPSBjYztcbiAgICAgICAgaWYgKCFsZXZlbC5pbml0U2VnbWVudCAmJiBsZXZlbC5mcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgYml0IGx1cmt5IGJ1dCBITFMgcmVhbGx5IGhhcyBubyBvdGhlciB3YXkgdG8gdGVsbCB1c1xuICAgICAgICAgICAgLy8gaWYgdGhlIGZyYWdtZW50cyBhcmUgVFMgb3IgTVA0LCBleGNlcHQgaWYgd2UgZG93bmxvYWQgdGhlbSA6L1xuICAgICAgICAgICAgLy8gYnV0IHRoaXMgaXMgdG8gYmUgYWJsZSB0byBoYW5kbGUgU0lEWC5cbiAgICAgICAgICAgIGlmIChsZXZlbC5mcmFnbWVudHMuZXZlcnkoZnVuY3Rpb24gKGZyYWcpIHsgcmV0dXJuIE1QNF9SRUdFWF9TVUZGSVgudGVzdChmcmFnLnJlbHVybCk7IH0pKSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ01QNCBmcmFnbWVudHMgZm91bmQgYnV0IG5vIGluaXQgc2VnbWVudCAocHJvYmFibHkgbm8gTUFQLCBpbmNvbXBsZXRlIE0zVTgpLCB0cnlpbmcgdG8gZmV0Y2ggU0lEWCcpO1xuICAgICAgICAgICAgICAgIGZyYWcgPSBuZXcgZnJhZ21lbnRfMS5kZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZnJhZy5yZWx1cmwgPSBsZXZlbC5mcmFnbWVudHNbMF0ucmVsdXJsO1xuICAgICAgICAgICAgICAgIGZyYWcuYmFzZXVybCA9IGJhc2V1cmw7XG4gICAgICAgICAgICAgICAgZnJhZy5sZXZlbCA9IGlkO1xuICAgICAgICAgICAgICAgIGZyYWcudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgZnJhZy5zbiA9ICdpbml0U2VnbWVudCc7XG4gICAgICAgICAgICAgICAgbGV2ZWwuaW5pdFNlZ21lbnQgPSBmcmFnO1xuICAgICAgICAgICAgICAgIGxldmVsLm5lZWRTaWR4UmFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQmFja2ZpbGwgYW55IG1pc3NpbmcgUERUIHZhbHVlc1xuICAgICAgICAgICBcIklmIHRoZSBmaXJzdCBFWFQtWC1QUk9HUkFNLURBVEUtVElNRSB0YWcgaW4gYSBQbGF5bGlzdCBhcHBlYXJzIGFmdGVyXG4gICAgICAgICAgIG9uZSBvciBtb3JlIE1lZGlhIFNlZ21lbnQgVVJJcywgdGhlIGNsaWVudCBTSE9VTEQgZXh0cmFwb2xhdGVcbiAgICAgICAgICAgYmFja3dhcmQgZnJvbSB0aGF0IHRhZyAodXNpbmcgRVhUSU5GIGR1cmF0aW9ucyBhbmQvb3IgbWVkaWFcbiAgICAgICAgICAgdGltZXN0YW1wcykgdG8gYXNzb2NpYXRlIGRhdGVzIHdpdGggdGhvc2Ugc2VnbWVudHMuXCJcbiAgICAgICAgICogV2UgaGF2ZSBhbHJlYWR5IGV4dHJhcG9sYXRlZCBmb3J3YXJkLCBidXQgYWxsIGZyYWdtZW50cyB1cCB0byB0aGUgZmlyc3QgaW5zdGFuY2Ugb2YgUERUIGRvIG5vdCBoYXZlIHRoZWlyIFBEVHNcbiAgICAgICAgICogY29tcHV0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAoZmlyc3RQZHRJbmRleCkge1xuICAgICAgICAgICAgYmFja2ZpbGxQcm9ncmFtRGF0ZVRpbWVzKGxldmVsLmZyYWdtZW50cywgZmlyc3RQZHRJbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxldmVsO1xuICAgIH07XG4gICAgcmV0dXJuIE0zVThQYXJzZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gTTNVOFBhcnNlcjtcbmZ1bmN0aW9uIGJhY2tmaWxsUHJvZ3JhbURhdGVUaW1lcyhmcmFnbWVudHMsIHN0YXJ0SW5kZXgpIHtcbiAgICB2YXIgZnJhZ1ByZXYgPSBmcmFnbWVudHNbc3RhcnRJbmRleF07XG4gICAgZm9yICh2YXIgaSA9IHN0YXJ0SW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgZnJhZyA9IGZyYWdtZW50c1tpXTtcbiAgICAgICAgZnJhZy5wcm9ncmFtRGF0ZVRpbWUgPSBmcmFnUHJldi5wcm9ncmFtRGF0ZVRpbWUgLSAoZnJhZy5kdXJhdGlvbiAqIDEwMDApO1xuICAgICAgICBmcmFnUHJldiA9IGZyYWc7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzaWduUHJvZ3JhbURhdGVUaW1lKGZyYWcsIHByZXZGcmFnKSB7XG4gICAgaWYgKGZyYWcucmF3UHJvZ3JhbURhdGVUaW1lKSB7XG4gICAgICAgIGZyYWcucHJvZ3JhbURhdGVUaW1lID0gRGF0ZS5wYXJzZShmcmFnLnJhd1Byb2dyYW1EYXRlVGltZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHByZXZGcmFnICYmIHByZXZGcmFnLnByb2dyYW1EYXRlVGltZSkge1xuICAgICAgICBmcmFnLnByb2dyYW1EYXRlVGltZSA9IHByZXZGcmFnLmVuZFByb2dyYW1EYXRlVGltZTtcbiAgICB9XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUoZnJhZy5wcm9ncmFtRGF0ZVRpbWUpKSB7XG4gICAgICAgIGZyYWcucHJvZ3JhbURhdGVUaW1lID0gbnVsbDtcbiAgICAgICAgZnJhZy5yYXdQcm9ncmFtRGF0ZVRpbWUgPSBudWxsO1xuICAgIH1cbn1cblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvbG9hZGVyL3BsYXlsaXN0LWxvYWRlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL2xvYWRlci9wbGF5bGlzdC1sb2FkZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbi8qKlxuICogUGxheWxpc3RMb2FkZXIgLSBkZWxlZ2F0ZSBmb3IgbWVkaWEgbWFuaWZlc3QvcGxheWxpc3QgbG9hZGluZyB0YXNrcy4gVGFrZXMgY2FyZSBvZiBwYXJzaW5nIG1lZGlhIHRvIGludGVybmFsIGRhdGEtbW9kZWxzLlxuICpcbiAqIE9uY2UgbG9hZGVkLCBkaXNwYXRjaGVzIGV2ZW50cyB3aXRoIHBhcnNlZCBkYXRhLW1vZGVscyBvZiBtYW5pZmVzdC9sZXZlbHMvYXVkaW8vc3VidGl0bGUgdHJhY2tzLlxuICpcbiAqIFVzZXMgbG9hZGVyKHMpIHNldCBpbiBjb25maWcgdG8gZG8gYWN0dWFsIGludGVybmFsIGxvYWRpbmcgb2YgcmVzb3VyY2UgdGFza3MuXG4gKlxuICogQG1vZHVsZVxuICpcbiAqL1xudmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9ldmVudHMgKi8gXCIuL3NyYy9ldmVudHMuanNcIik7XG52YXIgZXZlbnRfaGFuZGxlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG52YXIgZXJyb3JzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi9lcnJvcnMgKi8gXCIuL3NyYy9lcnJvcnMuanNcIik7XG52YXIgbG9nZ2VyXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9sb2dnZXIgKi8gXCIuL3NyYy91dGlscy9sb2dnZXIuanNcIik7XG52YXIgbXA0ZGVtdXhlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvbXA0ZGVtdXhlciAqLyBcIi4vc3JjL2RlbXV4L21wNGRlbXV4ZXIuanNcIik7XG52YXIgbTN1OF9wYXJzZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vbTN1OC1wYXJzZXIgKi8gXCIuL3NyYy9sb2FkZXIvbTN1OC1wYXJzZXIuanNcIik7XG52YXIgcGVyZm9ybWFuY2UgPSB3aW5kb3cucGVyZm9ybWFuY2U7XG4vKipcbiAqIGB0eXBlYCBwcm9wZXJ0eSB2YWx1ZXMgZm9yIHRoaXMgbG9hZGVycycgY29udGV4dCBvYmplY3RcbiAqIEBlbnVtXG4gKlxuICovXG52YXIgQ29udGV4dFR5cGUgPSB7XG4gICAgTUFOSUZFU1Q6ICdtYW5pZmVzdCcsXG4gICAgTEVWRUw6ICdsZXZlbCcsXG4gICAgQVVESU9fVFJBQ0s6ICdhdWRpb1RyYWNrJyxcbiAgICBTVUJUSVRMRV9UUkFDSzogJ3N1YnRpdGxlVHJhY2snXG59O1xuLyoqXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG52YXIgTGV2ZWxUeXBlID0ge1xuICAgIE1BSU46ICdtYWluJyxcbiAgICBBVURJTzogJ2F1ZGlvJyxcbiAgICBTVUJUSVRMRTogJ3N1YnRpdGxlJ1xufTtcbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbnZhciBQbGF5bGlzdExvYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUGxheWxpc3RMb2FkZXIsIF9zdXBlcik7XG4gICAgLyoqXG4gICAgICogQGNvbnN0cnVjdHNcbiAgICAgKiBAcGFyYW0ge0hsc30gaGxzXG4gICAgICovXG4gICAgZnVuY3Rpb24gUGxheWxpc3RMb2FkZXIoaGxzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGhscywgZXZlbnRzXzEuZGVmYXVsdC5NQU5JRkVTVF9MT0FESU5HLCBldmVudHNfMS5kZWZhdWx0LkxFVkVMX0xPQURJTkcsIGV2ZW50c18xLmRlZmF1bHQuQVVESU9fVFJBQ0tfTE9BRElORywgZXZlbnRzXzEuZGVmYXVsdC5TVUJUSVRMRV9UUkFDS19MT0FESU5HKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5sb2FkZXJzID0ge307XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXlsaXN0TG9hZGVyLCBcIkNvbnRleHRUeXBlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gQ29udGV4dFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF5bGlzdExvYWRlciwgXCJMZXZlbFR5cGVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7Q29udGV4dFR5cGV9IHR5cGVcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBQbGF5bGlzdExvYWRlci5jYW5IYXZlUXVhbGl0eUxldmVscyA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiAodHlwZSAhPT0gQ29udGV4dFR5cGUuQVVESU9fVFJBQ0sgJiZcbiAgICAgICAgICAgIHR5cGUgIT09IENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE1hcCBjb250ZXh0LnR5cGUgdG8gTGV2ZWxUeXBlXG4gICAgICogQHBhcmFtIHt7dHlwZTogQ29udGV4dFR5cGV9fSBjb250ZXh0XG4gICAgICogQHJldHVybnMge0xldmVsVHlwZX1cbiAgICAgKi9cbiAgICBQbGF5bGlzdExvYWRlci5tYXBDb250ZXh0VG9MZXZlbFR5cGUgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICB2YXIgdHlwZSA9IGNvbnRleHQudHlwZTtcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLkFVRElPX1RSQUNLOlxuICAgICAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGUuQVVESU87XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLOlxuICAgICAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGUuU1VCVElUTEU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBMZXZlbFR5cGUuTUFJTjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIuZ2V0UmVzcG9uc2VVcmwgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHVybCA9IHJlc3BvbnNlLnVybDtcbiAgICAgICAgLy8gcmVzcG9uc2VVUkwgbm90IHN1cHBvcnRlZCBvbiBzb21lIGJyb3dzZXJzIChpdCBpcyB1c2VkIHRvIGRldGVjdCBVUkwgcmVkaXJlY3Rpb24pXG4gICAgICAgIC8vIGRhdGEtdXJpIG1vZGUgYWxzbyBub3Qgc3VwcG9ydGVkIChidXQgbm8gbmVlZCB0byBkZXRlY3QgcmVkaXJlY3Rpb24pXG4gICAgICAgIGlmICh1cmwgPT09IHVuZGVmaW5lZCB8fCB1cmwuaW5kZXhPZignZGF0YTonKSA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZmFsbGJhY2sgdG8gaW5pdGlhbCBVUkxcbiAgICAgICAgICAgIHVybCA9IGNvbnRleHQudXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGRlZmF1bHRzIG9yIGNvbmZpZ3VyZWQgbG9hZGVyLXR5cGUgb3ZlcmxvYWRzIChwTG9hZGVyIGFuZCBsb2FkZXIgY29uZmlnIHBhcmFtcylcbiAgICAgKiBEZWZhdWx0IGxvYWRlciBpcyBYSFJMb2FkZXIgKHNlZSB1dGlscylcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udGV4dFxuICAgICAqIEByZXR1cm5zIHtYSFJMb2FkZXJ9IG9yIG90aGVyIGNvbXBhdGlibGUgY29uZmlndXJlZCBvdmVybG9hZFxuICAgICAqL1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5jcmVhdGVJbnRlcm5hbExvYWRlciA9IGZ1bmN0aW9uIChjb250ZXh0KSB7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLmhscy5jb25maWc7XG4gICAgICAgIHZhciBQTG9hZGVyID0gY29uZmlnLnBMb2FkZXI7XG4gICAgICAgIHZhciBMb2FkZXIgPSBjb25maWcubG9hZGVyO1xuICAgICAgICB2YXIgSW50ZXJuYWxMb2FkZXIgPSBQTG9hZGVyIHx8IExvYWRlcjtcbiAgICAgICAgdmFyIGxvYWRlciA9IG5ldyBJbnRlcm5hbExvYWRlcihjb25maWcpO1xuICAgICAgICBjb250ZXh0LmxvYWRlciA9IGxvYWRlcjtcbiAgICAgICAgdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV0gPSBsb2FkZXI7XG4gICAgICAgIHJldHVybiBsb2FkZXI7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuZ2V0SW50ZXJuYWxMb2FkZXIgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2FkZXJzW2NvbnRleHQudHlwZV07XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUucmVzZXRJbnRlcm5hbExvYWRlciA9IGZ1bmN0aW9uIChjb250ZXh0VHlwZSkge1xuICAgICAgICBpZiAodGhpcy5sb2FkZXJzW2NvbnRleHRUeXBlXSkge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubG9hZGVyc1tjb250ZXh0VHlwZV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIENhbGwgYGRlc3Ryb3lgIG9uIGFsbCBpbnRlcm5hbCBsb2FkZXIgaW5zdGFuY2VzIG1hcHBlZCAob25lIHBlciBjb250ZXh0IHR5cGUpXG4gICAgICovXG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmRlc3Ryb3lJbnRlcm5hbExvYWRlcnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGNvbnRleHRUeXBlIGluIHRoaXMubG9hZGVycykge1xuICAgICAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMubG9hZGVyc1tjb250ZXh0VHlwZV07XG4gICAgICAgICAgICBpZiAobG9hZGVyKSB7XG4gICAgICAgICAgICAgICAgbG9hZGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVzZXRJbnRlcm5hbExvYWRlcihjb250ZXh0VHlwZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lJbnRlcm5hbExvYWRlcnMoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUub25NYW5pZmVzdExvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogQ29udGV4dFR5cGUuTUFOSUZFU1QsIGxldmVsOiAwLCBpZDogbnVsbCB9KTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vbkxldmVsTG9hZGluZyA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHRoaXMubG9hZChkYXRhLnVybCwgeyB0eXBlOiBDb250ZXh0VHlwZS5MRVZFTCwgbGV2ZWw6IGRhdGEubGV2ZWwsIGlkOiBkYXRhLmlkIH0pO1xuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLm9uQXVkaW9UcmFja0xvYWRpbmcgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICB0aGlzLmxvYWQoZGF0YS51cmwsIHsgdHlwZTogQ29udGV4dFR5cGUuQVVESU9fVFJBQ0ssIGxldmVsOiBudWxsLCBpZDogZGF0YS5pZCB9KTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5vblN1YnRpdGxlVHJhY2tMb2FkaW5nID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgdGhpcy5sb2FkKGRhdGEudXJsLCB7IHR5cGU6IENvbnRleHRUeXBlLlNVQlRJVExFX1RSQUNLLCBsZXZlbDogbnVsbCwgaWQ6IGRhdGEuaWQgfSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uICh1cmwsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGNvbmZpZyA9IHRoaXMuaGxzLmNvbmZpZztcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKFwiTG9hZGluZyBwbGF5bGlzdCBvZiB0eXBlIFwiICsgY29udGV4dC50eXBlICsgXCIsIGxldmVsOiBcIiArIGNvbnRleHQubGV2ZWwgKyBcIiwgaWQ6IFwiICsgY29udGV4dC5pZCk7XG4gICAgICAgIC8vIENoZWNrIGlmIGEgbG9hZGVyIGZvciB0aGlzIGNvbnRleHQgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCk7XG4gICAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgICAgIHZhciBsb2FkZXJDb250ZXh0ID0gbG9hZGVyLmNvbnRleHQ7XG4gICAgICAgICAgICBpZiAobG9hZGVyQ29udGV4dCAmJiBsb2FkZXJDb250ZXh0LnVybCA9PT0gdXJsKSB7IC8vIHNhbWUgVVJMIGNhbid0IG92ZXJsYXBcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIudHJhY2UoJ3BsYXlsaXN0IHJlcXVlc3Qgb25nb2luZycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwiYWJvcnRpbmcgcHJldmlvdXMgbG9hZGVyIGZvciB0eXBlOiBcIiArIGNvbnRleHQudHlwZSk7XG4gICAgICAgICAgICAgICAgbG9hZGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heFJldHJ5LCB0aW1lb3V0LCByZXRyeURlbGF5LCBtYXhSZXRyeURlbGF5O1xuICAgICAgICAvLyBhcHBseSBkaWZmZXJlbnQgY29uZmlncyBmb3IgcmV0cmllcyBkZXBlbmRpbmcgb25cbiAgICAgICAgLy8gY29udGV4dCAobWFuaWZlc3QsIGxldmVsLCBhdWRpby9zdWJzIHBsYXlsaXN0KVxuICAgICAgICBzd2l0Y2ggKGNvbnRleHQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5NQU5JRkVTVDpcbiAgICAgICAgICAgICAgICBtYXhSZXRyeSA9IGNvbmZpZy5tYW5pZmVzdExvYWRpbmdNYXhSZXRyeTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gY29uZmlnLm1hbmlmZXN0TG9hZGluZ1RpbWVPdXQ7XG4gICAgICAgICAgICAgICAgcmV0cnlEZWxheSA9IGNvbmZpZy5tYW5pZmVzdExvYWRpbmdSZXRyeURlbGF5O1xuICAgICAgICAgICAgICAgIG1heFJldHJ5RGVsYXkgPSBjb25maWcubWFuaWZlc3RMb2FkaW5nTWF4UmV0cnlUaW1lb3V0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5MRVZFTDpcbiAgICAgICAgICAgICAgICAvLyBEaXNhYmxlIGludGVybmFsIGxvYWRlciByZXRyeSBsb2dpYywgc2luY2Ugd2UgYXJlIG1hbmFnaW5nIHJldHJpZXMgaW4gTGV2ZWwgQ29udHJvbGxlclxuICAgICAgICAgICAgICAgIG1heFJldHJ5ID0gMDtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gY29uZmlnLmxldmVsTG9hZGluZ1RpbWVPdXQ7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyBJbnRyb2R1Y2UgcmV0cnkgc2V0dGluZ3MgZm9yIGF1ZGlvLXRyYWNrIGFuZCBzdWJ0aXRsZS10cmFjaywgaXQgc2hvdWxkIG5vdCB1c2UgbGV2ZWwgcmV0cnkgY29uZmlnXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG1heFJldHJ5ID0gY29uZmlnLmxldmVsTG9hZGluZ01heFJldHJ5O1xuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBjb25maWcubGV2ZWxMb2FkaW5nVGltZU91dDtcbiAgICAgICAgICAgICAgICByZXRyeURlbGF5ID0gY29uZmlnLmxldmVsTG9hZGluZ1JldHJ5RGVsYXk7XG4gICAgICAgICAgICAgICAgbWF4UmV0cnlEZWxheSA9IGNvbmZpZy5sZXZlbExvYWRpbmdNYXhSZXRyeVRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbG9hZGVyID0gdGhpcy5jcmVhdGVJbnRlcm5hbExvYWRlcihjb250ZXh0KTtcbiAgICAgICAgY29udGV4dC51cmwgPSB1cmw7XG4gICAgICAgIGNvbnRleHQucmVzcG9uc2VUeXBlID0gY29udGV4dC5yZXNwb25zZVR5cGUgfHwgJyc7IC8vIEZJWE1FOiAoc2hvdWxkIG5vdCBiZSBuZWNlc3NhcnkgdG8gZG8gdGhpcylcbiAgICAgICAgdmFyIGxvYWRlckNvbmZpZyA9IHtcbiAgICAgICAgICAgIHRpbWVvdXQ6IHRpbWVvdXQsXG4gICAgICAgICAgICBtYXhSZXRyeTogbWF4UmV0cnksXG4gICAgICAgICAgICByZXRyeURlbGF5OiByZXRyeURlbGF5LFxuICAgICAgICAgICAgbWF4UmV0cnlEZWxheTogbWF4UmV0cnlEZWxheVxuICAgICAgICB9O1xuICAgICAgICB2YXIgbG9hZGVyQ2FsbGJhY2tzID0ge1xuICAgICAgICAgICAgb25TdWNjZXNzOiB0aGlzLmxvYWRzdWNjZXNzLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvbkVycm9yOiB0aGlzLmxvYWRlcnJvci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25UaW1lb3V0OiB0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcylcbiAgICAgICAgfTtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmRlYnVnKFwiQ2FsbGluZyBpbnRlcm5hbCBsb2FkZXIgZGVsZWdhdGUgZm9yIFVSTDogXCIgKyB1cmwpO1xuICAgICAgICBsb2FkZXIubG9hZChjb250ZXh0LCBsb2FkZXJDb25maWcsIGxvYWRlckNhbGxiYWNrcyk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmxvYWRzdWNjZXNzID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgaWYgKG5ldHdvcmtEZXRhaWxzID09PSB2b2lkIDApIHsgbmV0d29ya0RldGFpbHMgPSBudWxsOyB9XG4gICAgICAgIGlmIChjb250ZXh0LmlzU2lkeFJlcXVlc3QpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVNpZHhSZXF1ZXN0KHJlc3BvbnNlLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZVBsYXlsaXN0TG9hZGVkKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzZXRJbnRlcm5hbExvYWRlcihjb250ZXh0LnR5cGUpO1xuICAgICAgICB2YXIgc3RyaW5nID0gcmVzcG9uc2UuZGF0YTtcbiAgICAgICAgc3RhdHMudGxvYWQgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgLy8gc3RhdHMubXRpbWUgPSBuZXcgRGF0ZSh0YXJnZXQuZ2V0UmVzcG9uc2VIZWFkZXIoJ0xhc3QtTW9kaWZpZWQnKSk7XG4gICAgICAgIC8vIFZhbGlkYXRlIGlmIGl0IGlzIGFuIE0zVTggYXQgYWxsXG4gICAgICAgIGlmIChzdHJpbmcuaW5kZXhPZignI0VYVE0zVScpICE9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVNYW5pZmVzdFBhcnNpbmdFcnJvcihyZXNwb25zZSwgY29udGV4dCwgJ25vIEVYVE0zVSBkZWxpbWl0ZXInLCBuZXR3b3JrRGV0YWlscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgY2h1bmstbGlzdCBvciBtYXN0ZXIuIGhhbmRsZSBlbXB0eSBjaHVuayBsaXN0IGNhc2UgKGZpcnN0IEVYVElORiBub3Qgc2lnbmFsZWQsIGJ1dCBUQVJHRVREVVJBVElPTiBwcmVzZW50KVxuICAgICAgICBpZiAoc3RyaW5nLmluZGV4T2YoJyNFWFRJTkY6JykgPiAwIHx8IHN0cmluZy5pbmRleE9mKCcjRVhULVgtVEFSR0VURFVSQVRJT046JykgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVUcmFja09yTGV2ZWxQbGF5bGlzdChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1hc3RlclBsYXlsaXN0KHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUubG9hZGVycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5faGFuZGxlTmV0d29ya0Vycm9yKGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzLCBmYWxzZSwgcmVzcG9uc2UpO1xuICAgIH07XG4gICAgUGxheWxpc3RMb2FkZXIucHJvdG90eXBlLmxvYWR0aW1lb3V0ID0gZnVuY3Rpb24gKHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICBpZiAobmV0d29ya0RldGFpbHMgPT09IHZvaWQgMCkgeyBuZXR3b3JrRGV0YWlscyA9IG51bGw7IH1cbiAgICAgICAgdGhpcy5faGFuZGxlTmV0d29ya0Vycm9yKGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzLCB0cnVlKTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5faGFuZGxlTWFzdGVyUGxheWxpc3QgPSBmdW5jdGlvbiAocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCBuZXR3b3JrRGV0YWlscykge1xuICAgICAgICB2YXIgaGxzID0gdGhpcy5obHM7XG4gICAgICAgIHZhciBzdHJpbmcgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICB2YXIgdXJsID0gUGxheWxpc3RMb2FkZXIuZ2V0UmVzcG9uc2VVcmwocmVzcG9uc2UsIGNvbnRleHQpO1xuICAgICAgICB2YXIgbGV2ZWxzID0gbTN1OF9wYXJzZXJfMS5kZWZhdWx0LnBhcnNlTWFzdGVyUGxheWxpc3Qoc3RyaW5nLCB1cmwpO1xuICAgICAgICBpZiAoIWxldmVscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yKHJlc3BvbnNlLCBjb250ZXh0LCAnbm8gbGV2ZWwgZm91bmQgaW4gbWFuaWZlc3QnLCBuZXR3b3JrRGV0YWlscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gbXVsdGkgbGV2ZWwgcGxheWxpc3QsIHBhcnNlIGxldmVsIGluZm9cbiAgICAgICAgdmFyIGF1ZGlvR3JvdXBzID0gbGV2ZWxzLm1hcChmdW5jdGlvbiAobGV2ZWwpIHsgcmV0dXJuICh7XG4gICAgICAgICAgICBpZDogbGV2ZWwuYXR0cnMuQVVESU8sXG4gICAgICAgICAgICBjb2RlYzogbGV2ZWwuYXVkaW9Db2RlY1xuICAgICAgICB9KTsgfSk7XG4gICAgICAgIHZhciBhdWRpb1RyYWNrcyA9IG0zdThfcGFyc2VyXzEuZGVmYXVsdC5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCB1cmwsICdBVURJTycsIGF1ZGlvR3JvdXBzKTtcbiAgICAgICAgdmFyIHN1YnRpdGxlcyA9IG0zdThfcGFyc2VyXzEuZGVmYXVsdC5wYXJzZU1hc3RlclBsYXlsaXN0TWVkaWEoc3RyaW5nLCB1cmwsICdTVUJUSVRMRVMnKTtcbiAgICAgICAgaWYgKGF1ZGlvVHJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgaGF2ZSBmb3VuZCBhbiBhdWRpbyB0cmFjayBlbWJlZGRlZCBpbiBtYWluIHBsYXlsaXN0IChhdWRpbyB0cmFjayB3aXRob3V0IFVSSSBhdHRyaWJ1dGUpXG4gICAgICAgICAgICB2YXIgZW1iZWRkZWRBdWRpb0ZvdW5kXzEgPSBmYWxzZTtcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKGF1ZGlvVHJhY2spIHtcbiAgICAgICAgICAgICAgICBpZiAoIWF1ZGlvVHJhY2sudXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGVkQXVkaW9Gb3VuZF8xID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIGlmIG5vIGVtYmVkZGVkIGF1ZGlvIHRyYWNrIGRlZmluZWQsIGJ1dCBhdWRpbyBjb2RlYyBzaWduYWxlZCBpbiBxdWFsaXR5IGxldmVsLFxuICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBzaWduYWwgdGhpcyBtYWluIGF1ZGlvIHRyYWNrIHRoaXMgY291bGQgaGFwcGVuIHdpdGggcGxheWxpc3RzIHdpdGhcbiAgICAgICAgICAgIC8vIGFsdCBhdWRpbyByZW5kaXRpb24gaW4gd2hpY2ggcXVhbGl0eSBsZXZlbHMgKG1haW4pXG4gICAgICAgICAgICAvLyBjb250YWlucyBib3RoIGF1ZGlvK3ZpZGVvLiBidXQgd2l0aCBtaXhlZCBhdWRpbyB0cmFjayBub3Qgc2lnbmFsZWRcbiAgICAgICAgICAgIGlmIChlbWJlZGRlZEF1ZGlvRm91bmRfMSA9PT0gZmFsc2UgJiYgbGV2ZWxzWzBdLmF1ZGlvQ29kZWMgJiYgIWxldmVsc1swXS5hdHRycy5BVURJTykge1xuICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ2F1ZGlvIGNvZGVjIHNpZ25hbGVkIGluIHF1YWxpdHkgbGV2ZWwsIGJ1dCBubyBlbWJlZGRlZCBhdWRpbyB0cmFjayBzaWduYWxlZCwgY3JlYXRlIG9uZScpO1xuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tzLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFpbicsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtYWluJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BREVELCB7XG4gICAgICAgICAgICBsZXZlbHM6IGxldmVscyxcbiAgICAgICAgICAgIGF1ZGlvVHJhY2tzOiBhdWRpb1RyYWNrcyxcbiAgICAgICAgICAgIHN1YnRpdGxlczogc3VidGl0bGVzLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZVRyYWNrT3JMZXZlbFBsYXlsaXN0ID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgdmFyIGhscyA9IHRoaXMuaGxzO1xuICAgICAgICB2YXIgaWQgPSBjb250ZXh0LmlkLCBsZXZlbCA9IGNvbnRleHQubGV2ZWwsIHR5cGUgPSBjb250ZXh0LnR5cGU7XG4gICAgICAgIHZhciB1cmwgPSBQbGF5bGlzdExvYWRlci5nZXRSZXNwb25zZVVybChyZXNwb25zZSwgY29udGV4dCk7XG4gICAgICAgIHZhciBsZXZlbFVybElkID0gTnVtYmVyLmlzRmluaXRlKGlkKSA/IGlkIDogMDtcbiAgICAgICAgdmFyIGxldmVsSWQgPSBOdW1iZXIuaXNGaW5pdGUobGV2ZWwpID8gbGV2ZWwgOiBsZXZlbFVybElkO1xuICAgICAgICB2YXIgbGV2ZWxUeXBlID0gUGxheWxpc3RMb2FkZXIubWFwQ29udGV4dFRvTGV2ZWxUeXBlKGNvbnRleHQpO1xuICAgICAgICB2YXIgbGV2ZWxEZXRhaWxzID0gbTN1OF9wYXJzZXJfMS5kZWZhdWx0LnBhcnNlTGV2ZWxQbGF5bGlzdChyZXNwb25zZS5kYXRhLCB1cmwsIGxldmVsSWQsIGxldmVsVHlwZSwgbGV2ZWxVcmxJZCk7XG4gICAgICAgIC8vIHNldCBzdGF0cyBvbiBsZXZlbCBzdHJ1Y3R1cmVcbiAgICAgICAgbGV2ZWxEZXRhaWxzLnRsb2FkID0gc3RhdHMudGxvYWQ7XG4gICAgICAgIC8vIFdlIGhhdmUgZG9uZSBvdXIgZmlyc3QgcmVxdWVzdCAoTWFuaWZlc3QtdHlwZSkgYW5kIHJlY2VpdmVcbiAgICAgICAgLy8gbm90IGEgbWFzdGVyIHBsYXlsaXN0IGJ1dCBhIGNodW5rLWxpc3QgKHRyYWNrL2xldmVsKVxuICAgICAgICAvLyBXZSBmaXJlIHRoZSBtYW5pZmVzdC1sb2FkZWQgZXZlbnQgYW55d2F5IHdpdGggdGhlIHBhcnNlZCBsZXZlbC1kZXRhaWxzXG4gICAgICAgIC8vIGJ5IGNyZWF0aW5nIGEgc2luZ2xlLWxldmVsIHN0cnVjdHVyZSBmb3IgaXQuXG4gICAgICAgIGlmICh0eXBlID09PSBDb250ZXh0VHlwZS5NQU5JRkVTVCkge1xuICAgICAgICAgICAgdmFyIHNpbmdsZUxldmVsID0ge1xuICAgICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlsc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuTUFOSUZFU1RfTE9BREVELCB7XG4gICAgICAgICAgICAgICAgbGV2ZWxzOiBbc2luZ2xlTGV2ZWxdLFxuICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tzOiBbXSxcbiAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzYXZlIHBhcnNpbmcgdGltZVxuICAgICAgICBzdGF0cy50cGFyc2VkID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIC8vIGluIGNhc2Ugd2UgbmVlZCBTSURYIHJhbmdlc1xuICAgICAgICAvLyByZXR1cm4gZWFybHkgYWZ0ZXIgY2FsbGluZyBsb2FkIGZvclxuICAgICAgICAvLyB0aGUgU0lEWCBib3guXG4gICAgICAgIGlmIChsZXZlbERldGFpbHMubmVlZFNpZHhSYW5nZXMpIHtcbiAgICAgICAgICAgIHZhciBzaWR4VXJsID0gbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50LnVybDtcbiAgICAgICAgICAgIHRoaXMubG9hZChzaWR4VXJsLCB7XG4gICAgICAgICAgICAgICAgaXNTaWR4UmVxdWVzdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGxldmVsOiBsZXZlbCxcbiAgICAgICAgICAgICAgICBsZXZlbERldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgcmFuZ2VTdGFydDogMCxcbiAgICAgICAgICAgICAgICByYW5nZUVuZDogMjA0OCxcbiAgICAgICAgICAgICAgICByZXNwb25zZVR5cGU6ICdhcnJheWJ1ZmZlcidcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV4dGVuZCB0aGUgY29udGV4dCB3aXRoIHRoZSBuZXcgbGV2ZWxEZXRhaWxzIHByb3BlcnR5XG4gICAgICAgIGNvbnRleHQubGV2ZWxEZXRhaWxzID0gbGV2ZWxEZXRhaWxzO1xuICAgICAgICB0aGlzLl9oYW5kbGVQbGF5bGlzdExvYWRlZChyZXNwb25zZSwgc3RhdHMsIGNvbnRleHQsIG5ldHdvcmtEZXRhaWxzKTtcbiAgICB9O1xuICAgIFBsYXlsaXN0TG9hZGVyLnByb3RvdHlwZS5faGFuZGxlU2lkeFJlcXVlc3QgPSBmdW5jdGlvbiAocmVzcG9uc2UsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIHNpZHhJbmZvID0gbXA0ZGVtdXhlcl8xLmRlZmF1bHQucGFyc2VTZWdtZW50SW5kZXgobmV3IFVpbnQ4QXJyYXkocmVzcG9uc2UuZGF0YSkpO1xuICAgICAgICAvLyBpZiBwcm92aWRlZCBmcmFnbWVudCBkb2VzIG5vdCBjb250YWluIHNpZHgsIGVhcmx5IHJldHVyblxuICAgICAgICBpZiAoIXNpZHhJbmZvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNpZHhSZWZlcmVuY2VzID0gc2lkeEluZm8ucmVmZXJlbmNlcztcbiAgICAgICAgdmFyIGxldmVsRGV0YWlscyA9IGNvbnRleHQubGV2ZWxEZXRhaWxzO1xuICAgICAgICBzaWR4UmVmZXJlbmNlcy5mb3JFYWNoKGZ1bmN0aW9uIChzZWdtZW50UmVmLCBpbmRleCkge1xuICAgICAgICAgICAgdmFyIHNlZ1JlZkluZm8gPSBzZWdtZW50UmVmLmluZm87XG4gICAgICAgICAgICB2YXIgZnJhZyA9IGxldmVsRGV0YWlscy5mcmFnbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGZyYWcuYnl0ZVJhbmdlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGZyYWcucmF3Qnl0ZVJhbmdlID0gU3RyaW5nKDEgKyBzZWdSZWZJbmZvLmVuZCAtIHNlZ1JlZkluZm8uc3RhcnQpICsgJ0AnICsgU3RyaW5nKHNlZ1JlZkluZm8uc3RhcnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbGV2ZWxEZXRhaWxzLmluaXRTZWdtZW50LnJhd0J5dGVSYW5nZSA9IFN0cmluZyhzaWR4SW5mby5tb292RW5kT2Zmc2V0KSArICdAMCc7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBjb250ZXh0LCByZWFzb24sIG5ldHdvcmtEZXRhaWxzKSB7XG4gICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5FUlJPUiwge1xuICAgICAgICAgICAgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLFxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLk1BTklGRVNUX1BBUlNJTkdfRVJST1IsXG4gICAgICAgICAgICBmYXRhbDogdHJ1ZSxcbiAgICAgICAgICAgIHVybDogcmVzcG9uc2UudXJsLFxuICAgICAgICAgICAgcmVhc29uOiByZWFzb24sXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZU5ldHdvcmtFcnJvciA9IGZ1bmN0aW9uIChjb250ZXh0LCBuZXR3b3JrRGV0YWlscywgdGltZW91dCwgcmVzcG9uc2UpIHtcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKHJlc3BvbnNlID09PSB2b2lkIDApIHsgcmVzcG9uc2UgPSBudWxsOyB9XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5pbmZvKFwiQSBuZXR3b3JrIGVycm9yIG9jY3VyZWQgd2hpbGUgbG9hZGluZyBhIFwiICsgY29udGV4dC50eXBlICsgXCItdHlwZSBwbGF5bGlzdFwiKTtcbiAgICAgICAgdmFyIGRldGFpbHM7XG4gICAgICAgIHZhciBmYXRhbDtcbiAgICAgICAgdmFyIGxvYWRlciA9IHRoaXMuZ2V0SW50ZXJuYWxMb2FkZXIoY29udGV4dCk7XG4gICAgICAgIHN3aXRjaCAoY29udGV4dC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLk1BTklGRVNUOlxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSAodGltZW91dCA/IGVycm9yc18xLkVycm9yRGV0YWlscy5NQU5JRkVTVF9MT0FEX1RJTUVPVVQgOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuTUFOSUZFU1RfTE9BRF9FUlJPUik7XG4gICAgICAgICAgICAgICAgZmF0YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5MRVZFTDpcbiAgICAgICAgICAgICAgICBkZXRhaWxzID0gKHRpbWVvdXQgPyBlcnJvcnNfMS5FcnJvckRldGFpbHMuTEVWRUxfTE9BRF9USU1FT1VUIDogZXJyb3JzXzEuRXJyb3JEZXRhaWxzLkxFVkVMX0xPQURfRVJST1IpO1xuICAgICAgICAgICAgICAgIGZhdGFsID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIENvbnRleHRUeXBlLkFVRElPX1RSQUNLOlxuICAgICAgICAgICAgICAgIGRldGFpbHMgPSAodGltZW91dCA/IGVycm9yc18xLkVycm9yRGV0YWlscy5BVURJT19UUkFDS19MT0FEX1RJTUVPVVQgOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuQVVESU9fVFJBQ0tfTE9BRF9FUlJPUik7XG4gICAgICAgICAgICAgICAgZmF0YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgLy8gZGV0YWlscyA9IC4uLj9cbiAgICAgICAgICAgICAgICBmYXRhbCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2FkZXIpIHtcbiAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5yZXNldEludGVybmFsTG9hZGVyKGNvbnRleHQudHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVycm9yRGF0YSA9IHtcbiAgICAgICAgICAgIHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTkVUV09SS19FUlJPUixcbiAgICAgICAgICAgIGRldGFpbHM6IGRldGFpbHMsXG4gICAgICAgICAgICBmYXRhbDogZmF0YWwsXG4gICAgICAgICAgICB1cmw6IGxvYWRlci51cmwsXG4gICAgICAgICAgICBsb2FkZXI6IGxvYWRlcixcbiAgICAgICAgICAgIGNvbnRleHQ6IGNvbnRleHQsXG4gICAgICAgICAgICBuZXR3b3JrRGV0YWlsczogbmV0d29ya0RldGFpbHNcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBlcnJvckRhdGEucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhscy50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIGVycm9yRGF0YSk7XG4gICAgfTtcbiAgICBQbGF5bGlzdExvYWRlci5wcm90b3R5cGUuX2hhbmRsZVBsYXlsaXN0TG9hZGVkID0gZnVuY3Rpb24gKHJlc3BvbnNlLCBzdGF0cywgY29udGV4dCwgbmV0d29ya0RldGFpbHMpIHtcbiAgICAgICAgdmFyIHR5cGUgPSBjb250ZXh0LnR5cGUsIGxldmVsID0gY29udGV4dC5sZXZlbCwgaWQgPSBjb250ZXh0LmlkLCBsZXZlbERldGFpbHMgPSBjb250ZXh0LmxldmVsRGV0YWlscztcbiAgICAgICAgaWYgKCFsZXZlbERldGFpbHMudGFyZ2V0ZHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1hbmlmZXN0UGFyc2luZ0Vycm9yKHJlc3BvbnNlLCBjb250ZXh0LCAnaW52YWxpZCB0YXJnZXQgZHVyYXRpb24nLCBuZXR3b3JrRGV0YWlscyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNhbkhhdmVMZXZlbHMgPSBQbGF5bGlzdExvYWRlci5jYW5IYXZlUXVhbGl0eUxldmVscyhjb250ZXh0LnR5cGUpO1xuICAgICAgICBpZiAoY2FuSGF2ZUxldmVscykge1xuICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkxFVkVMX0xPQURFRCwge1xuICAgICAgICAgICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgICAgICAgICBsZXZlbDogbGV2ZWwgfHwgMCxcbiAgICAgICAgICAgICAgICBpZDogaWQgfHwgMCxcbiAgICAgICAgICAgICAgICBzdGF0czogc3RhdHMsXG4gICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgQ29udGV4dFR5cGUuQVVESU9fVFJBQ0s6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGxzLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5BVURJT19UUkFDS19MT0FERUQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbHM6IGxldmVsRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRzOiBzdGF0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcmtEZXRhaWxzOiBuZXR3b3JrRGV0YWlsc1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBDb250ZXh0VHlwZS5TVUJUSVRMRV9UUkFDSzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5obHMudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LlNVQlRJVExFX1RSQUNLX0xPQURFRCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogbGV2ZWxEZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHM6IHN0YXRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d29ya0RldGFpbHM6IG5ldHdvcmtEZXRhaWxzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFBsYXlsaXN0TG9hZGVyO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gUGxheWxpc3RMb2FkZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL29ic2VydmVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL29ic2VydmVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBldmVudGVtaXR0ZXIzXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISBldmVudGVtaXR0ZXIzICovIFwiLi9ub2RlX21vZHVsZXMvZXZlbnRlbWl0dGVyMy9pbmRleC5qc1wiKTtcbi8qKlxuICogQGNsYXNzXG4gKlxuICogU2ltcGxlIGFkYXB0ZXIgc3ViLWNsYXNzIG9mIE5vZGVqcy1saWtlIEV2ZW50RW1pdHRlci5cbiAqXG4gKiBXZSBzaW1wbHkgd2FudCB0byBwYXNzIGFsb25nIHRoZSBldmVudC1uYW1lIGl0c2VsZlxuICogaW4gZXZlcnkgY2FsbCB0byBhIGhhbmRsZXIsIHdoaWNoIGlzIHRoZSBwdXJwb3NlIG9mIG91ciBgdHJpZ2dlcmAgbWV0aG9kXG4gKiBleHRlbmRpbmcgdGhlIHN0YW5kYXJkIEFQSS5cbiAqXG4gKi9cbnZhciBPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoT2JzZXJ2ZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YVxuICAgICAqL1xuICAgIE9ic2VydmVyLnByb3RvdHlwZS50cmlnZ2VyID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBkYXRhID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBkYXRhW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZW1pdC5hcHBseSh0aGlzLCBbZXZlbnQsIGV2ZW50XS5jb25jYXQoZGF0YSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmVyO1xufShldmVudGVtaXR0ZXIzXzEuRXZlbnRFbWl0dGVyKSk7XG5leHBvcnRzLk9ic2VydmVyID0gT2JzZXJ2ZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3BvbHlmaWxscy9udW1iZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdldF9zZWxmX3Njb3BlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuLi91dGlscy9nZXQtc2VsZi1zY29wZSAqLyBcIi4vc3JjL3V0aWxzL2dldC1zZWxmLXNjb3BlLmpzXCIpO1xudmFyIHNlbGYgPSBnZXRfc2VsZl9zY29wZV8xLmdldFNlbGZTY29wZSgpO1xudmFyIE51bWJlciA9IHNlbGYuTnVtYmVyO1xuZXhwb3J0cy5OdW1iZXIgPSBOdW1iZXI7XG4vLyBUT0RPOiBnZXQgcmlkIG9mIGdsb2JhbCBwb2x5ZmlsbHMgYW5kIHJlcGxhY2UgdGhlbSB3aXRoIHdyYXBwZXJzIChcInBvbnlmaWxsc1wiKVxuTnVtYmVyLmlzRmluaXRlID0gTnVtYmVyLmlzRmluaXRlIHx8IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInICYmIGlzRmluaXRlKHZhbHVlKTtcbn07XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvcmVtdXgvYWFjLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3JlbXV4L2FhYy1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiAgQUFDIGhlbHBlclxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQUFDID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEFBQygpIHtcbiAgICB9XG4gICAgQUFDLmdldFNpbGVudEZyYW1lID0gZnVuY3Rpb24gKGNvZGVjLCBjaGFubmVsQ291bnQpIHtcbiAgICAgICAgc3dpdGNoIChjb2RlYykge1xuICAgICAgICAgICAgY2FzZSAnbXA0YS40MC4yJzpcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMywgMHg4MF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDIxLCAweDAwLCAweDQ5LCAweDkwLCAweDAyLCAweDE5LCAweDAwLCAweDIzLCAweDgwXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4OGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDM4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4ODIsIDB4MzAsIDB4MDQsIDB4OTksIDB4MDAsIDB4MjEsIDB4OTAsIDB4MDIsIDB4MDAsIDB4YjIsIDB4MDAsIDB4MjAsIDB4MDgsIDB4ZTBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyBoYW5kbGUgSEUtQUFDIGJlbG93IChtcDRhLjQwLjUgLyBtcDRhLjQwLjI5KVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoY2hhbm5lbENvdW50ID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDRlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MWMsIDB4NiwgMHhmMSwgMHhjMSwgMHhhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVhLCAweDVlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwfDA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlX3YyIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICAgIHJldHVybiBBQUM7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gQUFDO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3JlbXV4L21wNC1nZW5lcmF0b3IuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9yZW11eC9tcDQtZ2VuZXJhdG9yLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogR2VuZXJhdGUgTVA0IEJveFxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBVSU5UMzJfTUFYID0gTWF0aC5wb3coMiwgMzIpIC0gMTtcbnZhciBNUDQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTVA0KCkge1xuICAgIH1cbiAgICBNUDQuaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgTVA0LnR5cGVzID0ge1xuICAgICAgICAgICAgYXZjMTogW10sXG4gICAgICAgICAgICBhdmNDOiBbXSxcbiAgICAgICAgICAgIGJ0cnQ6IFtdLFxuICAgICAgICAgICAgZGluZjogW10sXG4gICAgICAgICAgICBkcmVmOiBbXSxcbiAgICAgICAgICAgIGVzZHM6IFtdLFxuICAgICAgICAgICAgZnR5cDogW10sXG4gICAgICAgICAgICBoZGxyOiBbXSxcbiAgICAgICAgICAgIG1kYXQ6IFtdLFxuICAgICAgICAgICAgbWRoZDogW10sXG4gICAgICAgICAgICBtZGlhOiBbXSxcbiAgICAgICAgICAgIG1maGQ6IFtdLFxuICAgICAgICAgICAgbWluZjogW10sXG4gICAgICAgICAgICBtb29mOiBbXSxcbiAgICAgICAgICAgIG1vb3Y6IFtdLFxuICAgICAgICAgICAgbXA0YTogW10sXG4gICAgICAgICAgICAnLm1wMyc6IFtdLFxuICAgICAgICAgICAgbXZleDogW10sXG4gICAgICAgICAgICBtdmhkOiBbXSxcbiAgICAgICAgICAgIHBhc3A6IFtdLFxuICAgICAgICAgICAgc2R0cDogW10sXG4gICAgICAgICAgICBzdGJsOiBbXSxcbiAgICAgICAgICAgIHN0Y286IFtdLFxuICAgICAgICAgICAgc3RzYzogW10sXG4gICAgICAgICAgICBzdHNkOiBbXSxcbiAgICAgICAgICAgIHN0c3o6IFtdLFxuICAgICAgICAgICAgc3R0czogW10sXG4gICAgICAgICAgICB0ZmR0OiBbXSxcbiAgICAgICAgICAgIHRmaGQ6IFtdLFxuICAgICAgICAgICAgdHJhZjogW10sXG4gICAgICAgICAgICB0cmFrOiBbXSxcbiAgICAgICAgICAgIHRydW46IFtdLFxuICAgICAgICAgICAgdHJleDogW10sXG4gICAgICAgICAgICB0a2hkOiBbXSxcbiAgICAgICAgICAgIHZtaGQ6IFtdLFxuICAgICAgICAgICAgc21oZDogW11cbiAgICAgICAgfTtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSBpbiBNUDQudHlwZXMpIHtcbiAgICAgICAgICAgIGlmIChNUDQudHlwZXMuaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICAgICAgICAgICAgICBNUDQudHlwZXNbaV0gPSBbXG4gICAgICAgICAgICAgICAgICAgIGkuY2hhckNvZGVBdCgwKSxcbiAgICAgICAgICAgICAgICAgICAgaS5jaGFyQ29kZUF0KDEpLFxuICAgICAgICAgICAgICAgICAgICBpLmNoYXJDb2RlQXQoMiksXG4gICAgICAgICAgICAgICAgICAgIGkuY2hhckNvZGVBdCgzKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZpZGVvSGRsciA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDU2LCAweDY5LCAweDY0LCAweDY1LFxuICAgICAgICAgICAgMHg2ZiwgMHg0OCwgMHg2MSwgMHg2ZSxcbiAgICAgICAgICAgIDB4NjQsIDB4NmMsIDB4NjUsIDB4NzIsIDB4MDAgLy8gbmFtZTogJ1ZpZGVvSGFuZGxlcidcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBhdWRpb0hkbHIgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDczLCAweDZmLCAweDc1LCAweDZlLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHg1MywgMHg2ZiwgMHg3NSwgMHg2ZSxcbiAgICAgICAgICAgIDB4NjQsIDB4NDgsIDB4NjEsIDB4NmUsXG4gICAgICAgICAgICAweDY0LCAweDZjLCAweDY1LCAweDcyLCAweDAwIC8vIG5hbWU6ICdTb3VuZEhhbmRsZXInXG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuSERMUl9UWVBFUyA9IHtcbiAgICAgICAgICAgICd2aWRlbyc6IHZpZGVvSGRscixcbiAgICAgICAgICAgICdhdWRpbyc6IGF1ZGlvSGRsclxuICAgICAgICB9O1xuICAgICAgICB2YXIgZHJlZiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MGMsXG4gICAgICAgICAgICAweDc1LCAweDcyLCAweDZjLCAweDIwLFxuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDEgLy8gZW50cnlfZmxhZ3NcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBzdGNvID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwIC8vIGVudHJ5X2NvdW50XG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuU1RUUyA9IE1QNC5TVFNDID0gTVA0LlNUQ08gPSBzdGNvO1xuICAgICAgICBNUDQuU1RTWiA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgLy8gc2FtcGxlX2NvdW50XG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuVk1IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCAvLyBvcGNvbG9yXG4gICAgICAgIF0pO1xuICAgICAgICBNUDQuU01IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAgLy8gcmVzZXJ2ZWRcbiAgICAgICAgXSk7XG4gICAgICAgIE1QNC5TVFNEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxXG4gICAgICAgIF0pOyAvLyBlbnRyeV9jb3VudFxuICAgICAgICB2YXIgbWFqb3JCcmFuZCA9IG5ldyBVaW50OEFycmF5KFsxMDUsIDExNSwgMTExLCAxMDldKTsgLy8gaXNvbVxuICAgICAgICB2YXIgYXZjMUJyYW5kID0gbmV3IFVpbnQ4QXJyYXkoWzk3LCAxMTgsIDk5LCA0OV0pOyAvLyBhdmMxXG4gICAgICAgIHZhciBtaW5vclZlcnNpb24gPSBuZXcgVWludDhBcnJheShbMCwgMCwgMCwgMV0pO1xuICAgICAgICBNUDQuRlRZUCA9IE1QNC5ib3goTVA0LnR5cGVzLmZ0eXAsIG1ham9yQnJhbmQsIG1pbm9yVmVyc2lvbiwgbWFqb3JCcmFuZCwgYXZjMUJyYW5kKTtcbiAgICAgICAgTVA0LkRJTkYgPSBNUDQuYm94KE1QNC50eXBlcy5kaW5mLCBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBkcmVmKSk7XG4gICAgfTtcbiAgICBNUDQuYm94ID0gZnVuY3Rpb24gKHR5cGUpIHtcbiAgICAgICAgdmFyIHBheWxvYWQgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBzaXplID0gOCwgaSA9IHBheWxvYWQubGVuZ3RoLCBsZW4gPSBpLCByZXN1bHQ7XG4gICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgdG90YWwgc2l6ZSB3ZSBuZWVkIHRvIGFsbG9jYXRlXG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KHNpemUpO1xuICAgICAgICByZXN1bHRbMF0gPSAoc2l6ZSA+PiAyNCkgJiAweGZmO1xuICAgICAgICByZXN1bHRbMV0gPSAoc2l6ZSA+PiAxNikgJiAweGZmO1xuICAgICAgICByZXN1bHRbMl0gPSAoc2l6ZSA+PiA4KSAmIDB4ZmY7XG4gICAgICAgIHJlc3VsdFszXSA9IHNpemUgJiAweGZmO1xuICAgICAgICByZXN1bHQuc2V0KHR5cGUsIDQpO1xuICAgICAgICAvLyBjb3B5IHRoZSBwYXlsb2FkIGludG8gdGhlIHJlc3VsdFxuICAgICAgICBmb3IgKGkgPSAwLCBzaXplID0gODsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAvLyBjb3B5IHBheWxvYWRbaV0gYXJyYXkgQCBvZmZzZXQgc2l6ZVxuICAgICAgICAgICAgcmVzdWx0LnNldChwYXlsb2FkW2ldLCBzaXplKTtcbiAgICAgICAgICAgIHNpemUgKz0gcGF5bG9hZFtpXS5ieXRlTGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBNUDQuaGRsciA9IGZ1bmN0aW9uICh0eXBlKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5oZGxyLCBNUDQuSERMUl9UWVBFU1t0eXBlXSk7XG4gICAgfTtcbiAgICBNUDQubWRhdCA9IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGF0LCBkYXRhKTtcbiAgICB9O1xuICAgIE1QNC5tZGhkID0gZnVuY3Rpb24gKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICAgICAgZHVyYXRpb24gKj0gdGltZXNjYWxlO1xuICAgICAgICB2YXIgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgIHZhciBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1kaGQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDMsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHRpbWVzY2FsZSAmIDB4RkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gMjQpLFxuICAgICAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgdXBwZXJXb3JkRHVyYXRpb24gJiAweEZGLFxuICAgICAgICAgICAgKGxvd2VyV29yZER1cmF0aW9uID4+IDI0KSxcbiAgICAgICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGxvd2VyV29yZER1cmF0aW9uID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGxvd2VyV29yZER1cmF0aW9uICYgMHhGRixcbiAgICAgICAgICAgIDB4NTUsIDB4YzQsXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC5tZGlhID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGlhLCBNUDQubWRoZCh0cmFjay50aW1lc2NhbGUsIHRyYWNrLmR1cmF0aW9uKSwgTVA0LmhkbHIodHJhY2sudHlwZSksIE1QNC5taW5mKHRyYWNrKSk7XG4gICAgfTtcbiAgICBNUDQubWZoZCA9IGZ1bmN0aW9uIChzZXF1ZW5jZU51bWJlcikge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4gMjQpLFxuICAgICAgICAgICAgKHNlcXVlbmNlTnVtYmVyID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoc2VxdWVuY2VOdW1iZXIgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXIgJiAweEZGIC8vIHNlcXVlbmNlX251bWJlclxuICAgICAgICBdKSk7XG4gICAgfTtcbiAgICBNUDQubWluZiA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICBpZiAodHJhY2sudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1pbmYsIE1QNC5ib3goTVA0LnR5cGVzLnNtaGQsIE1QNC5TTUhEKSwgTVA0LkRJTkYsIE1QNC5zdGJsKHRyYWNrKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWluZiwgTVA0LmJveChNUDQudHlwZXMudm1oZCwgTVA0LlZNSEQpLCBNUDQuRElORiwgTVA0LnN0YmwodHJhY2spKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTVA0Lm1vb2YgPSBmdW5jdGlvbiAoc24sIGJhc2VNZWRpYURlY29kZVRpbWUsIHRyYWNrKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb29mLCBNUDQubWZoZChzbiksIE1QNC50cmFmKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSk7XG4gICAgfTtcbiAgICAvKipcbiAgICogQHBhcmFtIHRyYWNrcy4uLiAob3B0aW9uYWwpIHthcnJheX0gdGhlIHRyYWNrcyBhc3NvY2lhdGVkIHdpdGggdGhpcyBtb3ZpZVxuICAgKi9cbiAgICBNUDQubW9vdiA9IGZ1bmN0aW9uICh0cmFja3MpIHtcbiAgICAgICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoLCBib3hlcyA9IFtdO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBib3hlc1tpXSA9IE1QNC50cmFrKHRyYWNrc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3guYXBwbHkobnVsbCwgW01QNC50eXBlcy5tb292LCBNUDQubXZoZCh0cmFja3NbMF0udGltZXNjYWxlLCB0cmFja3NbMF0uZHVyYXRpb24pXS5jb25jYXQoYm94ZXMpLmNvbmNhdChNUDQubXZleCh0cmFja3MpKSk7XG4gICAgfTtcbiAgICBNUDQubXZleCA9IGZ1bmN0aW9uICh0cmFja3MpIHtcbiAgICAgICAgdmFyIGkgPSB0cmFja3MubGVuZ3RoLCBib3hlcyA9IFtdO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBib3hlc1tpXSA9IE1QNC50cmV4KHRyYWNrc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1QNC5ib3guYXBwbHkobnVsbCwgW01QNC50eXBlcy5tdmV4XS5jb25jYXQoYm94ZXMpKTtcbiAgICB9O1xuICAgIE1QNC5tdmhkID0gZnVuY3Rpb24gKHRpbWVzY2FsZSwgZHVyYXRpb24pIHtcbiAgICAgICAgZHVyYXRpb24gKj0gdGltZXNjYWxlO1xuICAgICAgICB2YXIgdXBwZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgIHZhciBsb3dlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gJSAoVUlOVDMyX01BWCArIDEpKTtcbiAgICAgICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAyLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMyxcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgdGltZXNjYWxlICYgMHhGRixcbiAgICAgICAgICAgICh1cHBlcldvcmREdXJhdGlvbiA+PiAyNCksXG4gICAgICAgICAgICAodXBwZXJXb3JkRHVyYXRpb24gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh1cHBlcldvcmREdXJhdGlvbiA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICB1cHBlcldvcmREdXJhdGlvbiAmIDB4RkYsXG4gICAgICAgICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gMjQpLFxuICAgICAgICAgICAgKGxvd2VyV29yZER1cmF0aW9uID4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgbG93ZXJXb3JkRHVyYXRpb24gJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDEsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweGZmLCAweGZmLCAweGZmLCAweGZmIC8vIG5leHRfdHJhY2tfSURcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmhkLCBieXRlcyk7XG4gICAgfTtcbiAgICBNUDQuc2R0cCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW10sIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoNCArIHNhbXBsZXMubGVuZ3RoKSwgZmxhZ3MsIGk7XG4gICAgICAgIC8vIGxlYXZlIHRoZSBmdWxsIGJveCBoZWFkZXIgKDQgYnl0ZXMpIGFsbCB6ZXJvXG4gICAgICAgIC8vIHdyaXRlIHRoZSBzYW1wbGUgdGFibGVcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZsYWdzID0gc2FtcGxlc1tpXS5mbGFncztcbiAgICAgICAgICAgIGJ5dGVzW2kgKyA0XSA9IChmbGFncy5kZXBlbmRzT24gPDwgNCkgfFxuICAgICAgICAgICAgICAgIChmbGFncy5pc0RlcGVuZGVkT24gPDwgMikgfFxuICAgICAgICAgICAgICAgIChmbGFncy5oYXNSZWR1bmRhbmN5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc2R0cCwgYnl0ZXMpO1xuICAgIH07XG4gICAgTVA0LnN0YmwgPSBmdW5jdGlvbiAodHJhY2spIHtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0YmwsIE1QNC5zdHNkKHRyYWNrKSwgTVA0LmJveChNUDQudHlwZXMuc3R0cywgTVA0LlNUVFMpLCBNUDQuYm94KE1QNC50eXBlcy5zdHNjLCBNUDQuU1RTQyksIE1QNC5ib3goTVA0LnR5cGVzLnN0c3osIE1QNC5TVFNaKSwgTVA0LmJveChNUDQudHlwZXMuc3RjbywgTVA0LlNUQ08pKTtcbiAgICB9O1xuICAgIE1QNC5hdmMxID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBzcHMgPSBbXSwgcHBzID0gW10sIGksIGRhdGEsIGxlbjtcbiAgICAgICAgLy8gYXNzZW1ibGUgdGhlIFNQU3NcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHRyYWNrLnNwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgZGF0YSA9IHRyYWNrLnNwc1tpXTtcbiAgICAgICAgICAgIGxlbiA9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIHNwcy5wdXNoKChsZW4gPj4+IDgpICYgMHhGRik7XG4gICAgICAgICAgICBzcHMucHVzaCgobGVuICYgMHhGRikpO1xuICAgICAgICAgICAgLy8gU1BTXG4gICAgICAgICAgICBzcHMgPSBzcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhc3NlbWJsZSB0aGUgUFBTc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdHJhY2sucHBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkYXRhID0gdHJhY2sucHBzW2ldO1xuICAgICAgICAgICAgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgcHBzLnB1c2goKGxlbiA+Pj4gOCkgJiAweEZGKTtcbiAgICAgICAgICAgIHBwcy5wdXNoKChsZW4gJiAweEZGKSk7XG4gICAgICAgICAgICBwcHMgPSBwcHMuY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXZjYyA9IE1QNC5ib3goTVA0LnR5cGVzLmF2Y0MsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDEsXG4gICAgICAgICAgICBzcHNbM10sXG4gICAgICAgICAgICBzcHNbNF0sXG4gICAgICAgICAgICBzcHNbNV0sXG4gICAgICAgICAgICAweGZjIHwgMyxcbiAgICAgICAgICAgIDB4RTAgfCB0cmFjay5zcHMubGVuZ3RoIC8vIDNiaXQgcmVzZXJ2ZWQgKDExMSkgKyBudW1PZlNlcXVlbmNlUGFyYW1ldGVyU2V0c1xuICAgICAgICBdLmNvbmNhdChzcHMpLmNvbmNhdChbXG4gICAgICAgICAgICB0cmFjay5wcHMubGVuZ3RoIC8vIG51bU9mUGljdHVyZVBhcmFtZXRlclNldHNcbiAgICAgICAgXSkuY29uY2F0KHBwcykpKSwgLy8gXCJQUFNcIlxuICAgICAgICB3aWR0aCA9IHRyYWNrLndpZHRoLCBoZWlnaHQgPSB0cmFjay5oZWlnaHQsIGhTcGFjaW5nID0gdHJhY2sucGl4ZWxSYXRpb1swXSwgdlNwYWNpbmcgPSB0cmFjay5waXhlbFJhdGlvWzFdO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuYXZjMSwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAod2lkdGggPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgd2lkdGggJiAweGZmLFxuICAgICAgICAgICAgKGhlaWdodCA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBoZWlnaHQgJiAweGZmLFxuICAgICAgICAgICAgMHgwMCwgMHg0OCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4NDgsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MTIsXG4gICAgICAgICAgICAweDY0LCAweDYxLCAweDY5LCAweDZDLFxuICAgICAgICAgICAgMHg3OSwgMHg2RCwgMHg2RiwgMHg3NCxcbiAgICAgICAgICAgIDB4NjksIDB4NkYsIDB4NkUsIDB4MkYsXG4gICAgICAgICAgICAweDY4LCAweDZDLCAweDczLCAweDJFLFxuICAgICAgICAgICAgMHg2QSwgMHg3MywgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MTgsXG4gICAgICAgICAgICAweDExLCAweDExXG4gICAgICAgIF0pLCAvLyBwcmVfZGVmaW5lZCA9IC0xXG4gICAgICAgIGF2Y2MsIE1QNC5ib3goTVA0LnR5cGVzLmJ0cnQsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MWMsIDB4OWMsIDB4ODAsXG4gICAgICAgICAgICAweDAwLCAweDJkLCAweGM2LCAweGMwLFxuICAgICAgICAgICAgMHgwMCwgMHgyZCwgMHhjNiwgMHhjMFxuICAgICAgICBdKSksIC8vIGF2Z0JpdHJhdGVcbiAgICAgICAgTVA0LmJveChNUDQudHlwZXMucGFzcCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgKGhTcGFjaW5nID4+IDI0KSxcbiAgICAgICAgICAgIChoU3BhY2luZyA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGhTcGFjaW5nID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGhTcGFjaW5nICYgMHhGRixcbiAgICAgICAgICAgICh2U3BhY2luZyA+PiAyNCksXG4gICAgICAgICAgICAodlNwYWNpbmcgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh2U3BhY2luZyA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICB2U3BhY2luZyAmIDB4RkZcbiAgICAgICAgXSkpKTtcbiAgICB9O1xuICAgIE1QNC5lc2RzID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBjb25maWdsZW4gPSB0cmFjay5jb25maWcubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAzLFxuICAgICAgICAgICAgMHgxNyArIGNvbmZpZ2xlbixcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLFxuICAgICAgICAgICAgMHgwNCxcbiAgICAgICAgICAgIDB4MGYgKyBjb25maWdsZW4sXG4gICAgICAgICAgICAweDQwLFxuICAgICAgICAgICAgMHgxNSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDUgLy8gZGVzY3JpcHRvcl90eXBlXG4gICAgICAgIF0uY29uY2F0KFtjb25maWdsZW5dKS5jb25jYXQodHJhY2suY29uZmlnKS5jb25jYXQoWzB4MDYsIDB4MDEsIDB4MDJdKSk7IC8vIEdBU3BlY2lmaWNDb25maWcpKTsgLy8gbGVuZ3RoICsgYXVkaW8gY29uZmlnIGRlc2NyaXB0b3JcbiAgICB9O1xuICAgIE1QNC5tcDRhID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBzYW1wbGVyYXRlID0gdHJhY2suc2FtcGxlcmF0ZTtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLm1wNGEsIG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgdHJhY2suY2hhbm5lbENvdW50LFxuICAgICAgICAgICAgMHgwMCwgMHgxMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoc2FtcGxlcmF0ZSA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBzYW1wbGVyYXRlICYgMHhmZixcbiAgICAgICAgICAgIDB4MDAsIDB4MDBcbiAgICAgICAgXSksIE1QNC5ib3goTVA0LnR5cGVzLmVzZHMsIE1QNC5lc2RzKHRyYWNrKSkpO1xuICAgIH07XG4gICAgTVA0Lm1wMyA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgc2FtcGxlcmF0ZSA9IHRyYWNrLnNhbXBsZXJhdGU7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlc1snLm1wMyddLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIHRyYWNrLmNoYW5uZWxDb3VudCxcbiAgICAgICAgICAgIDB4MDAsIDB4MTAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHNhbXBsZXJhdGUgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgc2FtcGxlcmF0ZSAmIDB4ZmYsXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC5zdHNkID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIGlmICh0cmFjay50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICBpZiAoIXRyYWNrLmlzQUFDICYmIHRyYWNrLmNvZGVjID09PSAnbXAzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuU1RTRCwgTVA0Lm1wMyh0cmFjaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQubXA0YSh0cmFjaykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5TVFNELCBNUDQuYXZjMSh0cmFjaykpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNUDQudGtoZCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgaWQgPSB0cmFjay5pZCwgZHVyYXRpb24gPSB0cmFjay5kdXJhdGlvbiAqIHRyYWNrLnRpbWVzY2FsZSwgd2lkdGggPSB0cmFjay53aWR0aCwgaGVpZ2h0ID0gdHJhY2suaGVpZ2h0LCB1cHBlcldvcmREdXJhdGlvbiA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAoVUlOVDMyX01BWCArIDEpKSwgbG93ZXJXb3JkRHVyYXRpb24gPSBNYXRoLmZsb29yKGR1cmF0aW9uICUgKFVJTlQzMl9NQVggKyAxKSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50a2hkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwNyxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDIsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAwLCAweDAzLFxuICAgICAgICAgICAgKGlkID4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAoaWQgPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChpZCA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBpZCAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDI0KSxcbiAgICAgICAgICAgICh1cHBlcldvcmREdXJhdGlvbiA+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHVwcGVyV29yZER1cmF0aW9uID4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIHVwcGVyV29yZER1cmF0aW9uICYgMHhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiAyNCksXG4gICAgICAgICAgICAobG93ZXJXb3JkRHVyYXRpb24gPj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmREdXJhdGlvbiA+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICBsb3dlcldvcmREdXJhdGlvbiAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAod2lkdGggPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgd2lkdGggJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIChoZWlnaHQgPj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgaGVpZ2h0ICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAgLy8gaGVpZ2h0XG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC50cmFmID0gZnVuY3Rpb24gKHRyYWNrLCBiYXNlTWVkaWFEZWNvZGVUaW1lKSB7XG4gICAgICAgIHZhciBzYW1wbGVEZXBlbmRlbmN5VGFibGUgPSBNUDQuc2R0cCh0cmFjayksIGlkID0gdHJhY2suaWQsIHVwcGVyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPSBNYXRoLmZsb29yKGJhc2VNZWRpYURlY29kZVRpbWUgLyAoVUlOVDMyX01BWCArIDEpKSwgbG93ZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA9IE1hdGguZmxvb3IoYmFzZU1lZGlhRGVjb2RlVGltZSAlIChVSU5UMzJfTUFYICsgMSkpO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhZiwgTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaWQgPj4gMjQpLFxuICAgICAgICAgICAgKGlkID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAoaWQgPj4gOCkgJiAwWEZGLFxuICAgICAgICAgICAgKGlkICYgMHhGRikgLy8gdHJhY2tfSURcbiAgICAgICAgXSkpLCBNUDQuYm94KE1QNC50eXBlcy50ZmR0LCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgICh1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDI0KSxcbiAgICAgICAgICAgICh1cHBlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSA+PiA4KSAmIDBYRkYsXG4gICAgICAgICAgICAodXBwZXJXb3JkQmFzZU1lZGlhRGVjb2RlVGltZSAmIDB4RkYpLFxuICAgICAgICAgICAgKGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gMjQpLFxuICAgICAgICAgICAgKGxvd2VyV29yZEJhc2VNZWRpYURlY29kZVRpbWUgPj4gMTYpICYgMFhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lID4+IDgpICYgMFhGRixcbiAgICAgICAgICAgIChsb3dlcldvcmRCYXNlTWVkaWFEZWNvZGVUaW1lICYgMHhGRilcbiAgICAgICAgXSkpLCBNUDQudHJ1bih0cmFjaywgc2FtcGxlRGVwZW5kZW5jeVRhYmxlLmxlbmd0aCArXG4gICAgICAgICAgICAxNiArIC8vIHRmaGRcbiAgICAgICAgICAgIDIwICsgLy8gdGZkdFxuICAgICAgICAgICAgOCArIC8vIHRyYWYgaGVhZGVyXG4gICAgICAgICAgICAxNiArIC8vIG1maGRcbiAgICAgICAgICAgIDggKyAvLyBtb29mIGhlYWRlclxuICAgICAgICAgICAgOCksIC8vIG1kYXQgaGVhZGVyXG4gICAgICAgIHNhbXBsZURlcGVuZGVuY3lUYWJsZSk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHRyYWNrIGJveC5cbiAgICAgKiBAcGFyYW0gdHJhY2sge29iamVjdH0gYSB0cmFjayBkZWZpbml0aW9uXG4gICAgICogQHJldHVybiB7VWludDhBcnJheX0gdGhlIHRyYWNrIGJveFxuICAgICAqL1xuICAgIE1QNC50cmFrID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHRyYWNrLmR1cmF0aW9uID0gdHJhY2suZHVyYXRpb24gfHwgMHhmZmZmZmZmZjtcbiAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnRyYWssIE1QNC50a2hkKHRyYWNrKSwgTVA0Lm1kaWEodHJhY2spKTtcbiAgICB9O1xuICAgIE1QNC50cmV4ID0gZnVuY3Rpb24gKHRyYWNrKSB7XG4gICAgICAgIHZhciBpZCA9IHRyYWNrLmlkO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJleCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaWQgPj4gMjQpLFxuICAgICAgICAgICAgKGlkID4+IDE2KSAmIDBYRkYsXG4gICAgICAgICAgICAoaWQgPj4gOCkgJiAwWEZGLFxuICAgICAgICAgICAgKGlkICYgMHhGRiksXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAxIC8vIGRlZmF1bHRfc2FtcGxlX2ZsYWdzXG4gICAgICAgIF0pKTtcbiAgICB9O1xuICAgIE1QNC50cnVuID0gZnVuY3Rpb24gKHRyYWNrLCBvZmZzZXQpIHtcbiAgICAgICAgdmFyIHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdLCBsZW4gPSBzYW1wbGVzLmxlbmd0aCwgYXJyYXlsZW4gPSAxMiArICgxNiAqIGxlbiksIGFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlsZW4pLCBpLCBzYW1wbGUsIGR1cmF0aW9uLCBzaXplLCBmbGFncywgY3RzO1xuICAgICAgICBvZmZzZXQgKz0gOCArIGFycmF5bGVuO1xuICAgICAgICBhcnJheS5zZXQoW1xuICAgICAgICAgICAgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MGYsIDB4MDEsXG4gICAgICAgICAgICAobGVuID4+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKGxlbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChsZW4gPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIGxlbiAmIDB4RkYsXG4gICAgICAgICAgICAob2Zmc2V0ID4+PiAyNCkgJiAweEZGLFxuICAgICAgICAgICAgKG9mZnNldCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQgPj4+IDgpICYgMHhGRixcbiAgICAgICAgICAgIG9mZnNldCAmIDB4RkYgLy8gZGF0YV9vZmZzZXRcbiAgICAgICAgXSwgMCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgc2FtcGxlID0gc2FtcGxlc1tpXTtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gc2FtcGxlLmR1cmF0aW9uO1xuICAgICAgICAgICAgc2l6ZSA9IHNhbXBsZS5zaXplO1xuICAgICAgICAgICAgZmxhZ3MgPSBzYW1wbGUuZmxhZ3M7XG4gICAgICAgICAgICBjdHMgPSBzYW1wbGUuY3RzO1xuICAgICAgICAgICAgYXJyYXkuc2V0KFtcbiAgICAgICAgICAgICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gMjQpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gOCkgJiAweEZGLFxuICAgICAgICAgICAgICAgIHNpemUgJiAweEZGLFxuICAgICAgICAgICAgICAgIChmbGFncy5pc0xlYWRpbmcgPDwgMikgfCBmbGFncy5kZXBlbmRzT24sXG4gICAgICAgICAgICAgICAgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCA2KSB8XG4gICAgICAgICAgICAgICAgICAgIChmbGFncy5oYXNSZWR1bmRhbmN5IDw8IDQpIHxcbiAgICAgICAgICAgICAgICAgICAgKGZsYWdzLnBhZGRpbmdWYWx1ZSA8PCAxKSB8XG4gICAgICAgICAgICAgICAgICAgIGZsYWdzLmlzTm9uU3luYyxcbiAgICAgICAgICAgICAgICBmbGFncy5kZWdyYWRQcmlvICYgMHhGMCA8PCA4LFxuICAgICAgICAgICAgICAgIGZsYWdzLmRlZ3JhZFByaW8gJiAweDBGLFxuICAgICAgICAgICAgICAgIChjdHMgPj4+IDI0KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGN0cyA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoY3RzID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgY3RzICYgMHhGRiAvLyBzYW1wbGVfY29tcG9zaXRpb25fdGltZV9vZmZzZXRcbiAgICAgICAgICAgIF0sIDEyICsgMTYgKiBpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJ1biwgYXJyYXkpO1xuICAgIH07XG4gICAgTVA0LmluaXRTZWdtZW50ID0gZnVuY3Rpb24gKHRyYWNrcykge1xuICAgICAgICBpZiAoIU1QNC50eXBlcykge1xuICAgICAgICAgICAgTVA0LmluaXQoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW92aWUgPSBNUDQubW9vdih0cmFja3MpLCByZXN1bHQ7XG4gICAgICAgIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KE1QNC5GVFlQLmJ5dGVMZW5ndGggKyBtb3ZpZS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmVzdWx0LnNldChNUDQuRlRZUCk7XG4gICAgICAgIHJlc3VsdC5zZXQobW92aWUsIE1QNC5GVFlQLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgcmV0dXJuIE1QNDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNUDQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvcmVtdXgvbXA0LXJlbXV4ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvcmVtdXgvbXA0LXJlbXV4ZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogZk1QNCByZW11eGVyXG4qL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGFhY19oZWxwZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vYWFjLWhlbHBlciAqLyBcIi4vc3JjL3JlbXV4L2FhYy1oZWxwZXIuanNcIik7XG52YXIgbXA0X2dlbmVyYXRvcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi9tcDQtZ2VuZXJhdG9yICovIFwiLi9zcmMvcmVtdXgvbXA0LWdlbmVyYXRvci5qc1wiKTtcbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBlcnJvcnNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2Vycm9ycyAqLyBcIi4vc3JjL2Vycm9ycy5qc1wiKTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbi8vIDEwIHNlY29uZHNcbnZhciBNQVhfU0lMRU5UX0ZSQU1FX0RVUkFUSU9OID0gMTAgKiAxMDAwO1xudmFyIE1QNFJlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTVA0UmVtdXhlcihvYnNlcnZlciwgY29uZmlnLCB0eXBlU3VwcG9ydGVkLCB2ZW5kb3IpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlciA9IG9ic2VydmVyO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy50eXBlU3VwcG9ydGVkID0gdHlwZVN1cHBvcnRlZDtcbiAgICAgICAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgICAgIHRoaXMuaXNTYWZhcmkgPSB2ZW5kb3IgJiYgdmVuZG9yLmluZGV4T2YoJ0FwcGxlJykgPiAtMSAmJiB1c2VyQWdlbnQgJiYgIXVzZXJBZ2VudC5tYXRjaCgnQ3JpT1MnKTtcbiAgICAgICAgdGhpcy5JU0dlbmVyYXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVzZXRUaW1lU3RhbXAgPSBmdW5jdGlvbiAoZGVmYXVsdFRpbWVTdGFtcCkge1xuICAgICAgICB0aGlzLl9pbml0UFRTID0gdGhpcy5faW5pdERUUyA9IGRlZmF1bHRUaW1lU3RhbXA7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZXNldEluaXRTZWdtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLklTR2VuZXJhdGVkID0gZmFsc2U7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eCA9IGZ1bmN0aW9uIChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCBpZDNUcmFjaywgdGV4dFRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpIHtcbiAgICAgICAgLy8gZ2VuZXJhdGUgSW5pdCBTZWdtZW50IGlmIG5lZWRlZFxuICAgICAgICBpZiAoIXRoaXMuSVNHZW5lcmF0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVJUyhhdWRpb1RyYWNrLCB2aWRlb1RyYWNrLCB0aW1lT2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5JU0dlbmVyYXRlZCkge1xuICAgICAgICAgICAgdmFyIG5iQXVkaW9TYW1wbGVzID0gYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHZhciBuYlZpZGVvU2FtcGxlcyA9IHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgYXVkaW9UaW1lT2Zmc2V0ID0gdGltZU9mZnNldDtcbiAgICAgICAgICAgIHZhciB2aWRlb1RpbWVPZmZzZXQgPSB0aW1lT2Zmc2V0O1xuICAgICAgICAgICAgaWYgKG5iQXVkaW9TYW1wbGVzICYmIG5iVmlkZW9TYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgLy8gdGltZU9mZnNldCBpcyBleHBlY3RlZCB0byBiZSB0aGUgb2Zmc2V0IG9mIHRoZSBmaXJzdCB0aW1lc3RhbXAgb2YgdGhpcyBmcmFnbWVudCAoZmlyc3QgRFRTKVxuICAgICAgICAgICAgICAgIC8vIGlmIGZpcnN0IGF1ZGlvIERUUyBpcyBub3QgYWxpZ25lZCB3aXRoIGZpcnN0IHZpZGVvIERUUyB0aGVuIHdlIG5lZWQgdG8gdGFrZSB0aGF0IGludG8gYWNjb3VudFxuICAgICAgICAgICAgICAgIC8vIHdoZW4gcHJvdmlkaW5nIHRpbWVPZmZzZXQgdG8gcmVtdXhBdWRpbyAvIHJlbXV4VmlkZW8uIGlmIHdlIGRvbid0IGRvIHRoYXQsIHRoZXJlIG1pZ2h0IGJlIGEgcGVybWFuZW50IC8gc21hbGxcbiAgICAgICAgICAgICAgICAvLyBkcmlmdCBiZXR3ZWVuIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvdmlkZW9EZWx0YUR0cyA9IChhdWRpb1RyYWNrLnNhbXBsZXNbMF0ucHRzIC0gdmlkZW9UcmFjay5zYW1wbGVzWzBdLnB0cykgLyB2aWRlb1RyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgICAgICAgICAgICAgIGF1ZGlvVGltZU9mZnNldCArPSBNYXRoLm1heCgwLCBhdWRpb3ZpZGVvRGVsdGFEdHMpO1xuICAgICAgICAgICAgICAgIHZpZGVvVGltZU9mZnNldCArPSBNYXRoLm1heCgwLCAtYXVkaW92aWRlb0RlbHRhRHRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFB1cnBvc2VmdWxseSByZW11eGluZyBhdWRpbyBiZWZvcmUgdmlkZW8sIHNvIHRoYXQgcmVtdXhWaWRlbyBjYW4gdXNlIG5leHRBdWRpb1B0cywgd2hpY2ggaXNcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZWQgaW4gcmVtdXhBdWRpby5cbiAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ25iIEFBQyBzYW1wbGVzOicgKyBhdWRpb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChuYkF1ZGlvU2FtcGxlcykge1xuICAgICAgICAgICAgICAgIC8vIGlmIGluaXRTZWdtZW50IHdhcyBnZW5lcmF0ZWQgd2l0aG91dCB2aWRlbyBzYW1wbGVzLCByZWdlbmVyYXRlIGl0IGFnYWluXG4gICAgICAgICAgICAgICAgaWYgKCFhdWRpb1RyYWNrLnRpbWVzY2FsZSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybigncmVnZW5lcmF0ZSBJbml0U2VnbWVudCBhcyBhdWRpbyBkZXRlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBhdWRpb0RhdGEgPSB0aGlzLnJlbXV4QXVkaW8oYXVkaW9UcmFjaywgYXVkaW9UaW1lT2Zmc2V0LCBjb250aWd1b3VzLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coJ25iIEFWQyBzYW1wbGVzOicgKyB2aWRlb1RyYWNrLnNhbXBsZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICBpZiAobmJWaWRlb1NhbXBsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF1ZGlvVHJhY2tMZW5ndGggPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdWRpb0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvVHJhY2tMZW5ndGggPSBhdWRpb0RhdGEuZW5kUFRTIC0gYXVkaW9EYXRhLnN0YXJ0UFRTO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGluaXRTZWdtZW50IHdhcyBnZW5lcmF0ZWQgd2l0aG91dCB2aWRlbyBzYW1wbGVzLCByZWdlbmVyYXRlIGl0IGFnYWluXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmlkZW9UcmFjay50aW1lc2NhbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKCdyZWdlbmVyYXRlIEluaXRTZWdtZW50IGFzIHZpZGVvIGRldGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdlbmVyYXRlSVMoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHZpZGVvVGltZU9mZnNldCwgY29udGlndW91cywgYXVkaW9UcmFja0xlbmd0aCwgYWNjdXJhdGVUaW1lT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBsb2dnZXIubG9nKCduYiBBVkMgc2FtcGxlczonICsgdmlkZW9UcmFjay5zYW1wbGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgaWYgKG5iVmlkZW9TYW1wbGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2aWRlb0RhdGEgPSB0aGlzLnJlbXV4VmlkZW8odmlkZW9UcmFjaywgdmlkZW9UaW1lT2Zmc2V0LCBjb250aWd1b3VzLCAwLCBhY2N1cmF0ZVRpbWVPZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmlkZW9EYXRhICYmIGF1ZGlvVHJhY2suY29kZWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtdXhFbXB0eUF1ZGlvKGF1ZGlvVHJhY2ssIGF1ZGlvVGltZU9mZnNldCwgY29udGlndW91cywgdmlkZW9EYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBsb2dnZXIubG9nKCduYiBJRDMgc2FtcGxlczonICsgYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aCk7XG4gICAgICAgIGlmIChpZDNUcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5yZW11eElEMyhpZDNUcmFjaywgdGltZU9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbG9nZ2VyLmxvZygnbmIgSUQzIHNhbXBsZXM6JyArIGF1ZGlvVHJhY2suc2FtcGxlcy5sZW5ndGgpO1xuICAgICAgICBpZiAodGV4dFRyYWNrLnNhbXBsZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnJlbXV4VGV4dCh0ZXh0VHJhY2ssIHRpbWVPZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vdGlmeSBlbmQgb2YgcGFyc2luZ1xuICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCk7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5nZW5lcmF0ZUlTID0gZnVuY3Rpb24gKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2ssIHRpbWVPZmZzZXQpIHtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gdGhpcy5vYnNlcnZlciwgYXVkaW9TYW1wbGVzID0gYXVkaW9UcmFjay5zYW1wbGVzLCB2aWRlb1NhbXBsZXMgPSB2aWRlb1RyYWNrLnNhbXBsZXMsIHR5cGVTdXBwb3J0ZWQgPSB0aGlzLnR5cGVTdXBwb3J0ZWQsIGNvbnRhaW5lciA9ICdhdWRpby9tcDQnLCB0cmFja3MgPSB7fSwgZGF0YSA9IHsgdHJhY2tzOiB0cmFja3MgfSwgY29tcHV0ZVBUU0RUUyA9ICh0aGlzLl9pbml0UFRTID09PSB1bmRlZmluZWQpLCBpbml0UFRTLCBpbml0RFRTO1xuICAgICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICAgICAgaW5pdFBUUyA9IGluaXREVFMgPSBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXVkaW9UcmFjay5jb25maWcgJiYgYXVkaW9TYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gbGV0J3MgdXNlIGF1ZGlvIHNhbXBsaW5nIHJhdGUgYXMgTVA0IHRpbWUgc2NhbGUuXG4gICAgICAgICAgICAvLyByYXRpb25hbGUgaXMgdGhhdCB0aGVyZSBpcyBhIGludGVnZXIgbmIgb2YgYXVkaW8gZnJhbWVzIHBlciBhdWRpbyBzYW1wbGUgKDEwMjQgZm9yIEFBQylcbiAgICAgICAgICAgIC8vIHVzaW5nIGF1ZGlvIHNhbXBsaW5nIHJhdGUgaGVyZSBoZWxwcyBoYXZpbmcgYW4gaW50ZWdlciBNUDQgZnJhbWUgZHVyYXRpb25cbiAgICAgICAgICAgIC8vIHRoaXMgYXZvaWRzIHBvdGVudGlhbCByb3VuZGluZyBpc3N1ZSBhbmQgQVYgc3luYyBpc3N1ZVxuICAgICAgICAgICAgYXVkaW9UcmFjay50aW1lc2NhbGUgPSBhdWRpb1RyYWNrLnNhbXBsZXJhdGU7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiYXVkaW8gc2FtcGxpbmcgcmF0ZSA6IFwiICsgYXVkaW9UcmFjay5zYW1wbGVyYXRlKTtcbiAgICAgICAgICAgIGlmICghYXVkaW9UcmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlU3VwcG9ydGVkLm1wZWcpIHsgLy8gQ2hyb21lIGFuZCBTYWZhcmlcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gJ2F1ZGlvL21wZWcnO1xuICAgICAgICAgICAgICAgICAgICBhdWRpb1RyYWNrLmNvZGVjID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVTdXBwb3J0ZWQubXAzKSB7IC8vIEZpcmVmb3hcbiAgICAgICAgICAgICAgICAgICAgYXVkaW9UcmFjay5jb2RlYyA9ICdtcDMnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyYWNrcy5hdWRpbyA9IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBjb2RlYzogYXVkaW9UcmFjay5jb2RlYyxcbiAgICAgICAgICAgICAgICBpbml0U2VnbWVudDogIWF1ZGlvVHJhY2suaXNBQUMgJiYgdHlwZVN1cHBvcnRlZC5tcGVnID8gbmV3IFVpbnQ4QXJyYXkoKSA6IG1wNF9nZW5lcmF0b3JfMS5kZWZhdWx0LmluaXRTZWdtZW50KFthdWRpb1RyYWNrXSksXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBhdWRpb1RyYWNrLmNoYW5uZWxDb3VudFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICAgICAgICAgIC8vIHJlbWVtYmVyIGZpcnN0IFBUUyBvZiB0aGlzIGRlbXV4aW5nIGNvbnRleHQuIGZvciBhdWRpbywgUFRTID0gRFRTXG4gICAgICAgICAgICAgICAgaW5pdFBUUyA9IGluaXREVFMgPSBhdWRpb1NhbXBsZXNbMF0ucHRzIC0gYXVkaW9UcmFjay5pbnB1dFRpbWVTY2FsZSAqIHRpbWVPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZGVvVHJhY2suc3BzICYmIHZpZGVvVHJhY2sucHBzICYmIHZpZGVvU2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGxldCdzIHVzZSBpbnB1dCB0aW1lIHNjYWxlIGFzIE1QNCB2aWRlbyB0aW1lc2NhbGVcbiAgICAgICAgICAgIC8vIHdlIHVzZSBpbnB1dCB0aW1lIHNjYWxlIHN0cmFpZ2h0IGF3YXkgdG8gYXZvaWQgcm91bmRpbmcgaXNzdWVzIG9uIGZyYW1lIGR1cmF0aW9uIC8gY3RzIGNvbXB1dGF0aW9uXG4gICAgICAgICAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB2aWRlb1RyYWNrLmlucHV0VGltZVNjYWxlO1xuICAgICAgICAgICAgdmlkZW9UcmFjay50aW1lc2NhbGUgPSBpbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgICAgIHRyYWNrcy52aWRlbyA9IHtcbiAgICAgICAgICAgICAgICBjb250YWluZXI6ICd2aWRlby9tcDQnLFxuICAgICAgICAgICAgICAgIGNvZGVjOiB2aWRlb1RyYWNrLmNvZGVjLFxuICAgICAgICAgICAgICAgIGluaXRTZWdtZW50OiBtcDRfZ2VuZXJhdG9yXzEuZGVmYXVsdC5pbml0U2VnbWVudChbdmlkZW9UcmFja10pLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb1RyYWNrLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHZpZGVvVHJhY2suaGVpZ2h0XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjb21wdXRlUFRTRFRTKSB7XG4gICAgICAgICAgICAgICAgaW5pdFBUUyA9IE1hdGgubWluKGluaXRQVFMsIHZpZGVvU2FtcGxlc1swXS5wdHMgLSBpbnB1dFRpbWVTY2FsZSAqIHRpbWVPZmZzZXQpO1xuICAgICAgICAgICAgICAgIGluaXREVFMgPSBNYXRoLm1pbihpbml0RFRTLCB2aWRlb1NhbXBsZXNbMF0uZHRzIC0gaW5wdXRUaW1lU2NhbGUgKiB0aW1lT2Zmc2V0KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5JTklUX1BUU19GT1VORCwgeyBpbml0UFRTOiBpbml0UFRTIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0cmFja3MpLmxlbmd0aCkge1xuICAgICAgICAgICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19JTklUX1NFR01FTlQsIGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5JU0dlbmVyYXRlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoY29tcHV0ZVBUU0RUUykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRQVFMgPSBpbml0UFRTO1xuICAgICAgICAgICAgICAgIHRoaXMuX2luaXREVFMgPSBpbml0RFRTO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTUVESUFfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5GUkFHX1BBUlNJTkdfRVJST1IsIGZhdGFsOiBmYWxzZSwgcmVhc29uOiAnbm8gYXVkaW8vdmlkZW8gc2FtcGxlcyBmb3VuZCcgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4VmlkZW8gPSBmdW5jdGlvbiAodHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGF1ZGlvVHJhY2tMZW5ndGgsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gODtcbiAgICAgICAgdmFyIG1wNFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICB2YXIgbWRhdDtcbiAgICAgICAgdmFyIG1vb2Y7XG4gICAgICAgIHZhciBmaXJzdFBUUztcbiAgICAgICAgdmFyIGZpcnN0RFRTO1xuICAgICAgICB2YXIgbGFzdFBUUztcbiAgICAgICAgdmFyIGxhc3REVFM7XG4gICAgICAgIHZhciB0aW1lU2NhbGUgPSB0cmFjay50aW1lc2NhbGU7XG4gICAgICAgIHZhciBpbnB1dFNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgICB2YXIgb3V0cHV0U2FtcGxlcyA9IFtdO1xuICAgICAgICB2YXIgbmJTYW1wbGVzID0gaW5wdXRTYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgdmFyIHB0c05vcm1hbGl6ZSA9IHRoaXMuX1BUU05vcm1hbGl6ZTtcbiAgICAgICAgdmFyIGluaXRQVFMgPSB0aGlzLl9pbml0UFRTO1xuICAgICAgICAvLyBpZiBwYXJzZWQgZnJhZ21lbnQgaXMgY29udGlndW91cyB3aXRoIGxhc3Qgb25lLCBsZXQncyB1c2UgbGFzdCBEVFMgdmFsdWUgYXMgcmVmZXJlbmNlXG4gICAgICAgIHZhciBuZXh0QXZjRHRzID0gdGhpcy5uZXh0QXZjRHRzO1xuICAgICAgICB2YXIgaXNTYWZhcmkgPSB0aGlzLmlzU2FmYXJpO1xuICAgICAgICBpZiAobmJTYW1wbGVzID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IGxpa2Ugb3ZlcmxhcHBpbmcgRFRTIG9uIGNvbnNlY3V0aXZlIGZyYWdtZW50cy4gbGV0J3MgdXNlIG5leHRBdmNEdHMgdG8gb3ZlcmNvbWUgdGhpcyBpZiBmcmFnbWVudHMgYXJlIGNvbnNlY3V0aXZlXG4gICAgICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgICAgICAgLy8gYWxzbyBjb25zaWRlciBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXMgYmVpbmcgY29udGlndW91cyAoZXZlbiBpZiBhIGxldmVsIHN3aXRjaCBvY2N1cnMpLFxuICAgICAgICAgICAgLy8gZm9yIHNha2Ugb2YgY2xhcml0eTpcbiAgICAgICAgICAgIC8vIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBhcmUgZnJhZ3Mgd2l0aFxuICAgICAgICAgICAgLy8gIC0gbGVzcyB0aGFuIDEwMG1zIGdhcHMgYmV0d2VlbiBuZXcgdGltZSBvZmZzZXQgKGlmIGFjY3VyYXRlKSBhbmQgbmV4dCBleHBlY3RlZCBQVFMgT1JcbiAgICAgICAgICAgIC8vICAtIGxlc3MgdGhhbiAyMDAgbXMgUFRTIGdhcHMgKHRpbWVTY2FsZS81KVxuICAgICAgICAgICAgY29udGlndW91cyB8PSAoaW5wdXRTYW1wbGVzLmxlbmd0aCAmJiBuZXh0QXZjRHRzICYmXG4gICAgICAgICAgICAgICAgKChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgTWF0aC5hYnModGltZU9mZnNldCAtIG5leHRBdmNEdHMgLyB0aW1lU2NhbGUpIDwgMC4xKSB8fFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmFicygoaW5wdXRTYW1wbGVzWzBdLnB0cyAtIG5leHRBdmNEdHMgLSBpbml0UFRTKSkgPCB0aW1lU2NhbGUgLyA1KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250aWd1b3VzKSB7XG4gICAgICAgICAgICAvLyBpZiBub3QgY29udGlndW91cywgbGV0J3MgdXNlIHRhcmdldCB0aW1lT2Zmc2V0XG4gICAgICAgICAgICBuZXh0QXZjRHRzID0gdGltZU9mZnNldCAqIHRpbWVTY2FsZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQVFMgaXMgY29kZWQgb24gMzNiaXRzLCBhbmQgY2FuIGxvb3AgZnJvbSAtMl4zMiB0byAyXjMyXG4gICAgICAgIC8vIHB0c05vcm1hbGl6ZSB3aWxsIG1ha2UgUFRTL0RUUyB2YWx1ZSBtb25vdG9uaWMsIHdlIHVzZSBsYXN0IGtub3duIERUUyB2YWx1ZSBhcyByZWZlcmVuY2UgdmFsdWVcbiAgICAgICAgaW5wdXRTYW1wbGVzLmZvckVhY2goZnVuY3Rpb24gKHNhbXBsZSkge1xuICAgICAgICAgICAgc2FtcGxlLnB0cyA9IHB0c05vcm1hbGl6ZShzYW1wbGUucHRzIC0gaW5pdFBUUywgbmV4dEF2Y0R0cyk7XG4gICAgICAgICAgICBzYW1wbGUuZHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5kdHMgLSBpbml0UFRTLCBuZXh0QXZjRHRzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIHNvcnQgdmlkZW8gc2FtcGxlcyBieSBEVFMgdGhlbiBQVFMgdGhlbiBkZW11eCBpZCBvcmRlclxuICAgICAgICBpbnB1dFNhbXBsZXMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgdmFyIGRlbHRhZHRzID0gYS5kdHMgLSBiLmR0cztcbiAgICAgICAgICAgIHZhciBkZWx0YXB0cyA9IGEucHRzIC0gYi5wdHM7XG4gICAgICAgICAgICByZXR1cm4gZGVsdGFkdHMgfHwgKGRlbHRhcHRzIHx8IChhLmlkIC0gYi5pZCkpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gaGFuZGxlIGJyb2tlbiBzdHJlYW1zIHdpdGggUFRTIDwgRFRTLCB0b2xlcmFuY2UgdXAgMjAwbXMgKDE4MDAwIGluIDkwa0h6IHRpbWVzY2FsZSlcbiAgICAgICAgdmFyIFBUU0RUU3NoaWZ0ID0gaW5wdXRTYW1wbGVzLnJlZHVjZShmdW5jdGlvbiAocHJldiwgY3VycikgeyByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4ocHJldiwgY3Vyci5wdHMgLSBjdXJyLmR0cyksIC0xODAwMCk7IH0sIDApO1xuICAgICAgICBpZiAoUFRTRFRTc2hpZnQgPCAwKSB7XG4gICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihcIlBUUyA8IERUUyBkZXRlY3RlZCBpbiB2aWRlbyBzYW1wbGVzLCBzaGlmdGluZyBEVFMgYnkgXCIgKyBNYXRoLnJvdW5kKFBUU0RUU3NoaWZ0IC8gOTApICsgXCIgbXMgdG8gb3ZlcmNvbWUgdGhpcyBpc3N1ZVwiKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRTYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRTYW1wbGVzW2ldLmR0cyArPSBQVFNEVFNzaGlmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBjb21wdXRlIGZpcnN0IERUUyBhbmQgbGFzdCBEVFMsIG5vcm1hbGl6ZSB0aGVtIGFnYWluc3QgcmVmZXJlbmNlIHZhbHVlXG4gICAgICAgIHZhciBzYW1wbGUgPSBpbnB1dFNhbXBsZXNbMF07XG4gICAgICAgIGZpcnN0RFRTID0gTWF0aC5tYXgoc2FtcGxlLmR0cywgMCk7XG4gICAgICAgIGZpcnN0UFRTID0gTWF0aC5tYXgoc2FtcGxlLnB0cywgMCk7XG4gICAgICAgIC8vIGNoZWNrIHRpbWVzdGFtcCBjb250aW51aXR5IGFjY3Jvc3MgY29uc2VjdXRpdmUgZnJhZ21lbnRzICh0aGlzIGlzIHRvIHJlbW92ZSBpbnRlci1mcmFnbWVudCBnYXAvaG9sZSlcbiAgICAgICAgdmFyIGRlbHRhID0gTWF0aC5yb3VuZCgoZmlyc3REVFMgLSBuZXh0QXZjRHRzKSAvIDkwKTtcbiAgICAgICAgLy8gaWYgZnJhZ21lbnQgYXJlIGNvbnRpZ3VvdXMsIGRldGVjdCBob2xlL292ZXJsYXBwaW5nIGJldHdlZW4gZnJhZ21lbnRzXG4gICAgICAgIGlmIChjb250aWd1b3VzKSB7XG4gICAgICAgICAgICBpZiAoZGVsdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGVsdGEgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coXCJBVkM6XCIgKyBkZWx0YSArIFwiIG1zIGhvbGUgYmV0d2VlbiBmcmFnbWVudHMgZGV0ZWN0ZWQsZmlsbGluZyBpdFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGVsdGEgPCAtMSkge1xuICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiQVZDOlwiICsgKC1kZWx0YSkgKyBcIiBtcyBvdmVybGFwcGluZyBiZXR3ZWVuIGZyYWdtZW50cyBkZXRlY3RlZFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGhvbGUvZ2FwIDogc2V0IERUUyB0byBuZXh0IGV4cGVjdGVkIERUU1xuICAgICAgICAgICAgICAgIGZpcnN0RFRTID0gbmV4dEF2Y0R0cztcbiAgICAgICAgICAgICAgICBpbnB1dFNhbXBsZXNbMF0uZHRzID0gZmlyc3REVFM7XG4gICAgICAgICAgICAgICAgLy8gb2Zmc2V0IFBUUyBhcyB3ZWxsLCBlbnN1cmUgdGhhdCBQVFMgaXMgc21hbGxlciBvciBlcXVhbCB0aGFuIG5ldyBEVFNcbiAgICAgICAgICAgICAgICBmaXJzdFBUUyA9IE1hdGgubWF4KGZpcnN0UFRTIC0gZGVsdGEsIG5leHRBdmNEdHMpO1xuICAgICAgICAgICAgICAgIGlucHV0U2FtcGxlc1swXS5wdHMgPSBmaXJzdFBUUztcbiAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiVmlkZW8vUFRTL0RUUyBhZGp1c3RlZDogXCIgKyBNYXRoLnJvdW5kKGZpcnN0UFRTIC8gOTApICsgXCIvXCIgKyBNYXRoLnJvdW5kKGZpcnN0RFRTIC8gOTApICsgXCIsZGVsdGE6XCIgKyBkZWx0YSArIFwiIG1zXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbXB1dGUgbGFzdFBUUy9sYXN0RFRTXG4gICAgICAgIHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpbnB1dFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3REVFMgPSBNYXRoLm1heChzYW1wbGUuZHRzLCAwKTtcbiAgICAgICAgbGFzdFBUUyA9IE1hdGgubWF4KHNhbXBsZS5wdHMsIDAsIGxhc3REVFMpO1xuICAgICAgICAvLyBvbiBTYWZhcmkgbGV0J3Mgc2lnbmFsIHRoZSBzYW1lIHNhbXBsZSBkdXJhdGlvbiBmb3IgYWxsIHNhbXBsZXNcbiAgICAgICAgLy8gc2FtcGxlIGR1cmF0aW9uIChhcyBleHBlY3RlZCBieSB0cnVuIE1QNCBib3hlcyksIHNob3VsZCBiZSB0aGUgZGVsdGEgYmV0d2VlbiBzYW1wbGUgRFRTXG4gICAgICAgIC8vIHNldCB0aGlzIGNvbnN0YW50IGR1cmF0aW9uIGFzIGJlaW5nIHRoZSBhdmcgZGVsdGEgYmV0d2VlbiBjb25zZWN1dGl2ZSBEVFMuXG4gICAgICAgIGlmIChpc1NhZmFyaSkge1xuICAgICAgICAgICAgbXA0U2FtcGxlRHVyYXRpb24gPSBNYXRoLnJvdW5kKChsYXN0RFRTIC0gZmlyc3REVFMpIC8gKGlucHV0U2FtcGxlcy5sZW5ndGggLSAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5iTmFsdSA9IDAsIG5hbHVMZW4gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5iU2FtcGxlczsgaSsrKSB7XG4gICAgICAgICAgICAvLyBjb21wdXRlIHRvdGFsL2F2YyBzYW1wbGUgbGVuZ3RoIGFuZCBuYiBvZiBOQUwgdW5pdHNcbiAgICAgICAgICAgIHZhciBzYW1wbGVfMSA9IGlucHV0U2FtcGxlc1tpXSwgdW5pdHMgPSBzYW1wbGVfMS51bml0cywgbmJVbml0cyA9IHVuaXRzLmxlbmd0aCwgc2FtcGxlTGVuID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbmJVbml0czsgaisrKSB7XG4gICAgICAgICAgICAgICAgc2FtcGxlTGVuICs9IHVuaXRzW2pdLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmFsdUxlbiArPSBzYW1wbGVMZW47XG4gICAgICAgICAgICBuYk5hbHUgKz0gbmJVbml0cztcbiAgICAgICAgICAgIHNhbXBsZV8xLmxlbmd0aCA9IHNhbXBsZUxlbjtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSBQVFMvRFRTXG4gICAgICAgICAgICBpZiAoaXNTYWZhcmkpIHtcbiAgICAgICAgICAgICAgICAvLyBzYW1wbGUgRFRTIGlzIGNvbXB1dGVkIHVzaW5nIGEgY29uc3RhbnQgZGVjb2Rpbmcgb2Zmc2V0IChtcDRTYW1wbGVEdXJhdGlvbikgYmV0d2VlbiBzYW1wbGVzXG4gICAgICAgICAgICAgICAgc2FtcGxlXzEuZHRzID0gZmlyc3REVFMgKyBpICogbXA0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgc2FtcGxlIG1vbm90b25pYyBEVFNcbiAgICAgICAgICAgICAgICBzYW1wbGVfMS5kdHMgPSBNYXRoLm1heChzYW1wbGVfMS5kdHMsIGZpcnN0RFRTKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVuc3VyZSB0aGF0IGNvbXB1dGVkIHZhbHVlIGlzIGdyZWF0ZXIgb3IgZXF1YWwgdGhhbiBzYW1wbGUgRFRTXG4gICAgICAgICAgICBzYW1wbGVfMS5wdHMgPSBNYXRoLm1heChzYW1wbGVfMS5wdHMsIHNhbXBsZV8xLmR0cyk7XG4gICAgICAgIH1cbiAgICAgICAgLyogY29uY2F0ZW5hdGUgdGhlIHZpZGVvIGRhdGEgYW5kIGNvbnN0cnVjdCB0aGUgbWRhdCBpbiBwbGFjZVxuICAgICAgICAgIChuZWVkIDggbW9yZSBieXRlcyB0byBmaWxsIGxlbmd0aCBhbmQgbXBkYXQgdHlwZSkgKi9cbiAgICAgICAgdmFyIG1kYXRTaXplID0gbmFsdUxlbiArICg0ICogbmJOYWx1KSArIDg7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBtZGF0ID0gbmV3IFVpbnQ4QXJyYXkobWRhdFNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkVSUk9SLCB7IHR5cGU6IGVycm9yc18xLkVycm9yVHlwZXMuTVVYX0VSUk9SLCBkZXRhaWxzOiBlcnJvcnNfMS5FcnJvckRldGFpbHMuUkVNVVhfQUxMT0NfRVJST1IsIGZhdGFsOiBmYWxzZSwgYnl0ZXM6IG1kYXRTaXplLCByZWFzb246IFwiZmFpbCBhbGxvY2F0aW5nIHZpZGVvIG1kYXQgXCIgKyBtZGF0U2l6ZSB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlldyA9IG5ldyBEYXRhVmlldyhtZGF0LmJ1ZmZlcik7XG4gICAgICAgIHZpZXcuc2V0VWludDMyKDAsIG1kYXRTaXplKTtcbiAgICAgICAgbWRhdC5zZXQobXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQudHlwZXMubWRhdCwgNCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBhdmNTYW1wbGUgPSBpbnB1dFNhbXBsZXNbaV0sIGF2Y1NhbXBsZVVuaXRzID0gYXZjU2FtcGxlLnVuaXRzLCBtcDRTYW1wbGVMZW5ndGggPSAwLCBjb21wb3NpdGlvblRpbWVPZmZzZXQgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBjb252ZXJ0IE5BTFUgYml0c3RyZWFtIHRvIE1QNCBmb3JtYXQgKHByZXBlbmQgTkFMVSB3aXRoIHNpemUgZmllbGQpXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgbmJVbml0cyA9IGF2Y1NhbXBsZVVuaXRzLmxlbmd0aDsgaiA8IG5iVW5pdHM7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciB1bml0ID0gYXZjU2FtcGxlVW5pdHNbal0sIHVuaXREYXRhID0gdW5pdC5kYXRhLCB1bml0RGF0YUxlbiA9IHVuaXQuZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZpZXcuc2V0VWludDMyKG9mZnNldCwgdW5pdERhdGFMZW4pO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgIG1kYXQuc2V0KHVuaXREYXRhLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIG9mZnNldCArPSB1bml0RGF0YUxlbjtcbiAgICAgICAgICAgICAgICBtcDRTYW1wbGVMZW5ndGggKz0gNCArIHVuaXREYXRhTGVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc1NhZmFyaSkge1xuICAgICAgICAgICAgICAgIC8vIGV4cGVjdGVkIHNhbXBsZSBkdXJhdGlvbiBpcyB0aGUgRGVjb2RpbmcgVGltZXN0YW1wIGRpZmYgb2YgY29uc2VjdXRpdmUgc2FtcGxlc1xuICAgICAgICAgICAgICAgIGlmIChpIDwgbmJTYW1wbGVzIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGlucHV0U2FtcGxlc1tpICsgMV0uZHRzIC0gYXZjU2FtcGxlLmR0cztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb25maWcgPSB0aGlzLmNvbmZpZywgbGFzdEZyYW1lRHVyYXRpb24gPSBhdmNTYW1wbGUuZHRzIC0gaW5wdXRTYW1wbGVzW2kgPiAwID8gaSAtIDEgOiBpXS5kdHM7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25maWcuc3RyZXRjaFNob3J0VmlkZW9UcmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW4gc29tZSBjYXNlcywgYSBzZWdtZW50J3MgYXVkaW8gdHJhY2sgZHVyYXRpb24gbWF5IGV4Y2VlZCB0aGUgdmlkZW8gdHJhY2sgZHVyYXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB3ZSd2ZSBhbHJlYWR5IHJlbXV4ZWQgYXVkaW8sIGFuZCB3ZSBrbm93IGhvdyBsb25nIHRoZSBhdWRpbyB0cmFjayBpcywgd2UgbG9vayB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VlIGlmIHRoZSBkZWx0YSB0byB0aGUgbmV4dCBzZWdtZW50IGlzIGxvbmdlciB0aGFuIG1heEJ1ZmZlckhvbGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBzbywgcGxheWJhY2sgd291bGQgcG90ZW50aWFsbHkgZ2V0IHN0dWNrLCBzbyB3ZSBhcnRpZmljaWFsbHkgaW5mbGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGR1cmF0aW9uIG9mIHRoZSBsYXN0IGZyYW1lIHRvIG1pbmltaXplIGFueSBwb3RlbnRpYWwgZ2FwIGJldHdlZW4gc2VnbWVudHMuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF4QnVmZmVySG9sZSA9IGNvbmZpZy5tYXhCdWZmZXJIb2xlLCBnYXBUb2xlcmFuY2UgPSBNYXRoLmZsb29yKG1heEJ1ZmZlckhvbGUgKiB0aW1lU2NhbGUpLCBkZWx0YVRvRnJhbWVFbmQgPSAoYXVkaW9UcmFja0xlbmd0aCA/IGZpcnN0UFRTICsgYXVkaW9UcmFja0xlbmd0aCAqIHRpbWVTY2FsZSA6IHRoaXMubmV4dEF1ZGlvUHRzKSAtIGF2Y1NhbXBsZS5wdHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVsdGFUb0ZyYW1lRW5kID4gZ2FwVG9sZXJhbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2Ugc3VidHJhY3QgbGFzdEZyYW1lRHVyYXRpb24gZnJvbSBkZWx0YVRvRnJhbWVFbmQgdG8gdHJ5IHRvIHByZXZlbnQgYW55IHZpZGVvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJhbWUgb3ZlcmxhcC4gbWF4QnVmZmVySG9sZSBzaG91bGQgYmUgPj4gbGFzdEZyYW1lRHVyYXRpb24gYW55d2F5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gZGVsdGFUb0ZyYW1lRW5kIC0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1wNFNhbXBsZUR1cmF0aW9uIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKFwiSXQgaXMgYXBwcm94aW1hdGVseSBcIiArIGRlbHRhVG9GcmFtZUVuZCAvIDkwICsgXCIgbXMgdG8gdGhlIG5leHQgc2VnbWVudDsgdXNpbmcgZHVyYXRpb24gXCIgKyBtcDRTYW1wbGVEdXJhdGlvbiAvIDkwICsgXCIgbXMgZm9yIHRoZSBsYXN0IHZpZGVvIGZyYW1lLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZUR1cmF0aW9uID0gbGFzdEZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVEdXJhdGlvbiA9IGxhc3RGcmFtZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbXBvc2l0aW9uVGltZU9mZnNldCA9IE1hdGgucm91bmQoYXZjU2FtcGxlLnB0cyAtIGF2Y1NhbXBsZS5kdHMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29tcG9zaXRpb25UaW1lT2Zmc2V0ID0gTWF0aC5tYXgoMCwgbXA0U2FtcGxlRHVyYXRpb24gKiBNYXRoLnJvdW5kKChhdmNTYW1wbGUucHRzIC0gYXZjU2FtcGxlLmR0cykgLyBtcDRTYW1wbGVEdXJhdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ1BUUy9EVFMvaW5pdERUUy9ub3JtUFRTL25vcm1EVFMvcmVsYXRpdmUgUFRTIDogJHthdmNTYW1wbGUucHRzfS8ke2F2Y1NhbXBsZS5kdHN9LyR7aW5pdERUU30vJHtwdHNub3JtfS8ke2R0c25vcm19LyR7KGF2Y1NhbXBsZS5wdHMvNDI5NDk2NzI5NikudG9GaXhlZCgzKX0nKTtcbiAgICAgICAgICAgIG91dHB1dFNhbXBsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgc2l6ZTogbXA0U2FtcGxlTGVuZ3RoLFxuICAgICAgICAgICAgICAgIC8vIGNvbnN0YW50IGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IG1wNFNhbXBsZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGN0czogY29tcG9zaXRpb25UaW1lT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgaXNEZXBlbmRlZE9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwLFxuICAgICAgICAgICAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZXBlbmRzT246IGF2Y1NhbXBsZS5rZXkgPyAyIDogMSxcbiAgICAgICAgICAgICAgICAgICAgaXNOb25TeW5jOiBhdmNTYW1wbGUua2V5ID8gMCA6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBuZXh0IEFWQyBzYW1wbGUgRFRTIHNob3VsZCBiZSBlcXVhbCB0byBsYXN0IHNhbXBsZSBEVFMgKyBsYXN0IHNhbXBsZSBkdXJhdGlvbiAoaW4gUEVTIHRpbWVzY2FsZSlcbiAgICAgICAgdGhpcy5uZXh0QXZjRHRzID0gbGFzdERUUyArIG1wNFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICB2YXIgZHJvcHBlZCA9IHRyYWNrLmRyb3BwZWQ7XG4gICAgICAgIHRyYWNrLmxlbiA9IDA7XG4gICAgICAgIHRyYWNrLm5iTmFsdSA9IDA7XG4gICAgICAgIHRyYWNrLmRyb3BwZWQgPSAwO1xuICAgICAgICBpZiAob3V0cHV0U2FtcGxlcy5sZW5ndGggJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2Nocm9tZScpID4gLTEpIHtcbiAgICAgICAgICAgIHZhciBmbGFncyA9IG91dHB1dFNhbXBsZXNbMF0uZmxhZ3M7XG4gICAgICAgICAgICAvLyBjaHJvbWUgd29ya2Fyb3VuZCwgbWFyayBmaXJzdCBzYW1wbGUgYXMgYmVpbmcgYSBSYW5kb20gQWNjZXNzIFBvaW50IHRvIGF2b2lkIHNvdXJjZWJ1ZmZlciBhcHBlbmQgaXNzdWVcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjk0MTJcbiAgICAgICAgICAgIGZsYWdzLmRlcGVuZHNPbiA9IDI7XG4gICAgICAgICAgICBmbGFncy5pc05vblN5bmMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBvdXRwdXRTYW1wbGVzO1xuICAgICAgICBtb29mID0gbXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQubW9vZih0cmFjay5zZXF1ZW5jZU51bWJlcisrLCBmaXJzdERUUywgdHJhY2spO1xuICAgICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgICAgIHZhciBkYXRhID0ge1xuICAgICAgICAgICAgZGF0YTE6IG1vb2YsXG4gICAgICAgICAgICBkYXRhMjogbWRhdCxcbiAgICAgICAgICAgIHN0YXJ0UFRTOiBmaXJzdFBUUyAvIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIGVuZFBUUzogKGxhc3RQVFMgKyBtcDRTYW1wbGVEdXJhdGlvbikgLyB0aW1lU2NhbGUsXG4gICAgICAgICAgICBzdGFydERUUzogZmlyc3REVFMgLyB0aW1lU2NhbGUsXG4gICAgICAgICAgICBlbmREVFM6IHRoaXMubmV4dEF2Y0R0cyAvIHRpbWVTY2FsZSxcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICBoYXNBdWRpbzogZmFsc2UsXG4gICAgICAgICAgICBoYXNWaWRlbzogdHJ1ZSxcbiAgICAgICAgICAgIG5iOiBvdXRwdXRTYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgICAgIGRyb3BwZWQ6IGRyb3BwZWRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9O1xuICAgIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4QXVkaW8gPSBmdW5jdGlvbiAodHJhY2ssIHRpbWVPZmZzZXQsIGNvbnRpZ3VvdXMsIGFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICB2YXIgaW5wdXRUaW1lU2NhbGUgPSB0cmFjay5pbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgdmFyIG1wNHRpbWVTY2FsZSA9IHRyYWNrLnRpbWVzY2FsZTtcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gaW5wdXRUaW1lU2NhbGUgLyBtcDR0aW1lU2NhbGU7XG4gICAgICAgIHZhciBtcDRTYW1wbGVEdXJhdGlvbiA9IHRyYWNrLmlzQUFDID8gMTAyNCA6IDExNTI7XG4gICAgICAgIHZhciBpbnB1dFNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlRHVyYXRpb24gKiBzY2FsZUZhY3RvcjtcbiAgICAgICAgdmFyIHB0c05vcm1hbGl6ZSA9IHRoaXMuX1BUU05vcm1hbGl6ZTtcbiAgICAgICAgdmFyIGluaXRQVFMgPSB0aGlzLl9pbml0UFRTO1xuICAgICAgICB2YXIgcmF3TVBFRyA9ICF0cmFjay5pc0FBQyAmJiB0aGlzLnR5cGVTdXBwb3J0ZWQubXBlZztcbiAgICAgICAgdmFyIG9mZnNldCwgbXA0U2FtcGxlLCBmaWxsRnJhbWUsIG1kYXQsIG1vb2YsIGZpcnN0UFRTLCBsYXN0UFRTLCBpbnB1dFNhbXBsZXMgPSB0cmFjay5zYW1wbGVzLCBvdXRwdXRTYW1wbGVzID0gW10sIG5leHRBdWRpb1B0cyA9IHRoaXMubmV4dEF1ZGlvUHRzO1xuICAgICAgICAvLyBmb3IgYXVkaW8gc2FtcGxlcywgYWxzbyBjb25zaWRlciBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXMgYmVpbmcgY29udGlndW91cyAoZXZlbiBpZiBhIGxldmVsIHN3aXRjaCBvY2N1cnMpLFxuICAgICAgICAvLyBmb3Igc2FrZSBvZiBjbGFyaXR5OlxuICAgICAgICAvLyBjb25zZWN1dGl2ZSBmcmFnbWVudHMgYXJlIGZyYWdzIHdpdGhcbiAgICAgICAgLy8gIC0gbGVzcyB0aGFuIDEwMG1zIGdhcHMgYmV0d2VlbiBuZXcgdGltZSBvZmZzZXQgKGlmIGFjY3VyYXRlKSBhbmQgbmV4dCBleHBlY3RlZCBQVFMgT1JcbiAgICAgICAgLy8gIC0gbGVzcyB0aGFuIDIwIGF1ZGlvIGZyYW1lcyBkaXN0YW5jZVxuICAgICAgICAvLyBjb250aWd1b3VzIGZyYWdtZW50cyBhcmUgY29uc2VjdXRpdmUgZnJhZ21lbnRzIGZyb20gc2FtZSBxdWFsaXR5IGxldmVsIChzYW1lIGxldmVsLCBuZXcgU04gPSBvbGQgU04gKyAxKVxuICAgICAgICAvLyB0aGlzIGhlbHBzIGVuc3VyaW5nIGF1ZGlvIGNvbnRpbnVpdHlcbiAgICAgICAgLy8gYW5kIHRoaXMgYWxzbyBhdm9pZHMgYXVkaW8gZ2xpdGNoZXMvY3V0IHdoZW4gc3dpdGNoaW5nIHF1YWxpdHksIG9yIHJlcG9ydGluZyB3cm9uZyBkdXJhdGlvbiBvbiBmaXJzdCBhdWRpbyBmcmFtZVxuICAgICAgICBjb250aWd1b3VzIHw9IChpbnB1dFNhbXBsZXMubGVuZ3RoICYmIG5leHRBdWRpb1B0cyAmJlxuICAgICAgICAgICAgKChhY2N1cmF0ZVRpbWVPZmZzZXQgJiYgTWF0aC5hYnModGltZU9mZnNldCAtIG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlKSA8IDAuMSkgfHxcbiAgICAgICAgICAgICAgICBNYXRoLmFicygoaW5wdXRTYW1wbGVzWzBdLnB0cyAtIG5leHRBdWRpb1B0cyAtIGluaXRQVFMpKSA8IDIwICogaW5wdXRTYW1wbGVEdXJhdGlvbikpO1xuICAgICAgICAvLyBjb21wdXRlIG5vcm1hbGl6ZWQgUFRTXG4gICAgICAgIGlucHV0U2FtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uIChzYW1wbGUpIHtcbiAgICAgICAgICAgIHNhbXBsZS5wdHMgPSBzYW1wbGUuZHRzID0gcHRzTm9ybWFsaXplKHNhbXBsZS5wdHMgLSBpbml0UFRTLCB0aW1lT2Zmc2V0ICogaW5wdXRUaW1lU2NhbGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gZmlsdGVyIG91dCBzYW1wbGUgd2l0aCBuZWdhdGl2ZSBQVFMgdGhhdCBhcmUgbm90IHBsYXlhYmxlIGFueXdheVxuICAgICAgICAvLyBpZiB3ZSBkb24ndCByZW1vdmUgdGhlc2UgbmVnYXRpdmUgc2FtcGxlcywgdGhleSB3aWxsIHNoaWZ0IGFsbCBhdWRpbyBzYW1wbGVzIGZvcndhcmQuXG4gICAgICAgIC8vIGxlYWRpbmcgdG8gYXVkaW8gb3ZlcmxhcCBiZXR3ZWVuIGN1cnJlbnQgLyBuZXh0IGZyYWdtZW50XG4gICAgICAgIGlucHV0U2FtcGxlcyA9IGlucHV0U2FtcGxlcy5maWx0ZXIoZnVuY3Rpb24gKHNhbXBsZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNhbXBsZS5wdHMgPj0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGluIGNhc2UgYWxsIHNhbXBsZXMgaGF2ZSBuZWdhdGl2ZSBQVFMsIGFuZCBoYXZlIGJlZW4gZmlsdGVyZWQgb3V0LCByZXR1cm4gbm93XG4gICAgICAgIGlmIChpbnB1dFNhbXBsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjb250aWd1b3VzKSB7XG4gICAgICAgICAgICBpZiAoIWFjY3VyYXRlVGltZU9mZnNldCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIGZyYWcgYXJlIG1vdCBjb250aWd1b3VzIGFuZCBpZiB3ZSBjYW50IHRydXN0IHRpbWUgb2Zmc2V0LCBsZXQncyB1c2UgZmlyc3Qgc2FtcGxlIFBUUyBhcyBuZXh0IGF1ZGlvIFBUU1xuICAgICAgICAgICAgICAgIG5leHRBdWRpb1B0cyA9IGlucHV0U2FtcGxlc1swXS5wdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aW1lT2Zmc2V0IGlzIGFjY3VyYXRlLCBsZXQncyB1c2UgaXQgYXMgcHJlZGljdGVkIG5leHQgYXVkaW8gUFRTXG4gICAgICAgICAgICAgICAgbmV4dEF1ZGlvUHRzID0gdGltZU9mZnNldCAqIGlucHV0VGltZVNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZSBhdWRpbyB0cmFjayBpcyBtaXNzaW5nIHNhbXBsZXMsIHRoZSBmcmFtZXMgc2VlbSB0byBnZXQgXCJsZWZ0LXNoaWZ0ZWRcIiB3aXRoaW4gdGhlXG4gICAgICAgIC8vIHJlc3VsdGluZyBtcDQgc2VnbWVudCwgY2F1c2luZyBzeW5jIGlzc3VlcyBhbmQgbGVhdmluZyBnYXBzIGF0IHRoZSBlbmQgb2YgdGhlIGF1ZGlvIHNlZ21lbnQuXG4gICAgICAgIC8vIEluIGFuIGVmZm9ydCB0byBwcmV2ZW50IHRoaXMgZnJvbSBoYXBwZW5pbmcsIHdlIGluamVjdCBmcmFtZXMgaGVyZSB3aGVyZSB0aGVyZSBhcmUgZ2Fwcy5cbiAgICAgICAgLy8gV2hlbiBwb3NzaWJsZSwgd2UgaW5qZWN0IGEgc2lsZW50IGZyYW1lOyB3aGVuIHRoYXQncyBub3QgcG9zc2libGUsIHdlIGR1cGxpY2F0ZSB0aGUgbGFzdFxuICAgICAgICAvLyBmcmFtZS5cbiAgICAgICAgaWYgKHRyYWNrLmlzQUFDKSB7XG4gICAgICAgICAgICB2YXIgbWF4QXVkaW9GcmFtZXNEcmlmdCA9IHRoaXMuY29uZmlnLm1heEF1ZGlvRnJhbWVzRHJpZnQ7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbmV4dFB0cyA9IG5leHRBdWRpb1B0czsgaSA8IGlucHV0U2FtcGxlcy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyc3QsIGxldCdzIHNlZSBob3cgZmFyIG9mZiB0aGlzIGZyYW1lIGlzIGZyb20gd2hlcmUgd2UgZXhwZWN0IGl0IHRvIGJlXG4gICAgICAgICAgICAgICAgdmFyIHNhbXBsZSA9IGlucHV0U2FtcGxlc1tpXSwgZGVsdGE7XG4gICAgICAgICAgICAgICAgdmFyIHB0cyA9IHNhbXBsZS5wdHM7XG4gICAgICAgICAgICAgICAgZGVsdGEgPSBwdHMgLSBuZXh0UHRzO1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKDEwMDAgKiBkZWx0YSAvIGlucHV0VGltZVNjYWxlKTtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSdyZSBvdmVybGFwcGluZyBieSBtb3JlIHRoYW4gYSBkdXJhdGlvbiwgZHJvcCB0aGlzIHNhbXBsZVxuICAgICAgICAgICAgICAgIGlmIChkZWx0YSA8PSAtbWF4QXVkaW9GcmFtZXNEcmlmdCAqIGlucHV0U2FtcGxlRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJEcm9wcGluZyAxIGF1ZGlvIGZyYW1lIEAgXCIgKyAobmV4dFB0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgXCJzIGR1ZSB0byBcIiArIE1hdGgucm91bmQoZHVyYXRpb24pICsgXCIgbXMgb3ZlcmxhcC5cIik7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0U2FtcGxlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWNrLmxlbiAtPSBzYW1wbGUudW5pdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHRvdWNoIG5leHRQdHNOb3JtIG9yIGlcbiAgICAgICAgICAgICAgICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgYnJhY2Utc3R5bGVcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgbWlzc2luZyBmcmFtZXMgaWY6XG4gICAgICAgICAgICAgICAgLy8gMTogV2UncmUgbW9yZSB0aGFuIG1heEF1ZGlvRnJhbWVzRHJpZnQgZnJhbWUgYXdheVxuICAgICAgICAgICAgICAgIC8vIDI6IE5vdCBtb3JlIHRoYW4gTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTiBhd2F5XG4gICAgICAgICAgICAgICAgLy8gMzogY3VycmVudFRpbWUgKGFrYSBuZXh0UHRzTm9ybSkgaXMgbm90IDBcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkZWx0YSA+PSBtYXhBdWRpb0ZyYW1lc0RyaWZ0ICogaW5wdXRTYW1wbGVEdXJhdGlvbiAmJiBkdXJhdGlvbiA8IE1BWF9TSUxFTlRfRlJBTUVfRFVSQVRJT04gJiYgbmV4dFB0cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWlzc2luZyA9IE1hdGgucm91bmQoZGVsdGEgLyBpbnB1dFNhbXBsZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oXCJJbmplY3RpbmcgXCIgKyBtaXNzaW5nICsgXCIgYXVkaW8gZnJhbWUgQCBcIiArIChuZXh0UHRzIC8gaW5wdXRUaW1lU2NhbGUpLnRvRml4ZWQoMykgKyBcInMgZHVlIHRvIFwiICsgTWF0aC5yb3VuZCgxMDAwICogZGVsdGEgLyBpbnB1dFRpbWVTY2FsZSkgKyBcIiBtcyBnYXAuXCIpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1pc3Npbmc7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1N0YW1wID0gTWF0aC5tYXgobmV4dFB0cywgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWNfaGVscGVyXzEuZGVmYXVsdC5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWxsRnJhbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIubG9nKCdVbmFibGUgdG8gZ2V0IHNpbGVudCBmcmFtZSBmb3IgZ2l2ZW4gYXVkaW8gY29kZWM7IGR1cGxpY2F0aW5nIGxhc3QgZnJhbWUgaW5zdGVhZC4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBzYW1wbGUudW5pdC5zdWJhcnJheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRTYW1wbGVzLnNwbGljZShpLCAwLCB7IHVuaXQ6IGZpbGxGcmFtZSwgcHRzOiBuZXdTdGFtcCwgZHRzOiBuZXdTdGFtcCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrLmxlbiArPSBmaWxsRnJhbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dFB0cyArPSBpbnB1dFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkanVzdCBzYW1wbGUgdG8gbmV4dCBleHBlY3RlZCBwdHNcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlLnB0cyA9IHNhbXBsZS5kdHMgPSBuZXh0UHRzO1xuICAgICAgICAgICAgICAgICAgICBuZXh0UHRzICs9IGlucHV0U2FtcGxlRHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSwganVzdCBhZGp1c3QgcHRzXG4gICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWx0YSkgPiAoMC4xICogaW5wdXRTYW1wbGVEdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvZ2dlci5sb2coYEludmFsaWQgZnJhbWUgZGVsdGEgJHtNYXRoLnJvdW5kKGRlbHRhICsgaW5wdXRTYW1wbGVEdXJhdGlvbil9IGF0IFBUUyAke01hdGgucm91bmQocHRzIC8gOTApfSAoc2hvdWxkIGJlICR7TWF0aC5yb3VuZChpbnB1dFNhbXBsZUR1cmF0aW9uKX0pLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZS5wdHMgPSBzYW1wbGUuZHRzID0gbmV4dFB0cztcbiAgICAgICAgICAgICAgICAgICAgbmV4dFB0cyArPSBpbnB1dFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBuYlNhbXBsZXNfMSA9IGlucHV0U2FtcGxlcy5sZW5ndGg7IGogPCBuYlNhbXBsZXNfMTsgaisrKSB7XG4gICAgICAgICAgICB2YXIgYXVkaW9TYW1wbGUgPSBpbnB1dFNhbXBsZXNbal07XG4gICAgICAgICAgICB2YXIgdW5pdCA9IGF1ZGlvU2FtcGxlLnVuaXQ7XG4gICAgICAgICAgICB2YXIgcHRzID0gYXVkaW9TYW1wbGUucHRzO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZyhgQXVkaW8vUFRTOiR7TWF0aC5yb3VuZChwdHMvOTApfWApO1xuICAgICAgICAgICAgLy8gaWYgbm90IGZpcnN0IHNhbXBsZVxuICAgICAgICAgICAgaWYgKGxhc3RQVFMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIG1wNFNhbXBsZS5kdXJhdGlvbiA9IE1hdGgucm91bmQoKHB0cyAtIGxhc3RQVFMpIC8gc2NhbGVGYWN0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlbHRhXzEgPSBNYXRoLnJvdW5kKDEwMDAgKiAocHRzIC0gbmV4dEF1ZGlvUHRzKSAvIGlucHV0VGltZVNjYWxlKSwgbnVtTWlzc2luZ0ZyYW1lcyA9IDA7XG4gICAgICAgICAgICAgICAgLy8gaWYgZnJhZ21lbnQgYXJlIGNvbnRpZ3VvdXMsIGRldGVjdCBob2xlL292ZXJsYXBwaW5nIGJldHdlZW4gZnJhZ21lbnRzXG4gICAgICAgICAgICAgICAgLy8gY29udGlndW91cyBmcmFnbWVudHMgYXJlIGNvbnNlY3V0aXZlIGZyYWdtZW50cyBmcm9tIHNhbWUgcXVhbGl0eSBsZXZlbCAoc2FtZSBsZXZlbCwgbmV3IFNOID0gb2xkIFNOICsgMSlcbiAgICAgICAgICAgICAgICBpZiAoY29udGlndW91cyAmJiB0cmFjay5pc0FBQykge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb2cgZGVsdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlbHRhXzEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YV8xID4gMCAmJiBkZWx0YV8xIDwgTUFYX1NJTEVOVF9GUkFNRV9EVVJBVElPTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bU1pc3NpbmdGcmFtZXMgPSBNYXRoLnJvdW5kKChwdHMgLSBuZXh0QXVkaW9QdHMpIC8gaW5wdXRTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhkZWx0YV8xICsgXCIgbXMgaG9sZSBiZXR3ZWVuIEFBQyBzYW1wbGVzIGRldGVjdGVkLGZpbGxpbmcgaXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bU1pc3NpbmdGcmFtZXMgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxGcmFtZSA9IGFhY19oZWxwZXJfMS5kZWZhdWx0LmdldFNpbGVudEZyYW1lKHRyYWNrLm1hbmlmZXN0Q29kZWMgfHwgdHJhY2suY29kZWMsIHRyYWNrLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsbEZyYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSB1bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2subGVuICs9IG51bU1pc3NpbmdGcmFtZXMgKiBmaWxsRnJhbWUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIGZyYW1lIG92ZXJsYXAsIG92ZXJsYXBwaW5nIGZvciBtb3JlIHRoYW4gaGFsZiBhIGZyYW1lIGR1cmFpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRlbHRhXzEgPCAtMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIG92ZXJsYXBwaW5nIGF1ZGlvIGZyYW1lcy4uLiBicm93c2VyIHdpbGwgZGVhbCB3aXRoIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImRyb3Agb3ZlcmxhcHBpbmcgQUFDIHNhbXBsZSwgZXhwZWN0ZWQvcGFyc2VkL2RlbHRhOlwiICsgKG5leHRBdWRpb1B0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgXCJzL1wiICsgKHB0cyAvIGlucHV0VGltZVNjYWxlKS50b0ZpeGVkKDMpICsgXCJzL1wiICsgKC1kZWx0YV8xKSArIFwibXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2subGVuIC09IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBQVFMvRFRTIHRvIGV4cGVjdGVkIFBUUy9EVFNcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0cyA9IG5leHRBdWRpb1B0cztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyByZW1lbWJlciBmaXJzdCBQVFMgb2Ygb3VyIGF1ZGlvU2FtcGxlc1xuICAgICAgICAgICAgICAgIGZpcnN0UFRTID0gcHRzO1xuICAgICAgICAgICAgICAgIGlmICh0cmFjay5sZW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIGNvbmNhdGVuYXRlIHRoZSBhdWRpbyBkYXRhIGFuZCBjb25zdHJ1Y3QgdGhlIG1kYXQgaW4gcGxhY2VcbiAgICAgICAgICAgICAgICAgICAgICAobmVlZCA4IG1vcmUgYnl0ZXMgdG8gZmlsbCBsZW5ndGggYW5kIG1kYXQgdHlwZSkgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIG1kYXRTaXplID0gcmF3TVBFRyA/IHRyYWNrLmxlbiA6IHRyYWNrLmxlbiArIDg7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IHJhd01QRUcgPyAwIDogODtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1kYXQgPSBuZXcgVWludDhBcnJheShtZGF0U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRVJST1IsIHsgdHlwZTogZXJyb3JzXzEuRXJyb3JUeXBlcy5NVVhfRVJST1IsIGRldGFpbHM6IGVycm9yc18xLkVycm9yRGV0YWlscy5SRU1VWF9BTExPQ19FUlJPUiwgZmF0YWw6IGZhbHNlLCBieXRlczogbWRhdFNpemUsIHJlYXNvbjogXCJmYWlsIGFsbG9jYXRpbmcgYXVkaW8gbWRhdCBcIiArIG1kYXRTaXplIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghcmF3TVBFRykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgRGF0YVZpZXcobWRhdC5idWZmZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlldy5zZXRVaW50MzIoMCwgbWRhdFNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWRhdC5zZXQobXA0X2dlbmVyYXRvcl8xLmRlZmF1bHQudHlwZXMubWRhdCwgNCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vIGF1ZGlvIHNhbXBsZXNcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bU1pc3NpbmdGcmFtZXM7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSBhYWNfaGVscGVyXzEuZGVmYXVsdC5nZXRTaWxlbnRGcmFtZSh0cmFjay5tYW5pZmVzdENvZGVjIHx8IHRyYWNrLmNvZGVjLCB0cmFjay5jaGFubmVsQ291bnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbGxGcmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnVW5hYmxlIHRvIGdldCBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjOyBkdXBsaWNhdGluZyB0aGlzIGZyYW1lIGluc3RlYWQuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsRnJhbWUgPSB1bml0LnN1YmFycmF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbWRhdC5zZXQoZmlsbEZyYW1lLCBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gZmlsbEZyYW1lLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGZpbGxGcmFtZS5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3RzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDEwMjQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTGVhZGluZzogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWdyYWRQcmlvOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXRTYW1wbGVzLnB1c2gobXA0U2FtcGxlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZGF0LnNldCh1bml0LCBvZmZzZXQpO1xuICAgICAgICAgICAgdmFyIHVuaXRMZW4gPSB1bml0LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICBvZmZzZXQgKz0gdW5pdExlbjtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdQVFMvRFRTL2luaXREVFMvbm9ybVBUUy9ub3JtRFRTL3JlbGF0aXZlIFBUUyA6ICR7YXVkaW9TYW1wbGUucHRzfS8ke2F1ZGlvU2FtcGxlLmR0c30vJHtpbml0RFRTfS8ke3B0c25vcm19LyR7ZHRzbm9ybX0vJHsoYXVkaW9TYW1wbGUucHRzLzQyOTQ5NjcyOTYpLnRvRml4ZWQoMyl9Jyk7XG4gICAgICAgICAgICBtcDRTYW1wbGUgPSB7XG4gICAgICAgICAgICAgICAgc2l6ZTogdW5pdExlbixcbiAgICAgICAgICAgICAgICBjdHM6IDAsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDAsXG4gICAgICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgICAgICAgIGhhc1JlZHVuZGFuY3k6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlZ3JhZFByaW86IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBvdXRwdXRTYW1wbGVzLnB1c2gobXA0U2FtcGxlKTtcbiAgICAgICAgICAgIGxhc3RQVFMgPSBwdHM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxhc3RTYW1wbGVEdXJhdGlvbiA9IDA7XG4gICAgICAgIHZhciBuYlNhbXBsZXMgPSBvdXRwdXRTYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgLy8gc2V0IGxhc3Qgc2FtcGxlIGR1cmF0aW9uIGFzIGJlaW5nIGlkZW50aWNhbCB0byBwcmV2aW91cyBzYW1wbGVcbiAgICAgICAgaWYgKG5iU2FtcGxlcyA+PSAyKSB7XG4gICAgICAgICAgICBsYXN0U2FtcGxlRHVyYXRpb24gPSBvdXRwdXRTYW1wbGVzW25iU2FtcGxlcyAtIDJdLmR1cmF0aW9uO1xuICAgICAgICAgICAgbXA0U2FtcGxlLmR1cmF0aW9uID0gbGFzdFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuYlNhbXBsZXMpIHtcbiAgICAgICAgICAgIC8vIG5leHQgYXVkaW8gc2FtcGxlIFBUUyBzaG91bGQgYmUgZXF1YWwgdG8gbGFzdCBzYW1wbGUgUFRTICsgZHVyYXRpb25cbiAgICAgICAgICAgIHRoaXMubmV4dEF1ZGlvUHRzID0gbmV4dEF1ZGlvUHRzID0gbGFzdFBUUyArIHNjYWxlRmFjdG9yICogbGFzdFNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnQXVkaW8vUFRTL1BUU2VuZDonICsgYXVkaW9TYW1wbGUucHRzLnRvRml4ZWQoMCkgKyAnLycgKyB0aGlzLm5leHRBYWNEdHMudG9GaXhlZCgwKSk7XG4gICAgICAgICAgICB0cmFjay5sZW4gPSAwO1xuICAgICAgICAgICAgdHJhY2suc2FtcGxlcyA9IG91dHB1dFNhbXBsZXM7XG4gICAgICAgICAgICBpZiAocmF3TVBFRykge1xuICAgICAgICAgICAgICAgIG1vb2YgPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9vZiA9IG1wNF9nZW5lcmF0b3JfMS5kZWZhdWx0Lm1vb2YodHJhY2suc2VxdWVuY2VOdW1iZXIrKywgZmlyc3RQVFMgLyBzY2FsZUZhY3RvciwgdHJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gZmlyc3RQVFMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgICAgIHZhciBlbmQgPSBuZXh0QXVkaW9QdHMgLyBpbnB1dFRpbWVTY2FsZTtcbiAgICAgICAgICAgIHZhciBhdWRpb0RhdGEgPSB7XG4gICAgICAgICAgICAgICAgZGF0YTE6IG1vb2YsXG4gICAgICAgICAgICAgICAgZGF0YTI6IG1kYXQsXG4gICAgICAgICAgICAgICAgc3RhcnRQVFM6IHN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZFBUUzogZW5kLFxuICAgICAgICAgICAgICAgIHN0YXJ0RFRTOiBzdGFydCxcbiAgICAgICAgICAgICAgICBlbmREVFM6IGVuZCxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYXVkaW8nLFxuICAgICAgICAgICAgICAgIGhhc0F1ZGlvOiB0cnVlLFxuICAgICAgICAgICAgICAgIGhhc1ZpZGVvOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBuYjogbmJTYW1wbGVzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIGF1ZGlvRGF0YSk7XG4gICAgICAgICAgICByZXR1cm4gYXVkaW9EYXRhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgTVA0UmVtdXhlci5wcm90b3R5cGUucmVtdXhFbXB0eUF1ZGlvID0gZnVuY3Rpb24gKHRyYWNrLCB0aW1lT2Zmc2V0LCBjb250aWd1b3VzLCB2aWRlb0RhdGEpIHtcbiAgICAgICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGUsIG1wNHRpbWVTY2FsZSA9IHRyYWNrLnNhbXBsZXJhdGUgPyB0cmFjay5zYW1wbGVyYXRlIDogaW5wdXRUaW1lU2NhbGUsIHNjYWxlRmFjdG9yID0gaW5wdXRUaW1lU2NhbGUgLyBtcDR0aW1lU2NhbGUsIG5leHRBdWRpb1B0cyA9IHRoaXMubmV4dEF1ZGlvUHRzLCBcbiAgICAgICAgLy8gc3luYyB3aXRoIHZpZGVvJ3MgdGltZXN0YW1wXG4gICAgICAgIHN0YXJ0RFRTID0gKG5leHRBdWRpb1B0cyAhPT0gdW5kZWZpbmVkID8gbmV4dEF1ZGlvUHRzIDogdmlkZW9EYXRhLnN0YXJ0RFRTICogaW5wdXRUaW1lU2NhbGUpICsgdGhpcy5faW5pdERUUywgZW5kRFRTID0gdmlkZW9EYXRhLmVuZERUUyAqIGlucHV0VGltZVNjYWxlICsgdGhpcy5faW5pdERUUywgXG4gICAgICAgIC8vIG9uZSBzYW1wbGUncyBkdXJhdGlvbiB2YWx1ZVxuICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IDEwMjQsIGZyYW1lRHVyYXRpb24gPSBzY2FsZUZhY3RvciAqIHNhbXBsZUR1cmF0aW9uLCBcbiAgICAgICAgLy8gc2FtcGxlcyBjb3VudCBvZiB0aGlzIHNlZ21lbnQncyBkdXJhdGlvblxuICAgICAgICBuYlNhbXBsZXMgPSBNYXRoLmNlaWwoKGVuZERUUyAtIHN0YXJ0RFRTKSAvIGZyYW1lRHVyYXRpb24pLCBcbiAgICAgICAgLy8gc2lsZW50IGZyYW1lXG4gICAgICAgIHNpbGVudEZyYW1lID0gYWFjX2hlbHBlcl8xLmRlZmF1bHQuZ2V0U2lsZW50RnJhbWUodHJhY2subWFuaWZlc3RDb2RlYyB8fCB0cmFjay5jb2RlYywgdHJhY2suY2hhbm5lbENvdW50KTtcbiAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLndhcm4oJ3JlbXV4IGVtcHR5IEF1ZGlvJyk7XG4gICAgICAgIC8vIENhbid0IHJlbXV4IGlmIHdlIGNhbid0IGdlbmVyYXRlIGEgc2lsZW50IGZyYW1lLi4uXG4gICAgICAgIGlmICghc2lsZW50RnJhbWUpIHtcbiAgICAgICAgICAgIGxvZ2dlcl8xLmxvZ2dlci50cmFjZSgnVW5hYmxlIHRvIHJlbXV4RW1wdHlBdWRpbyBzaW5jZSB3ZSB3ZXJlIHVuYWJsZSB0byBnZXQgYSBzaWxlbnQgZnJhbWUgZm9yIGdpdmVuIGF1ZGlvIGNvZGVjIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzYW1wbGVzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmJTYW1wbGVzOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzdGFtcCA9IHN0YXJ0RFRTICsgaSAqIGZyYW1lRHVyYXRpb247XG4gICAgICAgICAgICBzYW1wbGVzLnB1c2goeyB1bml0OiBzaWxlbnRGcmFtZSwgcHRzOiBzdGFtcCwgZHRzOiBzdGFtcCB9KTtcbiAgICAgICAgICAgIHRyYWNrLmxlbiArPSBzaWxlbnRGcmFtZS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IHNhbXBsZXM7XG4gICAgICAgIHRoaXMucmVtdXhBdWRpbyh0cmFjaywgdGltZU9mZnNldCwgY29udGlndW91cyk7XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5yZW11eElEMyA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB2YXIgbGVuZ3RoID0gdHJhY2suc2FtcGxlcy5sZW5ndGgsIHNhbXBsZTtcbiAgICAgICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgIHZhciBpbml0UFRTID0gdGhpcy5faW5pdFBUUztcbiAgICAgICAgdmFyIGluaXREVFMgPSB0aGlzLl9pbml0RFRTO1xuICAgICAgICAvLyBjb25zdW1lIHNhbXBsZXNcbiAgICAgICAgaWYgKGxlbmd0aCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHNhbXBsZSA9IHRyYWNrLnNhbXBsZXNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIC8vIHNldHRpbmcgaWQzIHB0cywgZHRzIHRvIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgICAgICAgICAvLyB1c2luZyB0aGlzLl9pbml0UFRTIGFuZCB0aGlzLl9pbml0RFRTIHRvIGNhbGN1bGF0ZSByZWxhdGl2ZSB0aW1lXG4gICAgICAgICAgICAgICAgc2FtcGxlLnB0cyA9ICgoc2FtcGxlLnB0cyAtIGluaXRQVFMpIC8gaW5wdXRUaW1lU2NhbGUpO1xuICAgICAgICAgICAgICAgIHNhbXBsZS5kdHMgPSAoKHNhbXBsZS5kdHMgLSBpbml0RFRTKSAvIGlucHV0VGltZVNjYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIudHJpZ2dlcihldmVudHNfMS5kZWZhdWx0LkZSQUdfUEFSU0lOR19NRVRBREFUQSwge1xuICAgICAgICAgICAgICAgIHNhbXBsZXM6IHRyYWNrLnNhbXBsZXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICB9O1xuICAgIE1QNFJlbXV4ZXIucHJvdG90eXBlLnJlbXV4VGV4dCA9IGZ1bmN0aW9uICh0cmFjaykge1xuICAgICAgICB0cmFjay5zYW1wbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiAoYS5wdHMgLSBiLnB0cyk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgbGVuZ3RoID0gdHJhY2suc2FtcGxlcy5sZW5ndGgsIHNhbXBsZTtcbiAgICAgICAgdmFyIGlucHV0VGltZVNjYWxlID0gdHJhY2suaW5wdXRUaW1lU2NhbGU7XG4gICAgICAgIHZhciBpbml0UFRTID0gdGhpcy5faW5pdFBUUztcbiAgICAgICAgLy8gY29uc3VtZSBzYW1wbGVzXG4gICAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBzYW1wbGUgPSB0cmFjay5zYW1wbGVzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAvLyBzZXR0aW5nIHRleHQgcHRzLCBkdHMgdG8gcmVsYXRpdmUgdGltZVxuICAgICAgICAgICAgICAgIC8vIHVzaW5nIHRoaXMuX2luaXRQVFMgYW5kIHRoaXMuX2luaXREVFMgdG8gY2FsY3VsYXRlIHJlbGF0aXZlIHRpbWVcbiAgICAgICAgICAgICAgICBzYW1wbGUucHRzID0gKChzYW1wbGUucHRzIC0gaW5pdFBUUykgLyBpbnB1dFRpbWVTY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNJTkdfVVNFUkRBVEEsIHtcbiAgICAgICAgICAgICAgICBzYW1wbGVzOiB0cmFjay5zYW1wbGVzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFjay5zYW1wbGVzID0gW107XG4gICAgfTtcbiAgICBNUDRSZW11eGVyLnByb3RvdHlwZS5fUFRTTm9ybWFsaXplID0gZnVuY3Rpb24gKHZhbHVlLCByZWZlcmVuY2UpIHtcbiAgICAgICAgdmFyIG9mZnNldDtcbiAgICAgICAgaWYgKHJlZmVyZW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZmVyZW5jZSA8IHZhbHVlKSB7XG4gICAgICAgICAgICAvLyAtIDJeMzNcbiAgICAgICAgICAgIG9mZnNldCA9IC04NTg5OTM0NTkyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gKyAyXjMzXG4gICAgICAgICAgICBvZmZzZXQgPSA4NTg5OTM0NTkyO1xuICAgICAgICB9XG4gICAgICAgIC8qIFBUUyBpcyAzM2JpdCAoZnJvbSAwIHRvIDJeMzMgLTEpXG4gICAgICAgICAgaWYgZGlmZiBiZXR3ZWVuIHZhbHVlIGFuZCByZWZlcmVuY2UgaXMgYmlnZ2VyIHRoYW4gaGFsZiBvZiB0aGUgYW1wbGl0dWRlICgyXjMyKSB0aGVuIGl0IG1lYW5zIHRoYXRcbiAgICAgICAgICBQVFMgbG9vcGluZyBvY2N1cmVkLiBmaWxsIHRoZSBnYXAgKi9cbiAgICAgICAgd2hpbGUgKE1hdGguYWJzKHZhbHVlIC0gcmVmZXJlbmNlKSA+IDQyOTQ5NjcyOTYpIHtcbiAgICAgICAgICAgIHZhbHVlICs9IG9mZnNldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfTtcbiAgICByZXR1cm4gTVA0UmVtdXhlcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBNUDRSZW11eGVyO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3JlbXV4L3Bhc3N0aHJvdWdoLXJlbXV4ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy9yZW11eC9wYXNzdGhyb3VnaC1yZW11eGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKlxuICogcGFzc3Rocm91Z2ggcmVtdXhlclxuKi9cbnZhciBldmVudHNfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL2V2ZW50cyAqLyBcIi4vc3JjL2V2ZW50cy5qc1wiKTtcbnZhciBQYXNzVGhyb3VnaFJlbXV4ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUGFzc1Rocm91Z2hSZW11eGVyKG9ic2VydmVyKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBvYnNlcnZlcjtcbiAgICB9XG4gICAgUGFzc1Rocm91Z2hSZW11eGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gICAgUGFzc1Rocm91Z2hSZW11eGVyLnByb3RvdHlwZS5yZXNldFRpbWVTdGFtcCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVzZXRJbml0U2VnbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFBhc3NUaHJvdWdoUmVtdXhlci5wcm90b3R5cGUucmVtdXggPSBmdW5jdGlvbiAoYXVkaW9UcmFjaywgdmlkZW9UcmFjaywgaWQzVHJhY2ssIHRleHRUcmFjaywgdGltZU9mZnNldCwgY29udGlndW91cywgYWNjdXJhdGVUaW1lT2Zmc2V0LCByYXdEYXRhKSB7XG4gICAgICAgIHZhciBvYnNlcnZlciA9IHRoaXMub2JzZXJ2ZXI7XG4gICAgICAgIHZhciBzdHJlYW1UeXBlID0gJyc7XG4gICAgICAgIGlmIChhdWRpb1RyYWNrKSB7XG4gICAgICAgICAgICBzdHJlYW1UeXBlICs9ICdhdWRpbyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZpZGVvVHJhY2spIHtcbiAgICAgICAgICAgIHN0cmVhbVR5cGUgKz0gJ3ZpZGVvJztcbiAgICAgICAgfVxuICAgICAgICBvYnNlcnZlci50cmlnZ2VyKGV2ZW50c18xLmRlZmF1bHQuRlJBR19QQVJTSU5HX0RBVEEsIHtcbiAgICAgICAgICAgIGRhdGExOiByYXdEYXRhLFxuICAgICAgICAgICAgc3RhcnRQVFM6IHRpbWVPZmZzZXQsXG4gICAgICAgICAgICBzdGFydERUUzogdGltZU9mZnNldCxcbiAgICAgICAgICAgIHR5cGU6IHN0cmVhbVR5cGUsXG4gICAgICAgICAgICBoYXNBdWRpbzogISFhdWRpb1RyYWNrLFxuICAgICAgICAgICAgaGFzVmlkZW86ICEhdmlkZW9UcmFjayxcbiAgICAgICAgICAgIG5iOiAxLFxuICAgICAgICAgICAgZHJvcHBlZDogMFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gbm90aWZ5IGVuZCBvZiBwYXJzaW5nXG4gICAgICAgIG9ic2VydmVyLnRyaWdnZXIoZXZlbnRzXzEuZGVmYXVsdC5GUkFHX1BBUlNFRCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGFzc1Rocm91Z2hSZW11eGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IFBhc3NUaHJvdWdoUmVtdXhlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy90YXNrLWxvb3AuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3Rhc2stbG9vcC5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGV2ZW50X2hhbmRsZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vZXZlbnQtaGFuZGxlciAqLyBcIi4vc3JjL2V2ZW50LWhhbmRsZXIuanNcIik7XG4vKipcbiAqIFN1Yi1jbGFzcyBzcGVjaWFsaXphdGlvbiBvZiBFdmVudEhhbmRsZXIgYmFzZSBjbGFzcy5cbiAqXG4gKiBUYXNrTG9vcCBhbGxvd3MgdG8gc2NoZWR1bGUgYSB0YXNrIGZ1bmN0aW9uIGJlaW5nIGNhbGxlZCAob3B0aW9ubmFseSByZXBlYXRlZGx5KSBvbiB0aGUgbWFpbiBsb29wLFxuICogc2NoZWR1bGVkIGFzeW5jaHJvbmVvdXNseSwgYXZvaWRpbmcgcmVjdXJzaXZlIGNhbGxzIGluIHRoZSBzYW1lIHRpY2suXG4gKlxuICogVGhlIHRhc2sgaXRzZWxmIGlzIGltcGxlbWVudGVkIGluIGBkb1RpY2tgLiBJdCBjYW4gYmUgcmVxdWVzdGVkIGFuZCBjYWxsZWQgZm9yIHNpbmdsZSBleGVjdXRpb25cbiAqIHVzaW5nIHRoZSBgdGlja2AgbWV0aG9kLlxuICpcbiAqIEl0IHdpbGwgYmUgYXNzdXJlZCB0aGF0IHRoZSB0YXNrIGV4ZWN1dGlvbiBtZXRob2QgKGB0aWNrYCkgb25seSBnZXRzIGNhbGxlZCBvbmNlIHBlciBtYWluIGxvb3AgXCJ0aWNrXCIsXG4gKiBubyBtYXR0ZXIgaG93IG9mdGVuIGl0IGdldHMgcmVxdWVzdGVkIGZvciBleGVjdXRpb24uIEV4ZWN1dGlvbiBpbiBmdXJ0aGVyIHRpY2tzIHdpbGwgYmUgc2NoZWR1bGVkIGFjY29yZGluZ2x5LlxuICpcbiAqIElmIGZ1cnRoZXIgZXhlY3V0aW9uIHJlcXVlc3RzIGhhdmUgYWxyZWFkeSBiZWVuIHNjaGVkdWxlZCBvbiB0aGUgbmV4dCB0aWNrLCBpdCBjYW4gYmUgY2hlY2tlZCB3aXRoIGBoYXNOZXh0VGlja2AsXG4gKiBhbmQgY2FuY2VsbGVkIHdpdGggYGNsZWFyTmV4dFRpY2tgLlxuICpcbiAqIFRoZSB0YXNrIGNhbiBiZSBzY2hlZHVsZWQgYXMgYW4gaW50ZXJ2YWwgcmVwZWF0ZWRseSB3aXRoIGEgcGVyaW9kIGFzIHBhcmFtZXRlciAoc2VlIGBzZXRJbnRlcnZhbGAsIGBjbGVhckludGVydmFsYCkuXG4gKlxuICogU3ViLWNsYXNzZXMgbmVlZCB0byBpbXBsZW1lbnQgdGhlIGBkb1RpY2tgIG1ldGhvZCB3aGljaCB3aWxsIGVmZmVjdGl2ZWx5IGhhdmUgdGhlIHRhc2sgZXhlY3V0aW9uIHJvdXRpbmUuXG4gKlxuICogRnVydGhlciBleHBsYW5hdGlvbnM6XG4gKlxuICogVGhlIGJhc2VjbGFzcyBoYXMgYSBgdGlja2AgbWV0aG9kIHRoYXQgd2lsbCBzY2hlZHVsZSB0aGUgZG9UaWNrIGNhbGwuIEl0IG1heSBiZSBjYWxsZWQgc3luY2hyb25lb3VzbHlcbiAqIG9ubHkgZm9yIGEgc3RhY2stZGVwdGggb2Ygb25lLiBPbiByZS1lbnRyYW50IGNhbGxzLCBzdWItc2VxdWVudCBjYWxscyBhcmUgc2NoZWR1bGVkIGZvciBuZXh0IG1haW4gbG9vcCB0aWNrcy5cbiAqXG4gKiBXaGVuIHRoZSB0YXNrIGV4ZWN1dGlvbiAoYHRpY2tgIG1ldGhvZCkgaXMgY2FsbGVkIGluIHJlLWVudHJhbnQgd2F5IHRoaXMgaXMgZGV0ZWN0ZWQgYW5kXG4gKiB3ZSBhcmUgbGltaXRpbmcgdGhlIHRhc2sgZXhlY3V0aW9uIHBlciBjYWxsIHN0YWNrIHRvIGV4YWN0bHkgb25lLCBidXQgc2NoZWR1bGluZy9wb3N0LXBvbmluZyBmdXJ0aGVyXG4gKiB0YXNrIHByb2Nlc3Npbmcgb24gdGhlIG5leHQgbWFpbiBsb29wIGl0ZXJhdGlvbiAoYWxzbyBrbm93biBhcyBcIm5leHQgdGlja1wiIGluIHRoZSBOb2RlL0pTIHJ1bnRpbWUgbGluZ28pLlxuICovXG52YXIgVGFza0xvb3AgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFRhc2tMb29wLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFRhc2tMb29wKGhscykge1xuICAgICAgICB2YXIgZXZlbnRzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBldmVudHNbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmFwcGx5KHRoaXMsIFtobHNdLmNvbmNhdChldmVudHMpKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdGlja0ludGVydmFsID0gbnVsbDtcbiAgICAgICAgX3RoaXMuX3RpY2tUaW1lciA9IG51bGw7XG4gICAgICAgIF90aGlzLl90aWNrQ2FsbENvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2JvdW5kVGljayA9IF90aGlzLnRpY2suYmluZChfdGhpcyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICovXG4gICAgVGFza0xvb3AucHJvdG90eXBlLm9uSGFuZGxlckRlc3Ryb3lpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNsZWFyIGFsbCB0aW1lcnMgYmVmb3JlIHVucmVnaXN0ZXJpbmcgZnJvbSBldmVudCBidXNcbiAgICAgICAgdGhpcy5jbGVhck5leHRUaWNrKCk7XG4gICAgICAgIHRoaXMuY2xlYXJJbnRlcnZhbCgpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgVGFza0xvb3AucHJvdG90eXBlLmhhc0ludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl90aWNrSW50ZXJ2YWw7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBUYXNrTG9vcC5wcm90b3R5cGUuaGFzTmV4dFRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX3RpY2tUaW1lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtaWxsaXMgSW50ZXJ2YWwgdGltZSAobXMpXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgd2hlbiBpbnRlcnZhbCBoYXMgYmVlbiBzY2hlZHVsZWQsIGZhbHNlIHdoZW4gYWxyZWFkeSBzY2hlZHVsZWQgKG5vIGVmZmVjdClcbiAgICAgKi9cbiAgICBUYXNrTG9vcC5wcm90b3R5cGUuc2V0SW50ZXJ2YWwgPSBmdW5jdGlvbiAobWlsbGlzKSB7XG4gICAgICAgIGlmICghdGhpcy5fdGlja0ludGVydmFsKSB7XG4gICAgICAgICAgICB0aGlzLl90aWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCh0aGlzLl9ib3VuZFRpY2ssIG1pbGxpcyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSB3aGVuIGludGVydmFsIHdhcyBjbGVhcmVkLCBmYWxzZSB3aGVuIG5vbmUgd2FzIHNldCAobm8gZWZmZWN0KVxuICAgICAqL1xuICAgIFRhc2tMb29wLnByb3RvdHlwZS5jbGVhckludGVydmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdGlja0ludGVydmFsKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuX3RpY2tJbnRlcnZhbCk7XG4gICAgICAgICAgICB0aGlzLl90aWNrSW50ZXJ2YWwgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgd2hlbiB0aW1lb3V0IHdhcyBjbGVhcmVkLCBmYWxzZSB3aGVuIG5vbmUgd2FzIHNldCAobm8gZWZmZWN0KVxuICAgICAqL1xuICAgIFRhc2tMb29wLnByb3RvdHlwZS5jbGVhck5leHRUaWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fdGlja1RpbWVyKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fdGlja1RpbWVyKTtcbiAgICAgICAgICAgIHRoaXMuX3RpY2tUaW1lciA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBXaWxsIGNhbGwgdGhlIHN1YmNsYXNzIGRvVGljayBpbXBsZW1lbnRhdGlvbiBpbiB0aGlzIG1haW4gbG9vcCB0aWNrXG4gICAgICogb3IgaW4gdGhlIG5leHQgb25lICh2aWEgc2V0VGltZW91dCgsMCkpIGluIGNhc2UgaXQgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWRcbiAgICAgKiBpbiB0aGlzIHRpY2sgKGluIGNhc2UgdGhpcyBpcyBhIHJlLWVudHJhbnQgY2FsbCkuXG4gICAgICovXG4gICAgVGFza0xvb3AucHJvdG90eXBlLnRpY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3RpY2tDYWxsQ291bnQrKztcbiAgICAgICAgaWYgKHRoaXMuX3RpY2tDYWxsQ291bnQgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuZG9UaWNrKCk7XG4gICAgICAgICAgICAvLyByZS1lbnRyYW50IGNhbGwgdG8gdGljayBmcm9tIHByZXZpb3VzIGRvVGljayBjYWxsIHN0YWNrXG4gICAgICAgICAgICAvLyAtPiBzY2hlZHVsZSBhIGNhbGwgb24gdGhlIG5leHQgbWFpbiBsb29wIGl0ZXJhdGlvbiB0byBwcm9jZXNzIHRoaXMgdGFzayBwcm9jZXNzaW5nIHJlcXVlc3RcbiAgICAgICAgICAgIGlmICh0aGlzLl90aWNrQ2FsbENvdW50ID4gMSkge1xuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBvbmx5IG9uZSB0aW1lciBleGlzdHMgYXQgYW55IHRpbWUgYXQgbWF4XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck5leHRUaWNrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdGlja1RpbWVyID0gc2V0VGltZW91dCh0aGlzLl9ib3VuZFRpY2ssIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fdGlja0NhbGxDb3VudCA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZvciBzdWJjbGFzcyB0byBpbXBsZW1lbnQgdGFzayBsb2dpY1xuICAgICAqIEBhYnN0cmFjdFxuICAgICAqL1xuICAgIFRhc2tMb29wLnByb3RvdHlwZS5kb1RpY2sgPSBmdW5jdGlvbiAoKSB7IH07XG4gICAgcmV0dXJuIFRhc2tMb29wO1xufShldmVudF9oYW5kbGVyXzEuZGVmYXVsdCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gVGFza0xvb3A7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvYXR0ci1saXN0LmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9hdHRyLWxpc3QuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovKGZ1bmN0aW9uKE51bWJlcikge1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIERFQ0lNQUxfUkVTT0xVVElPTl9SRUdFWCA9IC9eKFxcZCspeChcXGQrKSQvOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG52YXIgQVRUUl9MSVNUX1JFR0VYID0gL1xccyooLis/KVxccyo9KCg/OlxcXCIuKj9cXFwiKXwuKj8pKD86LHwkKS9nOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXG4vLyBhZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2thbm9uZ2lsL25vZGUtbTN1OHBhcnNlL2Jsb2IvbWFzdGVyL2F0dHJsaXN0LmpzXG52YXIgQXR0ckxpc3QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXR0ckxpc3QoYXR0cnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRycyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGF0dHJzID0gQXR0ckxpc3QucGFyc2VBdHRyTGlzdChhdHRycyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBhdHRycykge1xuICAgICAgICAgICAgaWYgKGF0dHJzLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgICAgICAgICAgdGhpc1thdHRyXSA9IGF0dHJzW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsSW50ZWdlciA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICB2YXIgaW50VmFsdWUgPSBwYXJzZUludCh0aGlzW2F0dHJOYW1lXSwgMTApO1xuICAgICAgICBpZiAoaW50VmFsdWUgPiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICAgICAgcmV0dXJuIEluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRWYWx1ZTtcbiAgICB9O1xuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5oZXhhZGVjaW1hbEludGVnZXIgPSBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXNbYXR0ck5hbWVdKSB7XG4gICAgICAgICAgICB2YXIgc3RyaW5nVmFsdWUgPSAodGhpc1thdHRyTmFtZV0gfHwgJzB4Jykuc2xpY2UoMik7XG4gICAgICAgICAgICBzdHJpbmdWYWx1ZSA9ICgoc3RyaW5nVmFsdWUubGVuZ3RoICYgMSkgPyAnMCcgOiAnJykgKyBzdHJpbmdWYWx1ZTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG5ldyBVaW50OEFycmF5KHN0cmluZ1ZhbHVlLmxlbmd0aCAvIDIpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmdWYWx1ZS5sZW5ndGggLyAyOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZVtpXSA9IHBhcnNlSW50KHN0cmluZ1ZhbHVlLnNsaWNlKGkgKiAyLCBpICogMiArIDIpLCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXR0ckxpc3QucHJvdG90eXBlLmhleGFkZWNpbWFsSW50ZWdlckFzTnVtYmVyID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgIHZhciBpbnRWYWx1ZSA9IHBhcnNlSW50KHRoaXNbYXR0ck5hbWVdLCAxNik7XG4gICAgICAgIGlmIChpbnRWYWx1ZSA+IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSB7XG4gICAgICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludFZhbHVlO1xuICAgIH07XG4gICAgQXR0ckxpc3QucHJvdG90eXBlLmRlY2ltYWxGbG9hdGluZ1BvaW50ID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXNbYXR0ck5hbWVdKTtcbiAgICB9O1xuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5lbnVtZXJhdGVkU3RyaW5nID0gZnVuY3Rpb24gKGF0dHJOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzW2F0dHJOYW1lXTtcbiAgICB9O1xuICAgIEF0dHJMaXN0LnByb3RvdHlwZS5kZWNpbWFsUmVzb2x1dGlvbiA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICB2YXIgcmVzID0gREVDSU1BTF9SRVNPTFVUSU9OX1JFR0VYLmV4ZWModGhpc1thdHRyTmFtZV0pO1xuICAgICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB3aWR0aDogcGFyc2VJbnQocmVzWzFdLCAxMCksXG4gICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KHJlc1syXSwgMTApXG4gICAgICAgIH07XG4gICAgfTtcbiAgICBBdHRyTGlzdC5wYXJzZUF0dHJMaXN0ID0gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgICAgIHZhciBtYXRjaCwgYXR0cnMgPSB7fTtcbiAgICAgICAgQVRUUl9MSVNUX1JFR0VYLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHdoaWxlICgobWF0Y2ggPSBBVFRSX0xJU1RfUkVHRVguZXhlYyhpbnB1dCkpICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaFsyXSwgcXVvdGUgPSAnXCInO1xuICAgICAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YocXVvdGUpID09PSAwICYmXG4gICAgICAgICAgICAgICAgdmFsdWUubGFzdEluZGV4T2YocXVvdGUpID09PSAodmFsdWUubGVuZ3RoIC0gMSkpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnNsaWNlKDEsIC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0dHJzW21hdGNoWzFdXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhdHRycztcbiAgICB9O1xuICAgIHJldHVybiBBdHRyTGlzdDtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBdHRyTGlzdDtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvYmluYXJ5LXNlYXJjaC5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2JpbmFyeS1zZWFyY2guanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIEJpbmFyeVNlYXJjaCA9IHtcbiAgICAvKipcbiAgICAgICAqIFNlYXJjaGVzIGZvciBhbiBpdGVtIGluIGFuIGFycmF5IHdoaWNoIG1hdGNoZXMgYSBjZXJ0YWluIGNvbmRpdGlvbi5cbiAgICAgICAqIFRoaXMgcmVxdWlyZXMgdGhlIGNvbmRpdGlvbiB0byBvbmx5IG1hdGNoIG9uZSBpdGVtIGluIHRoZSBhcnJheSxcbiAgICAgICAqIGFuZCBmb3IgdGhlIGFycmF5IHRvIGJlIG9yZGVyZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtBcnJheX0gbGlzdCBUaGUgYXJyYXkgdG8gc2VhcmNoLlxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyaXNvbkZ1bmN0aW9uXG4gICAgICAgKiAgICAgIENhbGxlZCBhbmQgcHJvdmlkZWQgYSBjYW5kaWRhdGUgaXRlbSBhcyB0aGUgZmlyc3QgYXJndW1lbnQuXG4gICAgICAgKiAgICAgIFNob3VsZCByZXR1cm46XG4gICAgICAgKiAgICAgICAgICA+IC0xIGlmIHRoZSBpdGVtIHNob3VsZCBiZSBsb2NhdGVkIGF0IGEgbG93ZXIgaW5kZXggdGhhbiB0aGUgcHJvdmlkZWQgaXRlbS5cbiAgICAgICAqICAgICAgICAgID4gMSBpZiB0aGUgaXRlbSBzaG91bGQgYmUgbG9jYXRlZCBhdCBhIGhpZ2hlciBpbmRleCB0aGFuIHRoZSBwcm92aWRlZCBpdGVtLlxuICAgICAgICogICAgICAgICAgPiAwIGlmIHRoZSBpdGVtIGlzIHRoZSBpdGVtIHlvdSdyZSBsb29raW5nIGZvci5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHsqfSBUaGUgb2JqZWN0IGlmIGl0IGlzIGZvdW5kIG9yIG51bGwgb3RoZXJ3aXNlLlxuICAgICAgICovXG4gICAgc2VhcmNoOiBmdW5jdGlvbiAobGlzdCwgY29tcGFyaXNvbkZ1bmN0aW9uKSB7XG4gICAgICAgIHZhciBtaW5JbmRleCA9IDA7XG4gICAgICAgIHZhciBtYXhJbmRleCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IG51bGw7XG4gICAgICAgIHZhciBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgIHdoaWxlIChtaW5JbmRleCA8PSBtYXhJbmRleCkge1xuICAgICAgICAgICAgY3VycmVudEluZGV4ID0gKG1pbkluZGV4ICsgbWF4SW5kZXgpIC8gMiB8IDA7XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGxpc3RbY3VycmVudEluZGV4XTtcbiAgICAgICAgICAgIHZhciBjb21wYXJpc29uUmVzdWx0ID0gY29tcGFyaXNvbkZ1bmN0aW9uKGN1cnJlbnRFbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChjb21wYXJpc29uUmVzdWx0ID4gMCkge1xuICAgICAgICAgICAgICAgIG1pbkluZGV4ID0gY3VycmVudEluZGV4ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbXBhcmlzb25SZXN1bHQgPCAwKSB7XG4gICAgICAgICAgICAgICAgbWF4SW5kZXggPSBjdXJyZW50SW5kZXggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBCaW5hcnlTZWFyY2g7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvYnVmZmVyLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2J1ZmZlci1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAbW9kdWxlIEJ1ZmZlckhlbHBlclxuICpcbiAqIFByb3ZpZGluZyBtZXRob2RzIGRlYWxpbmcgd2l0aCBidWZmZXIgbGVuZ3RoIHJldHJpZXZhbCBmb3IgZXhhbXBsZS5cbiAqXG4gKiBJbiBnZW5lcmFsLCBhIGhlbHBlciBhcm91bmQgSFRNTDUgTWVkaWFFbGVtZW50IFRpbWVSYW5nZXMgZ2F0aGVyZWQgZnJvbSBgYnVmZmVyZWRgIHByb3BlcnR5LlxuICpcbiAqIEFsc28gQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9idWZmZXJlZFxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBCdWZmZXJIZWxwZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQnVmZmVySGVscGVyKCkge1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiBgbWVkaWFgJ3MgYnVmZmVyZWQgaW5jbHVkZSBgcG9zaXRpb25gXG4gICAgICogQHBhcmFtIHtIVE1MTWVkaWFFbGVtZW50fFNvdXJjZUJ1ZmZlcn0gbWVkaWFcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcG9zaXRpb25cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBCdWZmZXJIZWxwZXIuaXNCdWZmZXJlZCA9IGZ1bmN0aW9uIChtZWRpYSwgcG9zaXRpb24pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICAgICAgICAgIHZhciBidWZmZXJlZCA9IG1lZGlhLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID49IGJ1ZmZlcmVkLnN0YXJ0KGkpICYmIHBvc2l0aW9uIDw9IGJ1ZmZlcmVkLmVuZChpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGNhdGNoXG4gICAgICAgICAgICAvLyBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIHJlYWQgdGhlICdidWZmZXJlZCcgcHJvcGVydHkgZnJvbSAnU291cmNlQnVmZmVyJzpcbiAgICAgICAgICAgIC8vIFRoaXMgU291cmNlQnVmZmVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IG1lZGlhIHNvdXJjZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIEJ1ZmZlckhlbHBlci5idWZmZXJJbmZvID0gZnVuY3Rpb24gKG1lZGlhLCBwb3MsIG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZidWZmZXJlZCA9IG1lZGlhLmJ1ZmZlcmVkLCBidWZmZXJlZCA9IFtdLCBpID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmZmVyZWQucHVzaCh7IHN0YXJ0OiB2YnVmZmVyZWQuc3RhcnQoaSksIGVuZDogdmJ1ZmZlcmVkLmVuZChpKSB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyZWRJbmZvKGJ1ZmZlcmVkLCBwb3MsIG1heEhvbGVEdXJhdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRvIGNhdGNoXG4gICAgICAgICAgICAvLyBJbnZhbGlkU3RhdGVFcnJvcjogRmFpbGVkIHRvIHJlYWQgdGhlICdidWZmZXJlZCcgcHJvcGVydHkgZnJvbSAnU291cmNlQnVmZmVyJzpcbiAgICAgICAgICAgIC8vIFRoaXMgU291cmNlQnVmZmVyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgcGFyZW50IG1lZGlhIHNvdXJjZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGxlbjogMCwgc3RhcnQ6IHBvcywgZW5kOiBwb3MsIG5leHRTdGFydDogdW5kZWZpbmVkIH07XG4gICAgfTtcbiAgICBCdWZmZXJIZWxwZXIuYnVmZmVyZWRJbmZvID0gZnVuY3Rpb24gKGJ1ZmZlcmVkLCBwb3MsIG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICB2YXIgYnVmZmVyZWQyID0gW10sIFxuICAgICAgICAvLyBidWZmZXJTdGFydCBhbmQgYnVmZmVyRW5kIGFyZSBidWZmZXIgYm91bmRhcmllcyBhcm91bmQgY3VycmVudCB2aWRlbyBwb3NpdGlvblxuICAgICAgICBidWZmZXJMZW4sIGJ1ZmZlclN0YXJ0LCBidWZmZXJFbmQsIGJ1ZmZlclN0YXJ0TmV4dCwgaTtcbiAgICAgICAgLy8gc29ydCBvbiBidWZmZXIuc3RhcnQvc21hbGxlciBlbmQgKElFIGRvZXMgbm90IGFsd2F5cyByZXR1cm4gc29ydGVkIGJ1ZmZlcmVkIHJhbmdlKVxuICAgICAgICBidWZmZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IGEuc3RhcnQgLSBiLnN0YXJ0O1xuICAgICAgICAgICAgaWYgKGRpZmYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBiLmVuZCAtIGEuZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gdGhlcmUgbWlnaHQgYmUgc29tZSBzbWFsbCBob2xlcyBiZXR3ZWVuIGJ1ZmZlciB0aW1lIHJhbmdlXG4gICAgICAgIC8vIGNvbnNpZGVyIHRoYXQgaG9sZXMgc21hbGxlciB0aGFuIG1heEhvbGVEdXJhdGlvbiBhcmUgaXJyZWxldmFudCBhbmQgYnVpbGQgYW5vdGhlclxuICAgICAgICAvLyBidWZmZXIgdGltZSByYW5nZSByZXByZXNlbnRhdGlvbnMgdGhhdCBkaXNjYXJkcyB0aG9zZSBob2xlc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBidWYybGVuID0gYnVmZmVyZWQyLmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChidWYybGVuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ1ZjJlbmQgPSBidWZmZXJlZDJbYnVmMmxlbiAtIDFdLmVuZDtcbiAgICAgICAgICAgICAgICAvLyBpZiBzbWFsbCBob2xlICh2YWx1ZSBiZXR3ZWVuIDAgb3IgbWF4SG9sZUR1cmF0aW9uICkgb3Igb3ZlcmxhcHBpbmcgKG5lZ2F0aXZlKVxuICAgICAgICAgICAgICAgIGlmICgoYnVmZmVyZWRbaV0uc3RhcnQgLSBidWYyZW5kKSA8IG1heEhvbGVEdXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBtZXJnZSBvdmVybGFwcGluZyB0aW1lIHJhbmdlc1xuICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgbGFzdFJhbmdlLmVuZCBvbmx5IGlmIHNtYWxsZXIgdGhhbiBpdGVtLmVuZFxuICAgICAgICAgICAgICAgICAgICAvLyBlLmcuICBbIDEsIDE1XSB3aXRoICBbIDIsOF0gPT4gWyAxLDE1XSAobm8gbmVlZCB0byBtb2RpZnkgbGFzdFJhbmdlLmVuZClcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlcmVhcyBbIDEsIDhdIHdpdGggIFsgMiwxNV0gPT4gWyAxLDE1XSAoIGxhc3RSYW5nZSBzaG91bGQgc3dpdGNoIGZyb20gWzEsOF0gdG8gWzEsMTVdKVxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmZmVyZWRbaV0uZW5kID4gYnVmMmVuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyZWQyW2J1ZjJsZW4gLSAxXS5lbmQgPSBidWZmZXJlZFtpXS5lbmQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJpZyBob2xlXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcmVkMi5wdXNoKGJ1ZmZlcmVkW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmaXJzdCB2YWx1ZVxuICAgICAgICAgICAgICAgIGJ1ZmZlcmVkMi5wdXNoKGJ1ZmZlcmVkW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwLCBidWZmZXJMZW4gPSAwLCBidWZmZXJTdGFydCA9IGJ1ZmZlckVuZCA9IHBvczsgaSA8IGJ1ZmZlcmVkMi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gYnVmZmVyZWQyW2ldLnN0YXJ0LCBlbmQgPSBidWZmZXJlZDJbaV0uZW5kO1xuICAgICAgICAgICAgLy8gbG9nZ2VyLmxvZygnYnVmIHN0YXJ0L2VuZDonICsgYnVmZmVyZWQuc3RhcnQoaSkgKyAnLycgKyBidWZmZXJlZC5lbmQoaSkpO1xuICAgICAgICAgICAgaWYgKChwb3MgKyBtYXhIb2xlRHVyYXRpb24pID49IHN0YXJ0ICYmIHBvcyA8IGVuZCkge1xuICAgICAgICAgICAgICAgIC8vIHBsYXkgcG9zaXRpb24gaXMgaW5zaWRlIHRoaXMgYnVmZmVyIFRpbWVSYW5nZSwgcmV0cmlldmUgZW5kIG9mIGJ1ZmZlciBwb3NpdGlvbiBhbmQgYnVmZmVyIGxlbmd0aFxuICAgICAgICAgICAgICAgIGJ1ZmZlclN0YXJ0ID0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgYnVmZmVyRW5kID0gZW5kO1xuICAgICAgICAgICAgICAgIGJ1ZmZlckxlbiA9IGJ1ZmZlckVuZCAtIHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKChwb3MgKyBtYXhIb2xlRHVyYXRpb24pIDwgc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJTdGFydE5leHQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBsZW46IGJ1ZmZlckxlbiwgc3RhcnQ6IGJ1ZmZlclN0YXJ0LCBlbmQ6IGJ1ZmZlckVuZCwgbmV4dFN0YXJ0OiBidWZmZXJTdGFydE5leHQgfTtcbiAgICB9O1xuICAgIHJldHVybiBCdWZmZXJIZWxwZXI7XG59KCkpO1xuZXhwb3J0cy5CdWZmZXJIZWxwZXIgPSBCdWZmZXJIZWxwZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvY2VhLTYwOC1wYXJzZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICpcbiAqIFRoaXMgY29kZSB3YXMgcG9ydGVkIGZyb20gdGhlIGRhc2guanMgcHJvamVjdCBhdDpcbiAqICAgaHR0cHM6Ly9naXRodWIuY29tL0Rhc2gtSW5kdXN0cnktRm9ydW0vZGFzaC5qcy9ibG9iL2RldmVsb3BtZW50L2V4dGVybmFscy9jZWE2MDgtcGFyc2VyLmpzXG4gKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9EYXNoLUluZHVzdHJ5LUZvcnVtL2Rhc2guanMvY29tbWl0LzgyNjliMjZhNzYxZTA4NTNiYjIxZDc4NzgwZWQ5NDUxNDRlY2RkNGQjZGlmZi03MWJjMjk1YTJkNmI2YjcwOTNhMWQzMjkwZDUzYTRiMlxuICpcbiAqIFRoZSBvcmlnaW5hbCBjb3B5cmlnaHQgYXBwZWFycyBiZWxvdzpcbiAqXG4gKiBUaGUgY29weXJpZ2h0IGluIHRoaXMgc29mdHdhcmUgaXMgYmVpbmcgbWFkZSBhdmFpbGFibGUgdW5kZXIgdGhlIEJTRCBMaWNlbnNlLFxuICogaW5jbHVkZWQgYmVsb3cuIFRoaXMgc29mdHdhcmUgbWF5IGJlIHN1YmplY3QgdG8gb3RoZXIgdGhpcmQgcGFydHkgYW5kIGNvbnRyaWJ1dG9yXG4gKiByaWdodHMsIGluY2x1ZGluZyBwYXRlbnQgcmlnaHRzLCBhbmQgbm8gc3VjaCByaWdodHMgYXJlIGdyYW50ZWQgdW5kZXIgdGhpcyBsaWNlbnNlLlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNS0yMDE2LCBEQVNIIEluZHVzdHJ5IEZvcnVtLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBSZWRpc3RyaWJ1dGlvbiBhbmQgdXNlIGluIHNvdXJjZSBhbmQgYmluYXJ5IGZvcm1zLCB3aXRoIG9yIHdpdGhvdXQgbW9kaWZpY2F0aW9uLFxuICogYXJlIHBlcm1pdHRlZCBwcm92aWRlZCB0aGF0IHRoZSBmb2xsb3dpbmcgY29uZGl0aW9ucyBhcmUgbWV0OlxuICogIDEuIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICogIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb24gYW5kL29yXG4gKiAgb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlIGRpc3RyaWJ1dGlvbi5cbiAqICAyLiBOZWl0aGVyIHRoZSBuYW1lIG9mIERhc2ggSW5kdXN0cnkgRm9ydW0gbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAqICBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIHNvZnR3YXJlXG4gKiAgd2l0aG91dCBzcGVjaWZpYyBwcmlvciB3cml0dGVuIHBlcm1pc3Npb24uXG4gKlxuICogIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgQVMgSVMgQU5EIEFOWVxuICogIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFIElNUExJRURcbiAqICBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQVJFIERJU0NMQUlNRUQuXG4gKiAgSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1IgQU5ZIERJUkVDVCxcbiAqICBJTkRJUkVDVCwgSU5DSURFTlRBTCwgU1BFQ0lBTCwgRVhFTVBMQVJZLCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUXG4gKiAgTk9UIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLCBEQVRBLCBPUlxuICogIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OIEFOWSBUSEVPUlkgT0YgTElBQklMSVRZLFxuICogIFdIRVRIRVIgSU4gQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqICBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0UgT0YgVEhJUyBTT0ZUV0FSRSwgRVZFTiBJRiBBRFZJU0VEIE9GIFRIRVxuICogIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuICovXG4vKipcbiAgICAgKiAgRXhjZXB0aW9ucyBmcm9tIHJlZ3VsYXIgQVNDSUkuIENvZGVQb2ludHMgYXJlIG1hcHBlZCB0byBVVEYtMTYgY29kZXNcbiAgICAgKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2RlcyA9IHtcbiAgICAweDJhOiAweGUxLFxuICAgIDB4NWM6IDB4ZTksXG4gICAgMHg1ZTogMHhlZCxcbiAgICAweDVmOiAweGYzLFxuICAgIDB4NjA6IDB4ZmEsXG4gICAgMHg3YjogMHhlNyxcbiAgICAweDdjOiAweGY3LFxuICAgIDB4N2Q6IDB4ZDEsXG4gICAgMHg3ZTogMHhmMSxcbiAgICAweDdmOiAweDI1ODgsXG4gICAgLy8gVEhJUyBCTE9DSyBJTkNMVURFUyBUSEUgMTYgRVhURU5ERUQgKFRXTy1CWVRFKSBMSU5FIDIxIENIQVJBQ1RFUlNcbiAgICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTEgQU5EIExPVyBCRVRXRUVOIDB4MzAgQU5EIDB4M0ZcbiAgICAvLyBUSElTIE1FQU5TIFRIQVQgXFx4NTAgTVVTVCBCRSBBRERFRCBUTyBUSEUgVkFMVUVTXG4gICAgMHg4MDogMHhhZSxcbiAgICAweDgxOiAweGIwLFxuICAgIDB4ODI6IDB4YmQsXG4gICAgMHg4MzogMHhiZixcbiAgICAweDg0OiAweDIxMjIsXG4gICAgMHg4NTogMHhhMixcbiAgICAweDg2OiAweGEzLFxuICAgIDB4ODc6IDB4MjY2YSxcbiAgICAweDg4OiAweGUwLFxuICAgIDB4ODk6IDB4MjAsXG4gICAgMHg4YTogMHhlOCxcbiAgICAweDhiOiAweGUyLFxuICAgIDB4OGM6IDB4ZWEsXG4gICAgMHg4ZDogMHhlZSxcbiAgICAweDhlOiAweGY0LFxuICAgIDB4OGY6IDB4ZmIsXG4gICAgLy8gVEhJUyBCTE9DSyBJTkNMVURFUyBUSEUgMzIgRVhURU5ERUQgKFRXTy1CWVRFKSBMSU5FIDIxIENIQVJBQ1RFUlNcbiAgICAvLyBUSEFUIENPTUUgRlJPTSBISSBCWVRFPTB4MTIgQU5EIExPVyBCRVRXRUVOIDB4MjAgQU5EIDB4M0ZcbiAgICAweDkwOiAweGMxLFxuICAgIDB4OTE6IDB4YzksXG4gICAgMHg5MjogMHhkMyxcbiAgICAweDkzOiAweGRhLFxuICAgIDB4OTQ6IDB4ZGMsXG4gICAgMHg5NTogMHhmYyxcbiAgICAweDk2OiAweDIwMTgsXG4gICAgMHg5NzogMHhhMSxcbiAgICAweDk4OiAweDJhLFxuICAgIDB4OTk6IDB4MjAxOSxcbiAgICAweDlhOiAweDI1MDEsXG4gICAgMHg5YjogMHhhOSxcbiAgICAweDljOiAweDIxMjAsXG4gICAgMHg5ZDogMHgyMDIyLFxuICAgIDB4OWU6IDB4MjAxYyxcbiAgICAweDlmOiAweDIwMWQsXG4gICAgMHhhMDogMHhjMCxcbiAgICAweGExOiAweGMyLFxuICAgIDB4YTI6IDB4YzcsXG4gICAgMHhhMzogMHhjOCxcbiAgICAweGE0OiAweGNhLFxuICAgIDB4YTU6IDB4Y2IsXG4gICAgMHhhNjogMHhlYixcbiAgICAweGE3OiAweGNlLFxuICAgIDB4YTg6IDB4Y2YsXG4gICAgMHhhOTogMHhlZixcbiAgICAweGFhOiAweGQ0LFxuICAgIDB4YWI6IDB4ZDksXG4gICAgMHhhYzogMHhmOSxcbiAgICAweGFkOiAweGRiLFxuICAgIDB4YWU6IDB4YWIsXG4gICAgMHhhZjogMHhiYixcbiAgICAvLyBUSElTIEJMT0NLIElOQ0xVREVTIFRIRSAzMiBFWFRFTkRFRCAoVFdPLUJZVEUpIExJTkUgMjEgQ0hBUkFDVEVSU1xuICAgIC8vIFRIQVQgQ09NRSBGUk9NIEhJIEJZVEU9MHgxMyBBTkQgTE9XIEJFVFdFRU4gMHgyMCBBTkQgMHgzRlxuICAgIDB4YjA6IDB4YzMsXG4gICAgMHhiMTogMHhlMyxcbiAgICAweGIyOiAweGNkLFxuICAgIDB4YjM6IDB4Y2MsXG4gICAgMHhiNDogMHhlYyxcbiAgICAweGI1OiAweGQyLFxuICAgIDB4YjY6IDB4ZjIsXG4gICAgMHhiNzogMHhkNSxcbiAgICAweGI4OiAweGY1LFxuICAgIDB4Yjk6IDB4N2IsXG4gICAgMHhiYTogMHg3ZCxcbiAgICAweGJiOiAweDVjLFxuICAgIDB4YmM6IDB4NWUsXG4gICAgMHhiZDogMHg1ZixcbiAgICAweGJlOiAweDdjLFxuICAgIDB4YmY6IDB4MjIzYyxcbiAgICAweGMwOiAweGM0LFxuICAgIDB4YzE6IDB4ZTQsXG4gICAgMHhjMjogMHhkNixcbiAgICAweGMzOiAweGY2LFxuICAgIDB4YzQ6IDB4ZGYsXG4gICAgMHhjNTogMHhhNSxcbiAgICAweGM2OiAweGE0LFxuICAgIDB4Yzc6IDB4MjUwMyxcbiAgICAweGM4OiAweGM1LFxuICAgIDB4Yzk6IDB4ZTUsXG4gICAgMHhjYTogMHhkOCxcbiAgICAweGNiOiAweGY4LFxuICAgIDB4Y2M6IDB4MjUwZixcbiAgICAweGNkOiAweDI1MTMsXG4gICAgMHhjZTogMHgyNTE3LFxuICAgIDB4Y2Y6IDB4MjUxYiAvLyBCb3ggZHJhd2luZ3MgaGVhdnkgdXAgYW5kIGxlZnRcbn07XG4vKipcbiAqIFV0aWxzXG4gKi9cbnZhciBnZXRDaGFyRm9yQnl0ZSA9IGZ1bmN0aW9uIChieXRlKSB7XG4gICAgdmFyIGNoYXJDb2RlID0gYnl0ZTtcbiAgICBpZiAoc3BlY2lhbENlYTYwOENoYXJzQ29kZXMuaGFzT3duUHJvcGVydHkoYnl0ZSkpIHtcbiAgICAgICAgY2hhckNvZGUgPSBzcGVjaWFsQ2VhNjA4Q2hhcnNDb2Rlc1tieXRlXTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpO1xufTtcbnZhciBOUl9ST1dTID0gMTUsIE5SX0NPTFMgPSAxMDA7XG4vLyBUYWJsZXMgdG8gbG9vayB1cCByb3cgZnJvbSBQQUMgZGF0YVxudmFyIHJvd3NMb3dDaDEgPSB7IDB4MTE6IDEsIDB4MTI6IDMsIDB4MTU6IDUsIDB4MTY6IDcsIDB4MTc6IDksIDB4MTA6IDExLCAweDEzOiAxMiwgMHgxNDogMTQgfTtcbnZhciByb3dzSGlnaENoMSA9IHsgMHgxMTogMiwgMHgxMjogNCwgMHgxNTogNiwgMHgxNjogOCwgMHgxNzogMTAsIDB4MTM6IDEzLCAweDE0OiAxNSB9O1xudmFyIHJvd3NMb3dDaDIgPSB7IDB4MTk6IDEsIDB4MUE6IDMsIDB4MUQ6IDUsIDB4MUU6IDcsIDB4MUY6IDksIDB4MTg6IDExLCAweDFCOiAxMiwgMHgxQzogMTQgfTtcbnZhciByb3dzSGlnaENoMiA9IHsgMHgxOTogMiwgMHgxQTogNCwgMHgxRDogNiwgMHgxRTogOCwgMHgxRjogMTAsIDB4MUI6IDEzLCAweDFDOiAxNSB9O1xudmFyIGJhY2tncm91bmRDb2xvcnMgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnYmxhY2snLCAndHJhbnNwYXJlbnQnXTtcbi8qKlxuICogU2ltcGxlIGxvZ2dlciBjbGFzcyB0byBiZSBhYmxlIHRvIHdyaXRlIHdpdGggdGltZS1zdGFtcHMgYW5kIGZpbHRlciBvbiBsZXZlbC5cbiAqL1xudmFyIGxvZ2dlciA9IHtcbiAgICB2ZXJib3NlRmlsdGVyOiB7ICdEQVRBJzogMywgJ0RFQlVHJzogMywgJ0lORk8nOiAyLCAnV0FSTklORyc6IDIsICdURVhUJzogMSwgJ0VSUk9SJzogMCB9LFxuICAgIHRpbWU6IG51bGwsXG4gICAgdmVyYm9zZUxldmVsOiAwLFxuICAgIHNldFRpbWU6IGZ1bmN0aW9uIChuZXdUaW1lKSB7XG4gICAgICAgIHRoaXMudGltZSA9IG5ld1RpbWU7XG4gICAgfSxcbiAgICBsb2c6IGZ1bmN0aW9uIChzZXZlcml0eSwgbXNnKSB7XG4gICAgICAgIHZhciBtaW5MZXZlbCA9IHRoaXMudmVyYm9zZUZpbHRlcltzZXZlcml0eV07XG4gICAgICAgIGlmICh0aGlzLnZlcmJvc2VMZXZlbCA+PSBtaW5MZXZlbCkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy50aW1lICsgJyBbJyArIHNldmVyaXR5ICsgJ10gJyArIG1zZyk7XG4gICAgICAgIH1cbiAgICB9XG59O1xudmFyIG51bUFycmF5VG9IZXhBcnJheSA9IGZ1bmN0aW9uIChudW1BcnJheSkge1xuICAgIHZhciBoZXhBcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaGV4QXJyYXkucHVzaChudW1BcnJheVtqXS50b1N0cmluZygxNikpO1xuICAgIH1cbiAgICByZXR1cm4gaGV4QXJyYXk7XG59O1xudmFyIFBlblN0YXRlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFBlblN0YXRlKGZvcmVncm91bmQsIHVuZGVybGluZSwgaXRhbGljcywgYmFja2dyb3VuZCwgZmxhc2gpIHtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gZm9yZWdyb3VuZCB8fCAnd2hpdGUnO1xuICAgICAgICB0aGlzLnVuZGVybGluZSA9IHVuZGVybGluZSB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gaXRhbGljcyB8fCBmYWxzZTtcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZCB8fCAnYmxhY2snO1xuICAgICAgICB0aGlzLmZsYXNoID0gZmxhc2ggfHwgZmFsc2U7XG4gICAgfVxuICAgIFBlblN0YXRlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5mb3JlZ3JvdW5kID0gJ3doaXRlJztcbiAgICAgICAgdGhpcy51bmRlcmxpbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9ICdibGFjayc7XG4gICAgICAgIHRoaXMuZmxhc2ggPSBmYWxzZTtcbiAgICB9O1xuICAgIFBlblN0YXRlLnByb3RvdHlwZS5zZXRTdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVzKSB7XG4gICAgICAgIHZhciBhdHRyaWJzID0gWydmb3JlZ3JvdW5kJywgJ3VuZGVybGluZScsICdpdGFsaWNzJywgJ2JhY2tncm91bmQnLCAnZmxhc2gnXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRyaWJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBhdHRyaWJzW2ldO1xuICAgICAgICAgICAgaWYgKHN0eWxlcy5oYXNPd25Qcm9wZXJ0eShzdHlsZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzW3N0eWxlXSA9IHN0eWxlc1tzdHlsZV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFBlblN0YXRlLnByb3RvdHlwZS5pc0RlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5mb3JlZ3JvdW5kID09PSAnd2hpdGUnICYmICF0aGlzLnVuZGVybGluZSAmJiAhdGhpcy5pdGFsaWNzICYmXG4gICAgICAgICAgICB0aGlzLmJhY2tncm91bmQgPT09ICdibGFjaycgJiYgIXRoaXMuZmxhc2gpO1xuICAgIH07XG4gICAgUGVuU3RhdGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gKCh0aGlzLmZvcmVncm91bmQgPT09IG90aGVyLmZvcmVncm91bmQpICYmXG4gICAgICAgICAgICAodGhpcy51bmRlcmxpbmUgPT09IG90aGVyLnVuZGVybGluZSkgJiZcbiAgICAgICAgICAgICh0aGlzLml0YWxpY3MgPT09IG90aGVyLml0YWxpY3MpICYmXG4gICAgICAgICAgICAodGhpcy5iYWNrZ3JvdW5kID09PSBvdGhlci5iYWNrZ3JvdW5kKSAmJlxuICAgICAgICAgICAgKHRoaXMuZmxhc2ggPT09IG90aGVyLmZsYXNoKSk7XG4gICAgfTtcbiAgICBQZW5TdGF0ZS5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChuZXdQZW5TdGF0ZSkge1xuICAgICAgICB0aGlzLmZvcmVncm91bmQgPSBuZXdQZW5TdGF0ZS5mb3JlZ3JvdW5kO1xuICAgICAgICB0aGlzLnVuZGVybGluZSA9IG5ld1BlblN0YXRlLnVuZGVybGluZTtcbiAgICAgICAgdGhpcy5pdGFsaWNzID0gbmV3UGVuU3RhdGUuaXRhbGljcztcbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gbmV3UGVuU3RhdGUuYmFja2dyb3VuZDtcbiAgICAgICAgdGhpcy5mbGFzaCA9IG5ld1BlblN0YXRlLmZsYXNoO1xuICAgIH07XG4gICAgUGVuU3RhdGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gKCdjb2xvcj0nICsgdGhpcy5mb3JlZ3JvdW5kICsgJywgdW5kZXJsaW5lPScgKyB0aGlzLnVuZGVybGluZSArICcsIGl0YWxpY3M9JyArIHRoaXMuaXRhbGljcyArXG4gICAgICAgICAgICAnLCBiYWNrZ3JvdW5kPScgKyB0aGlzLmJhY2tncm91bmQgKyAnLCBmbGFzaD0nICsgdGhpcy5mbGFzaCk7XG4gICAgfTtcbiAgICByZXR1cm4gUGVuU3RhdGU7XG59KCkpO1xuLyoqXG4gKiBVbmljb2RlIGNoYXJhY3RlciB3aXRoIHN0eWxpbmcgYW5kIGJhY2tncm91bmQuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFN0eWxlZFVuaWNvZGVDaGFyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0eWxlZFVuaWNvZGVDaGFyKHVjaGFyLCBmb3JlZ3JvdW5kLCB1bmRlcmxpbmUsIGl0YWxpY3MsIGJhY2tncm91bmQsIGZsYXNoKSB7XG4gICAgICAgIHRoaXMudWNoYXIgPSB1Y2hhciB8fCAnICc7IC8vIHVuaWNvZGUgY2hhcmFjdGVyXG4gICAgICAgIHRoaXMucGVuU3RhdGUgPSBuZXcgUGVuU3RhdGUoZm9yZWdyb3VuZCwgdW5kZXJsaW5lLCBpdGFsaWNzLCBiYWNrZ3JvdW5kLCBmbGFzaCk7XG4gICAgfVxuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy51Y2hhciA9ICcgJztcbiAgICAgICAgdGhpcy5wZW5TdGF0ZS5yZXNldCgpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLnNldENoYXIgPSBmdW5jdGlvbiAodWNoYXIsIG5ld1BlblN0YXRlKSB7XG4gICAgICAgIHRoaXMudWNoYXIgPSB1Y2hhcjtcbiAgICAgICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld1BlblN0YXRlKTtcbiAgICB9O1xuICAgIFN0eWxlZFVuaWNvZGVDaGFyLnByb3RvdHlwZS5zZXRQZW5TdGF0ZSA9IGZ1bmN0aW9uIChuZXdQZW5TdGF0ZSkge1xuICAgICAgICB0aGlzLnBlblN0YXRlLmNvcHkobmV3UGVuU3RhdGUpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy51Y2hhciA9PT0gb3RoZXIudWNoYXIgJiYgdGhpcy5wZW5TdGF0ZS5lcXVhbHMob3RoZXIucGVuU3RhdGUpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbiAobmV3Q2hhcikge1xuICAgICAgICB0aGlzLnVjaGFyID0gbmV3Q2hhci51Y2hhcjtcbiAgICAgICAgdGhpcy5wZW5TdGF0ZS5jb3B5KG5ld0NoYXIucGVuU3RhdGUpO1xuICAgIH07XG4gICAgU3R5bGVkVW5pY29kZUNoYXIucHJvdG90eXBlLmlzRW1wdHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnVjaGFyID09PSAnICcgJiYgdGhpcy5wZW5TdGF0ZS5pc0RlZmF1bHQoKTtcbiAgICB9O1xuICAgIHJldHVybiBTdHlsZWRVbmljb2RlQ2hhcjtcbn0oKSk7XG4vKipcbiAqIENFQS02MDggcm93IGNvbnNpc3Rpbmcgb2YgTlJfQ09MUyBpbnN0YW5jZXMgb2YgU3R5bGVkVW5pY29kZUNoYXIuXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFJvdyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSb3coKSB7XG4gICAgICAgIHRoaXMuY2hhcnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnMucHVzaChuZXcgU3R5bGVkVW5pY29kZUNoYXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB0aGlzLmN1cnJQZW5TdGF0ZSA9IG5ldyBQZW5TdGF0ZSgpO1xuICAgIH1cbiAgICBSb3cucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgZXF1YWwgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmVxdWFscyhvdGhlci5jaGFyc1tpXSkpIHtcbiAgICAgICAgICAgICAgICBlcXVhbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlcXVhbDtcbiAgICB9O1xuICAgIFJvdy5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5jaGFyc1tpXS5jb3B5KG90aGVyLmNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZW1wdHkgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX0NPTFM7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNoYXJzW2ldLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiAgU2V0IHRoZSBjdXJzb3IgdG8gYSB2YWxpZCBjb2x1bW4uXG4gICAgICAgKi9cbiAgICBSb3cucHJvdG90eXBlLnNldEN1cnNvciA9IGZ1bmN0aW9uIChhYnNQb3MpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zICE9PSBhYnNQb3MpIHtcbiAgICAgICAgICAgIHRoaXMucG9zID0gYWJzUG9zO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnBvcyA8IDApIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0VSUk9SJywgJ05lZ2F0aXZlIGN1cnNvciBwb3NpdGlvbiAnICsgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucG9zID4gTlJfQ09MUykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnRVJST1InLCAnVG9vIGxhcmdlIGN1cnNvciBwb3NpdGlvbiAnICsgdGhpcy5wb3MpO1xuICAgICAgICAgICAgdGhpcy5wb3MgPSBOUl9DT0xTO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIE1vdmUgdGhlIGN1cnNvciByZWxhdGl2ZSB0byBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAgICovXG4gICAgUm93LnByb3RvdHlwZS5tb3ZlQ3Vyc29yID0gZnVuY3Rpb24gKHJlbFBvcykge1xuICAgICAgICB2YXIgbmV3UG9zID0gdGhpcy5wb3MgKyByZWxQb3M7XG4gICAgICAgIGlmIChyZWxQb3MgPiAxKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5wb3MgKyAxOyBpIDwgbmV3UG9zICsgMTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyc1tpXS5zZXRQZW5TdGF0ZSh0aGlzLmN1cnJQZW5TdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDdXJzb3IobmV3UG9zKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAgICogQmFja3NwYWNlLCBtb3ZlIG9uZSBzdGVwIGJhY2sgYW5kIGNsZWFyIGNoYXJhY3Rlci5cbiAgICAgICAqL1xuICAgIFJvdy5wcm90b3R5cGUuYmFja1NwYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLm1vdmVDdXJzb3IoLTEpO1xuICAgICAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKCcgJywgdGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5pbnNlcnRDaGFyID0gZnVuY3Rpb24gKGJ5dGUpIHtcbiAgICAgICAgaWYgKGJ5dGUgPj0gMHg5MCkgeyAvLyBFeHRlbmRlZCBjaGFyXG4gICAgICAgICAgICB0aGlzLmJhY2tTcGFjZSgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFyID0gZ2V0Q2hhckZvckJ5dGUoYnl0ZSk7XG4gICAgICAgIGlmICh0aGlzLnBvcyA+PSBOUl9DT0xTKSB7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdFUlJPUicsICdDYW5ub3QgaW5zZXJ0ICcgKyBieXRlLnRvU3RyaW5nKDE2KSArXG4gICAgICAgICAgICAgICAgJyAoJyArIGNoYXIgKyAnKSBhdCBwb3NpdGlvbiAnICsgdGhpcy5wb3MgKyAnLiBTa2lwcGluZyBpdCEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYXJzW3RoaXMucG9zXS5zZXRDaGFyKGNoYXIsIHRoaXMuY3VyclBlblN0YXRlKTtcbiAgICAgICAgdGhpcy5tb3ZlQ3Vyc29yKDEpO1xuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5jbGVhckZyb21Qb3MgPSBmdW5jdGlvbiAoc3RhcnRQb3MpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IHN0YXJ0UG9zOyBpIDwgTlJfQ09MUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJzW2ldLnJlc2V0KCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFJvdy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2xlYXJGcm9tUG9zKDApO1xuICAgICAgICB0aGlzLnBvcyA9IDA7XG4gICAgICAgIHRoaXMuY3VyclBlblN0YXRlLnJlc2V0KCk7XG4gICAgfTtcbiAgICBSb3cucHJvdG90eXBlLmNsZWFyVG9FbmRPZlJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jbGVhckZyb21Qb3ModGhpcy5wb3MpO1xuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5nZXRUZXh0U3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY2hhcnMgPSBbXTtcbiAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9DT0xTOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGFyID0gdGhpcy5jaGFyc1tpXS51Y2hhcjtcbiAgICAgICAgICAgIGlmIChjaGFyICE9PSAnICcpIHtcbiAgICAgICAgICAgICAgICBlbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhcnMucHVzaChjaGFyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW1wdHkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFycy5qb2luKCcnKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUm93LnByb3RvdHlwZS5zZXRQZW5TdHlsZXMgPSBmdW5jdGlvbiAoc3R5bGVzKSB7XG4gICAgICAgIHRoaXMuY3VyclBlblN0YXRlLnNldFN0eWxlcyhzdHlsZXMpO1xuICAgICAgICB2YXIgY3VyckNoYXIgPSB0aGlzLmNoYXJzW3RoaXMucG9zXTtcbiAgICAgICAgY3VyckNoYXIuc2V0UGVuU3RhdGUodGhpcy5jdXJyUGVuU3RhdGUpO1xuICAgIH07XG4gICAgcmV0dXJuIFJvdztcbn0oKSk7XG4vKipcbiAqIEtlZXAgYSBDRUEtNjA4IHNjcmVlbiBvZiAzMngxNSBzdHlsZWQgY2hhcmFjdGVyc1xuICogQGNvbnN0cnVjdG9yXG4qL1xudmFyIENhcHRpb25TY3JlZW4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2FwdGlvblNjcmVlbigpIHtcbiAgICAgICAgdGhpcy5yb3dzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3MucHVzaChuZXcgUm93KCkpO1xuICAgICAgICB9IC8vIE5vdGUgdGhhdCB3ZSB1c2UgemVyby1iYXNlZCBudW1iZXJpbmcgKDAtMTQpXG4gICAgICAgIHRoaXMuY3VyclJvdyA9IE5SX1JPV1MgLSAxO1xuICAgICAgICB0aGlzLm5yUm9sbFVwUm93cyA9IG51bGw7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3NbaV0uY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmN1cnJSb3cgPSBOUl9ST1dTIC0gMTtcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvdGhlcikge1xuICAgICAgICB2YXIgZXF1YWwgPSB0cnVlO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IE5SX1JPV1M7IGkrKykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnJvd3NbaV0uZXF1YWxzKG90aGVyLnJvd3NbaV0pKSB7XG4gICAgICAgICAgICAgICAgZXF1YWwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXF1YWw7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24gKG90aGVyKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnJvd3NbaV0uY29weShvdGhlci5yb3dzW2ldKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGVtcHR5ID0gdHJ1ZTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yb3dzW2ldLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIGVtcHR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuYmFja1NwYWNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5iYWNrU3BhY2UoKTtcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLmNsZWFyVG9FbmRPZlJvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuY2xlYXJUb0VuZE9mUm93KCk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIEluc2VydCBhIGNoYXJhY3RlciAod2l0aG91dCBzdHlsaW5nKSBpbiB0aGUgY3VycmVudCByb3cuXG4gICAgICAgKi9cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5pbnNlcnRDaGFyID0gZnVuY3Rpb24gKGNoYXIpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuaW5zZXJ0Q2hhcihjaGFyKTtcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldFBlbiA9IGZ1bmN0aW9uIChzdHlsZXMpIHtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuc2V0UGVuU3R5bGVzKHN0eWxlcyk7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5tb3ZlQ3Vyc29yID0gZnVuY3Rpb24gKHJlbFBvcykge1xuICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3dzW3RoaXMuY3VyclJvd107XG4gICAgICAgIHJvdy5tb3ZlQ3Vyc29yKHJlbFBvcyk7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRDdXJzb3IgPSBmdW5jdGlvbiAoYWJzUG9zKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnc2V0Q3Vyc29yOiAnICsgYWJzUG9zKTtcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICByb3cuc2V0Q3Vyc29yKGFic1Bvcyk7XG4gICAgfTtcbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRQQUMgPSBmdW5jdGlvbiAocGFjRGF0YSkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ3BhY0RhdGEgPSAnICsgSlNPTi5zdHJpbmdpZnkocGFjRGF0YSkpO1xuICAgICAgICB2YXIgbmV3Um93ID0gcGFjRGF0YS5yb3cgLSAxO1xuICAgICAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgJiYgbmV3Um93IDwgdGhpcy5uclJvbGxVcFJvd3MgLSAxKSB7XG4gICAgICAgICAgICBuZXdSb3cgPSB0aGlzLm5yUm9sbFVwUm93cyAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoaXMgb25seSBhZmZlY3RzIFJvbGwtdXAgQ2FwdGlvbnMgYnkgY2hlY2tpbmcgdGhpcy5uclJvbGxVcFJvd3NcbiAgICAgICAgaWYgKHRoaXMubnJSb2xsVXBSb3dzICYmIHRoaXMuY3VyclJvdyAhPT0gbmV3Um93KSB7XG4gICAgICAgICAgICAvLyBjbGVhciBhbGwgcm93cyBmaXJzdFxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBOUl9ST1dTOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd3NbaV0uY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENvcHkgdGhpcy5uclJvbGxVcFJvd3Mgcm93cyBmcm9tIGxhc3RPdXRwdXRTY3JlZW4gYW5kIHBsYWNlIGl0IGluIHRoZSBuZXdSb3cgbG9jYXRpb25cbiAgICAgICAgICAgIC8vIHRvcFJvd0luZGV4IC0gdGhlIHN0YXJ0IG9mIHJvd3MgdG8gY29weSAoaW5jbHVzaXZlIGluZGV4KVxuICAgICAgICAgICAgdmFyIHRvcFJvd0luZGV4ID0gdGhpcy5jdXJyUm93ICsgMSAtICh0aGlzLm5yUm9sbFVwUm93cyk7XG4gICAgICAgICAgICAvLyBXZSBvbmx5IGNvcHkgaWYgdGhlIGxhc3QgcG9zaXRpb24gd2FzIGFscmVhZHkgc2hvd24uXG4gICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGN1ZVN0YXJ0VGltZSB2YWx1ZSB0byBjaGVjayB0aGlzLlxuICAgICAgICAgICAgdmFyIGxhc3RPdXRwdXRTY3JlZW4gPSB0aGlzLmxhc3RPdXRwdXRTY3JlZW47XG4gICAgICAgICAgICBpZiAobGFzdE91dHB1dFNjcmVlbikge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2TGluZVRpbWUgPSBsYXN0T3V0cHV0U2NyZWVuLnJvd3NbdG9wUm93SW5kZXhdLmN1ZVN0YXJ0VGltZTtcbiAgICAgICAgICAgICAgICBpZiAocHJldkxpbmVUaW1lICYmIHByZXZMaW5lVGltZSA8IGxvZ2dlci50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5uclJvbGxVcFJvd3M7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3dzW25ld1JvdyAtIHRoaXMubnJSb2xsVXBSb3dzICsgaSArIDFdLmNvcHkobGFzdE91dHB1dFNjcmVlbi5yb3dzW3RvcFJvd0luZGV4ICsgaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VyclJvdyA9IG5ld1JvdztcbiAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93c1t0aGlzLmN1cnJSb3ddO1xuICAgICAgICBpZiAocGFjRGF0YS5pbmRlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBpbmRlbnQgPSBwYWNEYXRhLmluZGVudDtcbiAgICAgICAgICAgIHZhciBwcmV2UG9zID0gTWF0aC5tYXgoaW5kZW50IC0gMSwgMCk7XG4gICAgICAgICAgICByb3cuc2V0Q3Vyc29yKHBhY0RhdGEuaW5kZW50KTtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSByb3cuY2hhcnNbcHJldlBvc10ucGVuU3RhdGUuZm9yZWdyb3VuZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3R5bGVzID0geyBmb3JlZ3JvdW5kOiBwYWNEYXRhLmNvbG9yLCB1bmRlcmxpbmU6IHBhY0RhdGEudW5kZXJsaW5lLCBpdGFsaWNzOiBwYWNEYXRhLml0YWxpY3MsIGJhY2tncm91bmQ6ICdibGFjaycsIGZsYXNoOiBmYWxzZSB9O1xuICAgICAgICB0aGlzLnNldFBlbihzdHlsZXMpO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBTZXQgYmFja2dyb3VuZC9leHRyYSBmb3JlZ3JvdW5kLCBidXQgZmlyc3QgZG8gYmFja19zcGFjZSwgYW5kIHRoZW4gaW5zZXJ0IHNwYWNlIChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkuXG4gICAgICAgKi9cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5zZXRCa2dEYXRhID0gZnVuY3Rpb24gKGJrZ0RhdGEpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdia2dEYXRhID0gJyArIEpTT04uc3RyaW5naWZ5KGJrZ0RhdGEpKTtcbiAgICAgICAgdGhpcy5iYWNrU3BhY2UoKTtcbiAgICAgICAgdGhpcy5zZXRQZW4oYmtnRGF0YSk7XG4gICAgICAgIHRoaXMuaW5zZXJ0Q2hhcigweDIwKTsgLy8gU3BhY2VcbiAgICB9O1xuICAgIENhcHRpb25TY3JlZW4ucHJvdG90eXBlLnNldFJvbGxVcFJvd3MgPSBmdW5jdGlvbiAobnJSb3dzKSB7XG4gICAgICAgIHRoaXMubnJSb2xsVXBSb3dzID0gbnJSb3dzO1xuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUucm9sbFVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5uclJvbGxVcFJvd3MgPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0RFQlVHJywgJ3JvbGxfdXAgYnV0IG5yUm9sbFVwUm93cyBub3Qgc2V0IHlldCcpO1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBOb3QgcHJvcGVybHkgc2V0dXBcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXIubG9nKCdURVhUJywgdGhpcy5nZXREaXNwbGF5VGV4dCgpKTtcbiAgICAgICAgdmFyIHRvcFJvd0luZGV4ID0gdGhpcy5jdXJyUm93ICsgMSAtIHRoaXMubnJSb2xsVXBSb3dzO1xuICAgICAgICB2YXIgdG9wUm93ID0gdGhpcy5yb3dzLnNwbGljZSh0b3BSb3dJbmRleCwgMSlbMF07XG4gICAgICAgIHRvcFJvdy5jbGVhcigpO1xuICAgICAgICB0aGlzLnJvd3Muc3BsaWNlKHRoaXMuY3VyclJvdywgMCwgdG9wUm93KTtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdSb2xsaW5nIHVwJyk7XG4gICAgICAgIC8vIGxvZ2dlci5sb2coJ1RFWFQnLCB0aGlzLmdldF9kaXNwbGF5X3RleHQoKSlcbiAgICB9O1xuICAgIC8qKlxuICAgICAgKiBHZXQgYWxsIG5vbi1lbXB0eSByb3dzIHdpdGggYXMgdW5pY29kZSB0ZXh0LlxuICAgICAgKi9cbiAgICBDYXB0aW9uU2NyZWVuLnByb3RvdHlwZS5nZXREaXNwbGF5VGV4dCA9IGZ1bmN0aW9uIChhc09uZVJvdykge1xuICAgICAgICBhc09uZVJvdyA9IGFzT25lUm93IHx8IGZhbHNlO1xuICAgICAgICB2YXIgZGlzcGxheVRleHQgPSBbXTtcbiAgICAgICAgdmFyIHRleHQgPSAnJztcbiAgICAgICAgdmFyIHJvd05yID0gLTE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgTlJfUk9XUzsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcm93VGV4dCA9IHRoaXMucm93c1tpXS5nZXRUZXh0U3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAocm93VGV4dCkge1xuICAgICAgICAgICAgICAgIHJvd05yID0gaSArIDE7XG4gICAgICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2goJ1JvdyAnICsgcm93TnIgKyAnOiBcXCcnICsgcm93VGV4dCArICdcXCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXlUZXh0LnB1c2gocm93VGV4dC50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlzcGxheVRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgaWYgKGFzT25lUm93KSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9ICdbJyArIGRpc3BsYXlUZXh0LmpvaW4oJyB8ICcpICsgJ10nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGRpc3BsYXlUZXh0LmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH07XG4gICAgQ2FwdGlvblNjcmVlbi5wcm90b3R5cGUuZ2V0VGV4dEFuZEZvcm1hdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm93cztcbiAgICB9O1xuICAgIHJldHVybiBDYXB0aW9uU2NyZWVuO1xufSgpKTtcbi8vIHZhciBtb2RlcyA9IFsnTU9ERV9ST0xMLVVQJywgJ01PREVfUE9QLU9OJywgJ01PREVfUEFJTlQtT04nLCAnTU9ERV9URVhUJ107XG52YXIgQ2VhNjA4Q2hhbm5lbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDZWE2MDhDaGFubmVsKGNoYW5uZWxOdW1iZXIsIG91dHB1dEZpbHRlcikge1xuICAgICAgICB0aGlzLmNoTnIgPSBjaGFubmVsTnVtYmVyO1xuICAgICAgICB0aGlzLm91dHB1dEZpbHRlciA9IG91dHB1dEZpbHRlcjtcbiAgICAgICAgdGhpcy5tb2RlID0gbnVsbDtcbiAgICAgICAgdGhpcy52ZXJib3NlID0gMDtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPSBuZXcgQ2FwdGlvblNjcmVlbigpO1xuICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeSA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XG4gICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbiA9IG5ldyBDYXB0aW9uU2NyZWVuKCk7XG4gICAgICAgIHRoaXMuY3VyclJvbGxVcFJvdyA9IHRoaXMuZGlzcGxheWVkTWVtb3J5LnJvd3NbTlJfUk9XUyAtIDFdO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gbnVsbDsgLy8gS2VlcHMgdHJhY2sgb2Ygd2hlcmUgYSBjdWUgc3RhcnRlZC5cbiAgICB9XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgICAgIHRoaXMubm9uRGlzcGxheWVkTWVtb3J5LnJlc2V0KCk7XG4gICAgICAgIHRoaXMubGFzdE91dHB1dFNjcmVlbi5yZXNldCgpO1xuICAgICAgICB0aGlzLmN1cnJSb2xsVXBSb3cgPSB0aGlzLmRpc3BsYXllZE1lbW9yeS5yb3dzW05SX1JPV1MgLSAxXTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB0aGlzLm1vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdEN1ZUVuZFRpbWUgPSBudWxsO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuZ2V0SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0cHV0RmlsdGVyO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuc2V0SGFuZGxlciA9IGZ1bmN0aW9uIChuZXdIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMub3V0cHV0RmlsdGVyID0gbmV3SGFuZGxlcjtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldFBBQyA9IGZ1bmN0aW9uIChwYWNEYXRhKSB7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UEFDKHBhY0RhdGEpO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuc2V0QmtnRGF0YSA9IGZ1bmN0aW9uIChia2dEYXRhKSB7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0QmtnRGF0YShia2dEYXRhKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLnNldE1vZGUgPSBmdW5jdGlvbiAobmV3TW9kZSkge1xuICAgICAgICBpZiAobmV3TW9kZSA9PT0gdGhpcy5tb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tb2RlID0gbmV3TW9kZTtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdNT0RFPScgKyBuZXdNb2RlKTtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ01PREVfUE9QLU9OJykge1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMubm9uRGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm1vZGUgIT09ICdNT0RFX1JPTEwtVVAnKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXllZE1lbW9yeS5uclJvbGxVcFJvd3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkubnJSb2xsVXBSb3dzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vZGUgPSBuZXdNb2RlO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuaW5zZXJ0Q2hhcnMgPSBmdW5jdGlvbiAoY2hhcnMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5pbnNlcnRDaGFyKGNoYXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NyZWVuID0gdGhpcy53cml0ZVNjcmVlbiA9PT0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkgPyAnRElTUCcgOiAnTk9OX0RJU1AnO1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgc2NyZWVuICsgJzogJyArIHRoaXMud3JpdGVTY3JlZW4uZ2V0RGlzcGxheVRleHQodHJ1ZSkpO1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnTU9ERV9QQUlOVC1PTicgfHwgdGhpcy5tb2RlID09PSAnTU9ERV9ST0xMLVVQJykge1xuICAgICAgICAgICAgbG9nZ2VyLmxvZygnVEVYVCcsICdESVNQTEFZRUQ6ICcgKyB0aGlzLmRpc3BsYXllZE1lbW9yeS5nZXREaXNwbGF5VGV4dCh0cnVlKSk7XG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NSQ0wgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnUkNMIC0gUmVzdW1lIENhcHRpb24gTG9hZGluZycpO1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfUE9QLU9OJyk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0JTID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0JTIC0gQmFja1NwYWNlJyk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1RFWFQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5iYWNrU3BhY2UoKTtcbiAgICAgICAgaWYgKHRoaXMud3JpdGVTY3JlZW4gPT09IHRoaXMuZGlzcGxheWVkTWVtb3J5KSB7XG4gICAgICAgICAgICB0aGlzLm91dHB1dERhdGFVcGRhdGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NBT0YgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY0FPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjREVSID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0RFUi0gRGVsZXRlIHRvIEVuZCBvZiBSb3cnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5jbGVhclRvRW5kT2ZSb3coKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKCk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JVID0gZnVuY3Rpb24gKG5yUm93cykge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ1JVKCcgKyBuclJvd3MgKyAnKSAtIFJvbGwgVXAnKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbiA9IHRoaXMuZGlzcGxheWVkTWVtb3J5O1xuICAgICAgICB0aGlzLnNldE1vZGUoJ01PREVfUk9MTC1VUCcpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLnNldFJvbGxVcFJvd3MobnJSb3dzKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRk9OID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0ZPTiAtIEZsYXNoIE9uJyk7XG4gICAgICAgIHRoaXMud3JpdGVTY3JlZW4uc2V0UGVuKHsgZmxhc2g6IHRydWUgfSk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JEQyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdSREMgLSBSZXN1bWUgRGlyZWN0IENhcHRpb25pbmcnKTtcbiAgICAgICAgdGhpcy5zZXRNb2RlKCdNT0RFX1BBSU5ULU9OJyk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1RSID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ1RSJyk7XG4gICAgICAgIHRoaXMuc2V0TW9kZSgnTU9ERV9URVhUJyk7XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jY1JURCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdSVEQnKTtcbiAgICAgICAgdGhpcy5zZXRNb2RlKCdNT0RFX1RFWFQnKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRURNID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0VETSAtIEVyYXNlIERpc3BsYXllZCBNZW1vcnknKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKHRydWUpO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NDUiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9nZ2VyLmxvZygnQ1IgLSBDYXJyaWFnZSBSZXR1cm4nKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5yb2xsVXAoKTtcbiAgICAgICAgdGhpcy5vdXRwdXREYXRhVXBkYXRlKHRydWUpO1xuICAgIH07XG4gICAgQ2VhNjA4Q2hhbm5lbC5wcm90b3R5cGUuY2NFTk0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnRU5NIC0gRXJhc2UgTm9uLWRpc3BsYXllZCBNZW1vcnknKTtcbiAgICAgICAgdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnkucmVzZXQoKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjRU9DID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBsb2dnZXIubG9nKCdJTkZPJywgJ0VPQyAtIEVuZCBPZiBDYXB0aW9uJyk7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdNT0RFX1BPUC1PTicpIHtcbiAgICAgICAgICAgIHZhciB0bXAgPSB0aGlzLmRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheWVkTWVtb3J5ID0gdGhpcy5ub25EaXNwbGF5ZWRNZW1vcnk7XG4gICAgICAgICAgICB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeSA9IHRtcDtcbiAgICAgICAgICAgIHRoaXMud3JpdGVTY3JlZW4gPSB0aGlzLm5vbkRpc3BsYXllZE1lbW9yeTtcbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ1RFWFQnLCAnRElTUDogJyArIHRoaXMuZGlzcGxheWVkTWVtb3J5LmdldERpc3BsYXlUZXh0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0cHV0RGF0YVVwZGF0ZSh0cnVlKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjVE8gPSBmdW5jdGlvbiAobnJDb2xzKSB7XG4gICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnVE8oJyArIG5yQ29scyArICcpIC0gVGFiIE9mZnNldCcpO1xuICAgICAgICB0aGlzLndyaXRlU2NyZWVuLm1vdmVDdXJzb3IobnJDb2xzKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLmNjTUlEUk9XID0gZnVuY3Rpb24gKHNlY29uZEJ5dGUpIHtcbiAgICAgICAgdmFyIHN0eWxlcyA9IHsgZmxhc2g6IGZhbHNlIH07XG4gICAgICAgIHN0eWxlcy51bmRlcmxpbmUgPSBzZWNvbmRCeXRlICUgMiA9PT0gMTtcbiAgICAgICAgc3R5bGVzLml0YWxpY3MgPSBzZWNvbmRCeXRlID49IDB4MmU7XG4gICAgICAgIGlmICghc3R5bGVzLml0YWxpY3MpIHtcbiAgICAgICAgICAgIHZhciBjb2xvckluZGV4ID0gTWF0aC5mbG9vcihzZWNvbmRCeXRlIC8gMikgLSAweDEwO1xuICAgICAgICAgICAgdmFyIGNvbG9ycyA9IFsnd2hpdGUnLCAnZ3JlZW4nLCAnYmx1ZScsICdjeWFuJywgJ3JlZCcsICd5ZWxsb3cnLCAnbWFnZW50YSddO1xuICAgICAgICAgICAgc3R5bGVzLmZvcmVncm91bmQgPSBjb2xvcnNbY29sb3JJbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHlsZXMuZm9yZWdyb3VuZCA9ICd3aGl0ZSc7XG4gICAgICAgIH1cbiAgICAgICAgbG9nZ2VyLmxvZygnSU5GTycsICdNSURST1c6ICcgKyBKU09OLnN0cmluZ2lmeShzdHlsZXMpKTtcbiAgICAgICAgdGhpcy53cml0ZVNjcmVlbi5zZXRQZW4oc3R5bGVzKTtcbiAgICB9O1xuICAgIENlYTYwOENoYW5uZWwucHJvdG90eXBlLm91dHB1dERhdGFVcGRhdGUgPSBmdW5jdGlvbiAoZGlzcGF0Y2gpIHtcbiAgICAgICAgaWYgKGRpc3BhdGNoID09PSB2b2lkIDApIHsgZGlzcGF0Y2ggPSBmYWxzZTsgfVxuICAgICAgICB2YXIgdCA9IGxvZ2dlci50aW1lO1xuICAgICAgICBpZiAodCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuY3VlU3RhcnRUaW1lID09PSBudWxsICYmICF0aGlzLmRpc3BsYXllZE1lbW9yeS5pc0VtcHR5KCkpIHsgLy8gU3RhcnQgb2YgYSBuZXcgY3VlXG4gICAgICAgICAgICAgICAgdGhpcy5jdWVTdGFydFRpbWUgPSB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5lcXVhbHModGhpcy5sYXN0T3V0cHV0U2NyZWVuKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5uZXdDdWUodGhpcy5jdWVTdGFydFRpbWUsIHQsIHRoaXMubGFzdE91dHB1dFNjcmVlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcGF0Y2ggPT09IHRydWUgJiYgdGhpcy5vdXRwdXRGaWx0ZXIuZGlzcGF0Y2hDdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm91dHB1dEZpbHRlci5kaXNwYXRjaEN1ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VlU3RhcnRUaW1lID0gdGhpcy5kaXNwbGF5ZWRNZW1vcnkuaXNFbXB0eSgpID8gbnVsbCA6IHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0T3V0cHV0U2NyZWVuLmNvcHkodGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBDZWE2MDhDaGFubmVsLnByb3RvdHlwZS5jdWVTcGxpdEF0VGltZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGlmICh0aGlzLm91dHB1dEZpbHRlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmRpc3BsYXllZE1lbW9yeS5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vdXRwdXRGaWx0ZXIubmV3Q3VlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cHV0RmlsdGVyLm5ld0N1ZSh0aGlzLmN1ZVN0YXJ0VGltZSwgdCwgdGhpcy5kaXNwbGF5ZWRNZW1vcnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmN1ZVN0YXJ0VGltZSA9IHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDZWE2MDhDaGFubmVsO1xufSgpKTtcbnZhciBDZWE2MDhQYXJzZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQ2VhNjA4UGFyc2VyKGZpZWxkLCBvdXQxLCBvdXQyKSB7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZCB8fCAxO1xuICAgICAgICB0aGlzLm91dHB1dHMgPSBbb3V0MSwgb3V0Ml07XG4gICAgICAgIHRoaXMuY2hhbm5lbHMgPSBbbmV3IENlYTYwOENoYW5uZWwoMSwgb3V0MSksIG5ldyBDZWE2MDhDaGFubmVsKDIsIG91dDIpXTtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IC0xOyAvLyBXaWxsIGJlIDEgb3IgMlxuICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDsgLy8gRmlyc3QgYnl0ZSBvZiBsYXN0IGNvbW1hbmRcbiAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7IC8vIFNlY29uZCBieXRlIG9mIGxhc3QgY29tbWFuZFxuICAgICAgICB0aGlzLmJ1ZmZlcmVkRGF0YSA9IFtdO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmRhdGFDb3VudGVycyA9IHsgJ3BhZGRpbmcnOiAwLCAnY2hhcic6IDAsICdjbWQnOiAwLCAnb3RoZXInOiAwIH07XG4gICAgfVxuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUuZ2V0SGFuZGxlciA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVsc1tpbmRleF0uZ2V0SGFuZGxlcigpO1xuICAgIH07XG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5zZXRIYW5kbGVyID0gZnVuY3Rpb24gKGluZGV4LCBuZXdIYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuY2hhbm5lbHNbaW5kZXhdLnNldEhhbmRsZXIobmV3SGFuZGxlcik7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIEFkZCBkYXRhIGZvciB0aW1lIHQgaW4gZm9ybXMgb2YgbGlzdCBvZiBieXRlcyAodW5zaWduZWQgaW50cykuIFRoZSBieXRlcyBhcmUgdHJlYXRlZCBhcyBwYWlycy5cbiAgICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUuYWRkRGF0YSA9IGZ1bmN0aW9uICh0LCBieXRlTGlzdCkge1xuICAgICAgICB2YXIgY21kRm91bmQsIGEsIGIsIGNoYXJzRm91bmQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sYXN0VGltZSA9IHQ7XG4gICAgICAgIGxvZ2dlci5zZXRUaW1lKHQpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVMaXN0Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBhID0gYnl0ZUxpc3RbaV0gJiAweDdmO1xuICAgICAgICAgICAgYiA9IGJ5dGVMaXN0W2kgKyAxXSAmIDB4N2Y7XG4gICAgICAgICAgICBpZiAoYSA9PT0gMCAmJiBiID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ291bnRlcnMucGFkZGluZyArPSAyO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmxvZygnREFUQScsICdbJyArIG51bUFycmF5VG9IZXhBcnJheShbYnl0ZUxpc3RbaV0sIGJ5dGVMaXN0W2kgKyAxXV0pICsgJ10gLT4gKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VDbWQoYSwgYik7XG4gICAgICAgICAgICBpZiAoIWNtZEZvdW5kKSB7XG4gICAgICAgICAgICAgICAgY21kRm91bmQgPSB0aGlzLnBhcnNlTWlkcm93KGEsIGIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjbWRGb3VuZCkge1xuICAgICAgICAgICAgICAgIGNtZEZvdW5kID0gdGhpcy5wYXJzZVBBQyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjbWRGb3VuZCA9IHRoaXMucGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyhhLCBiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICBjaGFyc0ZvdW5kID0gdGhpcy5wYXJzZUNoYXJzKGEsIGIpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyc0ZvdW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmN1cnJDaE5yICYmIHRoaXMuY3VyckNoTnIgPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW3RoaXMuY3VyckNoTnIgLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWwuaW5zZXJ0Q2hhcnMoY2hhcnNGb3VuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdXQVJOSU5HJywgJ05vIGNoYW5uZWwgZm91bmQgeWV0LiBURVhULU1PREU/Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY21kRm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jbWQgKz0gMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXJzRm91bmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5jaGFyICs9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDb3VudGVycy5vdGhlciArPSAyO1xuICAgICAgICAgICAgICAgIGxvZ2dlci5sb2coJ1dBUk5JTkcnLCAnQ291bGRuXFwndCBwYXJzZSBjbGVhbmVkIGRhdGEgJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICtcbiAgICAgICAgICAgICAgICAgICAgJyBvcmlnOiAnICsgbnVtQXJyYXlUb0hleEFycmF5KFtieXRlTGlzdFtpXSwgYnl0ZUxpc3RbaSArIDFdXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIFBhcnNlIENvbW1hbmQuXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGVsbHMgaWYgYSBjb21tYW5kIHdhcyBmb3VuZFxuICAgICAgICovXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5wYXJzZUNtZCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBjaE5yID0gbnVsbDtcbiAgICAgICAgdmFyIGNvbmQxID0gKGEgPT09IDB4MTQgfHwgYSA9PT0gMHgxQykgJiYgKGIgPj0gMHgyMCAmJiBiIDw9IDB4MkYpO1xuICAgICAgICB2YXIgY29uZDIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFGKSAmJiAoYiA+PSAweDIxICYmIGIgPD0gMHgyMyk7XG4gICAgICAgIGlmICghKGNvbmQxIHx8IGNvbmQyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhID09PSB0aGlzLmxhc3RDbWRBICYmIGIgPT09IHRoaXMubGFzdENtZEIpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEEgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7IC8vIFJlcGVhdGVkIGNvbW1hbmRzIGFyZSBkcm9wcGVkIChvbmNlKVxuICAgICAgICAgICAgbG9nZ2VyLmxvZygnREVCVUcnLCAnUmVwZWF0ZWQgY29tbWFuZCAoJyArIG51bUFycmF5VG9IZXhBcnJheShbYSwgYl0pICsgJykgaXMgZHJvcHBlZCcpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEgPT09IDB4MTQgfHwgYSA9PT0gMHgxNykge1xuICAgICAgICAgICAgY2hOciA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjaE5yID0gMjtcbiAgICAgICAgfSAvLyAoYSA9PT0gMHgxQyB8fCBhPT09IDB4MWYpXG4gICAgICAgIHZhciBjaGFubmVsID0gdGhpcy5jaGFubmVsc1tjaE5yIC0gMV07XG4gICAgICAgIGlmIChhID09PSAweDE0IHx8IGEgPT09IDB4MUMpIHtcbiAgICAgICAgICAgIGlmIChiID09PSAweDIwKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JDTCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyMSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NCUygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyMikge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NBT0YoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MjMpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjQU9OKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDI0KSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0RFUigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyNSkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NSVSgyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MjYpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUlUoMyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDI3KSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JVKDQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyOCkge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NGT04oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MjkpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjUkRDKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDJBKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1RSKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDJCKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY1JURCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYiA9PT0gMHgyQykge1xuICAgICAgICAgICAgICAgIGNoYW5uZWwuY2NFRE0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MkQpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjQ1IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGIgPT09IDB4MkUpIHtcbiAgICAgICAgICAgICAgICBjaGFubmVsLmNjRU5NKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChiID09PSAweDJGKSB7XG4gICAgICAgICAgICAgICAgY2hhbm5lbC5jY0VPQygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBhID09IDB4MTcgfHwgYSA9PSAweDFGXG4gICAgICAgICAgICBjaGFubmVsLmNjVE8oYiAtIDB4MjApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBhO1xuICAgICAgICB0aGlzLmxhc3RDbWRCID0gYjtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IGNoTnI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBQYXJzZSBtaWRyb3cgc3R5bGluZyBjb21tYW5kXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn1cbiAgICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VNaWRyb3cgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICB2YXIgY2hOciA9IG51bGw7XG4gICAgICAgIGlmICgoKGEgPT09IDB4MTEpIHx8IChhID09PSAweDE5KSkgJiYgYiA+PSAweDIwICYmIGIgPD0gMHgyZikge1xuICAgICAgICAgICAgaWYgKGEgPT09IDB4MTEpIHtcbiAgICAgICAgICAgICAgICBjaE5yID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoTnIgPSAyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoTnIgIT09IHRoaXMuY3VyckNoTnIpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIubG9nKCdFUlJPUicsICdNaXNtYXRjaCBjaGFubmVsIGluIG1pZHJvdyBwYXJzaW5nJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICAgICAgICAgIGNoYW5uZWwuY2NNSURST1coYik7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdERUJVRycsICdNSURST1cgKCcgKyBudW1BcnJheVRvSGV4QXJyYXkoW2EsIGJdKSArICcpJyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIFBhcnNlIFByZWFibGUgQWNjZXNzIENvZGVzIChUYWJsZSA1MykuXG4gICAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gVGVsbHMgaWYgUEFDIGZvdW5kXG4gICAgICAgKi9cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlUEFDID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgdmFyIGNoTnIgPSBudWxsO1xuICAgICAgICB2YXIgcm93ID0gbnVsbDtcbiAgICAgICAgdmFyIGNhc2UxID0gKChhID49IDB4MTEgJiYgYSA8PSAweDE3KSB8fCAoYSA+PSAweDE5ICYmIGEgPD0gMHgxRikpICYmIChiID49IDB4NDAgJiYgYiA8PSAweDdGKTtcbiAgICAgICAgdmFyIGNhc2UyID0gKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkgJiYgKGIgPj0gMHg0MCAmJiBiIDw9IDB4NUYpO1xuICAgICAgICBpZiAoIShjYXNlMSB8fCBjYXNlMikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYSA9PT0gdGhpcy5sYXN0Q21kQSAmJiBiID09PSB0aGlzLmxhc3RDbWRCKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIFJlcGVhdGVkIGNvbW1hbmRzIGFyZSBkcm9wcGVkIChvbmNlKVxuICAgICAgICB9XG4gICAgICAgIGNoTnIgPSAoYSA8PSAweDE3KSA/IDEgOiAyO1xuICAgICAgICBpZiAoYiA+PSAweDQwICYmIGIgPD0gMHg1Rikge1xuICAgICAgICAgICAgcm93ID0gKGNoTnIgPT09IDEpID8gcm93c0xvd0NoMVthXSA6IHJvd3NMb3dDaDJbYV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7IC8vIDB4NjAgPD0gYiA8PSAweDdGXG4gICAgICAgICAgICByb3cgPSAoY2hOciA9PT0gMSkgPyByb3dzSGlnaENoMVthXSA6IHJvd3NIaWdoQ2gyW2FdO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYWNEYXRhID0gdGhpcy5pbnRlcnByZXRQQUMocm93LCBiKTtcbiAgICAgICAgdmFyIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICAgICAgY2hhbm5lbC5zZXRQQUMocGFjRGF0YSk7XG4gICAgICAgIHRoaXMubGFzdENtZEEgPSBhO1xuICAgICAgICB0aGlzLmxhc3RDbWRCID0gYjtcbiAgICAgICAgdGhpcy5jdXJyQ2hOciA9IGNoTnI7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBJbnRlcnByZXQgdGhlIHNlY29uZCBieXRlIG9mIHRoZSBwYWMsIGFuZCByZXR1cm4gdGhlIGluZm9ybWF0aW9uLlxuICAgICAgICogQHJldHVybnMge09iamVjdH0gcGFjRGF0YSB3aXRoIHN0eWxlIHBhcmFtZXRlcnMuXG4gICAgICAgKi9cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLmludGVycHJldFBBQyA9IGZ1bmN0aW9uIChyb3csIGJ5dGUpIHtcbiAgICAgICAgdmFyIHBhY0luZGV4ID0gYnl0ZTtcbiAgICAgICAgdmFyIHBhY0RhdGEgPSB7IGNvbG9yOiBudWxsLCBpdGFsaWNzOiBmYWxzZSwgaW5kZW50OiBudWxsLCB1bmRlcmxpbmU6IGZhbHNlLCByb3c6IHJvdyB9O1xuICAgICAgICBpZiAoYnl0ZSA+IDB4NUYpIHtcbiAgICAgICAgICAgIHBhY0luZGV4ID0gYnl0ZSAtIDB4NjA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBwYWNJbmRleCA9IGJ5dGUgLSAweDQwO1xuICAgICAgICB9XG4gICAgICAgIHBhY0RhdGEudW5kZXJsaW5lID0gKHBhY0luZGV4ICYgMSkgPT09IDE7XG4gICAgICAgIGlmIChwYWNJbmRleCA8PSAweGQpIHtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSBbJ3doaXRlJywgJ2dyZWVuJywgJ2JsdWUnLCAnY3lhbicsICdyZWQnLCAneWVsbG93JywgJ21hZ2VudGEnLCAnd2hpdGUnXVtNYXRoLmZsb29yKHBhY0luZGV4IC8gMildO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHBhY0luZGV4IDw9IDB4Zikge1xuICAgICAgICAgICAgcGFjRGF0YS5pdGFsaWNzID0gdHJ1ZTtcbiAgICAgICAgICAgIHBhY0RhdGEuY29sb3IgPSAnd2hpdGUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGFjRGF0YS5pbmRlbnQgPSAoTWF0aC5mbG9vcigocGFjSW5kZXggLSAweDEwKSAvIDIpKSAqIDQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhY0RhdGE7IC8vIE5vdGUgdGhhdCByb3cgaGFzIHplcm8gb2Zmc2V0LiBUaGUgc3BlYyB1c2VzIDEuXG4gICAgfTtcbiAgICAvKipcbiAgICAgICAqIFBhcnNlIGNoYXJhY3RlcnMuXG4gICAgICAgKiBAcmV0dXJucyBBbiBhcnJheSB3aXRoIDEgdG8gMiBjb2RlcyBjb3JyZXNwb25kaW5nIHRvIGNoYXJzLCBpZiBmb3VuZC4gbnVsbCBvdGhlcndpc2UuXG4gICAgICAgKi9cbiAgICBDZWE2MDhQYXJzZXIucHJvdG90eXBlLnBhcnNlQ2hhcnMgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICB2YXIgY2hhbm5lbE5yID0gbnVsbCwgY2hhckNvZGVzID0gbnVsbCwgY2hhckNvZGUxID0gbnVsbDtcbiAgICAgICAgaWYgKGEgPj0gMHgxOSkge1xuICAgICAgICAgICAgY2hhbm5lbE5yID0gMjtcbiAgICAgICAgICAgIGNoYXJDb2RlMSA9IGEgLSA4O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhbm5lbE5yID0gMTtcbiAgICAgICAgICAgIGNoYXJDb2RlMSA9IGE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJDb2RlMSA+PSAweDExICYmIGNoYXJDb2RlMSA8PSAweDEzKSB7XG4gICAgICAgICAgICAvLyBTcGVjaWFsIGNoYXJhY3RlclxuICAgICAgICAgICAgdmFyIG9uZUNvZGUgPSBiO1xuICAgICAgICAgICAgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMSkge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg1MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoYXJDb2RlMSA9PT0gMHgxMikge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg3MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uZUNvZGUgPSBiICsgMHg5MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxvZ2dlci5sb2coJ0lORk8nLCAnU3BlY2lhbCBjaGFyIFxcJycgKyBnZXRDaGFyRm9yQnl0ZShvbmVDb2RlKSArICdcXCcgaW4gY2hhbm5lbCAnICsgY2hhbm5lbE5yKTtcbiAgICAgICAgICAgIGNoYXJDb2RlcyA9IFtvbmVDb2RlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhID49IDB4MjAgJiYgYSA8PSAweDdmKSB7XG4gICAgICAgICAgICBjaGFyQ29kZXMgPSAoYiA9PT0gMCkgPyBbYV0gOiBbYSwgYl07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXJDb2Rlcykge1xuICAgICAgICAgICAgdmFyIGhleENvZGVzID0gbnVtQXJyYXlUb0hleEFycmF5KGNoYXJDb2Rlcyk7XG4gICAgICAgICAgICBsb2dnZXIubG9nKCdERUJVRycsICdDaGFyIGNvZGVzID0gICcgKyBoZXhDb2Rlcy5qb2luKCcsJykpO1xuICAgICAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxhc3RDbWRCID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhckNvZGVzO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAqIFBhcnNlIGV4dGVuZGVkIGJhY2tncm91bmQgYXR0cmlidXRlcyBhcyB3ZWxsIGFzIG5ldyBmb3JlZ3JvdW5kIGNvbG9yIGJsYWNrLlxuICAgICAgKiBAcmV0dXJuc3tCb29sZWFufSBUZWxscyBpZiBiYWNrZ3JvdW5kIGF0dHJpYnV0ZXMgYXJlIGZvdW5kXG4gICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucGFyc2VCYWNrZ3JvdW5kQXR0cmlidXRlcyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHZhciBia2dEYXRhLCBpbmRleCwgY2hOciwgY2hhbm5lbDtcbiAgICAgICAgdmFyIGNhc2UxID0gKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkgJiYgKGIgPj0gMHgyMCAmJiBiIDw9IDB4MmYpO1xuICAgICAgICB2YXIgY2FzZTIgPSAoYSA9PT0gMHgxNyB8fCBhID09PSAweDFmKSAmJiAoYiA+PSAweDJkICYmIGIgPD0gMHgyZik7XG4gICAgICAgIGlmICghKGNhc2UxIHx8IGNhc2UyKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGJrZ0RhdGEgPSB7fTtcbiAgICAgICAgaWYgKGEgPT09IDB4MTAgfHwgYSA9PT0gMHgxOCkge1xuICAgICAgICAgICAgaW5kZXggPSBNYXRoLmZsb29yKChiIC0gMHgyMCkgLyAyKTtcbiAgICAgICAgICAgIGJrZ0RhdGEuYmFja2dyb3VuZCA9IGJhY2tncm91bmRDb2xvcnNbaW5kZXhdO1xuICAgICAgICAgICAgaWYgKGIgJSAyID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYmtnRGF0YS5iYWNrZ3JvdW5kID0gYmtnRGF0YS5iYWNrZ3JvdW5kICsgJ19zZW1pJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiID09PSAweDJkKSB7XG4gICAgICAgICAgICBia2dEYXRhLmJhY2tncm91bmQgPSAndHJhbnNwYXJlbnQnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYmtnRGF0YS5mb3JlZ3JvdW5kID0gJ2JsYWNrJztcbiAgICAgICAgICAgIGlmIChiID09PSAweDJmKSB7XG4gICAgICAgICAgICAgICAgYmtnRGF0YS51bmRlcmxpbmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNoTnIgPSAoYSA8IDB4MTgpID8gMSA6IDI7XG4gICAgICAgIGNoYW5uZWwgPSB0aGlzLmNoYW5uZWxzW2NoTnIgLSAxXTtcbiAgICAgICAgY2hhbm5lbC5zZXRCa2dEYXRhKGJrZ0RhdGEpO1xuICAgICAgICB0aGlzLmxhc3RDbWRBID0gbnVsbDtcbiAgICAgICAgdGhpcy5sYXN0Q21kQiA9IG51bGw7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBSZXNldCBzdGF0ZSBvZiBwYXJzZXIgYW5kIGl0cyBjaGFubmVscy5cbiAgICAgICAqL1xuICAgIENlYTYwOFBhcnNlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLnJlc2V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0Q21kQSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdENtZEIgPSBudWxsO1xuICAgIH07XG4gICAgLyoqXG4gICAgICAgKiBUcmlnZ2VyIHRoZSBnZW5lcmF0aW9uIG9mIGEgY3VlLCBhbmQgdGhlIHN0YXJ0IG9mIGEgbmV3IG9uZSBpZiBkaXNwbGF5U2NyZWVucyBhcmUgbm90IGVtcHR5LlxuICAgICAgICovXG4gICAgQ2VhNjA4UGFyc2VyLnByb3RvdHlwZS5jdWVTcGxpdEF0VGltZSA9IGZ1bmN0aW9uICh0KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGFubmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hhbm5lbHNbaV0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5uZWxzW2ldLmN1ZVNwbGl0QXRUaW1lKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQ2VhNjA4UGFyc2VyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IENlYTYwOFBhcnNlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlscy9jb2RlY3MuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2NvZGVjcy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIGZyb20gaHR0cDovL21wNHJhLm9yZy9jb2RlY3MuaHRtbFxudmFyIHNhbXBsZUVudHJ5Q29kZXNJU08gPSB7XG4gICAgYXVkaW86IHtcbiAgICAgICAgJ2EzZHMnOiB0cnVlLFxuICAgICAgICAnYWMtMyc6IHRydWUsXG4gICAgICAgICdhYy00JzogdHJ1ZSxcbiAgICAgICAgJ2FsYWMnOiB0cnVlLFxuICAgICAgICAnYWxhdyc6IHRydWUsXG4gICAgICAgICdkcmExJzogdHJ1ZSxcbiAgICAgICAgJ2R0cysnOiB0cnVlLFxuICAgICAgICAnZHRzLSc6IHRydWUsXG4gICAgICAgICdkdHNjJzogdHJ1ZSxcbiAgICAgICAgJ2R0c2UnOiB0cnVlLFxuICAgICAgICAnZHRzaCc6IHRydWUsXG4gICAgICAgICdlYy0zJzogdHJ1ZSxcbiAgICAgICAgJ2VuY2EnOiB0cnVlLFxuICAgICAgICAnZzcxOSc6IHRydWUsXG4gICAgICAgICdnNzI2JzogdHJ1ZSxcbiAgICAgICAgJ200YWUnOiB0cnVlLFxuICAgICAgICAnbWhhMSc6IHRydWUsXG4gICAgICAgICdtaGEyJzogdHJ1ZSxcbiAgICAgICAgJ21obTEnOiB0cnVlLFxuICAgICAgICAnbWhtMic6IHRydWUsXG4gICAgICAgICdtbHBhJzogdHJ1ZSxcbiAgICAgICAgJ21wNGEnOiB0cnVlLFxuICAgICAgICAncmF3ICc6IHRydWUsXG4gICAgICAgICdPcHVzJzogdHJ1ZSxcbiAgICAgICAgJ3NhbXInOiB0cnVlLFxuICAgICAgICAnc2F3Yic6IHRydWUsXG4gICAgICAgICdzYXdwJzogdHJ1ZSxcbiAgICAgICAgJ3NldmMnOiB0cnVlLFxuICAgICAgICAnc3FjcCc6IHRydWUsXG4gICAgICAgICdzc212JzogdHJ1ZSxcbiAgICAgICAgJ3R3b3MnOiB0cnVlLFxuICAgICAgICAndWxhdyc6IHRydWVcbiAgICB9LFxuICAgIHZpZGVvOiB7XG4gICAgICAgICdhdmMxJzogdHJ1ZSxcbiAgICAgICAgJ2F2YzInOiB0cnVlLFxuICAgICAgICAnYXZjMyc6IHRydWUsXG4gICAgICAgICdhdmM0JzogdHJ1ZSxcbiAgICAgICAgJ2F2Y3AnOiB0cnVlLFxuICAgICAgICAnZHJhYyc6IHRydWUsXG4gICAgICAgICdkdmF2JzogdHJ1ZSxcbiAgICAgICAgJ2R2aGUnOiB0cnVlLFxuICAgICAgICAnZW5jdic6IHRydWUsXG4gICAgICAgICdoZXYxJzogdHJ1ZSxcbiAgICAgICAgJ2h2YzEnOiB0cnVlLFxuICAgICAgICAnbWpwMic6IHRydWUsXG4gICAgICAgICdtcDR2JzogdHJ1ZSxcbiAgICAgICAgJ212YzEnOiB0cnVlLFxuICAgICAgICAnbXZjMic6IHRydWUsXG4gICAgICAgICdtdmMzJzogdHJ1ZSxcbiAgICAgICAgJ212YzQnOiB0cnVlLFxuICAgICAgICAncmVzdic6IHRydWUsXG4gICAgICAgICdydjYwJzogdHJ1ZSxcbiAgICAgICAgJ3MyNjMnOiB0cnVlLFxuICAgICAgICAnc3ZjMSc6IHRydWUsXG4gICAgICAgICdzdmMyJzogdHJ1ZSxcbiAgICAgICAgJ3ZjLTEnOiB0cnVlLFxuICAgICAgICAndnAwOCc6IHRydWUsXG4gICAgICAgICd2cDA5JzogdHJ1ZVxuICAgIH1cbn07XG5mdW5jdGlvbiBpc0NvZGVjVHlwZShjb2RlYywgdHlwZSkge1xuICAgIHZhciB0eXBlQ29kZXMgPSBzYW1wbGVFbnRyeUNvZGVzSVNPW3R5cGVdO1xuICAgIHJldHVybiAhIXR5cGVDb2RlcyAmJiB0eXBlQ29kZXNbY29kZWMuc2xpY2UoMCwgNCldID09PSB0cnVlO1xufVxuZXhwb3J0cy5pc0NvZGVjVHlwZSA9IGlzQ29kZWNUeXBlO1xuZnVuY3Rpb24gaXNDb2RlY1N1cHBvcnRlZEluTXA0KGNvZGVjLCB0eXBlKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5NZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoKHR5cGUgfHwgJ3ZpZGVvJykgKyBcIi9tcDQ7Y29kZWNzPVxcXCJcIiArIGNvZGVjICsgXCJcXFwiXCIpO1xufVxuZXhwb3J0cy5pc0NvZGVjU3VwcG9ydGVkSW5NcDQgPSBpc0NvZGVjU3VwcG9ydGVkSW5NcDQ7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvY3Vlcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL2N1ZXMuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHZ0dHBhcnNlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi92dHRwYXJzZXIgKi8gXCIuL3NyYy91dGlscy92dHRwYXJzZXIuanNcIik7XG5mdW5jdGlvbiBuZXdDdWUodHJhY2ssIHN0YXJ0VGltZSwgZW5kVGltZSwgY2FwdGlvblNjcmVlbikge1xuICAgIHZhciByb3c7XG4gICAgdmFyIGN1ZTtcbiAgICB2YXIgaW5kZW50aW5nO1xuICAgIHZhciBpbmRlbnQ7XG4gICAgdmFyIHRleHQ7XG4gICAgdmFyIFZUVEN1ZSA9IHdpbmRvdy5WVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcbiAgICBmb3IgKHZhciByID0gMDsgciA8IGNhcHRpb25TY3JlZW4ucm93cy5sZW5ndGg7IHIrKykge1xuICAgICAgICByb3cgPSBjYXB0aW9uU2NyZWVuLnJvd3Nbcl07XG4gICAgICAgIGluZGVudGluZyA9IHRydWU7XG4gICAgICAgIGluZGVudCA9IDA7XG4gICAgICAgIHRleHQgPSAnJztcbiAgICAgICAgaWYgKCFyb3cuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHJvdy5jaGFycy5sZW5ndGg7IGMrKykge1xuICAgICAgICAgICAgICAgIGlmIChyb3cuY2hhcnNbY10udWNoYXIubWF0Y2goL1xccy8pICYmIGluZGVudGluZykge1xuICAgICAgICAgICAgICAgICAgICBpbmRlbnQrKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQgKz0gcm93LmNoYXJzW2NdLnVjaGFyO1xuICAgICAgICAgICAgICAgICAgICBpbmRlbnRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUbyBiZSB1c2VkIGZvciBjbGVhbmluZy11cCBvcnBoYW5lZCByb2xsLXVwIGNhcHRpb25zXG4gICAgICAgICAgICByb3cuY3VlU3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgLy8gR2l2ZSBhIHNsaWdodCBidW1wIHRvIHRoZSBlbmRUaW1lIGlmIGl0J3MgZXF1YWwgdG8gc3RhcnRUaW1lIHRvIGF2b2lkIGEgU3ludGF4RXJyb3IgaW4gSUVcbiAgICAgICAgICAgIGlmIChzdGFydFRpbWUgPT09IGVuZFRpbWUpIHtcbiAgICAgICAgICAgICAgICBlbmRUaW1lICs9IDAuMDAwMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ZSA9IG5ldyBWVFRDdWUoc3RhcnRUaW1lLCBlbmRUaW1lLCB2dHRwYXJzZXJfMS5maXhMaW5lQnJlYWtzKHRleHQudHJpbSgpKSk7XG4gICAgICAgICAgICBpZiAoaW5kZW50ID49IDE2KSB7XG4gICAgICAgICAgICAgICAgaW5kZW50LS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbmRlbnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFZUVEN1ZS5saW5lIGdldCdzIGZsYWtleSB3aGVuIHVzaW5nIGNvbnRyb2xzLCBzbyBsZXQncyBub3cgaW5jbHVkZSBsaW5lIDEzJjE0XG4gICAgICAgICAgICAvLyBhbHNvLCBkcm9wIGxpbmUgMSBzaW5jZSBpdCdzIHRvIGNsb3NlIHRvIHRoZSB0b3BcbiAgICAgICAgICAgIGlmIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvLykpIHtcbiAgICAgICAgICAgICAgICBjdWUubGluZSA9IHIgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY3VlLmxpbmUgPSAociA+IDcgPyByIC0gMiA6IHIgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1ZS5hbGlnbiA9ICdsZWZ0JztcbiAgICAgICAgICAgIC8vIENsYW1wIHRoZSBwb3NpdGlvbiBiZXR3ZWVuIDAgYW5kIDEwMCAtIGlmIG91dCBvZiB0aGVzZSBib3VuZHMsIEZpcmVmb3ggdGhyb3dzIGFuIGV4Y2VwdGlvbiBhbmQgY2FwdGlvbnMgYnJlYWtcbiAgICAgICAgICAgIGN1ZS5wb3NpdGlvbiA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEwMCwgMTAwICogKGluZGVudCAvIDMyKSArIChuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9GaXJlZm94XFwvLykgPyA1MCA6IDApKSk7XG4gICAgICAgICAgICB0cmFjay5hZGRDdWUoY3VlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMubmV3Q3VlID0gbmV3Q3VlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2Rpc2NvbnRpbnVpdGllcy5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvZGlzY29udGludWl0aWVzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBiaW5hcnlfc2VhcmNoXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2JpbmFyeS1zZWFyY2ggKi8gXCIuL3NyYy91dGlscy9iaW5hcnktc2VhcmNoLmpzXCIpO1xudmFyIGxvZ2dlcl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvbG9nZ2VyICovIFwiLi9zcmMvdXRpbHMvbG9nZ2VyLmpzXCIpO1xuZnVuY3Rpb24gZmluZEZpcnN0RnJhZ1dpdGhDQyhmcmFnbWVudHMsIGNjKSB7XG4gICAgdmFyIGZpcnN0RnJhZyA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFnbWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRGcmFnID0gZnJhZ21lbnRzW2ldO1xuICAgICAgICBpZiAoY3VycmVudEZyYWcgJiYgY3VycmVudEZyYWcuY2MgPT09IGNjKSB7XG4gICAgICAgICAgICBmaXJzdEZyYWcgPSBjdXJyZW50RnJhZztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmaXJzdEZyYWc7XG59XG5leHBvcnRzLmZpbmRGaXJzdEZyYWdXaXRoQ0MgPSBmaW5kRmlyc3RGcmFnV2l0aENDO1xuZnVuY3Rpb24gZmluZEZyYWdXaXRoQ0MoZnJhZ21lbnRzLCBDQykge1xuICAgIHJldHVybiBiaW5hcnlfc2VhcmNoXzEuZGVmYXVsdC5zZWFyY2goZnJhZ21lbnRzLCBmdW5jdGlvbiAoY2FuZGlkYXRlKSB7XG4gICAgICAgIGlmIChjYW5kaWRhdGUuY2MgPCBDQykge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2FuZGlkYXRlLmNjID4gQ0MpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmZpbmRGcmFnV2l0aENDID0gZmluZEZyYWdXaXRoQ0M7XG5mdW5jdGlvbiBzaG91bGRBbGlnbk9uRGlzY29udGludWl0aWVzKGxhc3RGcmFnLCBsYXN0TGV2ZWwsIGRldGFpbHMpIHtcbiAgICB2YXIgc2hvdWxkQWxpZ24gPSBmYWxzZTtcbiAgICBpZiAobGFzdExldmVsICYmIGxhc3RMZXZlbC5kZXRhaWxzICYmIGRldGFpbHMpIHtcbiAgICAgICAgaWYgKGRldGFpbHMuZW5kQ0MgPiBkZXRhaWxzLnN0YXJ0Q0MgfHwgKGxhc3RGcmFnICYmIGxhc3RGcmFnLmNjIDwgZGV0YWlscy5zdGFydENDKSkge1xuICAgICAgICAgICAgc2hvdWxkQWxpZ24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaG91bGRBbGlnbjtcbn1cbmV4cG9ydHMuc2hvdWxkQWxpZ25PbkRpc2NvbnRpbnVpdGllcyA9IHNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXM7XG4vLyBGaW5kIHRoZSBmaXJzdCBmcmFnIGluIHRoZSBwcmV2aW91cyBsZXZlbCB3aGljaCBtYXRjaGVzIHRoZSBDQyBvZiB0aGUgZmlyc3QgZnJhZyBvZiB0aGUgbmV3IGxldmVsXG5mdW5jdGlvbiBmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWcocHJldkRldGFpbHMsIGN1ckRldGFpbHMpIHtcbiAgICB2YXIgcHJldkZyYWdzID0gcHJldkRldGFpbHMuZnJhZ21lbnRzO1xuICAgIHZhciBjdXJGcmFncyA9IGN1ckRldGFpbHMuZnJhZ21lbnRzO1xuICAgIGlmICghY3VyRnJhZ3MubGVuZ3RoIHx8ICFwcmV2RnJhZ3MubGVuZ3RoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ05vIGZyYWdtZW50cyB0byBhbGlnbicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBwcmV2U3RhcnRGcmFnID0gZmluZEZpcnN0RnJhZ1dpdGhDQyhwcmV2RnJhZ3MsIGN1ckZyYWdzWzBdLmNjKTtcbiAgICBpZiAoIXByZXZTdGFydEZyYWcgfHwgKHByZXZTdGFydEZyYWcgJiYgIXByZXZTdGFydEZyYWcuc3RhcnRQVFMpKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci5sb2coJ05vIGZyYWcgaW4gcHJldmlvdXMgbGV2ZWwgdG8gYWxpZ24gb24nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gcHJldlN0YXJ0RnJhZztcbn1cbmV4cG9ydHMuZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnID0gZmluZERpc2NvbnRpbnVvdXNSZWZlcmVuY2VGcmFnO1xuZnVuY3Rpb24gYWRqdXN0UHRzKHNsaWRpbmcsIGRldGFpbHMpIHtcbiAgICBkZXRhaWxzLmZyYWdtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChmcmFnKSB7XG4gICAgICAgIGlmIChmcmFnKSB7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBmcmFnLnN0YXJ0ICsgc2xpZGluZztcbiAgICAgICAgICAgIGZyYWcuc3RhcnQgPSBmcmFnLnN0YXJ0UFRTID0gc3RhcnQ7XG4gICAgICAgICAgICBmcmFnLmVuZFBUUyA9IHN0YXJ0ICsgZnJhZy5kdXJhdGlvbjtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGRldGFpbHMuUFRTS25vd24gPSB0cnVlO1xufVxuZXhwb3J0cy5hZGp1c3RQdHMgPSBhZGp1c3RQdHM7XG4vKipcbiAqIFVzaW5nIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBsYXN0IGxldmVsLCB0aGlzIGZ1bmN0aW9uIGNvbXB1dGVzIFBUUycgb2YgdGhlIG5ldyBmcmFnbWVudHMgc28gdGhhdCB0aGV5IGZvcm0gYVxuICogY29udGlndW91cyBzdHJlYW0gd2l0aCB0aGUgbGFzdCBmcmFnbWVudHMuXG4gKiBUaGUgUFRTIG9mIGEgZnJhZ21lbnQgbGV0cyBIbHMuanMga25vdyB3aGVyZSBpdCBmaXRzIGludG8gYSBzdHJlYW0gLSBieSBrbm93aW5nIGV2ZXJ5IFBUUywgd2Uga25vdyB3aGljaCBmcmFnbWVudCB0b1xuICogZG93bmxvYWQgYXQgYW55IGdpdmVuIHRpbWUuIFBUUyBpcyBub3JtYWxseSBjb21wdXRlZCB3aGVuIHRoZSBmcmFnbWVudCBpcyBkZW11eGVkLCBzbyB0YWtpbmcgdGhpcyBzdGVwIHNhdmVzIHVzIHRpbWVcbiAqIGFuZCBhbiBleHRyYSBkb3dubG9hZC5cbiAqIEBwYXJhbSBsYXN0RnJhZ1xuICogQHBhcmFtIGxhc3RMZXZlbFxuICogQHBhcmFtIGRldGFpbHNcbiAqL1xuZnVuY3Rpb24gYWxpZ25TdHJlYW0obGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykge1xuICAgIGFsaWduRGlzY29udGludWl0aWVzKGxhc3RGcmFnLCBkZXRhaWxzLCBsYXN0TGV2ZWwpO1xuICAgIGlmICghZGV0YWlscy5QVFNLbm93biAmJiBsYXN0TGV2ZWwpIHtcbiAgICAgICAgLy8gSWYgdGhlIFBUUyB3YXNuJ3QgZmlndXJlZCBvdXQgdmlhIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UgdGhhdCBtZWFucyB0aGVyZSB3YXMgbm8gQ0MgaW5jcmVhc2Ugd2l0aGluIHRoZSBsZXZlbC5cbiAgICAgICAgLy8gQWxpZ25pbmcgdmlhIFByb2dyYW0gRGF0ZSBUaW1lIHNob3VsZCB0aGVyZWZvcmUgYmUgcmVsaWFibGUsIHNpbmNlIFBEVCBzaG91bGQgYmUgdGhlIHNhbWUgd2l0aGluIHRoZSBzYW1lXG4gICAgICAgIC8vIGRpc2NvbnRpbnVpdHkgc2VxdWVuY2UuXG4gICAgICAgIGFsaWduUERUKGRldGFpbHMsIGxhc3RMZXZlbC5kZXRhaWxzKTtcbiAgICB9XG59XG5leHBvcnRzLmFsaWduU3RyZWFtID0gYWxpZ25TdHJlYW07XG4vKipcbiAqIENvbXB1dGVzIHRoZSBQVFMgaWYgYSBuZXcgbGV2ZWwncyBmcmFnbWVudHMgdXNpbmcgdGhlIFBUUyBvZiBhIGZyYWdtZW50IGluIHRoZSBsYXN0IGxldmVsIHdoaWNoIHNoYXJlcyB0aGUgc2FtZVxuICogZGlzY29udGludWl0eSBzZXF1ZW5jZS5cbiAqIEBwYXJhbSBsYXN0TGV2ZWwgLSBUaGUgZGV0YWlscyBvZiB0aGUgbGFzdCBsb2FkZWQgbGV2ZWxcbiAqIEBwYXJhbSBkZXRhaWxzIC0gVGhlIGRldGFpbHMgb2YgdGhlIG5ldyBsZXZlbFxuICovXG5mdW5jdGlvbiBhbGlnbkRpc2NvbnRpbnVpdGllcyhsYXN0RnJhZywgZGV0YWlscywgbGFzdExldmVsKSB7XG4gICAgaWYgKHNob3VsZEFsaWduT25EaXNjb250aW51aXRpZXMobGFzdEZyYWcsIGxhc3RMZXZlbCwgZGV0YWlscykpIHtcbiAgICAgICAgdmFyIHJlZmVyZW5jZUZyYWcgPSBmaW5kRGlzY29udGludW91c1JlZmVyZW5jZUZyYWcobGFzdExldmVsLmRldGFpbHMsIGRldGFpbHMpO1xuICAgICAgICBpZiAocmVmZXJlbmNlRnJhZykge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZygnQWRqdXN0aW5nIFBUUyB1c2luZyBsYXN0IGxldmVsIGR1ZSB0byBDQyBpbmNyZWFzZSB3aXRoaW4gY3VycmVudCBsZXZlbCcpO1xuICAgICAgICAgICAgYWRqdXN0UHRzKHJlZmVyZW5jZUZyYWcuc3RhcnQsIGRldGFpbHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy5hbGlnbkRpc2NvbnRpbnVpdGllcyA9IGFsaWduRGlzY29udGludWl0aWVzO1xuLyoqXG4gKiBDb21wdXRlcyB0aGUgUFRTIG9mIGEgbmV3IGxldmVsJ3MgZnJhZ21lbnRzIHVzaW5nIHRoZSBkaWZmZXJlbmNlIGluIFByb2dyYW0gRGF0ZSBUaW1lIGZyb20gdGhlIGxhc3QgbGV2ZWwuXG4gKiBAcGFyYW0gZGV0YWlscyAtIFRoZSBkZXRhaWxzIG9mIHRoZSBuZXcgbGV2ZWxcbiAqIEBwYXJhbSBsYXN0RGV0YWlscyAtIFRoZSBkZXRhaWxzIG9mIHRoZSBsYXN0IGxvYWRlZCBsZXZlbFxuICovXG5mdW5jdGlvbiBhbGlnblBEVChkZXRhaWxzLCBsYXN0RGV0YWlscykge1xuICAgIGlmIChsYXN0RGV0YWlscyAmJiBsYXN0RGV0YWlscy5mcmFnbWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGlmICghZGV0YWlscy5oYXNQcm9ncmFtRGF0ZVRpbWUgfHwgIWxhc3REZXRhaWxzLmhhc1Byb2dyYW1EYXRlVGltZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGlmIGxhc3QgbGV2ZWwgc2xpZGluZyBpcyAxMDAwIGFuZCBpdHMgZmlyc3QgZnJhZyBQUk9HUkFNLURBVEUtVElNRSBpcyAyMDE3LTA4LTIwIDE6MTA6MDAgQU1cbiAgICAgICAgLy8gYW5kIGlmIG5ldyBkZXRhaWxzIGZpcnN0IGZyYWcgUFJPR1JBTSBEQVRFLVRJTUUgaXMgMjAxNy0wOC0yMCAxOjEwOjA4IEFNXG4gICAgICAgIC8vIHRoZW4gd2UgY2FuIGRlZHVjZSB0aGF0IHBsYXlsaXN0IEIgc2xpZGluZyBpcyAxMDAwKzggPSAxMDA4c1xuICAgICAgICB2YXIgbGFzdFBEVCA9IGxhc3REZXRhaWxzLmZyYWdtZW50c1swXS5wcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgIHZhciBuZXdQRFQgPSBkZXRhaWxzLmZyYWdtZW50c1swXS5wcm9ncmFtRGF0ZVRpbWU7XG4gICAgICAgIC8vIGRhdGUgZGlmZiBpcyBpbiBtcy4gZnJhZy5zdGFydCBpcyBpbiBzZWNvbmRzXG4gICAgICAgIHZhciBzbGlkaW5nID0gKG5ld1BEVCAtIGxhc3RQRFQpIC8gMTAwMCArIGxhc3REZXRhaWxzLmZyYWdtZW50c1swXS5zdGFydDtcbiAgICAgICAgaWYgKE51bWJlci5pc0Zpbml0ZShzbGlkaW5nKSkge1xuICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmxvZyhcImFkanVzdGluZyBQVFMgdXNpbmcgcHJvZ3JhbURhdGVUaW1lIGRlbHRhLCBzbGlkaW5nOlwiICsgc2xpZGluZy50b0ZpeGVkKDMpKTtcbiAgICAgICAgICAgIGFkanVzdFB0cyhzbGlkaW5nLCBkZXRhaWxzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuYWxpZ25QRFQgPSBhbGlnblBEVDtcblxuLyogV0VCUEFDSyBWQVIgSU5KRUNUSU9OICovfS5jYWxsKHRoaXMsIF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vc3JjL3BvbHlmaWxscy9udW1iZXIgKi8gXCIuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyLmpzXCIpW1wiTnVtYmVyXCJdKSlcblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvZXdtYS1iYW5kd2lkdGgtZXN0aW1hdG9yLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9ld21hLWJhbmR3aWR0aC1lc3RpbWF0b3IuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKlxuICogRVdNQSBCYW5kd2lkdGggRXN0aW1hdG9yXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKiBUcmFja3MgYmFuZHdpZHRoIHNhbXBsZXMgYW5kIGVzdGltYXRlcyBhdmFpbGFibGUgYmFuZHdpZHRoLlxuICogQmFzZWQgb24gdGhlIG1pbmltdW0gb2YgdHdvIGV4cG9uZW50aWFsbHktd2VpZ2h0ZWQgbW92aW5nIGF2ZXJhZ2VzIHdpdGhcbiAqIGRpZmZlcmVudCBoYWxmLWxpdmVzLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXdtYV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vdXRpbHMvZXdtYSAqLyBcIi4vc3JjL3V0aWxzL2V3bWEuanNcIik7XG52YXIgRXdtYUJhbmRXaWR0aEVzdGltYXRvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBFd21hQmFuZFdpZHRoRXN0aW1hdG9yKGhscywgc2xvdywgZmFzdCwgZGVmYXVsdEVzdGltYXRlKSB7XG4gICAgICAgIHRoaXMuaGxzID0gaGxzO1xuICAgICAgICB0aGlzLmRlZmF1bHRFc3RpbWF0ZV8gPSBkZWZhdWx0RXN0aW1hdGU7XG4gICAgICAgIHRoaXMubWluV2VpZ2h0XyA9IDAuMDAxO1xuICAgICAgICB0aGlzLm1pbkRlbGF5TXNfID0gNTA7XG4gICAgICAgIHRoaXMuc2xvd18gPSBuZXcgZXdtYV8xLmRlZmF1bHQoc2xvdyk7XG4gICAgICAgIHRoaXMuZmFzdF8gPSBuZXcgZXdtYV8xLmRlZmF1bHQoZmFzdCk7XG4gICAgfVxuICAgIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uIChkdXJhdGlvbk1zLCBudW1CeXRlcykge1xuICAgICAgICBkdXJhdGlvbk1zID0gTWF0aC5tYXgoZHVyYXRpb25NcywgdGhpcy5taW5EZWxheU1zXyk7XG4gICAgICAgIHZhciBiYW5kd2lkdGggPSA4MDAwICogbnVtQnl0ZXMgLyBkdXJhdGlvbk1zLCBcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2luc3RhbnQgYnc6JysgTWF0aC5yb3VuZChiYW5kd2lkdGgpKTtcbiAgICAgICAgLy8gd2Ugd2VpZ2h0IHNhbXBsZSB1c2luZyBsb2FkaW5nIGR1cmF0aW9uLi4uLlxuICAgICAgICB3ZWlnaHQgPSBkdXJhdGlvbk1zIC8gMTAwMDtcbiAgICAgICAgdGhpcy5mYXN0Xy5zYW1wbGUod2VpZ2h0LCBiYW5kd2lkdGgpO1xuICAgICAgICB0aGlzLnNsb3dfLnNhbXBsZSh3ZWlnaHQsIGJhbmR3aWR0aCk7XG4gICAgfTtcbiAgICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5jYW5Fc3RpbWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGZhc3QgPSB0aGlzLmZhc3RfO1xuICAgICAgICByZXR1cm4gKGZhc3QgJiYgZmFzdC5nZXRUb3RhbFdlaWdodCgpID49IHRoaXMubWluV2VpZ2h0Xyk7XG4gICAgfTtcbiAgICBFd21hQmFuZFdpZHRoRXN0aW1hdG9yLnByb3RvdHlwZS5nZXRFc3RpbWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuRXN0aW1hdGUoKSkge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3Nsb3cgZXN0aW1hdGU6JysgTWF0aC5yb3VuZCh0aGlzLnNsb3dfLmdldEVzdGltYXRlKCkpKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdmYXN0IGVzdGltYXRlOicrIE1hdGgucm91bmQodGhpcy5mYXN0Xy5nZXRFc3RpbWF0ZSgpKSk7XG4gICAgICAgICAgICAvLyBUYWtlIHRoZSBtaW5pbXVtIG9mIHRoZXNlIHR3byBlc3RpbWF0ZXMuICBUaGlzIHNob3VsZCBoYXZlIHRoZSBlZmZlY3Qgb2ZcbiAgICAgICAgICAgIC8vIGFkYXB0aW5nIGRvd24gcXVpY2tseSwgYnV0IHVwIG1vcmUgc2xvd2x5LlxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHRoaXMuZmFzdF8uZ2V0RXN0aW1hdGUoKSwgdGhpcy5zbG93Xy5nZXRFc3RpbWF0ZSgpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRFc3RpbWF0ZV87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEV3bWFCYW5kV2lkdGhFc3RpbWF0b3IucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgfTtcbiAgICByZXR1cm4gRXdtYUJhbmRXaWR0aEVzdGltYXRvcjtcbn0oKSk7XG5leHBvcnRzLmRlZmF1bHQgPSBFd21hQmFuZFdpZHRoRXN0aW1hdG9yO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2V3bWEuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9ld21hLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gKiBjb21wdXRlIGFuIEV4cG9uZW50aWFsIFdlaWdodGVkIG1vdmluZyBhdmVyYWdlXG4gKiAtIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL01vdmluZ19hdmVyYWdlI0V4cG9uZW50aWFsX21vdmluZ19hdmVyYWdlXG4gKiAgLSBoZWF2aWx5IGluc3BpcmVkIGZyb20gc2hha2EtcGxheWVyXG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBFV01BID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIC8vICBBYm91dCBoYWxmIG9mIHRoZSBlc3RpbWF0ZWQgdmFsdWUgd2lsbCBiZSBmcm9tIHRoZSBsYXN0IHxoYWxmTGlmZXwgc2FtcGxlcyBieSB3ZWlnaHQuXG4gICAgZnVuY3Rpb24gRVdNQShoYWxmTGlmZSkge1xuICAgICAgICAvLyBMYXJnZXIgdmFsdWVzIG9mIGFscGhhIGV4cGlyZSBoaXN0b3JpY2FsIGRhdGEgbW9yZSBzbG93bHkuXG4gICAgICAgIHRoaXMuYWxwaGFfID0gaGFsZkxpZmUgPyBNYXRoLmV4cChNYXRoLmxvZygwLjUpIC8gaGFsZkxpZmUpIDogMDtcbiAgICAgICAgdGhpcy5lc3RpbWF0ZV8gPSAwO1xuICAgICAgICB0aGlzLnRvdGFsV2VpZ2h0XyA9IDA7XG4gICAgfVxuICAgIEVXTUEucHJvdG90eXBlLnNhbXBsZSA9IGZ1bmN0aW9uICh3ZWlnaHQsIHZhbHVlKSB7XG4gICAgICAgIHZhciBhZGpBbHBoYSA9IE1hdGgucG93KHRoaXMuYWxwaGFfLCB3ZWlnaHQpO1xuICAgICAgICB0aGlzLmVzdGltYXRlXyA9IHZhbHVlICogKDEgLSBhZGpBbHBoYSkgKyBhZGpBbHBoYSAqIHRoaXMuZXN0aW1hdGVfO1xuICAgICAgICB0aGlzLnRvdGFsV2VpZ2h0XyArPSB3ZWlnaHQ7XG4gICAgfTtcbiAgICBFV01BLnByb3RvdHlwZS5nZXRUb3RhbFdlaWdodCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG90YWxXZWlnaHRfO1xuICAgIH07XG4gICAgRVdNQS5wcm90b3R5cGUuZ2V0RXN0aW1hdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmFscGhhXykge1xuICAgICAgICAgICAgdmFyIHplcm9GYWN0b3IgPSAxIC0gTWF0aC5wb3codGhpcy5hbHBoYV8sIHRoaXMudG90YWxXZWlnaHRfKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlXyAvIHplcm9GYWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZV87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBFV01BO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IEVXTUE7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIGdldFNlbGZTY29wZSgpIHtcbiAgICAvLyBzZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzExMjM3MjU5LzU4OTQ5M1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5kZWYgKi9cbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gd2luZG93O1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0U2VsZlNjb3BlID0gZ2V0U2VsZlNjb3BlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvbG9nZ2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIGdldF9zZWxmX3Njb3BlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL2dldC1zZWxmLXNjb3BlICovIFwiLi9zcmMvdXRpbHMvZ2V0LXNlbGYtc2NvcGUuanNcIik7XG5mdW5jdGlvbiBub29wKCkgeyB9XG52YXIgZmFrZUxvZ2dlciA9IHtcbiAgICB0cmFjZTogbm9vcCxcbiAgICBkZWJ1Zzogbm9vcCxcbiAgICBsb2c6IG5vb3AsXG4gICAgd2Fybjogbm9vcCxcbiAgICBpbmZvOiBub29wLFxuICAgIGVycm9yOiBub29wXG59O1xudmFyIGV4cG9ydGVkTG9nZ2VyID0gZmFrZUxvZ2dlcjtcbi8vIGxldCBsYXN0Q2FsbFRpbWU7XG4vLyBmdW5jdGlvbiBmb3JtYXRNc2dXaXRoVGltZUluZm8odHlwZSwgbXNnKSB7XG4vLyAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4vLyAgIGNvbnN0IGRpZmYgPSBsYXN0Q2FsbFRpbWUgPyAnKycgKyAobm93IC0gbGFzdENhbGxUaW1lKSA6ICcwJztcbi8vICAgbGFzdENhbGxUaW1lID0gbm93O1xuLy8gICBtc2cgPSAobmV3IERhdGUobm93KSkudG9JU09TdHJpbmcoKSArICcgfCBbJyArICB0eXBlICsgJ10gPiAnICsgbXNnICsgJyAoICcgKyBkaWZmICsgJyBtcyApJztcbi8vICAgcmV0dXJuIG1zZztcbi8vIH1cbmZ1bmN0aW9uIGZvcm1hdE1zZyh0eXBlLCBtc2cpIHtcbiAgICBtc2cgPSAnWycgKyB0eXBlICsgJ10gPiAnICsgbXNnO1xuICAgIHJldHVybiBtc2c7XG59XG52YXIgZ2xvYmFsID0gZ2V0X3NlbGZfc2NvcGVfMS5nZXRTZWxmU2NvcGUoKTtcbmZ1bmN0aW9uIGNvbnNvbGVQcmludEZuKHR5cGUpIHtcbiAgICB2YXIgZnVuYyA9IGdsb2JhbC5jb25zb2xlW3R5cGVdO1xuICAgIGlmIChmdW5jKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXJnc1swXSkge1xuICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSBmb3JtYXRNc2codHlwZSwgYXJnc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jLmFwcGx5KGdsb2JhbC5jb25zb2xlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG5vb3A7XG59XG5mdW5jdGlvbiBleHBvcnRMb2dnZXJGdW5jdGlvbnMoZGVidWdDb25maWcpIHtcbiAgICB2YXIgZnVuY3Rpb25zID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgZnVuY3Rpb25zW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBmdW5jdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICBleHBvcnRlZExvZ2dlclt0eXBlXSA9IGRlYnVnQ29uZmlnW3R5cGVdID8gZGVidWdDb25maWdbdHlwZV0uYmluZChkZWJ1Z0NvbmZpZykgOiBjb25zb2xlUHJpbnRGbih0eXBlKTtcbiAgICB9KTtcbn1cbmV4cG9ydHMuZW5hYmxlTG9ncyA9IGZ1bmN0aW9uIChkZWJ1Z0NvbmZpZykge1xuICAgIGlmIChkZWJ1Z0NvbmZpZyA9PT0gdHJ1ZSB8fCB0eXBlb2YgZGVidWdDb25maWcgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGV4cG9ydExvZ2dlckZ1bmN0aW9ucyhkZWJ1Z0NvbmZpZywgXG4gICAgICAgIC8vIFJlbW92ZSBvdXQgZnJvbSBsaXN0IGhlcmUgdG8gaGFyZC1kaXNhYmxlIGEgbG9nLWxldmVsXG4gICAgICAgIC8vICd0cmFjZScsXG4gICAgICAgICdkZWJ1ZycsICdsb2cnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJyk7XG4gICAgICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gdXNlIGJpbmQgb24gY29uc29sZSBvYmplY3QgYW55d2F5XG4gICAgICAgIC8vIGZhbGxiYWNrIHRvIGRlZmF1bHQgaWYgbmVlZGVkXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBleHBvcnRlZExvZ2dlci5sb2coKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXhwb3J0ZWRMb2dnZXIgPSBmYWtlTG9nZ2VyO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBleHBvcnRlZExvZ2dlciA9IGZha2VMb2dnZXI7XG4gICAgfVxufTtcbmV4cG9ydHMubG9nZ2VyID0gZXhwb3J0ZWRMb2dnZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvbWVkaWFrZXlzLWhlbHBlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL21lZGlha2V5cy1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHJlcXVlc3RNZWRpYUtleVN5c3RlbUFjY2VzcyA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5uYXZpZ2F0b3IgJiYgd2luZG93Lm5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IucmVxdWVzdE1lZGlhS2V5U3lzdGVtQWNjZXNzLmJpbmQod2luZG93Lm5hdmlnYXRvcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59KSgpO1xuZXhwb3J0cy5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MgPSByZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3M7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvbWVkaWFzb3VyY2UtaGVscGVyLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9tZWRpYXNvdXJjZS1oZWxwZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIE1lZGlhU291cmNlIGhlbHBlclxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5mdW5jdGlvbiBnZXRNZWRpYVNvdXJjZSgpIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5NZWRpYVNvdXJjZSB8fCB3aW5kb3cuV2ViS2l0TWVkaWFTb3VyY2U7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRNZWRpYVNvdXJjZSA9IGdldE1lZGlhU291cmNlO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL291dHB1dC1maWx0ZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy9vdXRwdXQtZmlsdGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBPdXRwdXRGaWx0ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT3V0cHV0RmlsdGVyKHRpbWVsaW5lQ29udHJvbGxlciwgdHJhY2tOYW1lKSB7XG4gICAgICAgIHRoaXMudGltZWxpbmVDb250cm9sbGVyID0gdGltZWxpbmVDb250cm9sbGVyO1xuICAgICAgICB0aGlzLnRyYWNrTmFtZSA9IHRyYWNrTmFtZTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLmVuZFRpbWUgPSBudWxsO1xuICAgICAgICB0aGlzLnNjcmVlbiA9IG51bGw7XG4gICAgfVxuICAgIE91dHB1dEZpbHRlci5wcm90b3R5cGUuZGlzcGF0Y2hDdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnN0YXJ0VGltZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGltZWxpbmVDb250cm9sbGVyLmFkZEN1ZXModGhpcy50cmFja05hbWUsIHRoaXMuc3RhcnRUaW1lLCB0aGlzLmVuZFRpbWUsIHRoaXMuc2NyZWVuKTtcbiAgICAgICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xuICAgIH07XG4gICAgT3V0cHV0RmlsdGVyLnByb3RvdHlwZS5uZXdDdWUgPSBmdW5jdGlvbiAoc3RhcnRUaW1lLCBlbmRUaW1lLCBzY3JlZW4pIHtcbiAgICAgICAgaWYgKHRoaXMuc3RhcnRUaW1lID09PSBudWxsIHx8IHRoaXMuc3RhcnRUaW1lID4gc3RhcnRUaW1lKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmVuZFRpbWUgPSBlbmRUaW1lO1xuICAgICAgICB0aGlzLnNjcmVlbiA9IHNjcmVlbjtcbiAgICAgICAgdGhpcy50aW1lbGluZUNvbnRyb2xsZXIuY3JlYXRlQ2FwdGlvbnNUcmFjayh0aGlzLnRyYWNrTmFtZSk7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0cHV0RmlsdGVyO1xufSgpKTtcbmV4cG9ydHMuZGVmYXVsdCA9IE91dHB1dEZpbHRlcjtcblxuXG4vKioqLyB9KSxcblxuLyoqKi8gXCIuL3NyYy91dGlscy90ZXh0dHJhY2stdXRpbHMuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL3RleHR0cmFjay11dGlscy5qcyAqKiohXG4gIFxcKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmZ1bmN0aW9uIHNlbmRBZGRUcmFja0V2ZW50KHRyYWNrLCB2aWRlb0VsKSB7XG4gICAgdmFyIGV2ZW50ID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgICBldmVudCA9IG5ldyB3aW5kb3cuRXZlbnQoJ2FkZHRyYWNrJyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgLy8gZm9yIElFMTFcbiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdhZGR0cmFjaycsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICAgIGV2ZW50LnRyYWNrID0gdHJhY2s7XG4gICAgdmlkZW9FbC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cbmV4cG9ydHMuc2VuZEFkZFRyYWNrRXZlbnQgPSBzZW5kQWRkVHJhY2tFdmVudDtcbmZ1bmN0aW9uIGNsZWFyQ3VycmVudEN1ZXModHJhY2spIHtcbiAgICBpZiAodHJhY2sgJiYgdHJhY2suY3Vlcykge1xuICAgICAgICB3aGlsZSAodHJhY2suY3Vlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0cmFjay5yZW1vdmVDdWUodHJhY2suY3Vlc1swXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLmNsZWFyQ3VycmVudEN1ZXMgPSBjbGVhckN1cnJlbnRDdWVzO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL3RpbWUtcmFuZ2VzLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL3RpbWUtcmFuZ2VzLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqICBUaW1lUmFuZ2VzIHRvIHN0cmluZyBoZWxwZXJcbiAqL1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFRpbWVSYW5nZXMgPSB7XG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uIChyKSB7XG4gICAgICAgIHZhciBsb2cgPSAnJywgbGVuID0gci5sZW5ndGg7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxvZyArPSAnWycgKyByLnN0YXJ0KGkpLnRvRml4ZWQoMykgKyAnLCcgKyByLmVuZChpKS50b0ZpeGVkKDMpICsgJ10nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2c7XG4gICAgfVxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IFRpbWVSYW5nZXM7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvdnR0Y3VlLmpzXCI6XG4vKiEqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy92dHRjdWUuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyohIG5vIHN0YXRpYyBleHBvcnRzIGZvdW5kICovXG4vKiEgTW9kdWxlQ29uY2F0ZW5hdGlvbiBiYWlsb3V0OiBNb2R1bGUgaXMgbm90IGFuIEVDTUFTY3JpcHQgbW9kdWxlICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDEzIHZ0dC5qcyBDb250cmlidXRvcnNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZmF1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuVlRUQ3VlKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cuVlRUQ3VlO1xuICAgIH1cbiAgICB2YXIgYXV0b0tleXdvcmQgPSAnYXV0byc7XG4gICAgdmFyIGRpcmVjdGlvblNldHRpbmcgPSB7XG4gICAgICAgICcnOiB0cnVlLFxuICAgICAgICBscjogdHJ1ZSxcbiAgICAgICAgcmw6IHRydWVcbiAgICB9O1xuICAgIHZhciBhbGlnblNldHRpbmcgPSB7XG4gICAgICAgIHN0YXJ0OiB0cnVlLFxuICAgICAgICBtaWRkbGU6IHRydWUsXG4gICAgICAgIGVuZDogdHJ1ZSxcbiAgICAgICAgbGVmdDogdHJ1ZSxcbiAgICAgICAgcmlnaHQ6IHRydWVcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGZpbmREaXJlY3Rpb25TZXR0aW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpciA9IGRpcmVjdGlvblNldHRpbmdbdmFsdWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIHJldHVybiBkaXIgPyB2YWx1ZS50b0xvd2VyQ2FzZSgpIDogZmFsc2U7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGZpbmRBbGlnblNldHRpbmcodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWxpZ24gPSBhbGlnblNldHRpbmdbdmFsdWUudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIHJldHVybiBhbGlnbiA/IHZhbHVlLnRvTG93ZXJDYXNlKCkgOiBmYWxzZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZXh0ZW5kKG9iaikge1xuICAgICAgICB2YXIgaSA9IDE7XG4gICAgICAgIGZvciAoOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY29iaiA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gY29iaikge1xuICAgICAgICAgICAgICAgIG9ialtwXSA9IGNvYmpbcF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgZnVuY3Rpb24gVlRUQ3VlKHN0YXJ0VGltZSwgZW5kVGltZSwgdGV4dCkge1xuICAgICAgICB2YXIgY3VlID0gdGhpcztcbiAgICAgICAgdmFyIGlzSUU4ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoL01TSUVcXHM4XFwuMC8pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIHZhciBiYXNlT2JqID0ge307XG4gICAgICAgIGlmIChpc0lFOCkge1xuICAgICAgICAgICAgY3VlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY3VzdG9tJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYXNlT2JqLmVudW1lcmFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaGltIGltcGxlbWVudGF0aW9uIHNwZWNpZmljIHByb3BlcnRpZXMuIFRoZXNlIHByb3BlcnRpZXMgYXJlIG5vdCBpblxuICAgICAgICAgKiB0aGUgc3BlYy5cbiAgICAgICAgICovXG4gICAgICAgIC8vIExldHMgdXMga25vdyB3aGVuIHRoZSBWVFRDdWUncyBkYXRhIGhhcyBjaGFuZ2VkIGluIHN1Y2ggYSB3YXkgdGhhdCB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIHJlY29tcHV0ZSBpdHMgZGlzcGxheSBzdGF0ZS4gVGhpcyBsZXRzIHVzIGNvbXB1dGUgaXRzIGRpc3BsYXkgc3RhdGVcbiAgICAgICAgLy8gbGF6aWx5LlxuICAgICAgICBjdWUuaGFzQmVlblJlc2V0ID0gZmFsc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBWVFRDdWUgYW5kIFRleHRUcmFja0N1ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAqIGh0dHA6Ly9kZXYudzMub3JnL2h0bWw1L3dlYnZ0dC8jdnR0Y3VlLWludGVyZmFjZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIF9pZCA9ICcnO1xuICAgICAgICB2YXIgX3BhdXNlT25FeGl0ID0gZmFsc2U7XG4gICAgICAgIHZhciBfc3RhcnRUaW1lID0gc3RhcnRUaW1lO1xuICAgICAgICB2YXIgX2VuZFRpbWUgPSBlbmRUaW1lO1xuICAgICAgICB2YXIgX3RleHQgPSB0ZXh0O1xuICAgICAgICB2YXIgX3JlZ2lvbiA9IG51bGw7XG4gICAgICAgIHZhciBfdmVydGljYWwgPSAnJztcbiAgICAgICAgdmFyIF9zbmFwVG9MaW5lcyA9IHRydWU7XG4gICAgICAgIHZhciBfbGluZSA9ICdhdXRvJztcbiAgICAgICAgdmFyIF9saW5lQWxpZ24gPSAnc3RhcnQnO1xuICAgICAgICB2YXIgX3Bvc2l0aW9uID0gNTA7XG4gICAgICAgIHZhciBfcG9zaXRpb25BbGlnbiA9ICdtaWRkbGUnO1xuICAgICAgICB2YXIgX3NpemUgPSA1MDtcbiAgICAgICAgdmFyIF9hbGlnbiA9ICdtaWRkbGUnO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnaWQnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfaWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfaWQgPSAnJyArIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdwYXVzZU9uRXhpdCcsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wYXVzZU9uRXhpdDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIF9wYXVzZU9uRXhpdCA9ICEhdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3N0YXJ0VGltZScsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zdGFydFRpbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdTdGFydCB0aW1lIG11c3QgYmUgc2V0IHRvIGEgbnVtYmVyLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfc3RhcnRUaW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdlbmRUaW1lJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2VuZFRpbWU7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmQgdGltZSBtdXN0IGJlIHNldCB0byBhIG51bWJlci4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX2VuZFRpbWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3RleHQnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGV4dDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIF90ZXh0ID0gJycgKyB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3JlZ2lvbicsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9yZWdpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBfcmVnaW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICd2ZXJ0aWNhbCcsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF92ZXJ0aWNhbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nID0gZmluZERpcmVjdGlvblNldHRpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIC8vIEhhdmUgdG8gY2hlY2sgZm9yIGZhbHNlIGJlY2F1c2UgdGhlIHNldHRpbmcgYW4gYmUgYW4gZW1wdHkgc3RyaW5nLlxuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3ZlcnRpY2FsID0gc2V0dGluZztcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ3NuYXBUb0xpbmVzJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3NuYXBUb0xpbmVzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgX3NuYXBUb0xpbmVzID0gISF2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2xpbmUnLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbGluZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInICYmIHZhbHVlICE9PSBhdXRvS2V5d29yZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgbnVtYmVyIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9saW5lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdsaW5lQWxpZ24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfbGluZUFsaWduO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9saW5lQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAncG9zaXRpb24nLCBleHRlbmQoe30sIGJhc2VPYmosIHtcbiAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfcG9zaXRpb247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9zaXRpb24gbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3Bvc2l0aW9uID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjdWUsICdwb3NpdGlvbkFsaWduJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc2l0aW9uQWxpZ247XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGluZyA9IGZpbmRBbGlnblNldHRpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICghc2V0dGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ0FuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3Bvc2l0aW9uQWxpZ24gPSBzZXR0aW5nO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFzQmVlblJlc2V0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoY3VlLCAnc2l6ZScsIGV4dGVuZCh7fSwgYmFzZU9iaiwge1xuICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF9zaXplO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpemUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEwMC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX3NpemUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0JlZW5SZXNldCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGN1ZSwgJ2FsaWduJywgZXh0ZW5kKHt9LCBiYXNlT2JqLCB7XG4gICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2FsaWduO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldDogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmcgPSBmaW5kQWxpZ25TZXR0aW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKCdBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9hbGlnbiA9IHNldHRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNCZWVuUmVzZXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdGhlciA8dHJhY2s+IHNwZWMgZGVmaW5lZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICAvLyBodHRwOi8vd3d3LndoYXR3Zy5vcmcvc3BlY3Mvd2ViLWFwcHMvY3VycmVudC13b3JrL211bHRpcGFnZS90aGUtdmlkZW8tZWxlbWVudC5odG1sI3RleHQtdHJhY2stY3VlLWRpc3BsYXktc3RhdGVcbiAgICAgICAgY3VlLmRpc3BsYXlTdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGlzSUU4KSB7XG4gICAgICAgICAgICByZXR1cm4gY3VlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZUVEN1ZSBtZXRob2RzXG4gICAgICovXG4gICAgVlRUQ3VlLnByb3RvdHlwZS5nZXRDdWVBc0hUTUwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIEFzc3VtZSBXZWJWVFQuY29udmVydEN1ZVRvRE9NVHJlZSBpcyBvbiB0aGUgZ2xvYmFsLlxuICAgICAgICB2YXIgV2ViVlRUID0gd2luZG93LldlYlZUVDtcbiAgICAgICAgcmV0dXJuIFdlYlZUVC5jb252ZXJ0Q3VlVG9ET01UcmVlKHdpbmRvdywgdGhpcy50ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBWVFRDdWU7XG59KSgpO1xuXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL3Z0dHBhcnNlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiohKlxcXG4gICEqKiogLi9zcmMvdXRpbHMvdnR0cGFyc2VyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuLypcbiAqIFNvdXJjZTogaHR0cHM6Ly9naXRodWIuY29tL21vemlsbGEvdnR0LmpzL2Jsb2IvbWFzdGVyL2Rpc3QvdnR0LmpzI0wxNzE2XG4gKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB2dHRjdWVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdnR0Y3VlICovIFwiLi9zcmMvdXRpbHMvdnR0Y3VlLmpzXCIpO1xudmFyIFN0cmluZ0RlY29kZXIgPSBmdW5jdGlvbiBTdHJpbmdEZWNvZGVyKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlY29kZTogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Vycm9yIC0gZXhwZWN0ZWQgc3RyaW5nIGRhdGEuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZVVSSUNvbXBvbmVudChkYXRhKSk7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmZ1bmN0aW9uIFZUVFBhcnNlcigpIHtcbiAgICB0aGlzLndpbmRvdyA9IHdpbmRvdztcbiAgICB0aGlzLnN0YXRlID0gJ0lOSVRJQUwnO1xuICAgIHRoaXMuYnVmZmVyID0gJyc7XG4gICAgdGhpcy5kZWNvZGVyID0gbmV3IFN0cmluZ0RlY29kZXIoKTtcbiAgICB0aGlzLnJlZ2lvbkxpc3QgPSBbXTtcbn1cbi8vIFRyeSB0byBwYXJzZSBpbnB1dCBhcyBhIHRpbWUgc3RhbXAuXG5mdW5jdGlvbiBwYXJzZVRpbWVTdGFtcChpbnB1dCkge1xuICAgIGZ1bmN0aW9uIGNvbXB1dGVTZWNvbmRzKGgsIG0sIHMsIGYpIHtcbiAgICAgICAgcmV0dXJuIChoIHwgMCkgKiAzNjAwICsgKG0gfCAwKSAqIDYwICsgKHMgfCAwKSArIChmIHwgMCkgLyAxMDAwO1xuICAgIH1cbiAgICB2YXIgbSA9IGlucHV0Lm1hdGNoKC9eKFxcZCspOihcXGR7Mn0pKDpcXGR7Mn0pP1xcLihcXGR7M30pLyk7XG4gICAgaWYgKCFtKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAobVszXSkge1xuICAgICAgICAvLyBUaW1lc3RhbXAgdGFrZXMgdGhlIGZvcm0gb2YgW2hvdXJzXTpbbWludXRlc106W3NlY29uZHNdLlttaWxsaXNlY29uZHNdXG4gICAgICAgIHJldHVybiBjb21wdXRlU2Vjb25kcyhtWzFdLCBtWzJdLCBtWzNdLnJlcGxhY2UoJzonLCAnJyksIG1bNF0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChtWzFdID4gNTkpIHtcbiAgICAgICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFtob3Vyc106W21pbnV0ZXNdLlttaWxsaXNlY29uZHNdXG4gICAgICAgIC8vIEZpcnN0IHBvc2l0aW9uIGlzIGhvdXJzIGFzIGl0J3Mgb3ZlciA1OS5cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKG1bMV0sIG1bMl0sIDAsIG1bNF0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gVGltZXN0YW1wIHRha2VzIHRoZSBmb3JtIG9mIFttaW51dGVzXTpbc2Vjb25kc10uW21pbGxpc2Vjb25kc11cbiAgICAgICAgcmV0dXJuIGNvbXB1dGVTZWNvbmRzKDAsIG1bMV0sIG1bMl0sIG1bNF0pO1xuICAgIH1cbn1cbi8vIEEgc2V0dGluZ3Mgb2JqZWN0IGhvbGRzIGtleS92YWx1ZSBwYWlycyBhbmQgd2lsbCBpZ25vcmUgYW55dGhpbmcgYnV0IHRoZSBmaXJzdFxuLy8gYXNzaWdubWVudCB0byBhIHNwZWNpZmljIGtleS5cbmZ1bmN0aW9uIFNldHRpbmdzKCkge1xuICAgIHRoaXMudmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbn1cblNldHRpbmdzLnByb3RvdHlwZSA9IHtcbiAgICAvLyBPbmx5IGFjY2VwdCB0aGUgZmlyc3QgYXNzaWdubWVudCB0byBhbnkga2V5LlxuICAgIHNldDogZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgaWYgKCF0aGlzLmdldChrKSAmJiB2ICE9PSAnJykge1xuICAgICAgICAgICAgdGhpcy52YWx1ZXNba10gPSB2O1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBSZXR1cm4gdGhlIHZhbHVlIGZvciBhIGtleSwgb3IgYSBkZWZhdWx0IHZhbHVlLlxuICAgIC8vIElmICdkZWZhdWx0S2V5JyBpcyBwYXNzZWQgdGhlbiAnZGZsdCcgaXMgYXNzdW1lZCB0byBiZSBhbiBvYmplY3Qgd2l0aFxuICAgIC8vIGEgbnVtYmVyIG9mIHBvc3NpYmxlIGRlZmF1bHQgdmFsdWVzIGFzIHByb3BlcnRpZXMgd2hlcmUgJ2RlZmF1bHRLZXknIGlzXG4gICAgLy8gdGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdGhhdCB3aWxsIGJlIGNob3Nlbjsgb3RoZXJ3aXNlIGl0J3MgYXNzdW1lZCB0byBiZVxuICAgIC8vIGEgc2luZ2xlIHZhbHVlLlxuICAgIGdldDogZnVuY3Rpb24gKGssIGRmbHQsIGRlZmF1bHRLZXkpIHtcbiAgICAgICAgaWYgKGRlZmF1bHRLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhhcyhrKSA/IHRoaXMudmFsdWVzW2tdIDogZGZsdFtkZWZhdWx0S2V5XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oYXMoaykgPyB0aGlzLnZhbHVlc1trXSA6IGRmbHQ7XG4gICAgfSxcbiAgICAvLyBDaGVjayB3aGV0aGVyIHdlIGhhdmUgYSB2YWx1ZSBmb3IgYSBrZXkuXG4gICAgaGFzOiBmdW5jdGlvbiAoaykge1xuICAgICAgICByZXR1cm4gayBpbiB0aGlzLnZhbHVlcztcbiAgICB9LFxuICAgIC8vIEFjY2VwdCBhIHNldHRpbmcgaWYgaXRzIG9uZSBvZiB0aGUgZ2l2ZW4gYWx0ZXJuYXRpdmVzLlxuICAgIGFsdDogZnVuY3Rpb24gKGssIHYsIGEpIHtcbiAgICAgICAgZm9yICh2YXIgbiA9IDA7IG4gPCBhLmxlbmd0aDsgKytuKSB7XG4gICAgICAgICAgICBpZiAodiA9PT0gYVtuXSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGssIHYpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIChzaWduZWQpIGludGVnZXIuXG4gICAgaW50ZWdlcjogZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgaWYgKC9eLT9cXGQrJC8udGVzdCh2KSkgeyAvLyBpbnRlZ2VyXG4gICAgICAgICAgICB0aGlzLnNldChrLCBwYXJzZUludCh2LCAxMCkpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvLyBBY2NlcHQgYSBzZXR0aW5nIGlmIGl0cyBhIHZhbGlkIHBlcmNlbnRhZ2UuXG4gICAgcGVyY2VudDogZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIGlmICgobSA9IHYubWF0Y2goL14oW1xcZF17MSwzfSkoXFwuW1xcZF0qKT8lJC8pKSkge1xuICAgICAgICAgICAgdiA9IHBhcnNlRmxvYXQodik7XG4gICAgICAgICAgICBpZiAodiA+PSAwICYmIHYgPD0gMTAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoaywgdik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gcGFyc2UgaW5wdXQgaW50byBncm91cHMgc2VwYXJhdGVkIGJ5ICdncm91cERlbGltJywgYW5kXG4vLyBpbnRlcnByZXRlIGVhY2ggZ3JvdXAgYXMgYSBrZXkvdmFsdWUgcGFpciBzZXBhcmF0ZWQgYnkgJ2tleVZhbHVlRGVsaW0nLlxuZnVuY3Rpb24gcGFyc2VPcHRpb25zKGlucHV0LCBjYWxsYmFjaywga2V5VmFsdWVEZWxpbSwgZ3JvdXBEZWxpbSkge1xuICAgIHZhciBncm91cHMgPSBncm91cERlbGltID8gaW5wdXQuc3BsaXQoZ3JvdXBEZWxpbSkgOiBbaW5wdXRdO1xuICAgIGZvciAodmFyIGkgaW4gZ3JvdXBzKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZ3JvdXBzW2ldICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGt2ID0gZ3JvdXBzW2ldLnNwbGl0KGtleVZhbHVlRGVsaW0pO1xuICAgICAgICBpZiAoa3YubGVuZ3RoICE9PSAyKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgayA9IGt2WzBdO1xuICAgICAgICB2YXIgdiA9IGt2WzFdO1xuICAgICAgICBjYWxsYmFjayhrLCB2KTtcbiAgICB9XG59XG52YXIgZGVmYXVsdHMgPSBuZXcgdnR0Y3VlXzEuZGVmYXVsdCgwLCAwLCAwKTtcbi8vICdtaWRkbGUnIHdhcyBjaGFuZ2VkIHRvICdjZW50ZXInIGluIHRoZSBzcGVjOiBodHRwczovL2dpdGh1Yi5jb20vdzNjL3dlYnZ0dC9wdWxsLzI0NFxuLy8gIFNhZmFyaSBkb2Vzbid0IHlldCBzdXBwb3J0IHRoaXMgY2hhbmdlLCBidXQgRkYgYW5kIENocm9tZSBkby5cbnZhciBjZW50ZXIgPSBkZWZhdWx0cy5hbGlnbiA9PT0gJ21pZGRsZScgPyAnbWlkZGxlJyA6ICdjZW50ZXInO1xuZnVuY3Rpb24gcGFyc2VDdWUoaW5wdXQsIGN1ZSwgcmVnaW9uTGlzdCkge1xuICAgIC8vIFJlbWVtYmVyIHRoZSBvcmlnaW5hbCBpbnB1dCBpZiB3ZSBuZWVkIHRvIHRocm93IGFuIGVycm9yLlxuICAgIHZhciBvSW5wdXQgPSBpbnB1dDtcbiAgICAvLyA0LjEgV2ViVlRUIHRpbWVzdGFtcFxuICAgIGZ1bmN0aW9uIGNvbnN1bWVUaW1lU3RhbXAoKSB7XG4gICAgICAgIHZhciB0cyA9IHBhcnNlVGltZVN0YW1wKGlucHV0KTtcbiAgICAgICAgaWYgKHRzID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCB0aW1lc3RhbXA6ICcgKyBvSW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlbW92ZSB0aW1lIHN0YW1wIGZyb20gaW5wdXQuXG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXlteXFxzYS16QS1aLV0rLywgJycpO1xuICAgICAgICByZXR1cm4gdHM7XG4gICAgfVxuICAgIC8vIDQuNC4yIFdlYlZUVCBjdWUgc2V0dGluZ3NcbiAgICBmdW5jdGlvbiBjb25zdW1lQ3VlU2V0dGluZ3MoaW5wdXQsIGN1ZSkge1xuICAgICAgICB2YXIgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3MoKTtcbiAgICAgICAgcGFyc2VPcHRpb25zKGlucHV0LCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICAgICAgc3dpdGNoIChrKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncmVnaW9uJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gRmluZCB0aGUgbGFzdCByZWdpb24gd2UgcGFyc2VkIHdpdGggdGhlIHNhbWUgcmVnaW9uIGlkLlxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gcmVnaW9uTGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlZ2lvbkxpc3RbaV0uaWQgPT09IHYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoaywgcmVnaW9uTGlzdFtpXS5yZWdpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3ZlcnRpY2FsJzpcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuYWx0KGssIHYsIFsncmwnLCAnbHInXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmUnOlxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFscyA9IHYuc3BsaXQoJywnKSwgdmFsczAgPSB2YWxzWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5pbnRlZ2VyKGssIHZhbHMwKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnBlcmNlbnQoaywgdmFsczApKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5zZXQoJ3NuYXBUb0xpbmVzJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2YWxzMCwgWydhdXRvJ10pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFscy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFsdCgnbGluZUFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCddKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwb3NpdGlvbic6XG4gICAgICAgICAgICAgICAgICAgIHZhbHMgPSB2LnNwbGl0KCcsJyk7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLnBlcmNlbnQoaywgdmFsc1swXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MuYWx0KCdwb3NpdGlvbkFsaWduJywgdmFsc1sxXSwgWydzdGFydCcsIGNlbnRlciwgJ2VuZCcsICdsaW5lLWxlZnQnLCAnbGluZS1yaWdodCcsICdhdXRvJ10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3NpemUnOlxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5wZXJjZW50KGssIHYpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdhbGlnbic6XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzLmFsdChrLCB2LCBbJ3N0YXJ0JywgY2VudGVyLCAnZW5kJywgJ2xlZnQnLCAncmlnaHQnXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAvOi8sIC9cXHMvKTtcbiAgICAgICAgLy8gQXBwbHkgZGVmYXVsdCB2YWx1ZXMgZm9yIGFueSBtaXNzaW5nIGZpZWxkcy5cbiAgICAgICAgY3VlLnJlZ2lvbiA9IHNldHRpbmdzLmdldCgncmVnaW9uJywgbnVsbCk7XG4gICAgICAgIGN1ZS52ZXJ0aWNhbCA9IHNldHRpbmdzLmdldCgndmVydGljYWwnLCAnJyk7XG4gICAgICAgIHZhciBsaW5lID0gc2V0dGluZ3MuZ2V0KCdsaW5lJywgJ2F1dG8nKTtcbiAgICAgICAgaWYgKGxpbmUgPT09ICdhdXRvJyAmJiBkZWZhdWx0cy5saW5lID09PSAtMSkge1xuICAgICAgICAgICAgLy8gc2V0IG51bWVyaWMgbGluZSBudW1iZXIgZm9yIFNhZmFyaVxuICAgICAgICAgICAgbGluZSA9IC0xO1xuICAgICAgICB9XG4gICAgICAgIGN1ZS5saW5lID0gbGluZTtcbiAgICAgICAgY3VlLmxpbmVBbGlnbiA9IHNldHRpbmdzLmdldCgnbGluZUFsaWduJywgJ3N0YXJ0Jyk7XG4gICAgICAgIGN1ZS5zbmFwVG9MaW5lcyA9IHNldHRpbmdzLmdldCgnc25hcFRvTGluZXMnLCB0cnVlKTtcbiAgICAgICAgY3VlLnNpemUgPSBzZXR0aW5ncy5nZXQoJ3NpemUnLCAxMDApO1xuICAgICAgICBjdWUuYWxpZ24gPSBzZXR0aW5ncy5nZXQoJ2FsaWduJywgY2VudGVyKTtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc2V0dGluZ3MuZ2V0KCdwb3NpdGlvbicsICdhdXRvJyk7XG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gJ2F1dG8nICYmIGRlZmF1bHRzLnBvc2l0aW9uID09PSA1MCkge1xuICAgICAgICAgICAgLy8gc2V0IG51bWVyaWMgcG9zaXRpb24gZm9yIFNhZmFyaVxuICAgICAgICAgICAgcG9zaXRpb24gPSBjdWUuYWxpZ24gPT09ICdzdGFydCcgfHwgY3VlLmFsaWduID09PSAnbGVmdCcgPyAwIDogY3VlLmFsaWduID09PSAnZW5kJyB8fCBjdWUuYWxpZ24gPT09ICdyaWdodCcgPyAxMDAgOiA1MDtcbiAgICAgICAgfVxuICAgICAgICBjdWUucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2tpcFdoaXRlc3BhY2UoKSB7XG4gICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgvXlxccysvLCAnJyk7XG4gICAgfVxuICAgIC8vIDQuMSBXZWJWVFQgY3VlIHRpbWluZ3MuXG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICBjdWUuc3RhcnRUaW1lID0gY29uc3VtZVRpbWVTdGFtcCgpOyAvLyAoMSkgY29sbGVjdCBjdWUgc3RhcnQgdGltZVxuICAgIHNraXBXaGl0ZXNwYWNlKCk7XG4gICAgaWYgKGlucHV0LnN1YnN0cigwLCAzKSAhPT0gJy0tPicpIHsgLy8gKDMpIG5leHQgY2hhcmFjdGVycyBtdXN0IG1hdGNoICctLT4nXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWFsZm9ybWVkIHRpbWUgc3RhbXAgKHRpbWUgc3RhbXBzIG11c3QgYmUgc2VwYXJhdGVkIGJ5IFxcJy0tPlxcJyk6ICcgK1xuICAgICAgICAgICAgb0lucHV0KTtcbiAgICB9XG4gICAgaW5wdXQgPSBpbnB1dC5zdWJzdHIoMyk7XG4gICAgc2tpcFdoaXRlc3BhY2UoKTtcbiAgICBjdWUuZW5kVGltZSA9IGNvbnN1bWVUaW1lU3RhbXAoKTsgLy8gKDUpIGNvbGxlY3QgY3VlIGVuZCB0aW1lXG4gICAgLy8gNC4xIFdlYlZUVCBjdWUgc2V0dGluZ3MgbGlzdC5cbiAgICBza2lwV2hpdGVzcGFjZSgpO1xuICAgIGNvbnN1bWVDdWVTZXR0aW5ncyhpbnB1dCwgY3VlKTtcbn1cbmZ1bmN0aW9uIGZpeExpbmVCcmVha3MoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvPGJyKD86IFxcLyk/Pi9naSwgJ1xcbicpO1xufVxuZXhwb3J0cy5maXhMaW5lQnJlYWtzID0gZml4TGluZUJyZWFrcztcblZUVFBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGF0YSB0aGVuIHdlIHdvbid0IGRlY29kZSBpdCwgYnV0IHdpbGwganVzdCB0cnkgdG8gcGFyc2VcbiAgICAgICAgLy8gd2hhdGV2ZXIgaXMgaW4gYnVmZmVyIGFscmVhZHkuIFRoaXMgbWF5IG9jY3VyIGluIGNpcmN1bXN0YW5jZXMsIGZvclxuICAgICAgICAvLyBleGFtcGxlIHdoZW4gZmx1c2goKSBpcyBjYWxsZWQuXG4gICAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgICAgICAvLyBUcnkgdG8gZGVjb2RlIHRoZSBkYXRhIHRoYXQgd2UgcmVjZWl2ZWQuXG4gICAgICAgICAgICBzZWxmLmJ1ZmZlciArPSBzZWxmLmRlY29kZXIuZGVjb2RlKGRhdGEsIHsgc3RyZWFtOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNvbGxlY3ROZXh0TGluZSgpIHtcbiAgICAgICAgICAgIHZhciBidWZmZXIgPSBzZWxmLmJ1ZmZlcjtcbiAgICAgICAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgICAgICAgYnVmZmVyID0gZml4TGluZUJyZWFrcyhidWZmZXIpO1xuICAgICAgICAgICAgd2hpbGUgKHBvcyA8IGJ1ZmZlci5sZW5ndGggJiYgYnVmZmVyW3Bvc10gIT09ICdcXHInICYmIGJ1ZmZlcltwb3NdICE9PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICsrcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxpbmUgPSBidWZmZXIuc3Vic3RyKDAsIHBvcyk7XG4gICAgICAgICAgICAvLyBBZHZhbmNlIHRoZSBidWZmZXIgZWFybHkgaW4gY2FzZSB3ZSBmYWlsIGJlbG93LlxuICAgICAgICAgICAgaWYgKGJ1ZmZlcltwb3NdID09PSAnXFxyJykge1xuICAgICAgICAgICAgICAgICsrcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJ1ZmZlcltwb3NdID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICsrcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZi5idWZmZXIgPSBidWZmZXIuc3Vic3RyKHBvcyk7XG4gICAgICAgICAgICByZXR1cm4gbGluZTtcbiAgICAgICAgfVxuICAgICAgICAvLyAzLjIgV2ViVlRUIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICAgICAgZnVuY3Rpb24gcGFyc2VIZWFkZXIoaW5wdXQpIHtcbiAgICAgICAgICAgIHBhcnNlT3B0aW9ucyhpbnB1dCwgZnVuY3Rpb24gKGssIHYpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGspIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnUmVnaW9uJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMuMyBXZWJWVFQgcmVnaW9uIG1ldGFkYXRhIGhlYWRlciBzeW50YXhcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwYXJzZSByZWdpb24nLCB2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBhcnNlUmVnaW9uKHYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgLzovKTtcbiAgICAgICAgfVxuICAgICAgICAvLyA1LjEgV2ViVlRUIGZpbGUgcGFyc2luZy5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBsaW5lID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHNlbGYuc3RhdGUgPT09ICdJTklUSUFMJykge1xuICAgICAgICAgICAgICAgIC8vIFdlIGNhbid0IHN0YXJ0IHBhcnNpbmcgdW50aWwgd2UgaGF2ZSB0aGUgZmlyc3QgbGluZS5cbiAgICAgICAgICAgICAgICBpZiAoIS9cXHJcXG58XFxuLy50ZXN0KHNlbGYuYnVmZmVyKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGluZSA9IGNvbGxlY3ROZXh0TGluZSgpO1xuICAgICAgICAgICAgICAgIC8vIHN0cmlwIG9mIFVURi04IEJPTSBpZiBhbnlcbiAgICAgICAgICAgICAgICAvLyBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9CeXRlX29yZGVyX21hcmsjVVRGLThcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGxpbmUubWF0Y2goL14ow6/Cu8K/KT9XRUJWVFQoWyBcXHRdLiopPyQvKTtcbiAgICAgICAgICAgICAgICBpZiAoIW0gfHwgIW1bMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNYWxmb3JtZWQgV2ViVlRUIHNpZ25hdHVyZS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdIRUFERVInO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICB3aGlsZSAoc2VsZi5idWZmZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCBwYXJzZSBhIGxpbmUgdW50aWwgd2UgaGF2ZSB0aGUgZnVsbCBsaW5lLlxuICAgICAgICAgICAgICAgIGlmICghL1xcclxcbnxcXG4vLnRlc3Qoc2VsZi5idWZmZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWFscmVhZHlDb2xsZWN0ZWRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUgPSBjb2xsZWN0TmV4dExpbmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFscmVhZHlDb2xsZWN0ZWRMaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN3aXRjaCAoc2VsZi5zdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdIRUFERVInOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gMTMtMTggLSBBbGxvdyBhIGhlYWRlciAobWV0YWRhdGEpIHVuZGVyIHRoZSBXRUJWVFQgbGluZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgvOi8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlSGVhZGVyKGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBBbiBlbXB0eSBsaW5lIHRlcm1pbmF0ZXMgdGhlIGhlYWRlciBhbmQgc3RhcnRzIHRoZSBib2R5IChjdWVzKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdOT1RFJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZSBOT1RFIGJsb2Nrcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0lEJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB0aGUgc3RhcnQgb2YgTk9URSBibG9ja3MuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL15OT1RFKCR8WyBcXHRdKS8udGVzdChsaW5lKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnTk9URSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAxOS0yOSAtIEFsbG93IGFueSBudW1iZXIgb2YgbGluZSB0ZXJtaW5hdG9ycywgdGhlbiBpbml0aWFsaXplIG5ldyBjdWUgdmFsdWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG5ldyB2dHRjdWVfMS5kZWZhdWx0KDAsIDAsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnQ1VFJztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDMwLTM5IC0gQ2hlY2sgaWYgc2VsZiBsaW5lIGNvbnRhaW5zIGFuIG9wdGlvbmFsIGlkZW50aWZpZXIgb3IgdGltaW5nIGRhdGEuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGluZS5pbmRleE9mKCctLT4nKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1ZS5pZCA9IGxpbmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFByb2Nlc3MgbGluZSBhcyBzdGFydCBvZiBhIGN1ZS5cbiAgICAgICAgICAgICAgICAgICAgLyogZmFsbHMgdGhyb3VnaCAqL1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDVUUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNDAgLSBDb2xsZWN0IGN1ZSB0aW1pbmdzIGFuZCBzZXR0aW5ncy5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VDdWUobGluZSwgc2VsZi5jdWUsIHNlbGYucmVnaW9uTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IgaWdub3JlIHJlc3Qgb2YgdGhlIGN1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1ZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdCQURDVUUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGF0ZSA9ICdDVUVURVhUJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdDVUVURVhUJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYXNTdWJzdHJpbmcgPSBsaW5lLmluZGV4T2YoJy0tPicpICE9PSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDM0IC0gSWYgd2UgaGF2ZSBhbiBlbXB0eSBsaW5lIHRoZW4gcmVwb3J0IHRoZSBjdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzNSAtIElmIHdlIGhhdmUgdGhlIHNwZWNpYWwgc3Vic3RyaW5nICctLT4nIHRoZW4gcmVwb3J0IHRoZSBjdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBidXQgZG8gbm90IGNvbGxlY3QgdGhlIGxpbmUgYXMgd2UgbmVlZCB0byBwcm9jZXNzIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmUgYXMgYSBuZXcgY3VlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFsaW5lIHx8IGhhc1N1YnN0cmluZyAmJiAoYWxyZWFkeUNvbGxlY3RlZExpbmUgPSB0cnVlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBkb25lIHBhcnNpbmcgc2VsZiBjdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYub25jdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5vbmN1ZShzZWxmLmN1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXRlID0gJ0lEJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLmN1ZS50ZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdWUudGV4dCArPSAnXFxuJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VlLnRleHQgKz0gbGluZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdCQURDVUUnOiAvLyBCQURDVUVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIDU0LTYyIC0gQ29sbGVjdCBhbmQgZGlzY2FyZCB0aGUgcmVtYWluaW5nIGN1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUgPSAnSUQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgY3VycmVudGx5IHBhcnNpbmcgYSBjdWUsIHJlcG9ydCB3aGF0IHdlIGhhdmUuXG4gICAgICAgICAgICBpZiAoc2VsZi5zdGF0ZSA9PT0gJ0NVRVRFWFQnICYmIHNlbGYuY3VlICYmIHNlbGYub25jdWUpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uY3VlKHNlbGYuY3VlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlbGYuY3VlID0gbnVsbDtcbiAgICAgICAgICAgIC8vIEVudGVyIEJBRFdFQlZUVCBzdGF0ZSBpZiBoZWFkZXIgd2FzIG5vdCBwYXJzZWQgY29ycmVjdGx5IG90aGVyd2lzZVxuICAgICAgICAgICAgLy8gYW5vdGhlciBleGNlcHRpb24gb2NjdXJyZWQgc28gZW50ZXIgQkFEQ1VFIHN0YXRlLlxuICAgICAgICAgICAgc2VsZi5zdGF0ZSA9IHNlbGYuc3RhdGUgPT09ICdJTklUSUFMJyA/ICdCQURXRUJWVFQnIDogJ0JBRENVRSc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBGaW5pc2ggZGVjb2RpbmcgdGhlIHN0cmVhbS5cbiAgICAgICAgICAgIHNlbGYuYnVmZmVyICs9IHNlbGYuZGVjb2Rlci5kZWNvZGUoKTtcbiAgICAgICAgICAgIC8vIFN5bnRoZXNpemUgdGhlIGVuZCBvZiB0aGUgY3VycmVudCBjdWUgb3IgcmVnaW9uLlxuICAgICAgICAgICAgaWYgKHNlbGYuY3VlIHx8IHNlbGYuc3RhdGUgPT09ICdIRUFERVInKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5idWZmZXIgKz0gJ1xcblxcbic7XG4gICAgICAgICAgICAgICAgc2VsZi5wYXJzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UndmUgZmx1c2hlZCwgcGFyc2VkLCBhbmQgd2UncmUgc3RpbGwgb24gdGhlIElOSVRJQUwgc3RhdGUgdGhlblxuICAgICAgICAgICAgLy8gdGhhdCBtZWFucyB3ZSBkb24ndCBoYXZlIGVub3VnaCBvZiB0aGUgc3RyZWFtIHRvIHBhcnNlIHRoZSBmaXJzdFxuICAgICAgICAgICAgLy8gbGluZS5cbiAgICAgICAgICAgIGlmIChzZWxmLnN0YXRlID09PSAnSU5JVElBTCcpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01hbGZvcm1lZCBXZWJWVFQgc2lnbmF0dXJlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxmLm9uZmx1c2gpIHtcbiAgICAgICAgICAgIHNlbGYub25mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBWVFRQYXJzZXI7XG5cblxuLyoqKi8gfSksXG5cbi8qKiovIFwiLi9zcmMvdXRpbHMvd2VidnR0LXBhcnNlci5qc1wiOlxuLyohKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqISpcXFxuICAhKioqIC4vc3JjL3V0aWxzL3dlYnZ0dC1wYXJzZXIuanMgKioqIVxuICBcXCoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qISBubyBzdGF0aWMgZXhwb3J0cyBmb3VuZCAqL1xuLyohIE1vZHVsZUNvbmNhdGVuYXRpb24gYmFpbG91dDogTW9kdWxlIGlzIG5vdCBhbiBFQ01BU2NyaXB0IG1vZHVsZSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqLyhmdW5jdGlvbihOdW1iZXIpIHtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB2dHRwYXJzZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4vdnR0cGFyc2VyICovIFwiLi9zcmMvdXRpbHMvdnR0cGFyc2VyLmpzXCIpO1xudmFyIGlkM18xID0gX193ZWJwYWNrX3JlcXVpcmVfXygvKiEgLi4vZGVtdXgvaWQzICovIFwiLi9zcmMvZGVtdXgvaWQzLmpzXCIpO1xuLy8gU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gSUUxMVxudmFyIHN0YXJ0c1dpdGggPSBmdW5jdGlvbiAoaW5wdXRTdHJpbmcsIHNlYXJjaFN0cmluZywgcG9zaXRpb24pIHtcbiAgICByZXR1cm4gaW5wdXRTdHJpbmcuc3Vic3RyKHBvc2l0aW9uIHx8IDAsIHNlYXJjaFN0cmluZy5sZW5ndGgpID09PSBzZWFyY2hTdHJpbmc7XG59O1xudmFyIGN1ZVN0cmluZzJtaWxsaXMgPSBmdW5jdGlvbiAodGltZVN0cmluZykge1xuICAgIHZhciB0cyA9IHBhcnNlSW50KHRpbWVTdHJpbmcuc3Vic3RyKC0zKSk7XG4gICAgdmFyIHNlY3MgPSBwYXJzZUludCh0aW1lU3RyaW5nLnN1YnN0cigtNiwgMikpO1xuICAgIHZhciBtaW5zID0gcGFyc2VJbnQodGltZVN0cmluZy5zdWJzdHIoLTksIDIpKTtcbiAgICB2YXIgaG91cnMgPSB0aW1lU3RyaW5nLmxlbmd0aCA+IDkgPyBwYXJzZUludCh0aW1lU3RyaW5nLnN1YnN0cigwLCB0aW1lU3RyaW5nLmluZGV4T2YoJzonKSkpIDogMDtcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh0cykgfHwgIU51bWJlci5pc0Zpbml0ZShzZWNzKSB8fCAhTnVtYmVyLmlzRmluaXRlKG1pbnMpIHx8ICFOdW1iZXIuaXNGaW5pdGUoaG91cnMpKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgdHMgKz0gMTAwMCAqIHNlY3M7XG4gICAgdHMgKz0gNjAgKiAxMDAwICogbWlucztcbiAgICB0cyArPSA2MCAqIDYwICogMTAwMCAqIGhvdXJzO1xuICAgIHJldHVybiB0cztcbn07XG4vLyBGcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoXG52YXIgaGFzaCA9IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgdmFyIGhhc2ggPSA1MzgxO1xuICAgIHZhciBpID0gdGV4dC5sZW5ndGg7XG4gICAgd2hpbGUgKGkpIHtcbiAgICAgICAgaGFzaCA9IChoYXNoICogMzMpIF4gdGV4dC5jaGFyQ29kZUF0KC0taSk7XG4gICAgfVxuICAgIHJldHVybiAoaGFzaCA+Pj4gMCkudG9TdHJpbmcoKTtcbn07XG52YXIgY2FsY3VsYXRlT2Zmc2V0ID0gZnVuY3Rpb24gKHZ0dENDcywgY2MsIHByZXNlbnRhdGlvblRpbWUpIHtcbiAgICB2YXIgY3VyckNDID0gdnR0Q0NzW2NjXTtcbiAgICB2YXIgcHJldkNDID0gdnR0Q0NzW2N1cnJDQy5wcmV2Q0NdO1xuICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IGRpc2NvbnRpbnVpdHkgb3IgY3VlcyBoYXZlIGJlZW4gcHJvY2Vzc2VkIHNpbmNlIHRoZSBsYXN0IGRpc2NvbnRpbnVpdHlcbiAgICAvLyBPZmZzZXQgPSBjdXJyZW50IGRpc2NvbnRpbnVpdHkgdGltZVxuICAgIGlmICghcHJldkNDIHx8ICghcHJldkNDLm5ldyAmJiBjdXJyQ0MubmV3KSkge1xuICAgICAgICB2dHRDQ3MuY2NPZmZzZXQgPSB2dHRDQ3MucHJlc2VudGF0aW9uT2Zmc2V0ID0gY3VyckNDLnN0YXJ0O1xuICAgICAgICBjdXJyQ0MubmV3ID0gZmFsc2U7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gVGhlcmUgaGF2ZSBiZWVuIGRpc2NvbnRpbnVpdGllcyBzaW5jZSBjdWVzIHdlcmUgbGFzdCBwYXJzZWQuXG4gICAgLy8gT2Zmc2V0ID0gdGltZSBlbGFwc2VkXG4gICAgd2hpbGUgKHByZXZDQyAmJiBwcmV2Q0MubmV3KSB7XG4gICAgICAgIHZ0dENDcy5jY09mZnNldCArPSBjdXJyQ0Muc3RhcnQgLSBwcmV2Q0Muc3RhcnQ7XG4gICAgICAgIGN1cnJDQy5uZXcgPSBmYWxzZTtcbiAgICAgICAgY3VyckNDID0gcHJldkNDO1xuICAgICAgICBwcmV2Q0MgPSB2dHRDQ3NbY3VyckNDLnByZXZDQ107XG4gICAgfVxuICAgIHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQgPSBwcmVzZW50YXRpb25UaW1lO1xufTtcbnZhciBXZWJWVFRQYXJzZXIgPSB7XG4gICAgcGFyc2U6IGZ1bmN0aW9uICh2dHRCeXRlQXJyYXksIHN5bmNQVFMsIHZ0dENDcywgY2MsIGNhbGxCYWNrLCBlcnJvckNhbGxCYWNrKSB7XG4gICAgICAgIC8vIENvbnZlcnQgYnl0ZUFycmF5IGludG8gc3RyaW5nLCByZXBsYWNpbmcgYW55IHNvbWV3aGF0IGV4b3RpYyBsaW5lZmVlZHMgd2l0aCBcIlxcblwiLCB0aGVuIHNwbGl0IG9uIHRoYXQgY2hhcmFjdGVyLlxuICAgICAgICB2YXIgcmUgPSAvXFxyXFxufFxcblxccnxcXG58XFxyL2c7XG4gICAgICAgIC8vIFVpbnQ4QXJyYXkucHJvdG90eXBlLnJlZHVjZSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gSUUxMVxuICAgICAgICB2YXIgdnR0TGluZXMgPSBpZDNfMS51dGY4QXJyYXlUb1N0cihuZXcgVWludDhBcnJheSh2dHRCeXRlQXJyYXkpKS50cmltKCkucmVwbGFjZShyZSwgJ1xcbicpLnNwbGl0KCdcXG4nKTtcbiAgICAgICAgdmFyIGN1ZVRpbWUgPSAnMDA6MDAuMDAwJztcbiAgICAgICAgdmFyIG1wZWdUcyA9IDA7XG4gICAgICAgIHZhciBsb2NhbFRpbWUgPSAwO1xuICAgICAgICB2YXIgcHJlc2VudGF0aW9uVGltZSA9IDA7XG4gICAgICAgIHZhciBjdWVzID0gW107XG4gICAgICAgIHZhciBwYXJzaW5nRXJyb3I7XG4gICAgICAgIHZhciBpbkhlYWRlciA9IHRydWU7XG4gICAgICAgIC8vIGxldCBWVFRDdWUgPSBWVFRDdWUgfHwgd2luZG93LlRleHRUcmFja0N1ZTtcbiAgICAgICAgLy8gQ3JlYXRlIHBhcnNlciBvYmplY3QgdXNpbmcgVlRUQ3VlIHdpdGggVGV4dFRyYWNrQ3VlIGZhbGxiYWNrIG9uIGNlcnRhaW4gYnJvd3NlcnMuXG4gICAgICAgIHZhciBwYXJzZXIgPSBuZXcgdnR0cGFyc2VyXzEuZGVmYXVsdCgpO1xuICAgICAgICBwYXJzZXIub25jdWUgPSBmdW5jdGlvbiAoY3VlKSB7XG4gICAgICAgICAgICAvLyBBZGp1c3QgY3VlIHRpbWluZzsgY2xhbXAgY3VlcyB0byBzdGFydCBubyBlYXJsaWVyIHRoYW4gLSBhbmQgZHJvcCBjdWVzIHRoYXQgZG9uJ3QgZW5kIGFmdGVyIC0gMCBvbiB0aW1lbGluZS5cbiAgICAgICAgICAgIHZhciBjdXJyQ0MgPSB2dHRDQ3NbY2NdO1xuICAgICAgICAgICAgdmFyIGN1ZU9mZnNldCA9IHZ0dENDcy5jY09mZnNldDtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBvZmZzZXRzIGZvciBuZXcgZGlzY29udGludWl0aWVzXG4gICAgICAgICAgICBpZiAoY3VyckNDICYmIGN1cnJDQy5uZXcpIHtcbiAgICAgICAgICAgICAgICBpZiAobG9jYWxUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBsb2NhbCB0aW1lIGlzIHByb3ZpZGVkLCBvZmZzZXQgPSBkaXNjb250aW51aXR5IHN0YXJ0IHRpbWUgLSBsb2NhbCB0aW1lXG4gICAgICAgICAgICAgICAgICAgIGN1ZU9mZnNldCA9IHZ0dENDcy5jY09mZnNldCA9IGN1cnJDQy5zdGFydDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZU9mZnNldCh2dHRDQ3MsIGNjLCBwcmVzZW50YXRpb25UaW1lKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJlc2VudGF0aW9uVGltZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgTVBFR1RTLCBvZmZzZXQgPSBwcmVzZW50YXRpb24gdGltZSArIGRpc2NvbnRpbnVpdHkgb2Zmc2V0XG4gICAgICAgICAgICAgICAgY3VlT2Zmc2V0ID0gcHJlc2VudGF0aW9uVGltZSAtIHZ0dENDcy5wcmVzZW50YXRpb25PZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdWUuc3RhcnRUaW1lICs9IGN1ZU9mZnNldCAtIGxvY2FsVGltZTtcbiAgICAgICAgICAgIGN1ZS5lbmRUaW1lICs9IGN1ZU9mZnNldCAtIGxvY2FsVGltZTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIHVuaXF1ZSBoYXNoIGlkIGZvciBhIGN1ZSBiYXNlZCBvbiBzdGFydC9lbmQgdGltZXMgYW5kIHRleHQuXG4gICAgICAgICAgICAvLyBUaGlzIGhlbHBzIHRpbWVsaW5lLWNvbnRyb2xsZXIgdG8gYXZvaWQgc2hvd2luZyByZXBlYXRlZCBjYXB0aW9ucy5cbiAgICAgICAgICAgIGN1ZS5pZCA9IGhhc2goY3VlLnN0YXJ0VGltZS50b1N0cmluZygpKSArIGhhc2goY3VlLmVuZFRpbWUudG9TdHJpbmcoKSkgKyBoYXNoKGN1ZS50ZXh0KTtcbiAgICAgICAgICAgIC8vIEZpeCBlbmNvZGluZyBvZiBzcGVjaWFsIGNoYXJhY3RlcnMuIFRPRE86IFRlc3Qgd2l0aCBhbGwgc29ydHMgb2Ygd2VpcmQgY2hhcmFjdGVycy5cbiAgICAgICAgICAgIGN1ZS50ZXh0ID0gZGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZVVSSUNvbXBvbmVudChjdWUudGV4dCkpO1xuICAgICAgICAgICAgaWYgKGN1ZS5lbmRUaW1lID4gMCkge1xuICAgICAgICAgICAgICAgIGN1ZXMucHVzaChjdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBwYXJzZXIub25wYXJzaW5nZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcGFyc2luZ0Vycm9yID0gZTtcbiAgICAgICAgfTtcbiAgICAgICAgcGFyc2VyLm9uZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAocGFyc2luZ0Vycm9yICYmIGVycm9yQ2FsbEJhY2spIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxCYWNrKHBhcnNpbmdFcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbEJhY2soY3Vlcyk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIEdvIHRocm91Z2ggY29udGVudHMgbGluZSBieSBsaW5lLlxuICAgICAgICB2dHRMaW5lcy5mb3JFYWNoKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgICBpZiAoaW5IZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBYLVRJTUVTVEFNUC1NQVAgaW4gaGVhZGVyLlxuICAgICAgICAgICAgICAgIGlmIChzdGFydHNXaXRoKGxpbmUsICdYLVRJTUVTVEFNUC1NQVA9JykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT25jZSBmb3VuZCwgbm8gbW9yZSBhcmUgYWxsb3dlZCBhbnl3YXksIHNvIHN0b3Agc2VhcmNoaW5nLlxuICAgICAgICAgICAgICAgICAgICBpbkhlYWRlciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IExPQ0FMIGFuZCBNUEVHVFMuXG4gICAgICAgICAgICAgICAgICAgIGxpbmUuc3Vic3RyKDE2KS5zcGxpdCgnLCcpLmZvckVhY2goZnVuY3Rpb24gKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0c1dpdGgodGltZXN0YW1wLCAnTE9DQUw6JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdWVUaW1lID0gdGltZXN0YW1wLnN1YnN0cig2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0c1dpdGgodGltZXN0YW1wLCAnTVBFR1RTOicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXBlZ1RzID0gcGFyc2VJbnQodGltZXN0YW1wLnN1YnN0cig3KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHN1YnRpdGxlIG9mZnNldCBpbiBtaWxsaXNlY29uZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3luY1BUUyArICgodnR0Q0NzW2NjXS5zdGFydCAqIDkwMDAwKSB8fCAwKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzeW5jUFRTICs9IDg1ODk5MzQ1OTI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGp1c3QgTVBFR1RTIGJ5IHN5bmMgUFRTLlxuICAgICAgICAgICAgICAgICAgICAgICAgbXBlZ1RzIC09IHN5bmNQVFM7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IGN1ZSB0aW1lIHRvIHNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsVGltZSA9IGN1ZVN0cmluZzJtaWxsaXMoY3VlVGltZSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29udmVydCBNUEVHVFMgdG8gc2Vjb25kcyBmcm9tIDkwa0h6LlxuICAgICAgICAgICAgICAgICAgICAgICAgcHJlc2VudGF0aW9uVGltZSA9IG1wZWdUcyAvIDkwMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsVGltZSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgWC1USU1FU1RBTVAtTUFQOiBcIiArIGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJzaW5nRXJyb3IgPSBuZXcgRXJyb3IoXCJNYWxmb3JtZWQgWC1USU1FU1RBTVAtTUFQOiBcIiArIGxpbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJldHVybiB3aXRob3V0IHBhcnNpbmcgWC1USU1FU1RBTVAtTUFQIGxpbmUuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobGluZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5IZWFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQYXJzZSBsaW5lIGJ5IGRlZmF1bHQuXG4gICAgICAgICAgICBwYXJzZXIucGFyc2UobGluZSArICdcXG4nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHBhcnNlci5mbHVzaCgpO1xuICAgIH1cbn07XG5leHBvcnRzLmRlZmF1bHQgPSBXZWJWVFRQYXJzZXI7XG5cbi8qIFdFQlBBQ0sgVkFSIElOSkVDVElPTiAqL30uY2FsbCh0aGlzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKC8qISAuL3NyYy9wb2x5ZmlsbHMvbnVtYmVyICovIFwiLi9zcmMvcG9seWZpbGxzL251bWJlci5qc1wiKVtcIk51bWJlclwiXSkpXG5cbi8qKiovIH0pLFxuXG4vKioqLyBcIi4vc3JjL3V0aWxzL3hoci1sb2FkZXIuanNcIjpcbi8qISoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiEqXFxcbiAgISoqKiAuL3NyYy91dGlscy94aHItbG9hZGVyLmpzICoqKiFcbiAgXFwqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG4vKiEgbm8gc3RhdGljIGV4cG9ydHMgZm91bmQgKi9cbi8qISBNb2R1bGVDb25jYXRlbmF0aW9uIGJhaWxvdXQ6IE1vZHVsZSBpcyBub3QgYW4gRUNNQVNjcmlwdCBtb2R1bGUgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogWEhSIGJhc2VkIGxvZ2dlclxuKi9cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBsb2dnZXJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oLyohIC4uL3V0aWxzL2xvZ2dlciAqLyBcIi4vc3JjL3V0aWxzL2xvZ2dlci5qc1wiKTtcbnZhciBwZXJmb3JtYW5jZSA9IHdpbmRvdy5wZXJmb3JtYW5jZSwgWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG52YXIgWGhyTG9hZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFhockxvYWRlcihjb25maWcpIHtcbiAgICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcueGhyU2V0dXApIHtcbiAgICAgICAgICAgIHRoaXMueGhyU2V0dXAgPSBjb25maWcueGhyU2V0dXA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIHRoaXMubG9hZGVyID0gbnVsbDtcbiAgICB9O1xuICAgIFhockxvYWRlci5wcm90b3R5cGUuYWJvcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBsb2FkZXIgPSB0aGlzLmxvYWRlcjtcbiAgICAgICAgaWYgKGxvYWRlciAmJiBsb2FkZXIucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICAgICAgdGhpcy5zdGF0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5yZXF1ZXN0VGltZW91dCk7XG4gICAgICAgIHRoaXMucmVxdWVzdFRpbWVvdXQgPSBudWxsO1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmV0cnlUaW1lb3V0KTtcbiAgICAgICAgdGhpcy5yZXRyeVRpbWVvdXQgPSBudWxsO1xuICAgIH07XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24gKGNvbnRleHQsIGNvbmZpZywgY2FsbGJhY2tzKSB7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IGNhbGxiYWNrcztcbiAgICAgICAgdGhpcy5zdGF0cyA9IHsgdHJlcXVlc3Q6IHBlcmZvcm1hbmNlLm5vdygpLCByZXRyeTogMCB9O1xuICAgICAgICB0aGlzLnJldHJ5RGVsYXkgPSBjb25maWcucmV0cnlEZWxheTtcbiAgICAgICAgdGhpcy5sb2FkSW50ZXJuYWwoKTtcbiAgICB9O1xuICAgIFhockxvYWRlci5wcm90b3R5cGUubG9hZEludGVybmFsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgeGhyLCBjb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgICAgICB4aHIgPSB0aGlzLmxvYWRlciA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB2YXIgc3RhdHMgPSB0aGlzLnN0YXRzO1xuICAgICAgICBzdGF0cy50Zmlyc3QgPSAwO1xuICAgICAgICBzdGF0cy5sb2FkZWQgPSAwO1xuICAgICAgICB2YXIgeGhyU2V0dXAgPSB0aGlzLnhoclNldHVwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHhoclNldHVwKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgeGhyU2V0dXAoeGhyLCBjb250ZXh0LnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGZpeCB4aHJTZXR1cDogKHhociwgdXJsKSA9PiB7eGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LUxhbmd1YWdlXCIsIFwidGVzdFwiKTt9XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdCB3b3JraW5nLCBhcyB4aHIuc2V0UmVxdWVzdEhlYWRlciBleHBlY3RzIHhoci5yZWFkeVN0YXRlID09PSBPUEVOXG4gICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCBjb250ZXh0LnVybCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHhoclNldHVwKHhociwgY29udGV4dC51cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgheGhyLnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgY29udGV4dC51cmwsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJRTExIHRocm93cyBhbiBleGNlcHRpb24gb24geGhyLm9wZW4gaWYgYXR0ZW1wdGluZyB0byBhY2Nlc3MgYW4gSFRUUCByZXNvdXJjZSBvdmVyIEhUVFBTXG4gICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vbkVycm9yKHsgY29kZTogeGhyLnN0YXR1cywgdGV4dDogZS5tZXNzYWdlIH0sIGNvbnRleHQsIHhocik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRleHQucmFuZ2VFbmQpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdSYW5nZScsICdieXRlcz0nICsgY29udGV4dC5yYW5nZVN0YXJ0ICsgJy0nICsgKGNvbnRleHQucmFuZ2VFbmQgLSAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IHRoaXMucmVhZHlzdGF0ZWNoYW5nZS5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25wcm9ncmVzcyA9IHRoaXMubG9hZHByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBjb250ZXh0LnJlc3BvbnNlVHlwZTtcbiAgICAgICAgLy8gc2V0dXAgdGltZW91dCBiZWZvcmUgd2UgcGVyZm9ybSByZXF1ZXN0XG4gICAgICAgIHRoaXMucmVxdWVzdFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCh0aGlzLmxvYWR0aW1lb3V0LmJpbmQodGhpcyksIHRoaXMuY29uZmlnLnRpbWVvdXQpO1xuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH07XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciB4aHIgPSBldmVudC5jdXJyZW50VGFyZ2V0LCByZWFkeVN0YXRlID0geGhyLnJlYWR5U3RhdGUsIHN0YXRzID0gdGhpcy5zdGF0cywgY29udGV4dCA9IHRoaXMuY29udGV4dCwgY29uZmlnID0gdGhpcy5jb25maWc7XG4gICAgICAgIC8vIGRvbid0IHByb2NlZWQgaWYgeGhyIGhhcyBiZWVuIGFib3J0ZWRcbiAgICAgICAgaWYgKHN0YXRzLmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyA+PSBIRUFERVJTX1JFQ0VJVkVEXG4gICAgICAgIGlmIChyZWFkeVN0YXRlID49IDIpIHtcbiAgICAgICAgICAgIC8vIGNsZWFyIHhociB0aW1lb3V0IGFuZCByZWFybSBpdCBpZiByZWFkeVN0YXRlIGxlc3MgdGhhbiA0XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMucmVxdWVzdFRpbWVvdXQpO1xuICAgICAgICAgICAgaWYgKHN0YXRzLnRmaXJzdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0YXRzLnRmaXJzdCA9IE1hdGgubWF4KHBlcmZvcm1hbmNlLm5vdygpLCBzdGF0cy50cmVxdWVzdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0dXNfMSA9IHhoci5zdGF0dXM7XG4gICAgICAgICAgICAgICAgLy8gaHR0cCBzdGF0dXMgYmV0d2VlbiAyMDAgdG8gMjk5IGFyZSBhbGwgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICAgIGlmIChzdGF0dXNfMSA+PSAyMDAgJiYgc3RhdHVzXzEgPCAzMDApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHMudGxvYWQgPSBNYXRoLm1heChzdGF0cy50Zmlyc3QsIHBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB2b2lkIDAsIGxlbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0geGhyLnJlc3BvbnNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVuID0gZGF0YS5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZW4gPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdGF0cy5sb2FkZWQgPSBzdGF0cy50b3RhbCA9IGxlbjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0geyB1cmw6IHhoci5yZXNwb25zZVVSTCwgZGF0YTogZGF0YSB9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcy5vblN1Y2Nlc3MocmVzcG9uc2UsIHN0YXRzLCBjb250ZXh0LCB4aHIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgbWF4IG5iIG9mIHJldHJpZXMgcmVhY2hlZCBvciBpZiBodHRwIHN0YXR1cyBiZXR3ZWVuIDQwMCBhbmQgNDk5IChzdWNoIGVycm9yIGNhbm5vdCBiZSByZWNvdmVyZWQsIHJldHJ5aW5nIGlzIHVzZWxlc3MpLCByZXR1cm4gZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRzLnJldHJ5ID49IGNvbmZpZy5tYXhSZXRyeSB8fCAoc3RhdHVzXzEgPj0gNDAwICYmIHN0YXR1c18xIDwgNDk5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyXzEubG9nZ2VyLmVycm9yKHN0YXR1c18xICsgXCIgd2hpbGUgbG9hZGluZyBcIiArIGNvbnRleHQudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uRXJyb3IoeyBjb2RlOiBzdGF0dXNfMSwgdGV4dDogeGhyLnN0YXR1c1RleHQgfSwgY29udGV4dCwgeGhyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHJldHJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXJfMS5sb2dnZXIud2FybihzdGF0dXNfMSArIFwiIHdoaWxlIGxvYWRpbmcgXCIgKyBjb250ZXh0LnVybCArIFwiLCByZXRyeWluZyBpbiBcIiArIHRoaXMucmV0cnlEZWxheSArIFwiLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWJvcnRzIGFuZCByZXNldHMgaW50ZXJuYWwgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2NoZWR1bGUgcmV0cnlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cnlUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkSW50ZXJuYWwuYmluZCh0aGlzKSwgdGhpcy5yZXRyeURlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNldCBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldHJ5RGVsYXkgPSBNYXRoLm1pbigyICogdGhpcy5yZXRyeURlbGF5LCBjb25maWcubWF4UmV0cnlEZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0cy5yZXRyeSsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gcmVhZHlTdGF0ZSA+PSAyIEFORCByZWFkeVN0YXRlICE9PTQgKHJlYWR5U3RhdGUgPSBIRUFERVJTX1JFQ0VJVkVEIHx8IExPQURJTkcpIHJlYXJtIHRpbWVvdXQgYXMgeGhyIG5vdCBmaW5pc2hlZCB5ZXRcbiAgICAgICAgICAgICAgICB0aGlzLnJlcXVlc3RUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQodGhpcy5sb2FkdGltZW91dC5iaW5kKHRoaXMpLCBjb25maWcudGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFhockxvYWRlci5wcm90b3R5cGUubG9hZHRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvZ2dlcl8xLmxvZ2dlci53YXJuKFwidGltZW91dCB3aGlsZSBsb2FkaW5nIFwiICsgdGhpcy5jb250ZXh0LnVybCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2tzLm9uVGltZW91dCh0aGlzLnN0YXRzLCB0aGlzLmNvbnRleHQsIG51bGwpO1xuICAgIH07XG4gICAgWGhyTG9hZGVyLnByb3RvdHlwZS5sb2FkcHJvZ3Jlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIHhociA9IGV2ZW50LmN1cnJlbnRUYXJnZXQsIHN0YXRzID0gdGhpcy5zdGF0cztcbiAgICAgICAgc3RhdHMubG9hZGVkID0gZXZlbnQubG9hZGVkO1xuICAgICAgICBpZiAoZXZlbnQubGVuZ3RoQ29tcHV0YWJsZSkge1xuICAgICAgICAgICAgc3RhdHMudG90YWwgPSBldmVudC50b3RhbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb25Qcm9ncmVzcyA9IHRoaXMuY2FsbGJhY2tzLm9uUHJvZ3Jlc3M7XG4gICAgICAgIGlmIChvblByb2dyZXNzKSB7XG4gICAgICAgICAgICAvLyB0aGlyZCBhcmcgaXMgdG8gcHJvdmlkZSBvbiBwcm9ncmVzcyBkYXRhXG4gICAgICAgICAgICBvblByb2dyZXNzKHN0YXRzLCB0aGlzLmNvbnRleHQsIG51bGwsIHhocik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBYaHJMb2FkZXI7XG59KCkpO1xuZXhwb3J0cy5kZWZhdWx0ID0gWGhyTG9hZGVyO1xuXG5cbi8qKiovIH0pXG5cbi8qKioqKiovIH0pW1wiZGVmYXVsdFwiXTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGxzLmpzLm1hcCJdLCJzb3VyY2VSb290IjoiIn0=