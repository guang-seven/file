(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1326:function(e,t,i){"use strict";i.r(t);class s{static install(){Object.setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Object.assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");let t=Object(e);for(let e=1;e<arguments.length;e++){let i=arguments[e];if(null!=i)for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e])}return t},"function"!=typeof self.Promise&&i(2060).polyfill()}}s.install();var r=s,n=i(1371),a=i.n(n);class o{static e(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","error",i),o.ENABLE_ERROR&&(console.error?console.error(i):console.warn?console.warn(i):console.log(i))}static i(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","info",i),o.ENABLE_INFO&&(console.info?console.info(i):console.log(i))}static w(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","warn",i),o.ENABLE_WARN&&(console.warn?console.warn(i):console.log(i))}static d(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","debug",i),o.ENABLE_DEBUG&&(console.debug?console.debug(i):console.log(i))}static v(e,t){e&&!o.FORCE_GLOBAL_TAG||(e=o.GLOBAL_TAG);let i=`[${e}] > ${t}`;o.ENABLE_CALLBACK&&o.emitter.emit("log","verbose",i),o.ENABLE_VERBOSE&&console.log(i)}}o.GLOBAL_TAG="flv.js",o.FORCE_GLOBAL_TAG=!1,o.ENABLE_ERROR=!0,o.ENABLE_INFO=!0,o.ENABLE_WARN=!0,o.ENABLE_DEBUG=!0,o.ENABLE_VERBOSE=!0,o.ENABLE_CALLBACK=!1,o.emitter=new a.a;var h=o;var l=class{constructor(){this._firstCheckpoint=0,this._lastCheckpoint=0,this._intervalBytes=0,this._totalBytes=0,this._lastSecondBytes=0,self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now}reset(){this._firstCheckpoint=this._lastCheckpoint=0,this._totalBytes=this._intervalBytes=0,this._lastSecondBytes=0}addBytes(e){0===this._firstCheckpoint?(this._firstCheckpoint=this._now(),this._lastCheckpoint=this._firstCheckpoint,this._intervalBytes+=e,this._totalBytes+=e):this._now()-this._lastCheckpoint<1e3?(this._intervalBytes+=e,this._totalBytes+=e):(this._lastSecondBytes=this._intervalBytes,this._intervalBytes=e,this._totalBytes+=e,this._lastCheckpoint=this._now())}get currentKBps(){this.addBytes(0);let e=(this._now()-this._lastCheckpoint)/1e3;return 0==e&&(e=1),this._intervalBytes/e/1024}get lastSecondKBps(){return this.addBytes(0),0!==this._lastSecondBytes?this._lastSecondBytes/1024:this._now()-this._lastCheckpoint>=500?this.currentKBps:0}get averageKBps(){let e=(this._now()-this._firstCheckpoint)/1e3;return this._totalBytes/e/1024}};class d{constructor(e){this._message=e}get name(){return"RuntimeException"}get message(){return this._message}toString(){return this.name+": "+this.message}}class _ extends d{constructor(e){super(e)}get name(){return"IllegalStateException"}}class u extends d{constructor(e){super(e)}get name(){return"InvalidArgumentException"}}class c extends d{constructor(e){super(e)}get name(){return"NotImplementedException"}}const m={kIdle:0,kConnecting:1,kBuffering:2,kError:3,kComplete:4},f={OK:"OK",EXCEPTION:"Exception",HTTP_STATUS_CODE_INVALID:"HttpStatusCodeInvalid",CONNECTING_TIMEOUT:"ConnectingTimeout",EARLY_EOF:"EarlyEof",UNRECOVERABLE_EARLY_EOF:"UnrecoverableEarlyEof"};class p{constructor(e){this._type=e||"undefined",this._status=m.kIdle,this._needStash=!1,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}destroy(){this._status=m.kIdle,this._onContentLengthKnown=null,this._onURLRedirect=null,this._onDataArrival=null,this._onError=null,this._onComplete=null}isWorking(){return this._status===m.kConnecting||this._status===m.kBuffering}get type(){return this._type}get status(){return this._status}get needStashBuffer(){return this._needStash}get onContentLengthKnown(){return this._onContentLengthKnown}set onContentLengthKnown(e){this._onContentLengthKnown=e}get onURLRedirect(){return this._onURLRedirect}set onURLRedirect(e){this._onURLRedirect=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}open(e,t){throw new c("Unimplemented abstract function!")}abort(){throw new c("Unimplemented abstract function!")}}let g={};!function(){let e=self.navigator.userAgent.toLowerCase(),t=/(edge)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(chrome)[ \/]([\w.]+)/.exec(e)||/(iemobile)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(firefox)[ \/]([\w.]+)/.exec(e)||[],i=/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(android)/.exec(e)||/(windows)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||[],s={browser:t[5]||t[3]||t[1]||"",version:t[2]||t[4]||"0",majorVersion:t[4]||t[2]||"0",platform:i[0]||""},r={};if(s.browser){r[s.browser]=!0;let e=s.majorVersion.split(".");r.version={major:parseInt(s.majorVersion,10),string:s.version},e.length>1&&(r.version.minor=parseInt(e[1],10)),e.length>2&&(r.version.build=parseInt(e[2],10))}if(s.platform&&(r[s.platform]=!0),(r.chrome||r.opr||r.safari)&&(r.webkit=!0),r.rv||r.iemobile){r.rv&&delete r.rv;let e="msie";s.browser=e,r[e]=!0}if(r.edge){delete r.edge;let e="msedge";s.browser=e,r[e]=!0}if(r.opr){let e="opera";s.browser=e,r[e]=!0}if(r.safari&&r.android){let e="android";s.browser=e,r[e]=!0}r.name=s.browser,r.platform=s.platform;for(let e in g)g.hasOwnProperty(e)&&delete g[e];Object.assign(g,r)}();var E=g;var S=class extends p{static isSupported(){try{let e=E.msedge&&E.version.minor>=15048,t=!E.msedge||e;return self.fetch&&self.ReadableStream&&t}catch(e){return!1}}constructor(e,t){super("fetch-stream-loader"),this.TAG="FetchStreamLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);let s=this._seekHandler.getConfig(i,t),r=new self.Headers;if("object"==typeof s.headers){let e=s.headers;for(let t in e)e.hasOwnProperty(t)&&r.append(t,e[t])}let n={method:"GET",headers:r,mode:"cors",cache:"default",referrerPolicy:"no-referrer-when-downgrade"};if("object"==typeof this._config.headers)for(let e in this._config.headers)r.append(e,this._config.headers[e]);!1===e.cors&&(n.mode="same-origin"),e.withCredentials&&(n.credentials="include"),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),this._status=m.kConnecting,self.fetch(s.url,n).then(e=>{if(this._requestAbort)return this._requestAbort=!1,void(this._status=m.kIdle);if(e.ok&&e.status>=200&&e.status<=299){if(e.url!==s.url&&this._onURLRedirect){let t=this._seekHandler.removeURLParameters(e.url);this._onURLRedirect(t)}let t=e.headers.get("Content-Length");return null!=t&&(this._contentLength=parseInt(t),0!==this._contentLength&&this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)),this._pump.call(this,e.body.getReader())}if(this._status=m.kError,!this._onError)throw new d("FetchStreamLoader: Http code invalid, "+e.status+" "+e.statusText);this._onError(f.HTTP_STATUS_CODE_INVALID,{code:e.status,msg:e.statusText})}).catch(e=>{if(this._status=m.kError,!this._onError)throw e;this._onError(f.EXCEPTION,{code:-1,msg:e.message})})}abort(){this._requestAbort=!0}_pump(e){return e.read().then(t=>{if(t.done)if(null!==this._contentLength&&this._receivedLength<this._contentLength){this._status=m.kError;let e=f.EARLY_EOF,t={code:-1,msg:"Fetch stream meet Early-EOF"};if(!this._onError)throw new d(t.msg);this._onError(e,t)}else this._status=m.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1);else{if(!0===this._requestAbort)return this._requestAbort=!1,this._status=m.kComplete,e.cancel();this._status=m.kBuffering;let i=t.value.buffer,s=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength,this._onDataArrival&&this._onDataArrival(i,s,this._receivedLength),this._pump(e)}}).catch(e=>{if(11===e.code&&E.msedge)return;this._status=m.kError;let t=0,i=null;if(19!==e.code&&"network error"!==e.message||!(null===this._contentLength||null!==this._contentLength&&this._receivedLength<this._contentLength)?(t=f.EXCEPTION,i={code:e.code,msg:e.message}):(t=f.EARLY_EOF,i={code:e.code,msg:"Fetch stream meet Early-EOF"}),!this._onError)throw new d(i.msg);this._onError(t,i)})}};var v=class extends p{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="moz-chunked-arraybuffer","moz-chunked-arraybuffer"===e.responseType}catch(e){return h.w("MozChunkedLoader",e.message),!1}}constructor(e,t){super("xhr-moz-chunked-loader"),this.TAG="MozChunkedLoader",this._seekHandler=e,this._config=t,this._needStash=!0,this._xhr=null,this._requestAbort=!1,this._contentLength=null,this._receivedLength=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onloadend=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}open(e,t){this._dataSource=e,this._range=t;let i=e.url;this._config.reuseRedirectedURL&&null!=e.redirectedURL&&(i=e.redirectedURL);let s=this._seekHandler.getConfig(i,t);this._requestURL=s.url;let r=this._xhr=new XMLHttpRequest;if(r.open("GET",s.url,!0),r.responseType="moz-chunked-arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onloadend=this._onLoadEnd.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"==typeof s.headers){let e=s.headers;for(let t in e)e.hasOwnProperty(t)&&r.setRequestHeader(t,e[t])}if("object"==typeof this._config.headers){let e=this._config.headers;for(let t in e)e.hasOwnProperty(t)&&r.setRequestHeader(t,e[t])}this._status=m.kConnecting,r.send()}abort(){this._requestAbort=!0,this._xhr&&this._xhr.abort(),this._status=m.kComplete}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(null!=t.responseURL&&t.responseURL!==this._requestURL&&this._onURLRedirect){let e=this._seekHandler.removeURLParameters(t.responseURL);this._onURLRedirect(e)}if(0!==t.status&&(t.status<200||t.status>299)){if(this._status=m.kError,!this._onError)throw new d("MozChunkedLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(f.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}else this._status=m.kBuffering}}_onProgress(e){if(this._status===m.kError)return;null===this._contentLength&&null!==e.total&&0!==e.total&&(this._contentLength=e.total,this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength));let t=e.target.response,i=this._range.from+this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}_onLoadEnd(e){!0!==this._requestAbort?this._status!==m.kError&&(this._status=m.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1)):this._requestAbort=!1}_onXhrError(e){this._status=m.kError;let t=0,i=null;if(this._contentLength&&e.loaded<this._contentLength?(t=f.EARLY_EOF,i={code:-1,msg:"Moz-Chunked stream meet Early-Eof"}):(t=f.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new d(i.msg);this._onError(t,i)}};var y=class extends p{static isSupported(){try{let e=new XMLHttpRequest;return e.open("GET","https://example.com",!0),e.responseType="arraybuffer","arraybuffer"===e.responseType}catch(e){return h.w("RangeLoader",e.message),!1}}constructor(e,t){super("xhr-range-loader"),this.TAG="RangeLoader",this._seekHandler=e,this._config=t,this._needStash=!1,this._chunkSizeKBList=[128,256,384,512,768,1024,1536,2048,3072,4096,5120,6144,7168,8192],this._currentChunkSizeKB=384,this._currentSpeedNormalized=0,this._zeroSpeedChunkCount=0,this._xhr=null,this._speedSampler=new l,this._requestAbort=!1,this._waitForTotalLength=!1,this._totalLengthReceived=!1,this._currentRequestURL=null,this._currentRedirectedURL=null,this._currentRequestRange=null,this._totalLength=null,this._contentLength=null,this._receivedLength=0,this._lastTimeLoaded=0}destroy(){this.isWorking()&&this.abort(),this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr=null),super.destroy()}get currentSpeed(){return this._speedSampler.lastSecondKBps}open(e,t){this._dataSource=e,this._range=t,this._status=m.kConnecting;let i=!1;null!=this._dataSource.filesize&&0!==this._dataSource.filesize&&(i=!0,this._totalLength=this._dataSource.filesize),this._totalLengthReceived||i?this._openSubRange():(this._waitForTotalLength=!0,this._internalOpen(this._dataSource,{from:0,to:-1}))}_openSubRange(){let e=1024*this._currentChunkSizeKB,t=this._range.from+this._receivedLength,i=t+e;null!=this._contentLength&&i-this._range.from>=this._contentLength&&(i=this._range.from+this._contentLength-1),this._currentRequestRange={from:t,to:i},this._internalOpen(this._dataSource,this._currentRequestRange)}_internalOpen(e,t){this._lastTimeLoaded=0;let i=e.url;this._config.reuseRedirectedURL&&(null!=this._currentRedirectedURL?i=this._currentRedirectedURL:null!=e.redirectedURL&&(i=e.redirectedURL));let s=this._seekHandler.getConfig(i,t);this._currentRequestURL=s.url;let r=this._xhr=new XMLHttpRequest;if(r.open("GET",s.url,!0),r.responseType="arraybuffer",r.onreadystatechange=this._onReadyStateChange.bind(this),r.onprogress=this._onProgress.bind(this),r.onload=this._onLoad.bind(this),r.onerror=this._onXhrError.bind(this),e.withCredentials&&(r.withCredentials=!0),"object"==typeof s.headers){let e=s.headers;for(let t in e)e.hasOwnProperty(t)&&r.setRequestHeader(t,e[t])}if("object"==typeof this._config.headers){let e=this._config.headers;for(let t in e)e.hasOwnProperty(t)&&r.setRequestHeader(t,e[t])}r.send()}abort(){this._requestAbort=!0,this._internalAbort(),this._status=m.kComplete}_internalAbort(){this._xhr&&(this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.onload=null,this._xhr.onerror=null,this._xhr.abort(),this._xhr=null)}_onReadyStateChange(e){let t=e.target;if(2===t.readyState){if(null!=t.responseURL){let e=this._seekHandler.removeURLParameters(t.responseURL);t.responseURL!==this._currentRequestURL&&e!==this._currentRedirectedURL&&(this._currentRedirectedURL=e,this._onURLRedirect&&this._onURLRedirect(e))}if(t.status>=200&&t.status<=299){if(this._waitForTotalLength)return;this._status=m.kBuffering}else{if(this._status=m.kError,!this._onError)throw new d("RangeLoader: Http code invalid, "+t.status+" "+t.statusText);this._onError(f.HTTP_STATUS_CODE_INVALID,{code:t.status,msg:t.statusText})}}}_onProgress(e){if(this._status===m.kError)return;if(null===this._contentLength){let t=!1;if(this._waitForTotalLength){this._waitForTotalLength=!1,this._totalLengthReceived=!0,t=!0;let i=e.total;this._internalAbort(),null!=i&0!==i&&(this._totalLength=i)}if(-1===this._range.to?this._contentLength=this._totalLength-this._range.from:this._contentLength=this._range.to-this._range.from+1,t)return void this._openSubRange();this._onContentLengthKnown&&this._onContentLengthKnown(this._contentLength)}let t=e.loaded-this._lastTimeLoaded;this._lastTimeLoaded=e.loaded,this._speedSampler.addBytes(t)}_normalizeSpeed(e){let t=this._chunkSizeKBList,i=t.length-1,s=0,r=0,n=i;if(e<t[0])return t[0];for(;r<=n;){if(s=r+Math.floor((n-r)/2),s===i||e>=t[s]&&e<t[s+1])return t[s];t[s]<e?r=s+1:n=s-1}}_onLoad(e){if(this._status===m.kError)return;if(this._waitForTotalLength)return void(this._waitForTotalLength=!1);this._lastTimeLoaded=0;let t=this._speedSampler.lastSecondKBps;if(0===t&&(this._zeroSpeedChunkCount++,this._zeroSpeedChunkCount>=3&&(t=this._speedSampler.currentKBps)),0!==t){let e=this._normalizeSpeed(t);this._currentSpeedNormalized!==e&&(this._currentSpeedNormalized=e,this._currentChunkSizeKB=e)}let i=e.target.response,s=this._range.from+this._receivedLength;this._receivedLength+=i.byteLength;let r=!1;null!=this._contentLength&&this._receivedLength<this._contentLength?this._openSubRange():r=!0,this._onDataArrival&&this._onDataArrival(i,s,this._receivedLength),r&&(this._status=m.kComplete,this._onComplete&&this._onComplete(this._range.from,this._range.from+this._receivedLength-1))}_onXhrError(e){this._status=m.kError;let t=0,i=null;if(this._contentLength&&this._receivedLength>0&&this._receivedLength<this._contentLength?(t=f.EARLY_EOF,i={code:-1,msg:"RangeLoader meet Early-Eof"}):(t=f.EXCEPTION,i={code:-1,msg:e.constructor.name+" "+e.type}),!this._onError)throw new d(i.msg);this._onError(t,i)}};var A=class extends p{static isSupported(){try{return void 0!==self.WebSocket}catch(e){return!1}}constructor(){super("websocket-loader"),this.TAG="WebSocketLoader",this._needStash=!0,this._ws=null,this._requestAbort=!1,this._receivedLength=0}destroy(){this._ws&&this.abort(),super.destroy()}open(e){try{let t=this._ws=new self.WebSocket(e.url);t.binaryType="arraybuffer",t.onopen=this._onWebSocketOpen.bind(this),t.onclose=this._onWebSocketClose.bind(this),t.onmessage=this._onWebSocketMessage.bind(this),t.onerror=this._onWebSocketError.bind(this),this._status=m.kConnecting}catch(e){this._status=m.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new d(t.msg);this._onError(f.EXCEPTION,t)}}abort(){let e=this._ws;!e||0!==e.readyState&&1!==e.readyState||(this._requestAbort=!0,e.close()),this._ws=null,this._status=m.kComplete}_onWebSocketOpen(e){this._status=m.kBuffering}_onWebSocketClose(e){!0!==this._requestAbort?(this._status=m.kComplete,this._onComplete&&this._onComplete(0,this._receivedLength-1)):this._requestAbort=!1}_onWebSocketMessage(e){if(e.data instanceof ArrayBuffer)this._dispatchArrayBuffer(e.data);else if(e.data instanceof Blob){let t=new FileReader;t.onload=()=>{this._dispatchArrayBuffer(t.result)},t.readAsArrayBuffer(e.data)}else{this._status=m.kError;let t={code:-1,msg:"Unsupported WebSocket message type: "+e.data.constructor.name};if(!this._onError)throw new d(t.msg);this._onError(f.EXCEPTION,t)}}_dispatchArrayBuffer(e){let t=e,i=this._receivedLength;this._receivedLength+=t.byteLength,this._onDataArrival&&this._onDataArrival(t,i,this._receivedLength)}_onWebSocketError(e){this._status=m.kError;let t={code:e.code,msg:e.message};if(!this._onError)throw new d(t.msg);this._onError(f.EXCEPTION,t)}};var b=class{constructor(e){this._zeroStart=e||!1}getConfig(e,t){let i={};if(0!==t.from||-1!==t.to){let e;e=-1!==t.to?`bytes=${t.from.toString()}-${t.to.toString()}`:`bytes=${t.from.toString()}-`,i.Range=e}else this._zeroStart&&(i.Range="bytes=0-");return{url:e,headers:i}}removeURLParameters(e){return e}};var R=class{constructor(e,t){this._startName=e,this._endName=t}getConfig(e,t){let i=e;if(0!==t.from||-1!==t.to){let e=!0;-1===i.indexOf("?")&&(i+="?",e=!1),e&&(i+="&"),i+=`${this._startName}=${t.from.toString()}`,-1!==t.to&&(i+=`&${this._endName}=${t.to.toString()}`)}return{url:i,headers:{}}}removeURLParameters(e){let t=e.split("?")[0],i=void 0,s=e.indexOf("?");-1!==s&&(i=e.substring(s+1));let r="";if(null!=i&&i.length>0){let e=i.split("&");for(let t=0;t<e.length;t++){let i=e[t].split("="),s=t>0;i[0]!==this._startName&&i[0]!==this._endName&&(s&&(r+="&"),r+=e[t])}}return 0===r.length?t:t+"?"+r}};var L=class{constructor(e,t,i){this.TAG="IOController",this._config=t,this._extraData=i,this._stashInitialSize=393216,null!=t.stashInitialSize&&t.stashInitialSize>0&&(this._stashInitialSize=t.stashInitialSize),this._stashUsed=0,this._stashSize=this._stashInitialSize,this._bufferSize=3145728,this._stashBuffer=new ArrayBuffer(this._bufferSize),this._stashByteStart=0,this._enableStash=!0,!1===t.enableStashBuffer&&(this._enableStash=!1),this._loader=null,this._loaderClass=null,this._seekHandler=null,this._dataSource=e,this._isWebSocketURL=/wss?:\/\/(.+?)/.test(e.url),this._refTotalLength=e.filesize?e.filesize:null,this._totalLength=this._refTotalLength,this._fullRequestFlag=!1,this._currentRange=null,this._redirectedURL=null,this._speedNormalized=0,this._speedSampler=new l,this._speedNormalizeList=[64,128,256,384,512,768,1024,1536,2048,3072,4096],this._isEarlyEofReconnecting=!1,this._paused=!1,this._resumeFrom=0,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._selectSeekHandler(),this._selectLoader(),this._createLoader()}destroy(){this._loader.isWorking()&&this._loader.abort(),this._loader.destroy(),this._loader=null,this._loaderClass=null,this._dataSource=null,this._stashBuffer=null,this._stashUsed=this._stashSize=this._bufferSize=this._stashByteStart=0,this._currentRange=null,this._speedSampler=null,this._isEarlyEofReconnecting=!1,this._onDataArrival=null,this._onSeeked=null,this._onError=null,this._onComplete=null,this._onRedirect=null,this._onRecoveredEarlyEof=null,this._extraData=null}isWorking(){return this._loader&&this._loader.isWorking()&&!this._paused}isPaused(){return this._paused}get status(){return this._loader.status}get extraData(){return this._extraData}set extraData(e){this._extraData=e}get onDataArrival(){return this._onDataArrival}set onDataArrival(e){this._onDataArrival=e}get onSeeked(){return this._onSeeked}set onSeeked(e){this._onSeeked=e}get onError(){return this._onError}set onError(e){this._onError=e}get onComplete(){return this._onComplete}set onComplete(e){this._onComplete=e}get onRedirect(){return this._onRedirect}set onRedirect(e){this._onRedirect=e}get onRecoveredEarlyEof(){return this._onRecoveredEarlyEof}set onRecoveredEarlyEof(e){this._onRecoveredEarlyEof=e}get currentURL(){return this._dataSource.url}get hasRedirect(){return null!=this._redirectedURL||null!=this._dataSource.redirectedURL}get currentRedirectedURL(){return this._redirectedURL||this._dataSource.redirectedURL}get currentSpeed(){return this._loaderClass===y?this._loader.currentSpeed:this._speedSampler.lastSecondKBps}get loaderType(){return this._loader.type}_selectSeekHandler(){let e=this._config;if("range"===e.seekType)this._seekHandler=new b(this._config.rangeLoadZeroStart);else if("param"===e.seekType){let t=e.seekParamStart||"bstart",i=e.seekParamEnd||"bend";this._seekHandler=new R(t,i)}else{if("custom"!==e.seekType)throw new u("Invalid seekType in config: "+e.seekType);if("function"!=typeof e.customSeekHandler)throw new u("Custom seekType specified in config but invalid customSeekHandler!");this._seekHandler=new e.customSeekHandler}}_selectLoader(){if(null!=this._config.customLoader)this._loaderClass=this._config.customLoader;else if(this._isWebSocketURL)this._loaderClass=A;else if(S.isSupported())this._loaderClass=S;else if(v.isSupported())this._loaderClass=v;else{if(!y.isSupported())throw new d("Your browser doesn't support xhr with arraybuffer responseType!");this._loaderClass=y}}_createLoader(){this._loader=new this._loaderClass(this._seekHandler,this._config),!1===this._loader.needStashBuffer&&(this._enableStash=!1),this._loader.onContentLengthKnown=this._onContentLengthKnown.bind(this),this._loader.onURLRedirect=this._onURLRedirect.bind(this),this._loader.onDataArrival=this._onLoaderChunkArrival.bind(this),this._loader.onComplete=this._onLoaderComplete.bind(this),this._loader.onError=this._onLoaderError.bind(this)}open(e){this._currentRange={from:0,to:-1},e&&(this._currentRange.from=e),this._speedSampler.reset(),e||(this._fullRequestFlag=!0),this._loader.open(this._dataSource,Object.assign({},this._currentRange))}abort(){this._loader.abort(),this._paused&&(this._paused=!1,this._resumeFrom=0)}pause(){this.isWorking()&&(this._loader.abort(),0!==this._stashUsed?(this._resumeFrom=this._stashByteStart,this._currentRange.to=this._stashByteStart-1):this._resumeFrom=this._currentRange.to+1,this._stashUsed=0,this._stashByteStart=0,this._paused=!0)}resume(){if(this._paused){this._paused=!1;let e=this._resumeFrom;this._resumeFrom=0,this._internalSeek(e,!0)}}seek(e){this._paused=!1,this._stashUsed=0,this._stashByteStart=0,this._internalSeek(e,!0)}_internalSeek(e,t){this._loader.isWorking()&&this._loader.abort(),this._flushStashBuffer(t),this._loader.destroy(),this._loader=null;let i={from:e,to:-1};this._currentRange={from:i.from,to:-1},this._speedSampler.reset(),this._stashSize=this._stashInitialSize,this._createLoader(),this._loader.open(this._dataSource,i),this._onSeeked&&this._onSeeked()}updateUrl(e){if(!e||"string"!=typeof e||0===e.length)throw new u("Url must be a non-empty string!");this._dataSource.url=e}_expandBuffer(e){let t=this._stashSize;for(;t+1048576<e;)t*=2;if(t+=1048576,t===this._bufferSize)return;let i=new ArrayBuffer(t);if(this._stashUsed>0){let e=new Uint8Array(this._stashBuffer,0,this._stashUsed);new Uint8Array(i,0,t).set(e,0)}this._stashBuffer=i,this._bufferSize=t}_normalizeSpeed(e){let t=this._speedNormalizeList,i=t.length-1,s=0,r=0,n=i;if(e<t[0])return t[0];for(;r<=n;){if(s=r+Math.floor((n-r)/2),s===i||e>=t[s]&&e<t[s+1])return t[s];t[s]<e?r=s+1:n=s-1}}_adjustStashSize(e){let t=0;t=this._config.isLive||e<512?e:e>=512&&e<=1024?Math.floor(1.5*e):2*e,t>8192&&(t=8192);let i=1024*t+1048576;this._bufferSize<i&&this._expandBuffer(i),this._stashSize=1024*t}_dispatchChunks(e,t){return this._currentRange.to=t+e.byteLength-1,this._onDataArrival(e,t)}_onURLRedirect(e){this._redirectedURL=e,this._onRedirect&&this._onRedirect(e)}_onContentLengthKnown(e){e&&this._fullRequestFlag&&(this._totalLength=e,this._fullRequestFlag=!1)}_onLoaderChunkArrival(e,t,i){if(!this._onDataArrival)throw new _("IOController: No existing consumer (onDataArrival) callback!");if(this._paused)return;this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,this._onRecoveredEarlyEof&&this._onRecoveredEarlyEof()),this._speedSampler.addBytes(e.byteLength);let s=this._speedSampler.lastSecondKBps;if(0!==s){let e=this._normalizeSpeed(s);this._speedNormalized!==e&&(this._speedNormalized=e,this._adjustStashSize(e))}if(this._enableStash)if(0===this._stashUsed&&0===this._stashByteStart&&(this._stashByteStart=t),this._stashUsed+e.byteLength<=this._stashSize){new Uint8Array(this._stashBuffer,0,this._stashSize).set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{let i=new Uint8Array(this._stashBuffer,0,this._bufferSize);if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),s=this._dispatchChunks(t,this._stashByteStart);if(s<t.byteLength){if(s>0){let e=new Uint8Array(t,s);i.set(e,0),this._stashUsed=e.byteLength,this._stashByteStart+=s}}else this._stashUsed=0,this._stashByteStart+=s;this._stashUsed+e.byteLength>this._bufferSize&&(this._expandBuffer(this._stashUsed+e.byteLength),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength}else{let s=this._dispatchChunks(e,t);if(s<e.byteLength){let r=e.byteLength-s;r>this._bufferSize&&(this._expandBuffer(r),i=new Uint8Array(this._stashBuffer,0,this._bufferSize)),i.set(new Uint8Array(e,s),0),this._stashUsed+=r,this._stashByteStart=t+s}}}else if(0===this._stashUsed){let i=this._dispatchChunks(e,t);if(i<e.byteLength){let s=e.byteLength-i;s>this._bufferSize&&this._expandBuffer(s),new Uint8Array(this._stashBuffer,0,this._bufferSize).set(new Uint8Array(e,i),0),this._stashUsed+=s,this._stashByteStart=t+i}}else{this._stashUsed+e.byteLength>this._bufferSize&&this._expandBuffer(this._stashUsed+e.byteLength);let t=new Uint8Array(this._stashBuffer,0,this._bufferSize);t.set(new Uint8Array(e),this._stashUsed),this._stashUsed+=e.byteLength;let i=this._dispatchChunks(this._stashBuffer.slice(0,this._stashUsed),this._stashByteStart);if(i<this._stashUsed&&i>0){let e=new Uint8Array(this._stashBuffer,i);t.set(e,0)}this._stashUsed-=i,this._stashByteStart+=i}}_flushStashBuffer(e){if(this._stashUsed>0){let t=this._stashBuffer.slice(0,this._stashUsed),i=this._dispatchChunks(t,this._stashByteStart),s=t.byteLength-i;if(i<t.byteLength){if(!e){if(i>0){let e=new Uint8Array(this._stashBuffer,0,this._bufferSize),s=new Uint8Array(t,i);e.set(s,0),this._stashUsed=s.byteLength,this._stashByteStart+=i}return 0}h.w(this.TAG,s+" bytes unconsumed data remain when flush buffer, dropped")}return this._stashUsed=0,this._stashByteStart=0,s}return 0}_onLoaderComplete(e,t){this._flushStashBuffer(!0),this._onComplete&&this._onComplete(this._extraData)}_onLoaderError(e,t){switch(h.e(this.TAG,`Loader error, code = ${t.code}, msg = ${t.msg}`),this._flushStashBuffer(!1),this._isEarlyEofReconnecting&&(this._isEarlyEofReconnecting=!1,e=f.UNRECOVERABLE_EARLY_EOF),e){case f.EARLY_EOF:if(!this._config.isLive&&this._totalLength){let e=this._currentRange.to+1;return void(e<this._totalLength&&(h.w(this.TAG,"Connection lost, trying reconnect..."),this._isEarlyEofReconnecting=!0,this._internalSeek(e,!1)))}e=f.UNRECOVERABLE_EARLY_EOF}if(!this._onError)throw new d("IOException: "+t.msg);this._onError(e,t)}};const w={enableWorker:!1,enableStashBuffer:!0,stashInitialSize:void 0,isLive:!1,lazyLoad:!0,lazyLoadMaxDuration:180,lazyLoadRecoverDuration:30,deferLoadAfterSourceOpen:!0,autoCleanupMaxBackwardDuration:180,autoCleanupMinBackwardDuration:120,statisticsInfoReportInterval:600,fixAudioTimestampGap:!0,accurateSeek:!1,seekType:"range",seekParamStart:"bstart",seekParamEnd:"bend",rangeLoadZeroStart:!1,customSeekHandler:void 0,reuseRedirectedURL:!1,headers:void 0,customLoader:void 0};function T(){return Object.assign({},w)}class C{static supportMSEH264Playback(){return window.MediaSource&&window.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')}static supportNetworkStreamIO(){let e=new L({},T()),t=e.loaderType;return e.destroy(),"fetch-stream-loader"==t||"xhr-moz-chunked-loader"==t}static getNetworkLoaderTypeName(){let e=new L({},T()),t=e.loaderType;return e.destroy(),t}static supportNativeMediaPlayback(e){null==C.videoElement&&(C.videoElement=window.document.createElement("video"));let t=C.videoElement.canPlayType(e);return"probably"===t||"maybe"==t}static getFeatureList(){let e={mseFlvPlayback:!1,mseLiveFlvPlayback:!1,networkStreamIO:!1,networkLoaderName:"",nativeMP4H264Playback:!1,nativeWebmVP8Playback:!1,nativeWebmVP9Playback:!1};return e.mseFlvPlayback=C.supportMSEH264Playback(),e.networkStreamIO=C.supportNetworkStreamIO(),e.networkLoaderName=C.getNetworkLoaderTypeName(),e.mseLiveFlvPlayback=e.mseFlvPlayback&&e.networkStreamIO,e.nativeMP4H264Playback=C.supportNativeMediaPlayback('video/mp4; codecs="avc1.42001E, mp4a.40.2"'),e.nativeWebmVP8Playback=C.supportNativeMediaPlayback('video/webm; codecs="vp8.0, vorbis"'),e.nativeWebmVP9Playback=C.supportNativeMediaPlayback('video/webm; codecs="vp9"'),e}}var k=C;var D={ERROR:"error",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info"};class I{static get forceGlobalTag(){return h.FORCE_GLOBAL_TAG}static set forceGlobalTag(e){h.FORCE_GLOBAL_TAG=e,I._notifyChange()}static get globalTag(){return h.GLOBAL_TAG}static set globalTag(e){h.GLOBAL_TAG=e,I._notifyChange()}static get enableAll(){return h.ENABLE_VERBOSE&&h.ENABLE_DEBUG&&h.ENABLE_INFO&&h.ENABLE_WARN&&h.ENABLE_ERROR}static set enableAll(e){h.ENABLE_VERBOSE=e,h.ENABLE_DEBUG=e,h.ENABLE_INFO=e,h.ENABLE_WARN=e,h.ENABLE_ERROR=e,I._notifyChange()}static get enableDebug(){return h.ENABLE_DEBUG}static set enableDebug(e){h.ENABLE_DEBUG=e,I._notifyChange()}static get enableVerbose(){return h.ENABLE_VERBOSE}static set enableVerbose(e){h.ENABLE_VERBOSE=e,I._notifyChange()}static get enableInfo(){return h.ENABLE_INFO}static set enableInfo(e){h.ENABLE_INFO=e,I._notifyChange()}static get enableWarn(){return h.ENABLE_WARN}static set enableWarn(e){h.ENABLE_WARN=e,I._notifyChange()}static get enableError(){return h.ENABLE_ERROR}static set enableError(e){h.ENABLE_ERROR=e,I._notifyChange()}static getConfig(){return{globalTag:h.GLOBAL_TAG,forceGlobalTag:h.FORCE_GLOBAL_TAG,enableVerbose:h.ENABLE_VERBOSE,enableDebug:h.ENABLE_DEBUG,enableInfo:h.ENABLE_INFO,enableWarn:h.ENABLE_WARN,enableError:h.ENABLE_ERROR,enableCallback:h.ENABLE_CALLBACK}}static applyConfig(e){h.GLOBAL_TAG=e.globalTag,h.FORCE_GLOBAL_TAG=e.forceGlobalTag,h.ENABLE_VERBOSE=e.enableVerbose,h.ENABLE_DEBUG=e.enableDebug,h.ENABLE_INFO=e.enableInfo,h.ENABLE_WARN=e.enableWarn,h.ENABLE_ERROR=e.enableError,h.ENABLE_CALLBACK=e.enableCallback}static _notifyChange(){let e=I.emitter;if(e.listenerCount("change")>0){let t=I.getConfig();e.emit("change",t)}}static registerListener(e){I.emitter.addListener("change",e)}static removeListener(e){I.emitter.removeListener("change",e)}static addLogListener(e){h.emitter.addListener("log",e),h.emitter.listenerCount("log")>0&&(h.ENABLE_CALLBACK=!0,I._notifyChange())}static removeLogListener(e){h.emitter.removeListener("log",e),0===h.emitter.listenerCount("log")&&(h.ENABLE_CALLBACK=!1,I._notifyChange())}}I.emitter=new a.a;var O=I;var M=class{constructor(){this.mimeType=null,this.duration=null,this.hasAudio=null,this.hasVideo=null,this.audioCodec=null,this.videoCodec=null,this.audioDataRate=null,this.videoDataRate=null,this.audioSampleRate=null,this.audioChannelCount=null,this.width=null,this.height=null,this.fps=null,this.profile=null,this.level=null,this.refFrames=null,this.chromaFormat=null,this.sarNum=null,this.sarDen=null,this.metadata=null,this.segments=null,this.segmentCount=null,this.hasKeyframesIndex=null,this.keyframesIndex=null}isComplete(){let e=!1===this.hasAudio||!0===this.hasAudio&&null!=this.audioCodec&&null!=this.audioSampleRate&&null!=this.audioChannelCount,t=!1===this.hasVideo||!0===this.hasVideo&&null!=this.videoCodec&&null!=this.width&&null!=this.height&&null!=this.fps&&null!=this.profile&&null!=this.level&&null!=this.refFrames&&null!=this.chromaFormat&&null!=this.sarNum&&null!=this.sarDen;return null!=this.mimeType&&null!=this.duration&&null!=this.metadata&&null!=this.hasKeyframesIndex&&e&&t}isSeekable(){return!0===this.hasKeyframesIndex}getNearestKeyframe(e){if(null==this.keyframesIndex)return null;let t=this.keyframesIndex,i=this._search(t.times,e);return{index:i,milliseconds:t.times[i],fileposition:t.filepositions[i]}}_search(e,t){let i=0,s=e.length-1,r=0,n=0,a=s;for(t<e[0]&&(i=0,n=a+1);n<=a;){if(r=n+Math.floor((a-n)/2),r===s||t>=e[r]&&t<e[r+1]){i=r;break}e[r]<t?n=r+1:a=r-1}return i}};function B(e,t,i){let s=e;if(t+i<s.length){for(;i--;)if(128!=(192&s[++t]))return!1;return!0}return!1}var x=function(e){let t=[],i=e,s=0,r=e.length;for(;s<r;)if(i[s]<128)t.push(String.fromCharCode(i[s])),++s;else{if(i[s]<192);else if(i[s]<224){if(B(i,s,1)){let e=(31&i[s])<<6|63&i[s+1];if(e>=128){t.push(String.fromCharCode(65535&e)),s+=2;continue}}}else if(i[s]<240){if(B(i,s,2)){let e=(15&i[s])<<12|(63&i[s+1])<<6|63&i[s+2];if(e>=2048&&55296!=(63488&e)){t.push(String.fromCharCode(65535&e)),s+=3;continue}}}else if(i[s]<248&&B(i,s,3)){let e=(7&i[s])<<18|(63&i[s+1])<<12|(63&i[s+2])<<6|63&i[s+3];if(e>65536&&e<1114112){e-=65536,t.push(String.fromCharCode(e>>>10|55296)),t.push(String.fromCharCode(1023&e|56320)),s+=4;continue}}t.push(String.fromCharCode(65533)),++s}return t.join("")};let U=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}();class N{static parseScriptData(e,t,i){let s={};try{let r=N.parseValue(e,t,i),n=N.parseValue(e,t+r.size,i-r.size);s[r.data]=n.data}catch(e){h.e("AMF",e.toString())}return s}static parseObject(e,t,i){if(i<3)throw new _("Data not enough when parse ScriptDataObject");let s=N.parseString(e,t,i),r=N.parseValue(e,t+s.size,i-s.size),n=r.objectEnd;return{data:{name:s.data,value:r.data},size:s.size+r.size,objectEnd:n}}static parseVariable(e,t,i){return N.parseObject(e,t,i)}static parseString(e,t,i){if(i<2)throw new _("Data not enough when parse String");let s,r=new DataView(e,t,i).getUint16(0,!U);return s=r>0?x(new Uint8Array(e,t+2,r)):"",{data:s,size:2+r}}static parseLongString(e,t,i){if(i<4)throw new _("Data not enough when parse LongString");let s,r=new DataView(e,t,i).getUint32(0,!U);return s=r>0?x(new Uint8Array(e,t+4,r)):"",{data:s,size:4+r}}static parseDate(e,t,i){if(i<10)throw new _("Data size invalid when parse Date");let s=new DataView(e,t,i),r=s.getFloat64(0,!U);return r+=60*s.getInt16(8,!U)*1e3,{data:new Date(r),size:10}}static parseValue(e,t,i){if(i<1)throw new _("Data not enough when parse Value");let s,r=new DataView(e,t,i),n=1,a=r.getUint8(0),o=!1;try{switch(a){case 0:s=r.getFloat64(1,!U),n+=8;break;case 1:s=!!r.getUint8(1),n+=1;break;case 2:{let r=N.parseString(e,t+1,i-1);s=r.data,n+=r.size;break}case 3:{s={};let a=0;for(9==(16777215&r.getUint32(i-4,!U))&&(a=3);n<i-4;){let r=N.parseObject(e,t+n,i-n-a);if(r.objectEnd)break;s[r.data.name]=r.data.value,n+=r.size}if(n<=i-3){9===(16777215&r.getUint32(n-1,!U))&&(n+=3)}break}case 8:{s={},n+=4;let a=0;for(9==(16777215&r.getUint32(i-4,!U))&&(a=3);n<i-8;){let r=N.parseVariable(e,t+n,i-n-a);if(r.objectEnd)break;s[r.data.name]=r.data.value,n+=r.size}if(n<=i-3){9===(16777215&r.getUint32(n-1,!U))&&(n+=3)}break}case 9:s=void 0,n=1,o=!0;break;case 10:{s=[];let a=r.getUint32(1,!U);n+=4;for(let r=0;r<a;r++){let r=N.parseValue(e,t+n,i-n);s.push(r.data),n+=r.size}break}case 11:{let r=N.parseDate(e,t+1,i-1);s=r.data,n+=r.size;break}case 12:{let r=N.parseString(e,t+1,i-1);s=r.data,n+=r.size;break}default:n=i,h.w("AMF","Unsupported AMF value type "+a)}}catch(e){h.e("AMF",e.toString())}return{data:s,size:n,objectEnd:o}}}var P=N;var F=class{constructor(e){this.TAG="ExpGolomb",this._buffer=e,this._buffer_index=0,this._total_bytes=e.byteLength,this._total_bits=8*e.byteLength,this._current_word=0,this._current_word_bits_left=0}destroy(){this._buffer=null}_fillCurrentWord(){let e=this._total_bytes-this._buffer_index;if(e<=0)throw new _("ExpGolomb: _fillCurrentWord() but no bytes available");let t=Math.min(4,e),i=new Uint8Array(4);i.set(this._buffer.subarray(this._buffer_index,this._buffer_index+t)),this._current_word=new DataView(i.buffer).getUint32(0,!1),this._buffer_index+=t,this._current_word_bits_left=8*t}readBits(e){if(e>32)throw new u("ExpGolomb: readBits() bits exceeded max 32bits!");if(e<=this._current_word_bits_left){let t=this._current_word>>>32-e;return this._current_word<<=e,this._current_word_bits_left-=e,t}let t=this._current_word_bits_left?this._current_word:0;t>>>=32-this._current_word_bits_left;let i=e-this._current_word_bits_left;this._fillCurrentWord();let s=Math.min(i,this._current_word_bits_left),r=this._current_word>>>32-s;return this._current_word<<=s,this._current_word_bits_left-=s,t=t<<s|r,t}readBool(){return 1===this.readBits(1)}readByte(){return this.readBits(8)}_skipLeadingZero(){let e;for(e=0;e<this._current_word_bits_left;e++)if(0!=(this._current_word&2147483648>>>e))return this._current_word<<=e,this._current_word_bits_left-=e,e;return this._fillCurrentWord(),e+this._skipLeadingZero()}readUEG(){let e=this._skipLeadingZero();return this.readBits(e+1)-1}readSEG(){let e=this.readUEG();return 1&e?e+1>>>1:-1*(e>>>1)}};class G{static _ebsp2rbsp(e){let t=e,i=t.byteLength,s=new Uint8Array(i),r=0;for(let e=0;e<i;e++)e>=2&&3===t[e]&&0===t[e-1]&&0===t[e-2]||(s[r]=t[e],r++);return new Uint8Array(s.buffer,0,r)}static parseSPS(e){let t=G._ebsp2rbsp(e),i=new F(t);i.readByte();let s=i.readByte();i.readByte();let r=i.readByte();i.readUEG();let n=G.getProfileString(s),a=G.getLevelString(r),o=1,h=420,l=[0,420,422,444],d=8;if((100===s||110===s||122===s||244===s||44===s||83===s||86===s||118===s||128===s||138===s||144===s)&&(o=i.readUEG(),3===o&&i.readBits(1),o<=3&&(h=l[o]),d=i.readUEG()+8,i.readUEG(),i.readBits(1),i.readBool())){let e=3!==o?8:12;for(let t=0;t<e;t++)i.readBool()&&(t<6?G._skipScalingList(i,16):G._skipScalingList(i,64))}i.readUEG();let _=i.readUEG();if(0===_)i.readUEG();else if(1===_){i.readBits(1),i.readSEG(),i.readSEG();let e=i.readUEG();for(let t=0;t<e;t++)i.readSEG()}let u=i.readUEG();i.readBits(1);let c=i.readUEG(),m=i.readUEG(),f=i.readBits(1);0===f&&i.readBits(1),i.readBits(1);let p=0,g=0,E=0,S=0;i.readBool()&&(p=i.readUEG(),g=i.readUEG(),E=i.readUEG(),S=i.readUEG());let v=1,y=1,A=0,b=!0,R=0,L=0;if(i.readBool()){if(i.readBool()){let e=i.readByte(),t=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2],s=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];e>0&&e<16?(v=t[e-1],y=s[e-1]):255===e&&(v=i.readByte()<<8|i.readByte(),y=i.readByte()<<8|i.readByte())}if(i.readBool()&&i.readBool(),i.readBool()&&(i.readBits(4),i.readBool()&&i.readBits(24)),i.readBool()&&(i.readUEG(),i.readUEG()),i.readBool()){let e=i.readBits(32),t=i.readBits(32);b=i.readBool(),R=t,L=2*e,A=R/L}}let w=1;1===v&&1===y||(w=v/y);let T=0,C=0;if(0===o)T=1,C=2-f;else{T=3===o?1:2,C=(1===o?2:1)*(2-f)}let k=16*(c+1),D=16*(m+1)*(2-f);k-=(p+g)*T,D-=(E+S)*C;let I=Math.ceil(k*w);return i.destroy(),i=null,{profile_string:n,level_string:a,bit_depth:d,ref_frames:u,chroma_format:h,chroma_format_string:G.getChromaFormatString(h),frame_rate:{fixed:b,fps:A,fps_den:L,fps_num:R},sar_ratio:{width:v,height:y},codec_size:{width:k,height:D},present_size:{width:I,height:D}}}static _skipScalingList(e,t){let i=8,s=8,r=0;for(let n=0;n<t;n++)0!==s&&(r=e.readSEG(),s=(i+r+256)%256),i=0===s?i:s}static getProfileString(e){switch(e){case 66:return"Baseline";case 77:return"Main";case 88:return"Extended";case 100:return"High";case 110:return"High10";case 122:return"High422";case 244:return"High444";default:return"Unknown"}}static getLevelString(e){return(e/10).toFixed(1)}static getChromaFormatString(e){switch(e){case 420:return"4:2:0";case 422:return"4:2:2";case 444:return"4:4:4";default:return"Unknown"}}}var V=G;var z={OK:"OK",FORMAT_ERROR:"FormatError",FORMAT_UNSUPPORTED:"FormatUnsupported",CODEC_UNSUPPORTED:"CodecUnsupported"};class j{constructor(e,t){this.TAG="FLVDemuxer",this._config=t,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null,this._dataOffset=e.dataOffset,this._firstParse=!0,this._dispatch=!1,this._hasAudio=e.hasAudioTrack,this._hasVideo=e.hasVideoTrack,this._hasAudioFlagOverrided=!1,this._hasVideoFlagOverrided=!1,this._audioInitialMetadataDispatched=!1,this._videoInitialMetadataDispatched=!1,this._mediaInfo=new M,this._mediaInfo.hasAudio=this._hasAudio,this._mediaInfo.hasVideo=this._hasVideo,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._naluLengthSize=4,this._timestampBase=0,this._timescale=1e3,this._duration=0,this._durationOverrided=!1,this._referenceFrameRate={fixed:!0,fps:23.976,fps_num:23976,fps_den:1e3},this._flvSoundRateTable=[5500,11025,22050,44100,48e3],this._mpegSamplingRates=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],this._mpegAudioV10SampleRateTable=[44100,48e3,32e3,0],this._mpegAudioV20SampleRateTable=[22050,24e3,16e3,0],this._mpegAudioV25SampleRateTable=[11025,12e3,8e3,0],this._mpegAudioL1BitRateTable=[0,32,64,96,128,160,192,224,256,288,320,352,384,416,448,-1],this._mpegAudioL2BitRateTable=[0,32,48,56,64,80,96,112,128,160,192,224,256,320,384,-1],this._mpegAudioL3BitRateTable=[0,32,40,48,56,64,80,96,112,128,160,192,224,256,320,-1],this._videoTrack={type:"video",id:1,sequenceNumber:0,samples:[],length:0},this._audioTrack={type:"audio",id:2,sequenceNumber:0,samples:[],length:0},this._littleEndian=function(){let e=new ArrayBuffer(2);return new DataView(e).setInt16(0,256,!0),256===new Int16Array(e)[0]}()}destroy(){this._mediaInfo=null,this._metadata=null,this._audioMetadata=null,this._videoMetadata=null,this._videoTrack=null,this._audioTrack=null,this._onError=null,this._onMediaInfo=null,this._onMetaDataArrived=null,this._onScriptDataArrived=null,this._onTrackMetadata=null,this._onDataAvailable=null}static probe(e){let t=new Uint8Array(e),i={match:!1};if(70!==t[0]||76!==t[1]||86!==t[2]||1!==t[3])return i;let s=(4&t[4])>>>2!=0,r=0!=(1&t[4]),n=(a=t)[o=5]<<24|a[o+1]<<16|a[o+2]<<8|a[o+3];var a,o;return n<9?i:{match:!0,consumed:n,dataOffset:n,hasAudioTrack:s,hasVideoTrack:r}}bindDataSource(e){return e.onDataArrival=this.parseChunks.bind(this),this}get onTrackMetadata(){return this._onTrackMetadata}set onTrackMetadata(e){this._onTrackMetadata=e}get onMediaInfo(){return this._onMediaInfo}set onMediaInfo(e){this._onMediaInfo=e}get onMetaDataArrived(){return this._onMetaDataArrived}set onMetaDataArrived(e){this._onMetaDataArrived=e}get onScriptDataArrived(){return this._onScriptDataArrived}set onScriptDataArrived(e){this._onScriptDataArrived=e}get onError(){return this._onError}set onError(e){this._onError=e}get onDataAvailable(){return this._onDataAvailable}set onDataAvailable(e){this._onDataAvailable=e}get timestampBase(){return this._timestampBase}set timestampBase(e){this._timestampBase=e}get overridedDuration(){return this._duration}set overridedDuration(e){this._durationOverrided=!0,this._duration=e,this._mediaInfo.duration=e}set overridedHasAudio(e){this._hasAudioFlagOverrided=!0,this._hasAudio=e,this._mediaInfo.hasAudio=e}set overridedHasVideo(e){this._hasVideoFlagOverrided=!0,this._hasVideo=e,this._mediaInfo.hasVideo=e}resetMediaInfo(){this._mediaInfo=new M}_isInitialMetadataDispatched(){return this._hasAudio&&this._hasVideo?this._audioInitialMetadataDispatched&&this._videoInitialMetadataDispatched:this._hasAudio&&!this._hasVideo?this._audioInitialMetadataDispatched:!(this._hasAudio||!this._hasVideo)&&this._videoInitialMetadataDispatched}parseChunks(e,t){if(!(this._onError&&this._onMediaInfo&&this._onTrackMetadata&&this._onDataAvailable))throw new _("Flv: onError & onMediaInfo & onTrackMetadata & onDataAvailable callback must be specified");let i=0,s=this._littleEndian;if(0===t){if(!(e.byteLength>13))return 0;i=j.probe(e).dataOffset}if(this._firstParse){this._firstParse=!1,t+i!==this._dataOffset&&h.w(this.TAG,"First time parsing but chunk byteStart invalid!"),0!==new DataView(e,i).getUint32(0,!s)&&h.w(this.TAG,"PrevTagSize0 !== 0 !!!"),i+=4}for(;i<e.byteLength;){this._dispatch=!0;let r=new DataView(e,i);if(i+11+4>e.byteLength)break;let n=r.getUint8(0),a=16777215&r.getUint32(0,!s);if(i+11+a+4>e.byteLength)break;if(8!==n&&9!==n&&18!==n){h.w(this.TAG,`Unsupported tag type ${n}, skipped`),i+=11+a+4;continue}let o=r.getUint8(4),l=r.getUint8(5),d=r.getUint8(6)|l<<8|o<<16|r.getUint8(7)<<24;0!==(16777215&r.getUint32(7,!s))&&h.w(this.TAG,"Meet tag which has StreamID != 0!");let _=i+11;switch(n){case 8:this._parseAudioData(e,_,a,d);break;case 9:this._parseVideoData(e,_,a,d,t+i);break;case 18:this._parseScriptData(e,_,a)}let u=r.getUint32(11+a,!s);u!==11+a&&h.w(this.TAG,"Invalid PrevTagSize "+u),i+=11+a+4}return this._isInitialMetadataDispatched()&&this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack),i}_parseScriptData(e,t,i){let s=P.parseScriptData(e,t,i);if(s.hasOwnProperty("onMetaData")){if(null==s.onMetaData||"object"!=typeof s.onMetaData)return void h.w(this.TAG,"Invalid onMetaData structure!");this._metadata&&h.w(this.TAG,"Found another onMetaData tag!"),this._metadata=s;let e=this._metadata.onMetaData;if(this._onMetaDataArrived&&this._onMetaDataArrived(Object.assign({},e)),"boolean"==typeof e.hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=e.hasAudio,this._mediaInfo.hasAudio=this._hasAudio),"boolean"==typeof e.hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=e.hasVideo,this._mediaInfo.hasVideo=this._hasVideo),"number"==typeof e.audiodatarate&&(this._mediaInfo.audioDataRate=e.audiodatarate),"number"==typeof e.videodatarate&&(this._mediaInfo.videoDataRate=e.videodatarate),"number"==typeof e.width&&(this._mediaInfo.width=e.width),"number"==typeof e.height&&(this._mediaInfo.height=e.height),"number"==typeof e.duration){if(!this._durationOverrided){let t=Math.floor(e.duration*this._timescale);this._duration=t,this._mediaInfo.duration=t}}else this._mediaInfo.duration=0;if("number"==typeof e.framerate){let t=Math.floor(1e3*e.framerate);if(t>0){let e=t/1e3;this._referenceFrameRate.fixed=!0,this._referenceFrameRate.fps=e,this._referenceFrameRate.fps_num=t,this._referenceFrameRate.fps_den=1e3,this._mediaInfo.fps=e}}if("object"==typeof e.keyframes){this._mediaInfo.hasKeyframesIndex=!0;let t=e.keyframes;this._mediaInfo.keyframesIndex=this._parseKeyframesIndex(t),e.keyframes=null}else this._mediaInfo.hasKeyframesIndex=!1;this._dispatch=!1,this._mediaInfo.metadata=e,h.v(this.TAG,"Parsed onMetaData"),this._mediaInfo.isComplete()&&this._onMediaInfo(this._mediaInfo)}Object.keys(s).length>0&&this._onScriptDataArrived&&this._onScriptDataArrived(Object.assign({},s))}_parseKeyframesIndex(e){let t=[],i=[];for(let s=1;s<e.times.length;s++){let r=this._timestampBase+Math.floor(1e3*e.times[s]);t.push(r),i.push(e.filepositions[s])}return{times:t,filepositions:i}}_parseAudioData(e,t,i,s){if(i<=1)return void h.w(this.TAG,"Flv: Invalid audio packet, missing SoundData payload!");if(!0===this._hasAudioFlagOverrided&&!1===this._hasAudio)return;this._littleEndian;let r=new DataView(e,t,i).getUint8(0),n=r>>>4;if(2!==n&&10!==n)return void this._onError(z.CODEC_UNSUPPORTED,"Flv: Unsupported audio codec idx: "+n);let a=0,o=(12&r)>>>2;if(!(o>=0&&o<=4))return void this._onError(z.FORMAT_ERROR,"Flv: Invalid audio sample rate idx: "+o);a=this._flvSoundRateTable[o];let l=1&r,d=this._audioMetadata,_=this._audioTrack;if(d||(!1===this._hasAudio&&!1===this._hasAudioFlagOverrided&&(this._hasAudio=!0,this._mediaInfo.hasAudio=!0),d=this._audioMetadata={},d.type="audio",d.id=_.id,d.timescale=this._timescale,d.duration=this._duration,d.audioSampleRate=a,d.channelCount=0===l?1:2),10===n){let r=this._parseAACAudioData(e,t+1,i-1);if(null==r)return;if(0===r.packetType){d.config&&h.w(this.TAG,"Found another AudioSpecificConfig!");let e=r.data;d.audioSampleRate=e.samplingRate,d.channelCount=e.channelCount,d.codec=e.codec,d.originalCodec=e.originalCodec,d.config=e.config,d.refSampleDuration=1024/d.audioSampleRate*d.timescale,h.v(this.TAG,"Parsed AudioSpecificConfig"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._audioInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("audio",d);let t=this._mediaInfo;t.audioCodec=d.originalCodec,t.audioSampleRate=d.audioSampleRate,t.audioChannelCount=d.channelCount,t.hasVideo?null!=t.videoCodec&&(t.mimeType='video/x-flv; codecs="'+t.videoCodec+","+t.audioCodec+'"'):t.mimeType='video/x-flv; codecs="'+t.audioCodec+'"',t.isComplete()&&this._onMediaInfo(t)}else if(1===r.packetType){let e=this._timestampBase+s,t={unit:r.data,length:r.data.byteLength,dts:e,pts:e};_.samples.push(t),_.length+=r.data.length}else h.e(this.TAG,"Flv: Unsupported AAC data type "+r.packetType)}else if(2===n){if(!d.codec){let s=this._parseMP3AudioData(e,t+1,i-1,!0);if(null==s)return;d.audioSampleRate=s.samplingRate,d.channelCount=s.channelCount,d.codec=s.codec,d.originalCodec=s.originalCodec,d.refSampleDuration=1152/d.audioSampleRate*d.timescale,h.v(this.TAG,"Parsed MPEG Audio Frame Header"),this._audioInitialMetadataDispatched=!0,this._onTrackMetadata("audio",d);let r=this._mediaInfo;r.audioCodec=d.codec,r.audioSampleRate=d.audioSampleRate,r.audioChannelCount=d.channelCount,r.audioDataRate=s.bitRate,r.hasVideo?null!=r.videoCodec&&(r.mimeType='video/x-flv; codecs="'+r.videoCodec+","+r.audioCodec+'"'):r.mimeType='video/x-flv; codecs="'+r.audioCodec+'"',r.isComplete()&&this._onMediaInfo(r)}let r=this._parseMP3AudioData(e,t+1,i-1,!1);if(null==r)return;let n=this._timestampBase+s,a={unit:r,length:r.byteLength,dts:n,pts:n};_.samples.push(a),_.length+=r.length}}_parseAACAudioData(e,t,i){if(i<=1)return void h.w(this.TAG,"Flv: Invalid AAC packet, missing AACPacketType or/and Data!");let s={},r=new Uint8Array(e,t,i);return s.packetType=r[0],0===r[0]?s.data=this._parseAACAudioSpecificConfig(e,t+1,i-1):s.data=r.subarray(1),s}_parseAACAudioSpecificConfig(e,t,i){let s=new Uint8Array(e,t,i),r=null,n=0,a=0,o=null,h=0,l=null;if(n=a=s[0]>>>3,h=(7&s[0])<<1|s[1]>>>7,h<0||h>=this._mpegSamplingRates.length)return void this._onError(z.FORMAT_ERROR,"Flv: AAC invalid sampling frequency index!");let d=this._mpegSamplingRates[h],_=(120&s[1])>>>3;if(_<0||_>=8)return void this._onError(z.FORMAT_ERROR,"Flv: AAC invalid channel configuration");5===n&&(l=(7&s[1])<<1|s[2]>>>7,o=(124&s[2])>>>2);let u=self.navigator.userAgent.toLowerCase();return-1!==u.indexOf("firefox")?h>=6?(n=5,r=new Array(4),l=h-3):(n=2,r=new Array(2),l=h):-1!==u.indexOf("android")?(n=2,r=new Array(2),l=h):(n=5,l=h,r=new Array(4),h>=6?l=h-3:1===_&&(n=2,r=new Array(2),l=h)),r[0]=n<<3,r[0]|=(15&h)>>>1,r[1]=(15&h)<<7,r[1]|=(15&_)<<3,5===n&&(r[1]|=(15&l)>>>1,r[2]=(1&l)<<7,r[2]|=8,r[3]=0),{config:r,samplingRate:d,channelCount:_,codec:"mp4a.40."+n,originalCodec:"mp4a.40."+a}}_parseMP3AudioData(e,t,i,s){if(i<4)return void h.w(this.TAG,"Flv: Invalid MP3 packet, header missing!");this._littleEndian;let r=new Uint8Array(e,t,i),n=null;if(s){if(255!==r[0])return;let e=r[1]>>>3&3,t=(6&r[1])>>1,i=(240&r[2])>>>4,s=(12&r[2])>>>2,a=3!==(r[3]>>>6&3)?2:1,o=0,h=0,l=34,d="mp3";switch(e){case 0:o=this._mpegAudioV25SampleRateTable[s];break;case 2:o=this._mpegAudioV20SampleRateTable[s];break;case 3:o=this._mpegAudioV10SampleRateTable[s]}switch(t){case 1:l=34,i<this._mpegAudioL3BitRateTable.length&&(h=this._mpegAudioL3BitRateTable[i]);break;case 2:l=33,i<this._mpegAudioL2BitRateTable.length&&(h=this._mpegAudioL2BitRateTable[i]);break;case 3:l=32,i<this._mpegAudioL1BitRateTable.length&&(h=this._mpegAudioL1BitRateTable[i])}n={bitRate:h,samplingRate:o,channelCount:a,codec:d,originalCodec:d}}else n=r;return n}_parseVideoData(e,t,i,s,r){if(i<=1)return void h.w(this.TAG,"Flv: Invalid video packet, missing VideoData payload!");if(!0===this._hasVideoFlagOverrided&&!1===this._hasVideo)return;let n=new Uint8Array(e,t,i)[0],a=(240&n)>>>4,o=15&n;7===o?this._parseAVCVideoPacket(e,t+1,i-1,s,r,a):this._onError(z.CODEC_UNSUPPORTED,"Flv: Unsupported codec in video frame: "+o)}_parseAVCVideoPacket(e,t,i,s,r,n){if(i<4)return void h.w(this.TAG,"Flv: Invalid AVC packet, missing AVCPacketType or/and CompositionTime");let a=this._littleEndian,o=new DataView(e,t,i),l=o.getUint8(0),d=(16777215&o.getUint32(0,!a))<<8>>8;if(0===l)this._parseAVCDecoderConfigurationRecord(e,t+4,i-4);else if(1===l)this._parseAVCVideoData(e,t+4,i-4,s,r,n,d);else if(2!==l)return void this._onError(z.FORMAT_ERROR,"Flv: Invalid video packet type "+l)}_parseAVCDecoderConfigurationRecord(e,t,i){if(i<7)return void h.w(this.TAG,"Flv: Invalid AVCDecoderConfigurationRecord, lack of data!");let s=this._videoMetadata,r=this._videoTrack,n=this._littleEndian,a=new DataView(e,t,i);s?void 0!==s.avcc&&h.w(this.TAG,"Found another AVCDecoderConfigurationRecord!"):(!1===this._hasVideo&&!1===this._hasVideoFlagOverrided&&(this._hasVideo=!0,this._mediaInfo.hasVideo=!0),s=this._videoMetadata={},s.type="video",s.id=r.id,s.timescale=this._timescale,s.duration=this._duration);let o=a.getUint8(0),l=a.getUint8(1);a.getUint8(2),a.getUint8(3);if(1!==o||0===l)return void this._onError(z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord");if(this._naluLengthSize=1+(3&a.getUint8(4)),3!==this._naluLengthSize&&4!==this._naluLengthSize)return void this._onError(z.FORMAT_ERROR,"Flv: Strange NaluLengthSizeMinusOne: "+(this._naluLengthSize-1));let d=31&a.getUint8(5);if(0===d)return void this._onError(z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No SPS");d>1&&h.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: SPS Count = "+d);let _=6;for(let i=0;i<d;i++){let r=a.getUint16(_,!n);if(_+=2,0===r)continue;let o=new Uint8Array(e,t+_,r);_+=r;let h=V.parseSPS(o);if(0!==i)continue;s.codecWidth=h.codec_size.width,s.codecHeight=h.codec_size.height,s.presentWidth=h.present_size.width,s.presentHeight=h.present_size.height,s.profile=h.profile_string,s.level=h.level_string,s.bitDepth=h.bit_depth,s.chromaFormat=h.chroma_format,s.sarRatio=h.sar_ratio,s.frameRate=h.frame_rate,!1!==h.frame_rate.fixed&&0!==h.frame_rate.fps_num&&0!==h.frame_rate.fps_den||(s.frameRate=this._referenceFrameRate);let l=s.frameRate.fps_den,d=s.frameRate.fps_num;s.refSampleDuration=s.timescale*(l/d);let u=o.subarray(1,4),c="avc1.";for(let e=0;e<3;e++){let t=u[e].toString(16);t.length<2&&(t="0"+t),c+=t}s.codec=c;let m=this._mediaInfo;m.width=s.codecWidth,m.height=s.codecHeight,m.fps=s.frameRate.fps,m.profile=s.profile,m.level=s.level,m.refFrames=h.ref_frames,m.chromaFormat=h.chroma_format_string,m.sarNum=s.sarRatio.width,m.sarDen=s.sarRatio.height,m.videoCodec=c,m.hasAudio?null!=m.audioCodec&&(m.mimeType='video/x-flv; codecs="'+m.videoCodec+","+m.audioCodec+'"'):m.mimeType='video/x-flv; codecs="'+m.videoCodec+'"',m.isComplete()&&this._onMediaInfo(m)}let u=a.getUint8(_);if(0!==u){u>1&&h.w(this.TAG,"Flv: Strange AVCDecoderConfigurationRecord: PPS Count = "+u),_++;for(let e=0;e<u;e++){let e=a.getUint16(_,!n);_+=2,0!==e&&(_+=e)}s.avcc=new Uint8Array(i),s.avcc.set(new Uint8Array(e,t,i),0),h.v(this.TAG,"Parsed AVCDecoderConfigurationRecord"),this._isInitialMetadataDispatched()?this._dispatch&&(this._audioTrack.length||this._videoTrack.length)&&this._onDataAvailable(this._audioTrack,this._videoTrack):this._videoInitialMetadataDispatched=!0,this._dispatch=!1,this._onTrackMetadata("video",s)}else this._onError(z.FORMAT_ERROR,"Flv: Invalid AVCDecoderConfigurationRecord: No PPS")}_parseAVCVideoData(e,t,i,s,r,n,a){let o=this._littleEndian,l=new DataView(e,t,i),d=[],_=0,u=0;const c=this._naluLengthSize;let m=this._timestampBase+s,f=1===n;for(;u<i;){if(u+4>=i){h.w(this.TAG,`Malformed Nalu near timestamp ${m}, offset = ${u}, dataSize = ${i}`);break}let s=l.getUint32(u,!o);if(3===c&&(s>>>=8),s>i-c)return void h.w(this.TAG,`Malformed Nalus near timestamp ${m}, NaluSize > DataSize!`);let r=31&l.getUint8(u+c);5===r&&(f=!0);let n=new Uint8Array(e,t+u,c+s),a={type:r,data:n};d.push(a),_+=n.byteLength,u+=c+s}if(d.length){let e=this._videoTrack,t={units:d,length:_,isKeyframe:f,dts:m,cts:a,pts:m+a};f&&(t.fileposition=r),e.samples.push(t),e.length+=_}}}var K=j;class H{static init(){H.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[],".mp3":[]};for(let e in H.types)H.types.hasOwnProperty(e)&&(H.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);let e=H.constants={};e.FTYP=new Uint8Array([105,115,111,109,0,0,0,1,105,115,111,109,97,118,99,49]),e.STSD_PREFIX=new Uint8Array([0,0,0,0,0,0,0,1]),e.STTS=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSC=e.STCO=e.STTS,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.HDLR_VIDEO=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),e.HDLR_AUDIO=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),e.DREF=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}static box(e){let t=8,i=null,s=Array.prototype.slice.call(arguments,1),r=s.length;for(let e=0;e<r;e++)t+=s[e].byteLength;i=new Uint8Array(t),i[0]=t>>>24&255,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=255&t,i.set(e,4);let n=8;for(let e=0;e<r;e++)i.set(s[e],n),n+=s[e].byteLength;return i}static generateInitSegment(e){let t=H.box(H.types.ftyp,H.constants.FTYP),i=H.moov(e),s=new Uint8Array(t.byteLength+i.byteLength);return s.set(t,0),s.set(i,t.byteLength),s}static moov(e){let t=H.mvhd(e.timescale,e.duration),i=H.trak(e),s=H.mvex(e);return H.box(H.types.moov,t,i,s)}static mvhd(e,t){return H.box(H.types.mvhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))}static trak(e){return H.box(H.types.trak,H.tkhd(e),H.mdia(e))}static tkhd(e){let t=e.id,i=e.duration,s=e.presentWidth,r=e.presentHeight;return H.box(H.types.tkhd,new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>>8&255,255&s,0,0,r>>>8&255,255&r,0,0]))}static mdia(e){return H.box(H.types.mdia,H.mdhd(e),H.hdlr(e),H.minf(e))}static mdhd(e){let t=e.timescale,i=e.duration;return H.box(H.types.mdhd,new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,i>>>24&255,i>>>16&255,i>>>8&255,255&i,85,196,0,0]))}static hdlr(e){let t=null;return t="audio"===e.type?H.constants.HDLR_AUDIO:H.constants.HDLR_VIDEO,H.box(H.types.hdlr,t)}static minf(e){let t=null;return t="audio"===e.type?H.box(H.types.smhd,H.constants.SMHD):H.box(H.types.vmhd,H.constants.VMHD),H.box(H.types.minf,t,H.dinf(),H.stbl(e))}static dinf(){return H.box(H.types.dinf,H.box(H.types.dref,H.constants.DREF))}static stbl(e){return H.box(H.types.stbl,H.stsd(e),H.box(H.types.stts,H.constants.STTS),H.box(H.types.stsc,H.constants.STSC),H.box(H.types.stsz,H.constants.STSZ),H.box(H.types.stco,H.constants.STCO))}static stsd(e){return"audio"===e.type?"mp3"===e.codec?H.box(H.types.stsd,H.constants.STSD_PREFIX,H.mp3(e)):H.box(H.types.stsd,H.constants.STSD_PREFIX,H.mp4a(e)):H.box(H.types.stsd,H.constants.STSD_PREFIX,H.avc1(e))}static mp3(e){let t=e.channelCount,i=e.audioSampleRate,s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return H.box(H.types[".mp3"],s)}static mp4a(e){let t=e.channelCount,i=e.audioSampleRate,s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t,0,16,0,0,0,0,i>>>8&255,255&i,0,0]);return H.box(H.types.mp4a,s,H.esds(e))}static esds(e){let t=e.config||[],i=t.length,s=new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(t).concat([6,1,2]));return H.box(H.types.esds,s)}static avc1(e){let t=e.avcc,i=e.codecWidth,s=e.codecHeight,r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,i>>>8&255,255&i,s>>>8&255,255&s,0,72,0,0,0,72,0,0,0,0,0,0,0,1,10,120,113,113,47,102,108,118,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,255,255]);return H.box(H.types.avc1,r,H.box(H.types.avcC,t))}static mvex(e){return H.box(H.types.mvex,H.trex(e))}static trex(e){let t=e.id,i=new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return H.box(H.types.trex,i)}static moof(e,t){return H.box(H.types.moof,H.mfhd(e.sequenceNumber),H.traf(e,t))}static mfhd(e){let t=new Uint8Array([0,0,0,0,e>>>24&255,e>>>16&255,e>>>8&255,255&e]);return H.box(H.types.mfhd,t)}static traf(e,t){let i=e.id,s=H.box(H.types.tfhd,new Uint8Array([0,0,0,0,i>>>24&255,i>>>16&255,i>>>8&255,255&i])),r=H.box(H.types.tfdt,new Uint8Array([0,0,0,0,t>>>24&255,t>>>16&255,t>>>8&255,255&t])),n=H.sdtp(e),a=H.trun(e,n.byteLength+16+16+8+16+8+8);return H.box(H.types.traf,s,r,a,n)}static sdtp(e){let t=e.samples||[],i=t.length,s=new Uint8Array(4+i);for(let e=0;e<i;e++){let i=t[e].flags;s[e+4]=i.isLeading<<6|i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy}return H.box(H.types.sdtp,s)}static trun(e,t){let i=e.samples||[],s=i.length,r=12+16*s,n=new Uint8Array(r);t+=8+r,n.set([0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,255&s,t>>>24&255,t>>>16&255,t>>>8&255,255&t],0);for(let e=0;e<s;e++){let t=i[e].duration,s=i[e].size,r=i[e].flags,a=i[e].cts;n.set([t>>>24&255,t>>>16&255,t>>>8&255,255&t,s>>>24&255,s>>>16&255,s>>>8&255,255&s,r.isLeading<<2|r.dependsOn,r.isDependedOn<<6|r.hasRedundancy<<4|r.isNonSync,0,0,a>>>24&255,a>>>16&255,a>>>8&255,255&a],12+16*e)}return H.box(H.types.trun,n)}static mdat(e){return H.box(H.types.mdat,e)}}H.init();var q=H;var W=class{static getSilentFrame(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}};class ${constructor(e,t,i,s,r){this.dts=e,this.pts=t,this.duration=i,this.originalDts=s,this.isSyncPoint=r,this.fileposition=null}}class X{constructor(){this.beginDts=0,this.endDts=0,this.beginPts=0,this.endPts=0,this.originalBeginDts=0,this.originalEndDts=0,this.syncPoints=[],this.firstSample=null,this.lastSample=null}appendSyncPoint(e){e.isSyncPoint=!0,this.syncPoints.push(e)}}class Y{constructor(){this._list=[]}clear(){this._list=[]}appendArray(e){let t=this._list;0!==e.length&&(t.length>0&&e[0].originalDts<t[t.length-1].originalDts&&this.clear(),Array.prototype.push.apply(t,e))}getLastSyncPointBeforeDts(e){if(0==this._list.length)return null;let t=this._list,i=0,s=t.length-1,r=0,n=0,a=s;for(e<t[0].dts&&(i=0,n=a+1);n<=a;){if(r=n+Math.floor((a-n)/2),r===s||e>=t[r].dts&&e<t[r+1].dts){i=r;break}t[r].dts<e?n=r+1:a=r-1}return this._list[i]}}class Z{constructor(e){this._type=e,this._list=[],this._lastAppendLocation=-1}get type(){return this._type}get length(){return this._list.length}isEmpty(){return 0===this._list.length}clear(){this._list=[],this._lastAppendLocation=-1}_searchNearestSegmentBefore(e){let t=this._list;if(0===t.length)return-2;let i=t.length-1,s=0,r=0,n=i,a=0;if(e<t[0].originalBeginDts)return a=-1,a;for(;r<=n;){if(s=r+Math.floor((n-r)/2),s===i||e>t[s].lastSample.originalDts&&e<t[s+1].originalBeginDts){a=s;break}t[s].originalBeginDts<e?r=s+1:n=s-1}return a}_searchNearestSegmentAfter(e){return this._searchNearestSegmentBefore(e)+1}append(e){let t=this._list,i=e,s=this._lastAppendLocation,r=0;-1!==s&&s<t.length&&i.originalBeginDts>=t[s].lastSample.originalDts&&(s===t.length-1||s<t.length-1&&i.originalBeginDts<t[s+1].originalBeginDts)?r=s+1:t.length>0&&(r=this._searchNearestSegmentBefore(i.originalBeginDts)+1),this._lastAppendLocation=r,this._list.splice(r,0,i)}getLastSegmentBefore(e){let t=this._searchNearestSegmentBefore(e);return t>=0?this._list[t]:null}getLastSampleBefore(e){let t=this.getLastSegmentBefore(e);return null!=t?t.lastSample:null}getLastSyncPointBefore(e){let t=this._searchNearestSegmentBefore(e),i=this._list[t].syncPoints;for(;0===i.length&&t>0;)t--,i=this._list[t].syncPoints;return i.length>0?i[i.length-1]:null}}var Q=class{constructor(e){this.TAG="MP4Remuxer",this._config=e,this._isLive=!0===e.isLive,this._dtsBase=-1,this._dtsBaseInited=!1,this._audioDtsBase=1/0,this._videoDtsBase=1/0,this._audioNextDts=void 0,this._videoNextDts=void 0,this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList=new Z("audio"),this._videoSegmentInfoList=new Z("video"),this._onInitSegment=null,this._onMediaSegment=null,this._forceFirstIDR=!(!E.chrome||!(E.version.major<50||50===E.version.major&&E.version.build<2661)),this._fillSilentAfterSeek=E.msedge||E.msie,this._mp3UseMpegAudio=!E.firefox,this._fillAudioTimestampGap=this._config.fixAudioTimestampGap}destroy(){this._dtsBase=-1,this._dtsBaseInited=!1,this._audioMeta=null,this._videoMeta=null,this._audioSegmentInfoList.clear(),this._audioSegmentInfoList=null,this._videoSegmentInfoList.clear(),this._videoSegmentInfoList=null,this._onInitSegment=null,this._onMediaSegment=null}bindDataSource(e){return e.onDataAvailable=this.remux.bind(this),e.onTrackMetadata=this._onTrackMetadataReceived.bind(this),this}get onInitSegment(){return this._onInitSegment}set onInitSegment(e){this._onInitSegment=e}get onMediaSegment(){return this._onMediaSegment}set onMediaSegment(e){this._onMediaSegment=e}insertDiscontinuity(){this._audioNextDts=this._videoNextDts=void 0}seek(e){this._audioStashedLastSample=null,this._videoStashedLastSample=null,this._videoSegmentInfoList.clear(),this._audioSegmentInfoList.clear()}remux(e,t){if(!this._onMediaSegment)throw new _("MP4Remuxer: onMediaSegment callback must be specificed!");this._dtsBaseInited||this._calculateDtsBase(e,t),this._remuxVideo(t),this._remuxAudio(e)}_onTrackMetadataReceived(e,t){let i=null,s="mp4",r=t.codec;if("audio"===e)this._audioMeta=t,"mp3"===t.codec&&this._mp3UseMpegAudio?(s="mpeg",r="",i=new Uint8Array):i=q.generateInitSegment(t);else{if("video"!==e)return;this._videoMeta=t,i=q.generateInitSegment(t)}if(!this._onInitSegment)throw new _("MP4Remuxer: onInitSegment callback must be specified!");this._onInitSegment(e,{type:e,data:i.buffer,codec:r,container:`${e}/${s}`,mediaDuration:t.duration})}_calculateDtsBase(e,t){this._dtsBaseInited||(e.samples&&e.samples.length&&(this._audioDtsBase=e.samples[0].dts),t.samples&&t.samples.length&&(this._videoDtsBase=t.samples[0].dts),this._dtsBase=Math.min(this._audioDtsBase,this._videoDtsBase),this._dtsBaseInited=!0)}flushStashedSamples(){let e=this._videoStashedLastSample,t=this._audioStashedLastSample,i={type:"video",id:1,sequenceNumber:0,samples:[],length:0};null!=e&&(i.samples.push(e),i.length=e.length);let s={type:"audio",id:2,sequenceNumber:0,samples:[],length:0};null!=t&&(s.samples.push(t),s.length=t.length),this._videoStashedLastSample=null,this._audioStashedLastSample=null,this._remuxVideo(i,!0),this._remuxAudio(s,!0)}_remuxAudio(e,t){if(null==this._audioMeta)return;let i=e,s=i.samples,r=void 0,n=-1,a=-1,o=this._audioMeta.refSampleDuration,l="mp3"===this._audioMeta.codec&&this._mp3UseMpegAudio,d=this._dtsBaseInited&&void 0===this._audioNextDts,_=!1;if(!s||0===s.length)return;if(1===s.length&&!t)return;let u=0,c=null,m=0;l?(u=0,m=i.length):(u=8,m=8+i.length);let f=null;if(s.length>1&&(f=s.pop(),m-=f.length),null!=this._audioStashedLastSample){let e=this._audioStashedLastSample;this._audioStashedLastSample=null,s.unshift(e),m+=e.length}null!=f&&(this._audioStashedLastSample=f);let p=s[0].dts-this._dtsBase;if(this._audioNextDts)r=p-this._audioNextDts;else if(this._audioSegmentInfoList.isEmpty())r=0,this._fillSilentAfterSeek&&!this._videoSegmentInfoList.isEmpty()&&"mp3"!==this._audioMeta.originalCodec&&(_=!0);else{let e=this._audioSegmentInfoList.getLastSampleBefore(p);if(null!=e){let t=p-(e.originalDts+e.duration);t<=3&&(t=0),r=p-(e.dts+e.duration+t)}else r=0}if(_){let e=p-r,t=this._videoSegmentInfoList.getLastSegmentBefore(p);if(null!=t&&t.beginDts<e){let i=W.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);if(i){let r=t.beginDts,n=e-t.beginDts;h.v(this.TAG,`InsertPrefixSilentAudio: dts: ${r}, duration: ${n}`),s.unshift({unit:i,dts:r,pts:r}),m+=i.byteLength}}else _=!1}let g=[];for(let e=0;e<s.length;e++){let t=s[e],i=t.unit,a=t.dts-this._dtsBase,l=a-r;-1===n&&(n=l);let d=0;if(e!==s.length-1){d=s[e+1].dts-this._dtsBase-r-l}else if(null!=f){d=f.dts-this._dtsBase-r-l}else d=g.length>=1?g[g.length-1].duration:Math.floor(o);let _=!1,u=null;if(d>1.5*o&&"mp3"!==this._audioMeta.codec&&this._fillAudioTimestampGap&&!E.safari){_=!0;let e=Math.abs(d-o),t=Math.ceil(e/o),s=l+o;h.w(this.TAG,`Large audio timestamp gap detected, may cause AV sync to drift. Silent frames will be generated to avoid unsync.\ndts: ${l+d} ms, expected: ${l+Math.round(o)} ms, delta: ${Math.round(e)} ms, generate: ${t} frames`);let r=W.getSilentFrame(this._audioMeta.originalCodec,this._audioMeta.channelCount);null==r&&(h.w(this.TAG,`Unable to generate silent frame for ${this._audioMeta.originalCodec} with ${this._audioMeta.channelCount} channels, repeat last frame`),r=i),u=[];for(let e=0;e<t;e++){let e=Math.round(s);if(u.length>0){let t=u[u.length-1];t.duration=e-t.dts}let t={dts:e,pts:e,cts:0,unit:r,size:r.byteLength,duration:0,originalDts:a,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}};u.push(t),m+=t.size,s+=o}let n=u[u.length-1];n.duration=l+d-n.dts,d=Math.round(o)}g.push({dts:l,pts:l,cts:0,unit:t.unit,size:t.unit.byteLength,duration:d,originalDts:a,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0}}),_&&g.push.apply(g,u)}l?c=new Uint8Array(m):(c=new Uint8Array(m),c[0]=m>>>24&255,c[1]=m>>>16&255,c[2]=m>>>8&255,c[3]=255&m,c.set(q.types.mdat,4));for(let e=0;e<g.length;e++){let t=g[e].unit;c.set(t,u),u+=t.byteLength}let S=g[g.length-1];a=S.dts+S.duration,this._audioNextDts=a;let v=new X;v.beginDts=n,v.endDts=a,v.beginPts=n,v.endPts=a,v.originalBeginDts=g[0].originalDts,v.originalEndDts=S.originalDts+S.duration,v.firstSample=new $(g[0].dts,g[0].pts,g[0].duration,g[0].originalDts,!1),v.lastSample=new $(S.dts,S.pts,S.duration,S.originalDts,!1),this._isLive||this._audioSegmentInfoList.append(v),i.samples=g,i.sequenceNumber++;let y=null;y=l?new Uint8Array:q.moof(i,n),i.samples=[],i.length=0;let A={type:"audio",data:this._mergeBoxes(y,c).buffer,sampleCount:g.length,info:v};l&&d&&(A.timestampOffset=n),this._onMediaSegment("audio",A)}_remuxVideo(e,t){if(null==this._videoMeta)return;let i=e,s=i.samples,r=void 0,n=-1,a=-1,o=-1,h=-1;if(!s||0===s.length)return;if(1===s.length&&!t)return;let l=8,d=null,_=8+e.length,u=null;if(s.length>1&&(u=s.pop(),_-=u.length),null!=this._videoStashedLastSample){let e=this._videoStashedLastSample;this._videoStashedLastSample=null,s.unshift(e),_+=e.length}null!=u&&(this._videoStashedLastSample=u);let c=s[0].dts-this._dtsBase;if(this._videoNextDts)r=c-this._videoNextDts;else if(this._videoSegmentInfoList.isEmpty())r=0;else{let e=this._videoSegmentInfoList.getLastSampleBefore(c);if(null!=e){let t=c-(e.originalDts+e.duration);t<=3&&(t=0),r=c-(e.dts+e.duration+t)}else r=0}let m=new X,f=[];for(let e=0;e<s.length;e++){let t=s[e],i=t.dts-this._dtsBase,a=t.isKeyframe,h=i-r,l=t.cts,d=h+l;-1===n&&(n=h,o=d);let _=0;if(e!==s.length-1){_=s[e+1].dts-this._dtsBase-r-h}else if(null!=u){_=u.dts-this._dtsBase-r-h}else _=f.length>=1?f[f.length-1].duration:Math.floor(this._videoMeta.refSampleDuration);if(a){let e=new $(h,d,_,t.dts,!0);e.fileposition=t.fileposition,m.appendSyncPoint(e)}f.push({dts:h,pts:d,cts:l,units:t.units,size:t.length,isKeyframe:a,duration:_,originalDts:i,flags:{isLeading:0,dependsOn:a?2:1,isDependedOn:a?1:0,hasRedundancy:0,isNonSync:a?0:1}})}d=new Uint8Array(_),d[0]=_>>>24&255,d[1]=_>>>16&255,d[2]=_>>>8&255,d[3]=255&_,d.set(q.types.mdat,4);for(let e=0;e<f.length;e++){let t=f[e].units;for(;t.length;){let e=t.shift().data;d.set(e,l),l+=e.byteLength}}let p=f[f.length-1];if(a=p.dts+p.duration,h=p.pts+p.duration,this._videoNextDts=a,m.beginDts=n,m.endDts=a,m.beginPts=o,m.endPts=h,m.originalBeginDts=f[0].originalDts,m.originalEndDts=p.originalDts+p.duration,m.firstSample=new $(f[0].dts,f[0].pts,f[0].duration,f[0].originalDts,f[0].isKeyframe),m.lastSample=new $(p.dts,p.pts,p.duration,p.originalDts,p.isKeyframe),this._isLive||this._videoSegmentInfoList.append(m),i.samples=f,i.sequenceNumber++,this._forceFirstIDR){let e=f[0].flags;e.dependsOn=2,e.isNonSync=0}let g=q.moof(i,n);i.samples=[],i.length=0,this._onMediaSegment("video",{type:"video",data:this._mergeBoxes(g,d).buffer,sampleCount:f.length,info:m})}_mergeBoxes(e,t){let i=new Uint8Array(e.byteLength+t.byteLength);return i.set(e,0),i.set(t,e.byteLength),i}};var J={IO_ERROR:"io_error",DEMUX_ERROR:"demux_error",INIT_SEGMENT:"init_segment",MEDIA_SEGMENT:"media_segment",LOADING_COMPLETE:"loading_complete",RECOVERED_EARLY_EOF:"recovered_early_eof",MEDIA_INFO:"media_info",METADATA_ARRIVED:"metadata_arrived",SCRIPTDATA_ARRIVED:"scriptdata_arrived",STATISTICS_INFO:"statistics_info",RECOMMEND_SEEKPOINT:"recommend_seekpoint"};var ee=class{constructor(e,t){this.TAG="TransmuxingController",this._emitter=new a.a,this._config=t,e.segments||(e.segments=[{duration:e.duration,filesize:e.filesize,url:e.url}]),"boolean"!=typeof e.cors&&(e.cors=!0),"boolean"!=typeof e.withCredentials&&(e.withCredentials=!1),this._mediaDataSource=e,this._currentSegmentIndex=0;let i=0;this._mediaDataSource.segments.forEach(s=>{s.timestampBase=i,i+=s.duration,s.cors=e.cors,s.withCredentials=e.withCredentials,t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy)}),isNaN(i)||this._mediaDataSource.duration===i||(this._mediaDataSource.duration=i),this._mediaInfo=null,this._demuxer=null,this._remuxer=null,this._ioctl=null,this._pendingSeekTime=null,this._pendingResolveSeekPoint=null,this._statisticsReporter=null}destroy(){this._mediaInfo=null,this._mediaDataSource=null,this._statisticsReporter&&this._disableStatisticsReporter(),this._ioctl&&(this._ioctl.destroy(),this._ioctl=null),this._demuxer&&(this._demuxer.destroy(),this._demuxer=null),this._remuxer&&(this._remuxer.destroy(),this._remuxer=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}start(){this._loadSegment(0),this._enableStatisticsReporter()}_loadSegment(e,t){this._currentSegmentIndex=e;let i=this._mediaDataSource.segments[e],s=this._ioctl=new L(i,this._config,e);s.onError=this._onIOException.bind(this),s.onSeeked=this._onIOSeeked.bind(this),s.onComplete=this._onIOComplete.bind(this),s.onRedirect=this._onIORedirect.bind(this),s.onRecoveredEarlyEof=this._onIORecoveredEarlyEof.bind(this),t?this._demuxer.bindDataSource(this._ioctl):s.onDataArrival=this._onInitChunkArrival.bind(this),s.open(t)}stop(){this._internalAbort(),this._disableStatisticsReporter()}_internalAbort(){this._ioctl&&(this._ioctl.destroy(),this._ioctl=null)}pause(){this._ioctl&&this._ioctl.isWorking()&&(this._ioctl.pause(),this._disableStatisticsReporter())}resume(){this._ioctl&&this._ioctl.isPaused()&&(this._ioctl.resume(),this._enableStatisticsReporter())}seek(e){if(null==this._mediaInfo||!this._mediaInfo.isSeekable())return;let t=this._searchSegmentIndexContains(e);if(t===this._currentSegmentIndex){let i=this._mediaInfo.segments[t];if(null==i)this._pendingSeekTime=e;else{let t=i.getNearestKeyframe(e);this._remuxer.seek(t.milliseconds),this._ioctl.seek(t.fileposition),this._pendingResolveSeekPoint=t.milliseconds}}else{let i=this._mediaInfo.segments[t];if(null==i)this._pendingSeekTime=e,this._internalAbort(),this._remuxer.seek(),this._remuxer.insertDiscontinuity(),this._loadSegment(t);else{let s=i.getNearestKeyframe(e);this._internalAbort(),this._remuxer.seek(e),this._remuxer.insertDiscontinuity(),this._demuxer.resetMediaInfo(),this._demuxer.timestampBase=this._mediaDataSource.segments[t].timestampBase,this._loadSegment(t,s.fileposition),this._pendingResolveSeekPoint=s.milliseconds,this._reportSegmentMediaInfo(t)}}this._enableStatisticsReporter()}_searchSegmentIndexContains(e){let t=this._mediaDataSource.segments,i=t.length-1;for(let s=0;s<t.length;s++)if(e<t[s].timestampBase){i=s-1;break}return i}_onInitChunkArrival(e,t){let i=null,s=0;if(t>0)this._demuxer.bindDataSource(this._ioctl),this._demuxer.timestampBase=this._mediaDataSource.segments[this._currentSegmentIndex].timestampBase,s=this._demuxer.parseChunks(e,t);else if((i=K.probe(e)).match){this._demuxer=new K(i,this._config),this._remuxer||(this._remuxer=new Q(this._config));let r=this._mediaDataSource;null==r.duration||isNaN(r.duration)||(this._demuxer.overridedDuration=r.duration),"boolean"==typeof r.hasAudio&&(this._demuxer.overridedHasAudio=r.hasAudio),"boolean"==typeof r.hasVideo&&(this._demuxer.overridedHasVideo=r.hasVideo),this._demuxer.timestampBase=r.segments[this._currentSegmentIndex].timestampBase,this._demuxer.onError=this._onDemuxException.bind(this),this._demuxer.onMediaInfo=this._onMediaInfo.bind(this),this._demuxer.onMetaDataArrived=this._onMetaDataArrived.bind(this),this._demuxer.onScriptDataArrived=this._onScriptDataArrived.bind(this),this._remuxer.bindDataSource(this._demuxer.bindDataSource(this._ioctl)),this._remuxer.onInitSegment=this._onRemuxerInitSegmentArrival.bind(this),this._remuxer.onMediaSegment=this._onRemuxerMediaSegmentArrival.bind(this),s=this._demuxer.parseChunks(e,t)}else i=null,h.e(this.TAG,"Non-FLV, Unsupported media type!"),Promise.resolve().then(()=>{this._internalAbort()}),this._emitter.emit(J.DEMUX_ERROR,z.FORMAT_UNSUPPORTED,"Non-FLV, Unsupported media type"),s=0;return s}_onMediaInfo(e){null==this._mediaInfo&&(this._mediaInfo=Object.assign({},e),this._mediaInfo.keyframesIndex=null,this._mediaInfo.segments=[],this._mediaInfo.segmentCount=this._mediaDataSource.segments.length,Object.setPrototypeOf(this._mediaInfo,M.prototype));let t=Object.assign({},e);Object.setPrototypeOf(t,M.prototype),this._mediaInfo.segments[this._currentSegmentIndex]=t,this._reportSegmentMediaInfo(this._currentSegmentIndex),null!=this._pendingSeekTime&&Promise.resolve().then(()=>{let e=this._pendingSeekTime;this._pendingSeekTime=null,this.seek(e)})}_onMetaDataArrived(e){this._emitter.emit(J.METADATA_ARRIVED,e)}_onScriptDataArrived(e){this._emitter.emit(J.SCRIPTDATA_ARRIVED,e)}_onIOSeeked(){this._remuxer.insertDiscontinuity()}_onIOComplete(e){let t=e+1;t<this._mediaDataSource.segments.length?(this._internalAbort(),this._remuxer.flushStashedSamples(),this._loadSegment(t)):(this._remuxer.flushStashedSamples(),this._emitter.emit(J.LOADING_COMPLETE),this._disableStatisticsReporter())}_onIORedirect(e){let t=this._ioctl.extraData;this._mediaDataSource.segments[t].redirectedURL=e}_onIORecoveredEarlyEof(){this._emitter.emit(J.RECOVERED_EARLY_EOF)}_onIOException(e,t){h.e(this.TAG,`IOException: type = ${e}, code = ${t.code}, msg = ${t.msg}`),this._emitter.emit(J.IO_ERROR,e,t),this._disableStatisticsReporter()}_onDemuxException(e,t){h.e(this.TAG,`DemuxException: type = ${e}, info = ${t}`),this._emitter.emit(J.DEMUX_ERROR,e,t)}_onRemuxerInitSegmentArrival(e,t){this._emitter.emit(J.INIT_SEGMENT,e,t)}_onRemuxerMediaSegmentArrival(e,t){if(null==this._pendingSeekTime&&(this._emitter.emit(J.MEDIA_SEGMENT,e,t),null!=this._pendingResolveSeekPoint&&"video"===e)){let e=t.info.syncPoints,i=this._pendingResolveSeekPoint;this._pendingResolveSeekPoint=null,E.safari&&e.length>0&&e[0].originalDts===i&&(i=e[0].pts),this._emitter.emit(J.RECOMMEND_SEEKPOINT,i)}}_enableStatisticsReporter(){null==this._statisticsReporter&&(this._statisticsReporter=self.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval))}_disableStatisticsReporter(){this._statisticsReporter&&(self.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}_reportSegmentMediaInfo(e){let t=this._mediaInfo.segments[e],i=Object.assign({},t);i.duration=this._mediaInfo.duration,i.segmentCount=this._mediaInfo.segmentCount,delete i.segments,delete i.keyframesIndex,this._emitter.emit(J.MEDIA_INFO,i)}_reportStatisticsInfo(){let e={};e.url=this._ioctl.currentURL,e.hasRedirect=this._ioctl.hasRedirect,e.hasRedirect&&(e.redirectedURL=this._ioctl.currentRedirectedURL),e.speed=this._ioctl.currentSpeed,e.loaderType=this._ioctl.loaderType,e.currentSegmentIndex=this._currentSegmentIndex,e.totalSegmentCount=this._mediaDataSource.segments.length,this._emitter.emit(J.STATISTICS_INFO,e)}};var te=function(e){let t=null,i=function(t,i){e.postMessage({msg:"logcat_callback",data:{type:t,logcat:i}})}.bind(this);function s(t,i){let s={msg:J.INIT_SEGMENT,data:{type:t,data:i}};e.postMessage(s,[i.data])}function n(t,i){let s={msg:J.MEDIA_SEGMENT,data:{type:t,data:i}};e.postMessage(s,[i.data])}function a(){let t={msg:J.LOADING_COMPLETE};e.postMessage(t)}function o(){let t={msg:J.RECOVERED_EARLY_EOF};e.postMessage(t)}function h(t){let i={msg:J.MEDIA_INFO,data:t};e.postMessage(i)}function l(t){let i={msg:J.METADATA_ARRIVED,data:t};e.postMessage(i)}function d(t){let i={msg:J.SCRIPTDATA_ARRIVED,data:t};e.postMessage(i)}function _(t){let i={msg:J.STATISTICS_INFO,data:t};e.postMessage(i)}function u(t,i){e.postMessage({msg:J.IO_ERROR,data:{type:t,info:i}})}function c(t,i){e.postMessage({msg:J.DEMUX_ERROR,data:{type:t,info:i}})}function m(t){e.postMessage({msg:J.RECOMMEND_SEEKPOINT,data:t})}r.install(),e.addEventListener("message",(function(r){switch(r.data.cmd){case"init":t=new ee(r.data.param[0],r.data.param[1]),t.on(J.IO_ERROR,u.bind(this)),t.on(J.DEMUX_ERROR,c.bind(this)),t.on(J.INIT_SEGMENT,s.bind(this)),t.on(J.MEDIA_SEGMENT,n.bind(this)),t.on(J.LOADING_COMPLETE,a.bind(this)),t.on(J.RECOVERED_EARLY_EOF,o.bind(this)),t.on(J.MEDIA_INFO,h.bind(this)),t.on(J.METADATA_ARRIVED,l.bind(this)),t.on(J.SCRIPTDATA_ARRIVED,d.bind(this)),t.on(J.STATISTICS_INFO,_.bind(this)),t.on(J.RECOMMEND_SEEKPOINT,m.bind(this));break;case"destroy":t&&(t.destroy(),t=null),e.postMessage({msg:"destroyed"});break;case"start":t.start();break;case"stop":t.stop();break;case"seek":t.seek(r.data.param);break;case"pause":t.pause();break;case"resume":t.resume();break;case"logging_config":{let e=r.data.param;O.applyConfig(e),!0===e.enableCallback?O.addLogListener(i):O.removeLogListener(i);break}}}))};var ie=class{constructor(e,t){if(this.TAG="Transmuxer",this._emitter=new a.a,t.enableWorker&&"undefined"!=typeof Worker)try{let s=i(2061);this._worker=s(te),this._workerDestroying=!1,this._worker.addEventListener("message",this._onWorkerMessage.bind(this)),this._worker.postMessage({cmd:"init",param:[e,t]}),this.e={onLoggingConfigChanged:this._onLoggingConfigChanged.bind(this)},O.registerListener(this.e.onLoggingConfigChanged),this._worker.postMessage({cmd:"logging_config",param:O.getConfig()})}catch(i){h.e(this.TAG,"Error while initialize transmuxing worker, fallback to inline transmuxing"),this._worker=null,this._controller=new ee(e,t)}else this._controller=new ee(e,t);if(this._controller){let e=this._controller;e.on(J.IO_ERROR,this._onIOError.bind(this)),e.on(J.DEMUX_ERROR,this._onDemuxError.bind(this)),e.on(J.INIT_SEGMENT,this._onInitSegment.bind(this)),e.on(J.MEDIA_SEGMENT,this._onMediaSegment.bind(this)),e.on(J.LOADING_COMPLETE,this._onLoadingComplete.bind(this)),e.on(J.RECOVERED_EARLY_EOF,this._onRecoveredEarlyEof.bind(this)),e.on(J.MEDIA_INFO,this._onMediaInfo.bind(this)),e.on(J.METADATA_ARRIVED,this._onMetaDataArrived.bind(this)),e.on(J.SCRIPTDATA_ARRIVED,this._onScriptDataArrived.bind(this)),e.on(J.STATISTICS_INFO,this._onStatisticsInfo.bind(this)),e.on(J.RECOMMEND_SEEKPOINT,this._onRecommendSeekpoint.bind(this))}}destroy(){this._worker?this._workerDestroying||(this._workerDestroying=!0,this._worker.postMessage({cmd:"destroy"}),O.removeListener(this.e.onLoggingConfigChanged),this.e=null):(this._controller.destroy(),this._controller=null),this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}hasWorker(){return null!=this._worker}open(){this._worker?this._worker.postMessage({cmd:"start"}):this._controller.start()}close(){this._worker?this._worker.postMessage({cmd:"stop"}):this._controller.stop()}seek(e){this._worker?this._worker.postMessage({cmd:"seek",param:e}):this._controller.seek(e)}pause(){this._worker?this._worker.postMessage({cmd:"pause"}):this._controller.pause()}resume(){this._worker?this._worker.postMessage({cmd:"resume"}):this._controller.resume()}_onInitSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(J.INIT_SEGMENT,e,t)})}_onMediaSegment(e,t){Promise.resolve().then(()=>{this._emitter.emit(J.MEDIA_SEGMENT,e,t)})}_onLoadingComplete(){Promise.resolve().then(()=>{this._emitter.emit(J.LOADING_COMPLETE)})}_onRecoveredEarlyEof(){Promise.resolve().then(()=>{this._emitter.emit(J.RECOVERED_EARLY_EOF)})}_onMediaInfo(e){Promise.resolve().then(()=>{this._emitter.emit(J.MEDIA_INFO,e)})}_onMetaDataArrived(e){Promise.resolve().then(()=>{this._emitter.emit(J.METADATA_ARRIVED,e)})}_onScriptDataArrived(e){Promise.resolve().then(()=>{this._emitter.emit(J.SCRIPTDATA_ARRIVED,e)})}_onStatisticsInfo(e){Promise.resolve().then(()=>{this._emitter.emit(J.STATISTICS_INFO,e)})}_onIOError(e,t){Promise.resolve().then(()=>{this._emitter.emit(J.IO_ERROR,e,t)})}_onDemuxError(e,t){Promise.resolve().then(()=>{this._emitter.emit(J.DEMUX_ERROR,e,t)})}_onRecommendSeekpoint(e){Promise.resolve().then(()=>{this._emitter.emit(J.RECOMMEND_SEEKPOINT,e)})}_onLoggingConfigChanged(e){this._worker&&this._worker.postMessage({cmd:"logging_config",param:e})}_onWorkerMessage(e){let t=e.data,i=t.data;if("destroyed"===t.msg||this._workerDestroying)return this._workerDestroying=!1,this._worker.terminate(),void(this._worker=null);switch(t.msg){case J.INIT_SEGMENT:case J.MEDIA_SEGMENT:this._emitter.emit(t.msg,i.type,i.data);break;case J.LOADING_COMPLETE:case J.RECOVERED_EARLY_EOF:this._emitter.emit(t.msg);break;case J.MEDIA_INFO:Object.setPrototypeOf(i,M.prototype),this._emitter.emit(t.msg,i);break;case J.METADATA_ARRIVED:case J.SCRIPTDATA_ARRIVED:case J.STATISTICS_INFO:this._emitter.emit(t.msg,i);break;case J.IO_ERROR:case J.DEMUX_ERROR:this._emitter.emit(t.msg,i.type,i.info);break;case J.RECOMMEND_SEEKPOINT:this._emitter.emit(t.msg,i);break;case"logcat_callback":h.emitter.emit("log",i.type,i.logcat)}}};var se={ERROR:"error",SOURCE_OPEN:"source_open",UPDATE_END:"update_end",BUFFER_FULL:"buffer_full"};var re=class{constructor(e){this.TAG="MSEController",this._config=e,this._emitter=new a.a,this._config.isLive&&null==this._config.autoCleanupSourceBuffer&&(this._config.autoCleanupSourceBuffer=!0),this.e={onSourceOpen:this._onSourceOpen.bind(this),onSourceEnded:this._onSourceEnded.bind(this),onSourceClose:this._onSourceClose.bind(this),onSourceBufferError:this._onSourceBufferError.bind(this),onSourceBufferUpdateEnd:this._onSourceBufferUpdateEnd.bind(this)},this._mediaSource=null,this._mediaSourceObjectURL=null,this._mediaElement=null,this._isBufferFull=!1,this._hasPendingEos=!1,this._requireSetMediaDuration=!1,this._pendingMediaDuration=0,this._pendingSourceBufferInit=[],this._mimeTypes={video:null,audio:null},this._sourceBuffers={video:null,audio:null},this._lastInitSegments={video:null,audio:null},this._pendingSegments={video:[],audio:[]},this._pendingRemoveRanges={video:[],audio:[]},this._idrList=new Y}destroy(){(this._mediaElement||this._mediaSource)&&this.detachMediaElement(),this.e=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaSource)throw new _("MediaSource has been attached to an HTMLMediaElement!");let t=this._mediaSource=new window.MediaSource;t.addEventListener("sourceopen",this.e.onSourceOpen),t.addEventListener("sourceended",this.e.onSourceEnded),t.addEventListener("sourceclose",this.e.onSourceClose),this._mediaElement=e,this._mediaSourceObjectURL=window.URL.createObjectURL(this._mediaSource),e.src=this._mediaSourceObjectURL}detachMediaElement(){if(this._mediaSource){let e=this._mediaSource;for(let t in this._sourceBuffers){let i=this._pendingSegments[t];i.splice(0,i.length),this._pendingSegments[t]=null,this._pendingRemoveRanges[t]=null,this._lastInitSegments[t]=null;let s=this._sourceBuffers[t];if(s){if("closed"!==e.readyState){try{e.removeSourceBuffer(s)}catch(e){h.e(this.TAG,e.message)}s.removeEventListener("error",this.e.onSourceBufferError),s.removeEventListener("updateend",this.e.onSourceBufferUpdateEnd)}this._mimeTypes[t]=null,this._sourceBuffers[t]=null}}if("open"===e.readyState)try{e.endOfStream()}catch(e){h.e(this.TAG,e.message)}e.removeEventListener("sourceopen",this.e.onSourceOpen),e.removeEventListener("sourceended",this.e.onSourceEnded),e.removeEventListener("sourceclose",this.e.onSourceClose),this._pendingSourceBufferInit=[],this._isBufferFull=!1,this._idrList.clear(),this._mediaSource=null}this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement=null),this._mediaSourceObjectURL&&(window.URL.revokeObjectURL(this._mediaSourceObjectURL),this._mediaSourceObjectURL=null)}appendInitSegment(e,t){if(!this._mediaSource||"open"!==this._mediaSource.readyState)return this._pendingSourceBufferInit.push(e),void this._pendingSegments[e.type].push(e);let i=e,s=""+i.container;i.codec&&i.codec.length>0&&(s+=";codecs="+i.codec);let r=!1;if(h.v(this.TAG,"Received Initialization Segment, mimeType: "+s),this._lastInitSegments[i.type]=i,s!==this._mimeTypes[i.type]){if(this._mimeTypes[i.type])h.v(this.TAG,`Notice: ${i.type} mimeType changed, origin: ${this._mimeTypes[i.type]}, target: ${s}`);else{r=!0;try{let e=this._sourceBuffers[i.type]=this._mediaSource.addSourceBuffer(s);e.addEventListener("error",this.e.onSourceBufferError),e.addEventListener("updateend",this.e.onSourceBufferUpdateEnd)}catch(e){return h.e(this.TAG,e.message),void this._emitter.emit(se.ERROR,{code:e.code,msg:e.message})}}this._mimeTypes[i.type]=s}t||this._pendingSegments[i.type].push(i),r||this._sourceBuffers[i.type]&&!this._sourceBuffers[i.type].updating&&this._doAppendSegments(),E.safari&&"audio/mpeg"===i.container&&i.mediaDuration>0&&(this._requireSetMediaDuration=!0,this._pendingMediaDuration=i.mediaDuration/1e3,this._updateMediaSourceDuration())}appendMediaSegment(e){let t=e;this._pendingSegments[t.type].push(t),this._config.autoCleanupSourceBuffer&&this._needCleanupSourceBuffer()&&this._doCleanupSourceBuffer();let i=this._sourceBuffers[t.type];!i||i.updating||this._hasPendingRemoveRanges()||this._doAppendSegments()}seek(e){for(let e in this._sourceBuffers){if(!this._sourceBuffers[e])continue;let t=this._sourceBuffers[e];if("open"===this._mediaSource.readyState)try{t.abort()}catch(e){h.e(this.TAG,e.message)}this._idrList.clear();let i=this._pendingSegments[e];if(i.splice(0,i.length),"closed"!==this._mediaSource.readyState){for(let i=0;i<t.buffered.length;i++){let s=t.buffered.start(i),r=t.buffered.end(i);this._pendingRemoveRanges[e].push({start:s,end:r})}if(t.updating||this._doRemoveRanges(),E.safari){let i=this._lastInitSegments[e];i&&(this._pendingSegments[e].push(i),t.updating||this._doAppendSegments())}}}}endOfStream(){let e=this._mediaSource,t=this._sourceBuffers;e&&"open"===e.readyState?t.video&&t.video.updating||t.audio&&t.audio.updating?this._hasPendingEos=!0:(this._hasPendingEos=!1,e.endOfStream()):e&&"closed"===e.readyState&&this._hasPendingSegments()&&(this._hasPendingEos=!0)}getNearestKeyframe(e){return this._idrList.getLastSyncPointBeforeDts(e)}_needCleanupSourceBuffer(){if(!this._config.autoCleanupSourceBuffer)return!1;let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let i=this._sourceBuffers[t];if(i){let t=i.buffered;if(t.length>=1&&e-t.start(0)>=this._config.autoCleanupMaxBackwardDuration)return!0}}return!1}_doCleanupSourceBuffer(){let e=this._mediaElement.currentTime;for(let t in this._sourceBuffers){let i=this._sourceBuffers[t];if(i){let s=i.buffered,r=!1;for(let i=0;i<s.length;i++){let n=s.start(i),a=s.end(i);if(n<=e&&e<a+3){if(e-n>=this._config.autoCleanupMaxBackwardDuration){r=!0;let i=e-this._config.autoCleanupMinBackwardDuration;this._pendingRemoveRanges[t].push({start:n,end:i})}}else a<e&&(r=!0,this._pendingRemoveRanges[t].push({start:n,end:a}))}r&&!i.updating&&this._doRemoveRanges()}}}_updateMediaSourceDuration(){let e=this._sourceBuffers;if(0===this._mediaElement.readyState||"open"!==this._mediaSource.readyState)return;if(e.video&&e.video.updating||e.audio&&e.audio.updating)return;let t=this._mediaSource.duration,i=this._pendingMediaDuration;i>0&&(isNaN(t)||i>t)&&(h.v(this.TAG,`Update MediaSource duration from ${t} to ${i}`),this._mediaSource.duration=i),this._requireSetMediaDuration=!1,this._pendingMediaDuration=0}_doRemoveRanges(){for(let e in this._pendingRemoveRanges){if(!this._sourceBuffers[e]||this._sourceBuffers[e].updating)continue;let t=this._sourceBuffers[e],i=this._pendingRemoveRanges[e];for(;i.length&&!t.updating;){let e=i.shift();t.remove(e.start,e.end)}}}_doAppendSegments(){let e=this._pendingSegments;for(let t in e)if(this._sourceBuffers[t]&&!this._sourceBuffers[t].updating&&e[t].length>0){let i=e[t].shift();if(i.timestampOffset){let e=this._sourceBuffers[t].timestampOffset,s=i.timestampOffset/1e3;Math.abs(e-s)>.1&&(h.v(this.TAG,`Update MPEG audio timestampOffset from ${e} to ${s}`),this._sourceBuffers[t].timestampOffset=s),delete i.timestampOffset}if(!i.data||0===i.data.byteLength)continue;try{this._sourceBuffers[t].appendBuffer(i.data),this._isBufferFull=!1,"video"===t&&i.hasOwnProperty("info")&&this._idrList.appendArray(i.info.syncPoints)}catch(e){this._pendingSegments[t].unshift(i),22===e.code?(this._isBufferFull||this._emitter.emit(se.BUFFER_FULL),this._isBufferFull=!0):(h.e(this.TAG,e.message),this._emitter.emit(se.ERROR,{code:e.code,msg:e.message}))}}}_onSourceOpen(){if(h.v(this.TAG,"MediaSource onSourceOpen"),this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._pendingSourceBufferInit.length>0){let e=this._pendingSourceBufferInit;for(;e.length;){let t=e.shift();this.appendInitSegment(t,!0)}}this._hasPendingSegments()&&this._doAppendSegments(),this._emitter.emit(se.SOURCE_OPEN)}_onSourceEnded(){h.v(this.TAG,"MediaSource onSourceEnded")}_onSourceClose(){h.v(this.TAG,"MediaSource onSourceClose"),this._mediaSource&&null!=this.e&&(this._mediaSource.removeEventListener("sourceopen",this.e.onSourceOpen),this._mediaSource.removeEventListener("sourceended",this.e.onSourceEnded),this._mediaSource.removeEventListener("sourceclose",this.e.onSourceClose))}_hasPendingSegments(){let e=this._pendingSegments;return e.video.length>0||e.audio.length>0}_hasPendingRemoveRanges(){let e=this._pendingRemoveRanges;return e.video.length>0||e.audio.length>0}_onSourceBufferUpdateEnd(){this._requireSetMediaDuration?this._updateMediaSourceDuration():this._hasPendingRemoveRanges()?this._doRemoveRanges():this._hasPendingSegments()?this._doAppendSegments():this._hasPendingEos&&this.endOfStream(),this._emitter.emit(se.UPDATE_END)}_onSourceBufferError(e){h.e(this.TAG,"SourceBuffer Error: "+e)}};const ne={NETWORK_ERROR:"NetworkError",MEDIA_ERROR:"MediaError",OTHER_ERROR:"OtherError"},ae={NETWORK_EXCEPTION:f.EXCEPTION,NETWORK_STATUS_CODE_INVALID:f.HTTP_STATUS_CODE_INVALID,NETWORK_TIMEOUT:f.CONNECTING_TIMEOUT,NETWORK_UNRECOVERABLE_EARLY_EOF:f.UNRECOVERABLE_EARLY_EOF,MEDIA_MSE_ERROR:"MediaMSEError",MEDIA_FORMAT_ERROR:z.FORMAT_ERROR,MEDIA_FORMAT_UNSUPPORTED:z.FORMAT_UNSUPPORTED,MEDIA_CODEC_UNSUPPORTED:z.CODEC_UNSUPPORTED};var oe=class{constructor(e,t){if(this.TAG="FlvPlayer",this._type="FlvPlayer",this._emitter=new a.a,this._config=T(),"object"==typeof t&&Object.assign(this._config,t),"flv"!==e.type.toLowerCase())throw new u("FlvPlayer requires an flv MediaDataSource input!");!0===e.isLive&&(this._config.isLive=!0),this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this),onvSeeking:this._onvSeeking.bind(this),onvCanPlay:this._onvCanPlay.bind(this),onvStalled:this._onvStalled.bind(this),onvProgress:this._onvProgress.bind(this)},self.performance&&self.performance.now?this._now=self.performance.now.bind(self.performance):this._now=Date.now,this._pendingSeekTime=null,this._requestSetTime=!1,this._seekpointRecord=null,this._progressChecker=null,this._mediaDataSource=e,this._mediaElement=null,this._msectl=null,this._transmuxer=null,this._mseSourceOpened=!1,this._hasPendingLoad=!1,this._receivedCanPlay=!1,this._mediaInfo=null,this._statisticsInfo=null;let i=E.chrome&&(E.version.major<50||50===E.version.major&&E.version.build<2661);this._alwaysSeekKeyframe=!!(i||E.msedge||E.msie),this._alwaysSeekKeyframe&&(this._config.accurateSeek=!1)}destroy(){null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._transmuxer&&this.unload(),this._mediaElement&&this.detachMediaElement(),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===D.MEDIA_INFO?null!=this._mediaInfo&&Promise.resolve().then(()=>{this._emitter.emit(D.MEDIA_INFO,this.mediaInfo)}):e===D.STATISTICS_INFO&&null!=this._statisticsInfo&&Promise.resolve().then(()=>{this._emitter.emit(D.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),e.addEventListener("seeking",this.e.onvSeeking),e.addEventListener("canplay",this.e.onvCanPlay),e.addEventListener("stalled",this.e.onvStalled),e.addEventListener("progress",this.e.onvProgress),this._msectl=new re(this._config),this._msectl.on(se.UPDATE_END,this._onmseUpdateEnd.bind(this)),this._msectl.on(se.BUFFER_FULL,this._onmseBufferFull.bind(this)),this._msectl.on(se.SOURCE_OPEN,()=>{this._mseSourceOpened=!0,this._hasPendingLoad&&(this._hasPendingLoad=!1,this.load())}),this._msectl.on(se.ERROR,e=>{this._emitter.emit(D.ERROR,ne.MEDIA_ERROR,ae.MEDIA_MSE_ERROR,e)}),this._msectl.attachMediaElement(e),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._msectl.detachMediaElement(),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement.removeEventListener("seeking",this.e.onvSeeking),this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay),this._mediaElement.removeEventListener("stalled",this.e.onvStalled),this._mediaElement.removeEventListener("progress",this.e.onvProgress),this._mediaElement=null),this._msectl&&(this._msectl.destroy(),this._msectl=null)}load(){if(!this._mediaElement)throw new _("HTMLMediaElement must be attached before load()!");if(this._transmuxer)throw new _("FlvPlayer.load() has been called, please call unload() first!");this._hasPendingLoad||(this._config.deferLoadAfterSourceOpen&&!1===this._mseSourceOpened?this._hasPendingLoad=!0:(this._mediaElement.readyState>0&&(this._requestSetTime=!0,this._mediaElement.currentTime=0),this._transmuxer=new ie(this._mediaDataSource,this._config),this._transmuxer.on(J.INIT_SEGMENT,(e,t)=>{this._msectl.appendInitSegment(t)}),this._transmuxer.on(J.MEDIA_SEGMENT,(e,t)=>{if(this._msectl.appendMediaSegment(t),this._config.lazyLoad&&!this._config.isLive){let e=this._mediaElement.currentTime;t.info.endDts>=1e3*(e+this._config.lazyLoadMaxDuration)&&null==this._progressChecker&&(h.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}}),this._transmuxer.on(J.LOADING_COMPLETE,()=>{this._msectl.endOfStream(),this._emitter.emit(D.LOADING_COMPLETE)}),this._transmuxer.on(J.RECOVERED_EARLY_EOF,()=>{this._emitter.emit(D.RECOVERED_EARLY_EOF)}),this._transmuxer.on(J.IO_ERROR,(e,t)=>{this._emitter.emit(D.ERROR,ne.NETWORK_ERROR,e,t)}),this._transmuxer.on(J.DEMUX_ERROR,(e,t)=>{this._emitter.emit(D.ERROR,ne.MEDIA_ERROR,e,{code:-1,msg:t})}),this._transmuxer.on(J.MEDIA_INFO,e=>{this._mediaInfo=e,this._emitter.emit(D.MEDIA_INFO,Object.assign({},e))}),this._transmuxer.on(J.METADATA_ARRIVED,e=>{this._emitter.emit(D.METADATA_ARRIVED,e)}),this._transmuxer.on(J.SCRIPTDATA_ARRIVED,e=>{this._emitter.emit(D.SCRIPTDATA_ARRIVED,e)}),this._transmuxer.on(J.STATISTICS_INFO,e=>{this._statisticsInfo=this._fillStatisticsInfo(e),this._emitter.emit(D.STATISTICS_INFO,Object.assign({},this._statisticsInfo))}),this._transmuxer.on(J.RECOMMEND_SEEKPOINT,e=>{this._mediaElement&&!this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e/1e3)}),this._transmuxer.open()))}unload(){this._mediaElement&&this._mediaElement.pause(),this._msectl&&this._msectl.seek(0),this._transmuxer&&(this._transmuxer.close(),this._transmuxer.destroy(),this._transmuxer=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._internalSeek(e):this._pendingSeekTime=e}get mediaInfo(){return Object.assign({},this._mediaInfo)}get statisticsInfo(){return null==this._statisticsInfo&&(this._statisticsInfo={}),this._statisticsInfo=this._fillStatisticsInfo(this._statisticsInfo),Object.assign({},this._statisticsInfo)}_fillStatisticsInfo(e){if(e.playerType=this._type,!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,i=0,s=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();i=e.totalVideoFrames,s=e.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,s=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=s),e}_onmseUpdateEnd(){if(!this._config.lazyLoad||this._config.isLive)return;let e=this._mediaElement.buffered,t=this._mediaElement.currentTime,i=0,s=0;for(let r=0;r<e.length;r++){let n=e.start(r),a=e.end(r);if(n<=t&&t<a){i=n,s=a;break}}s>=t+this._config.lazyLoadMaxDuration&&null==this._progressChecker&&(h.v(this.TAG,"Maximum buffering duration exceeded, suspend transmuxing task"),this._suspendTransmuxer())}_onmseBufferFull(){h.v(this.TAG,"MSE SourceBuffer is full, suspend transmuxing task"),null==this._progressChecker&&this._suspendTransmuxer()}_suspendTransmuxer(){this._transmuxer&&(this._transmuxer.pause(),null==this._progressChecker&&(this._progressChecker=window.setInterval(this._checkProgressAndResume.bind(this),1e3)))}_checkProgressAndResume(){let e=this._mediaElement.currentTime,t=this._mediaElement.buffered,i=!1;for(let s=0;s<t.length;s++){let r=t.start(s),n=t.end(s);if(e>=r&&e<n){e>=n-this._config.lazyLoadRecoverDuration&&(i=!0);break}}i&&(window.clearInterval(this._progressChecker),this._progressChecker=null,i&&(h.v(this.TAG,"Continue loading from paused position"),this._transmuxer.resume()))}_isTimepointBuffered(e){let t=this._mediaElement.buffered;for(let i=0;i<t.length;i++){let s=t.start(i),r=t.end(i);if(e>=s&&e<r)return!0}return!1}_internalSeek(e){let t=this._isTimepointBuffered(e),i=!1,s=0;if(e<1&&this._mediaElement.buffered.length>0){let t=this._mediaElement.buffered.start(0);(t<1&&e<t||E.safari)&&(i=!0,s=E.safari?.1:t)}if(i)this._requestSetTime=!0,this._mediaElement.currentTime=s;else if(t){if(this._alwaysSeekKeyframe){let t=this._msectl.getNearestKeyframe(Math.floor(1e3*e));this._requestSetTime=!0,this._mediaElement.currentTime=null!=t?t.dts/1e3:e}else this._requestSetTime=!0,this._mediaElement.currentTime=e;null!=this._progressChecker&&this._checkProgressAndResume()}else null!=this._progressChecker&&(window.clearInterval(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e)}_checkAndApplyUnbufferedSeekpoint(){if(this._seekpointRecord)if(this._seekpointRecord.recordTime<=this._now()-100){let e=this._mediaElement.currentTime;this._seekpointRecord=null,this._isTimepointBuffered(e)||(null!=this._progressChecker&&(window.clearTimeout(this._progressChecker),this._progressChecker=null),this._msectl.seek(e),this._transmuxer.seek(Math.floor(1e3*e)),this._config.accurateSeek&&(this._requestSetTime=!0,this._mediaElement.currentTime=e))}else window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}_checkAndResumeStuckPlayback(e){let t=this._mediaElement;if(e||!this._receivedCanPlay||t.readyState<2){let e=t.buffered;e.length>0&&t.currentTime<e.start(0)&&(h.w(this.TAG,`Playback seems stuck at ${t.currentTime}, seek to ${e.start(0)}`),this._requestSetTime=!0,this._mediaElement.currentTime=e.start(0),this._mediaElement.removeEventListener("progress",this.e.onvProgress))}else this._mediaElement.removeEventListener("progress",this.e.onvProgress)}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null)}_onvSeeking(e){let t=this._mediaElement.currentTime,i=this._mediaElement.buffered;if(this._requestSetTime)this._requestSetTime=!1;else{if(t<1&&i.length>0){let e=i.start(0);if(e<1&&t<e||E.safari)return this._requestSetTime=!0,void(this._mediaElement.currentTime=E.safari?.1:e)}if(this._isTimepointBuffered(t)){if(this._alwaysSeekKeyframe){let e=this._msectl.getNearestKeyframe(Math.floor(1e3*t));null!=e&&(this._requestSetTime=!0,this._mediaElement.currentTime=e.dts/1e3)}null!=this._progressChecker&&this._checkProgressAndResume()}else this._seekpointRecord={seekPoint:t,recordTime:this._now()},window.setTimeout(this._checkAndApplyUnbufferedSeekpoint.bind(this),50)}}_onvCanPlay(e){this._receivedCanPlay=!0,this._mediaElement.removeEventListener("canplay",this.e.onvCanPlay)}_onvStalled(e){this._checkAndResumeStuckPlayback(!0)}_onvProgress(e){this._checkAndResumeStuckPlayback()}};var he=class{constructor(e,t){if(this.TAG="NativePlayer",this._type="NativePlayer",this._emitter=new a.a,this._config=T(),"object"==typeof t&&Object.assign(this._config,t),"flv"===e.type.toLowerCase())throw new u("NativePlayer does't support flv MediaDataSource input!");if(e.hasOwnProperty("segments"))throw new u(`NativePlayer(${e.type}) doesn't support multipart playback!`);this.e={onvLoadedMetadata:this._onvLoadedMetadata.bind(this)},this._pendingSeekTime=null,this._statisticsReporter=null,this._mediaDataSource=e,this._mediaElement=null}destroy(){this._mediaElement&&(this.unload(),this.detachMediaElement()),this.e=null,this._mediaDataSource=null,this._emitter.removeAllListeners(),this._emitter=null}on(e,t){e===D.MEDIA_INFO?null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(D.MEDIA_INFO,this.mediaInfo)}):e===D.STATISTICS_INFO&&null!=this._mediaElement&&0!==this._mediaElement.readyState&&Promise.resolve().then(()=>{this._emitter.emit(D.STATISTICS_INFO,this.statisticsInfo)}),this._emitter.addListener(e,t)}off(e,t){this._emitter.removeListener(e,t)}attachMediaElement(e){if(this._mediaElement=e,e.addEventListener("loadedmetadata",this.e.onvLoadedMetadata),null!=this._pendingSeekTime)try{e.currentTime=this._pendingSeekTime,this._pendingSeekTime=null}catch(e){}}detachMediaElement(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src"),this._mediaElement.removeEventListener("loadedmetadata",this.e.onvLoadedMetadata),this._mediaElement=null),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}load(){if(!this._mediaElement)throw new _("HTMLMediaElement must be attached before load()!");this._mediaElement.src=this._mediaDataSource.url,this._mediaElement.readyState>0&&(this._mediaElement.currentTime=0),this._mediaElement.preload="auto",this._mediaElement.load(),this._statisticsReporter=window.setInterval(this._reportStatisticsInfo.bind(this),this._config.statisticsInfoReportInterval)}unload(){this._mediaElement&&(this._mediaElement.src="",this._mediaElement.removeAttribute("src")),null!=this._statisticsReporter&&(window.clearInterval(this._statisticsReporter),this._statisticsReporter=null)}play(){return this._mediaElement.play()}pause(){this._mediaElement.pause()}get type(){return this._type}get buffered(){return this._mediaElement.buffered}get duration(){return this._mediaElement.duration}get volume(){return this._mediaElement.volume}set volume(e){this._mediaElement.volume=e}get muted(){return this._mediaElement.muted}set muted(e){this._mediaElement.muted=e}get currentTime(){return this._mediaElement?this._mediaElement.currentTime:0}set currentTime(e){this._mediaElement?this._mediaElement.currentTime=e:this._pendingSeekTime=e}get mediaInfo(){let e={mimeType:(this._mediaElement instanceof HTMLAudioElement?"audio/":"video/")+this._mediaDataSource.type};return this._mediaElement&&(e.duration=Math.floor(1e3*this._mediaElement.duration),this._mediaElement instanceof HTMLVideoElement&&(e.width=this._mediaElement.videoWidth,e.height=this._mediaElement.videoHeight)),e}get statisticsInfo(){let e={playerType:this._type,url:this._mediaDataSource.url};if(!(this._mediaElement instanceof HTMLVideoElement))return e;let t=!0,i=0,s=0;if(this._mediaElement.getVideoPlaybackQuality){let e=this._mediaElement.getVideoPlaybackQuality();i=e.totalVideoFrames,s=e.droppedVideoFrames}else null!=this._mediaElement.webkitDecodedFrameCount?(i=this._mediaElement.webkitDecodedFrameCount,s=this._mediaElement.webkitDroppedFrameCount):t=!1;return t&&(e.decodedFrames=i,e.droppedFrames=s),e}_onvLoadedMetadata(e){null!=this._pendingSeekTime&&(this._mediaElement.currentTime=this._pendingSeekTime,this._pendingSeekTime=null),this._emitter.emit(D.MEDIA_INFO,this.mediaInfo)}_reportStatisticsInfo(){this._emitter.emit(D.STATISTICS_INFO,this.statisticsInfo)}};r.install();let le={createPlayer:function(e,t){let i=e;if(null==i||"object"!=typeof i)throw new u("MediaDataSource must be an javascript object!");if(!i.hasOwnProperty("type"))throw new u("MediaDataSource must has type field to indicate video file type!");switch(i.type){case"flv":return new oe(i,t);default:return new he(i,t)}},isSupported:function(){return k.supportMSEH264Playback()},getFeatureList:function(){return k.getFeatureList()}};le.BaseLoader=p,le.LoaderStatus=m,le.LoaderErrors=f,le.Events=D,le.ErrorTypes=ne,le.ErrorDetails=ae,le.FlvPlayer=oe,le.NativePlayer=he,le.LoggingControl=O,Object.defineProperty(le,"version",{enumerable:!0,get:function(){return"__VERSION__"}});t.default=le},1371:function(e,t,i){"use strict";var s,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,i){return Function.prototype.apply.call(e,t,i)};s=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(i,s){function r(){void 0!==n&&e.removeListener("error",n),i([].slice.call(arguments))}var n;"error"!==t&&(n=function(i){e.removeListener(t,r),s(i)},e.once("error",n)),e.once(t,r)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var h=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function _(e,t,i,s){var r,n,a,o;if(l(i),void 0===(n=e._events)?(n=e._events=Object.create(null),e._eventsCount=0):(void 0!==n.newListener&&(e.emit("newListener",t,i.listener?i.listener:i),n=e._events),a=n[t]),void 0===a)a=n[t]=i,++e._eventsCount;else if("function"==typeof a?a=n[t]=s?[i,a]:[a,i]:s?a.unshift(i):a.push(i),(r=d(e))>0&&a.length>r&&!a.warned){a.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=a.length,o=h,console&&console.warn&&console.warn(o)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function c(e,t,i){var s={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},r=u.bind(s);return r.listener=i,s.wrapFn=r,r}function m(e,t,i){var s=e._events;if(void 0===s)return[];var r=s[t];return void 0===r?[]:"function"==typeof r?i?[r.listener||r]:[r]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(r):p(r,r.length)}function f(e){var t=this._events;if(void 0!==t){var i=t[e];if("function"==typeof i)return 1;if(void 0!==i)return i.length}return 0}function p(e,t){for(var i=new Array(t),s=0;s<t;++s)i[s]=e[s];return i}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");h=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return d(this)},o.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var s="error"===e,r=this._events;if(void 0!==r)s=s&&void 0===r.error;else if(!s)return!1;if(s){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var h=r[e];if(void 0===h)return!1;if("function"==typeof h)n(h,this,t);else{var l=h.length,d=p(h,l);for(i=0;i<l;++i)n(d[i],this,t)}return!0},o.prototype.addListener=function(e,t){return _(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return _(this,e,t,!0)},o.prototype.once=function(e,t){return l(t),this.on(e,c(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,c(this,e,t)),this},o.prototype.removeListener=function(e,t){var i,s,r,n,a;if(l(t),void 0===(s=this._events))return this;if(void 0===(i=s[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete s[e],s.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(r=-1,n=i.length-1;n>=0;n--)if(i[n]===t||i[n].listener===t){a=i[n].listener,r=n;break}if(r<0)return this;0===r?i.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(i,r),1===i.length&&(s[e]=i[0]),void 0!==s.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,i,s;if(void 0===(i=this._events))return this;if(void 0===i.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==i[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete i[e]),this;if(0===arguments.length){var r,n=Object.keys(i);for(s=0;s<n.length;++s)"removeListener"!==(r=n[s])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(void 0!==t)for(s=t.length-1;s>=0;s--)this.removeListener(e,t[s]);return this},o.prototype.listeners=function(e){return m(this,e,!0)},o.prototype.rawListeners=function(e){return m(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},2060:function(e,t,i){(function(t,i){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var s;s=function(){"use strict";function e(e){return"function"==typeof e}var s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},r=0,n=void 0,a=void 0,o=function(e,t){m[r]=e,m[r+1]=t,2===(r+=2)&&(a?a(f):v())},h="undefined"!=typeof window?window:void 0,l=h||{},d=l.MutationObserver||l.WebKitMutationObserver,_="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),u="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function c(){var e=setTimeout;return function(){return e(f,1)}}var m=new Array(1e3);function f(){for(var e=0;e<r;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;r=0}var p,g,E,S,v=void 0;function y(e,t){var i=this,s=new this.constructor(R);void 0===s[b]&&B(s);var r=i._state;if(r){var n=arguments[r-1];o((function(){return O(r,s,n,i._result)}))}else D(i,s,e,t);return s}function A(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(R);return w(t,e),t}_?v=function(){return t.nextTick(f)}:d?(g=0,E=new d(f),S=document.createTextNode(""),E.observe(S,{characterData:!0}),v=function(){S.data=g=++g%2}):u?((p=new MessageChannel).port1.onmessage=f,v=function(){return p.port2.postMessage(0)}):v=void 0===h?function(){try{var e=Function("return this")().require("vertx");return void 0!==(n=e.runOnLoop||e.runOnContext)?function(){n(f)}:c()}catch(e){return c()}}():c();var b=Math.random().toString(36).substring(2);function R(){}function L(t,i,s){i.constructor===t.constructor&&s===y&&i.constructor.resolve===A?function(e,t){1===t._state?C(e,t._result):2===t._state?k(e,t._result):D(t,void 0,(function(t){return w(e,t)}),(function(t){return k(e,t)}))}(t,i):void 0===s?C(t,i):e(s)?function(e,t,i){o((function(e){var s=!1,r=function(e,t,i,s){try{e.call(t,i,s)}catch(e){return e}}(i,t,(function(i){s||(s=!0,t!==i?w(e,i):C(e,i))}),(function(t){s||(s=!0,k(e,t))}),e._label);!s&&r&&(s=!0,k(e,r))}),e)}(t,i,s):C(t,i)}function w(e,t){if(e===t)k(e,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(s=t),null===s||"object"!==r&&"function"!==r)C(e,t);else{var i=void 0;try{i=t.then}catch(t){return void k(e,t)}L(e,t,i)}var s,r}function T(e){e._onerror&&e._onerror(e._result),I(e)}function C(e,t){void 0===e._state&&(e._result=t,e._state=1,0!==e._subscribers.length&&o(I,e))}function k(e,t){void 0===e._state&&(e._state=2,e._result=t,o(T,e))}function D(e,t,i,s){var r=e._subscribers,n=r.length;e._onerror=null,r[n]=t,r[n+1]=i,r[n+2]=s,0===n&&e._state&&o(I,e)}function I(e){var t=e._subscribers,i=e._state;if(0!==t.length){for(var s=void 0,r=void 0,n=e._result,a=0;a<t.length;a+=3)s=t[a],r=t[a+i],s?O(i,s,r,n):r(n);e._subscribers.length=0}}function O(t,i,s,r){var n=e(s),a=void 0,o=void 0,h=!0;if(n){try{a=s(r)}catch(e){h=!1,o=e}if(i===a)return void k(i,new TypeError("A promises callback cannot return that same promise."))}else a=r;void 0!==i._state||(n&&h?w(i,a):!1===h?k(i,o):1===t?C(i,a):2===t&&k(i,a))}var M=0;function B(e){e[b]=M++,e._state=void 0,e._result=void 0,e._subscribers=[]}var x=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(R),this.promise[b]||B(this.promise),s(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&C(this.promise,this._result))):k(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;void 0===this._state&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var i=this._instanceConstructor,s=i.resolve;if(s===A){var r=void 0,n=void 0,a=!1;try{r=e.then}catch(e){a=!0,n=e}if(r===y&&void 0!==e._state)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(i===U){var o=new i(R);a?k(o,n):L(o,e,r),this._willSettleAt(o,t)}else this._willSettleAt(new i((function(t){return t(e)})),t)}else this._willSettleAt(s(e),t)},e.prototype._settledAt=function(e,t,i){var s=this.promise;void 0===s._state&&(this._remaining--,2===e?k(s,i):this._result[t]=i),0===this._remaining&&C(s,this._result)},e.prototype._willSettleAt=function(e,t){var i=this;D(e,void 0,(function(e){return i._settledAt(1,t,e)}),(function(e){return i._settledAt(2,t,e)}))},e}(),U=function(){function t(e){this[b]=M++,this._result=this._state=void 0,this._subscribers=[],R!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t((function(t){w(e,t)}),(function(t){k(e,t)}))}catch(t){k(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var i=this.constructor;return e(t)?this.then((function(e){return i.resolve(t()).then((function(){return e}))}),(function(e){return i.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return U.prototype.then=y,U.all=function(e){return new x(this,e).promise},U.race=function(e){var t=this;return s(e)?new t((function(i,s){for(var r=e.length,n=0;n<r;n++)t.resolve(e[n]).then(i,s)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},U.resolve=A,U.reject=function(e){var t=new this(R);return k(t,e),t},U._setScheduler=function(e){a=e},U._setAsap=function(e){o=e},U._asap=o,U.polyfill=function(){var e=void 0;if(void 0!==i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var s=null;try{s=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===s&&!t.cast)return}e.Promise=U},U.Promise=U,U},e.exports=s()}).call(this,i(38),i(24))},2061:function(e,t){var i=arguments[3],s=arguments[4],r=arguments[5],n=JSON.stringify;e.exports=function(e,t){for(var a,o=Object.keys(r),h=0,l=o.length;h<l;h++){var d=o[h],_=r[d].exports;if(_===e||_&&_.default===e){a=d;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var u={};for(h=0,l=o.length;h<l;h++){u[d=o[h]]=d}s[a]=["function(require,module,exports){"+e+"(self); }",u]}var c=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[a]=a,s[c]=["function(require,module,exports){var f = require("+n(a)+");(f.default ? f.default : f)(self);}",m];var f={};!function e(t){for(var i in f[t]=!0,s[t][1]){var r=s[t][1][i];f[r]||e(r)}}(c);var p="("+i+")({"+Object.keys(f).map((function(e){return n(e)+":["+s[e][0]+","+n(s[e][1])+"]"})).join(",")+"},{},["+n(c)+"])",g=window.URL||window.webkitURL||window.mozURL||window.msURL,E=new Blob([p],{type:"text/javascript"});if(t&&t.bare)return E;var S=g.createObjectURL(E),v=new Worker(S);return v.objectURL=S,v}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy91dGlscy9wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy91dGlscy9sb2dnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvaW8vc3BlZWQtc2FtcGxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy91dGlscy9leGNlcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvaW8vbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL3V0aWxzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvaW8vZmV0Y2gtc3RyZWFtLWxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9pby94aHItbW96LWNodW5rZWQtbG9hZGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2lvL3hoci1yYW5nZS1sb2FkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvaW8vd2Vic29ja2V0LWxvYWRlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9pby9yYW5nZS1zZWVrLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvaW8vcGFyYW0tc2Vlay1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2lvL2lvLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvY29uZmlnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2NvcmUvZmVhdHVyZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvcGxheWVyL3BsYXllci1ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvdXRpbHMvbG9nZ2luZy1jb250cm9sLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2NvcmUvbWVkaWEtaW5mby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy91dGlscy91dGY4LWNvbnYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvZGVtdXgvYW1mLXBhcnNlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9kZW11eC9leHAtZ29sb21iLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2RlbXV4L3Nwcy1wYXJzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvZGVtdXgvZGVtdXgtZXJyb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2RlbXV4L2Zsdi1kZW11eGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL3JlbXV4L21wNC1nZW5lcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvcmVtdXgvYWFjLXNpbGVudC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9jb3JlL21lZGlhLXNlZ21lbnQtaW5mby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9yZW11eC9tcDQtcmVtdXhlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9jb3JlL3RyYW5zbXV4aW5nLWV2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9jb3JlL3RyYW5zbXV4aW5nLWNvbnRyb2xsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvY29yZS90cmFuc211eGluZy13b3JrZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Zsdi5qcy9zcmMvY29yZS90cmFuc211eGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2NvcmUvbXNlLWV2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmx2LmpzL3NyYy9jb3JlL21zZS1jb250cm9sbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL3BsYXllci9wbGF5ZXItZXJyb3JzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL3BsYXllci9mbHYtcGxheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL3BsYXllci9uYXRpdmUtcGxheWVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mbHYuanMvc3JjL2Zsdi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXZlbnRzL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXM2LXByb21pc2UvZGlzdC9lczYtcHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2Vid29ya2lmeS9pbmRleC5qcyJdLCJuYW1lcyI6WyJQb2x5ZmlsbCIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwib2JqIiwicHJvdG8iLCJfX3Byb3RvX18iLCJhc3NpZ24iLCJ0YXJnZXQiLCJUeXBlRXJyb3IiLCJvdXRwdXQiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwic291cmNlIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJzZWxmIiwiUHJvbWlzZSIsInBvbHlmaWxsIiwiaW5zdGFsbCIsIkxvZyIsInRhZyIsIm1zZyIsIkZPUkNFX0dMT0JBTF9UQUciLCJHTE9CQUxfVEFHIiwic3RyIiwiRU5BQkxFX0NBTExCQUNLIiwiZW1pdHRlciIsImVtaXQiLCJFTkFCTEVfRVJST1IiLCJjb25zb2xlIiwiZXJyb3IiLCJ3YXJuIiwibG9nIiwiRU5BQkxFX0lORk8iLCJpbmZvIiwiRU5BQkxFX1dBUk4iLCJFTkFCTEVfREVCVUciLCJkZWJ1ZyIsIkVOQUJMRV9WRVJCT1NFIiwidGhpcyIsIl9maXJzdENoZWNrcG9pbnQiLCJfbGFzdENoZWNrcG9pbnQiLCJfaW50ZXJ2YWxCeXRlcyIsIl90b3RhbEJ5dGVzIiwiX2xhc3RTZWNvbmRCeXRlcyIsInBlcmZvcm1hbmNlIiwibm93IiwiX25vdyIsImJpbmQiLCJEYXRlIiwiYnl0ZXMiLCJhZGRCeXRlcyIsImR1cmF0aW9uU2Vjb25kcyIsImN1cnJlbnRLQnBzIiwiUnVudGltZUV4Y2VwdGlvbiIsIm1lc3NhZ2UiLCJfbWVzc2FnZSIsIm5hbWUiLCJJbGxlZ2FsU3RhdGVFeGNlcHRpb24iLCJzdXBlciIsIkludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiIsIk5vdEltcGxlbWVudGVkRXhjZXB0aW9uIiwiTG9hZGVyU3RhdHVzIiwia0lkbGUiLCJrQ29ubmVjdGluZyIsImtCdWZmZXJpbmciLCJrRXJyb3IiLCJrQ29tcGxldGUiLCJMb2FkZXJFcnJvcnMiLCJPSyIsIkVYQ0VQVElPTiIsIkhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRCIsIkNPTk5FQ1RJTkdfVElNRU9VVCIsIkVBUkxZX0VPRiIsIlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GIiwidHlwZU5hbWUiLCJfdHlwZSIsIl9zdGF0dXMiLCJfbmVlZFN0YXNoIiwiX29uQ29udGVudExlbmd0aEtub3duIiwiX29uVVJMUmVkaXJlY3QiLCJfb25EYXRhQXJyaXZhbCIsIl9vbkVycm9yIiwiX29uQ29tcGxldGUiLCJjYWxsYmFjayIsImRhdGFTb3VyY2UiLCJyYW5nZSIsIkJyb3dzZXIiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRvTG93ZXJDYXNlIiwibWF0Y2giLCJleGVjIiwiaW5kZXhPZiIsInBsYXRmb3JtX21hdGNoIiwibWF0Y2hlZCIsImJyb3dzZXIiLCJ2ZXJzaW9uIiwibWFqb3JWZXJzaW9uIiwicGxhdGZvcm0iLCJ2ZXJzaW9uQXJyYXkiLCJzcGxpdCIsIm1ham9yIiwicGFyc2VJbnQiLCJzdHJpbmciLCJtaW5vciIsImJ1aWxkIiwiY2hyb21lIiwib3ByIiwic2FmYXJpIiwid2Via2l0IiwicnYiLCJpZW1vYmlsZSIsIm1zaWUiLCJlZGdlIiwibXNlZGdlIiwib3BlcmEiLCJhbmRyb2lkIiwiZGV0ZWN0IiwiaXNXb3JrV2VsbEVkZ2UiLCJicm93c2VyTm90QmxhY2tsaXN0ZWQiLCJmZXRjaCIsIlJlYWRhYmxlU3RyZWFtIiwiZSIsInNlZWtIYW5kbGVyIiwiY29uZmlnIiwiVEFHIiwiX3NlZWtIYW5kbGVyIiwiX2NvbmZpZyIsIl9yZXF1ZXN0QWJvcnQiLCJfY29udGVudExlbmd0aCIsIl9yZWNlaXZlZExlbmd0aCIsImlzV29ya2luZyIsImFib3J0IiwiZGVzdHJveSIsIl9kYXRhU291cmNlIiwiX3JhbmdlIiwic291cmNlVVJMIiwidXJsIiwicmV1c2VSZWRpcmVjdGVkVVJMIiwidW5kZWZpbmVkIiwicmVkaXJlY3RlZFVSTCIsInNlZWtDb25maWciLCJnZXRDb25maWciLCJoZWFkZXJzIiwiSGVhZGVycyIsImNvbmZpZ0hlYWRlcnMiLCJhcHBlbmQiLCJwYXJhbXMiLCJtZXRob2QiLCJtb2RlIiwiY2FjaGUiLCJyZWZlcnJlclBvbGljeSIsImNvcnMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJjcmVkZW50aWFscyIsInRoZW4iLCJyZXMiLCJvayIsInN0YXR1cyIsInJlbW92ZVVSTFBhcmFtZXRlcnMiLCJsZW5ndGhIZWFkZXIiLCJnZXQiLCJfcHVtcCIsImNhbGwiLCJib2R5IiwiZ2V0UmVhZGVyIiwic3RhdHVzVGV4dCIsImNvZGUiLCJjYXRjaCIsInJlYWRlciIsInJlYWQiLCJyZXN1bHQiLCJkb25lIiwidHlwZSIsImZyb20iLCJjYW5jZWwiLCJjaHVuayIsInZhbHVlIiwiYnVmZmVyIiwiYnl0ZVN0YXJ0IiwiYnl0ZUxlbmd0aCIsInhociIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInJlc3BvbnNlVHlwZSIsInciLCJfeGhyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwib25wcm9ncmVzcyIsIm9ubG9hZGVuZCIsIm9uZXJyb3IiLCJfcmVxdWVzdFVSTCIsIl9vblJlYWR5U3RhdGVDaGFuZ2UiLCJfb25Qcm9ncmVzcyIsIl9vbkxvYWRFbmQiLCJfb25YaHJFcnJvciIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVVJMIiwidG90YWwiLCJyZXNwb25zZSIsImxvYWRlZCIsImNvbnN0cnVjdG9yIiwiX2NodW5rU2l6ZUtCTGlzdCIsIl9jdXJyZW50Q2h1bmtTaXplS0IiLCJfY3VycmVudFNwZWVkTm9ybWFsaXplZCIsIl96ZXJvU3BlZWRDaHVua0NvdW50IiwiX3NwZWVkU2FtcGxlciIsIl93YWl0Rm9yVG90YWxMZW5ndGgiLCJfdG90YWxMZW5ndGhSZWNlaXZlZCIsIl9jdXJyZW50UmVxdWVzdFVSTCIsIl9jdXJyZW50UmVkaXJlY3RlZFVSTCIsIl9jdXJyZW50UmVxdWVzdFJhbmdlIiwiX3RvdGFsTGVuZ3RoIiwiX2xhc3RUaW1lTG9hZGVkIiwib25sb2FkIiwibGFzdFNlY29uZEtCcHMiLCJ1c2VSZWZUb3RhbExlbmd0aCIsImZpbGVzaXplIiwiX29wZW5TdWJSYW5nZSIsIl9pbnRlcm5hbE9wZW4iLCJ0byIsImNodW5rU2l6ZSIsIl9vbkxvYWQiLCJfaW50ZXJuYWxBYm9ydCIsIm9wZW5OZXh0UmFuZ2UiLCJkZWx0YSIsImlucHV0IiwibGlzdCIsImxhc3QiLCJtaWQiLCJsYm91bmQiLCJ1Ym91bmQiLCJNYXRoIiwiZmxvb3IiLCJLQnBzIiwibm9ybWFsaXplZCIsIl9ub3JtYWxpemVTcGVlZCIsInJlcG9ydENvbXBsZXRlIiwiV2ViU29ja2V0IiwiX3dzIiwid3MiLCJiaW5hcnlUeXBlIiwib25vcGVuIiwiX29uV2ViU29ja2V0T3BlbiIsIm9uY2xvc2UiLCJfb25XZWJTb2NrZXRDbG9zZSIsIm9ubWVzc2FnZSIsIl9vbldlYlNvY2tldE1lc3NhZ2UiLCJfb25XZWJTb2NrZXRFcnJvciIsImNsb3NlIiwiZGF0YSIsIkFycmF5QnVmZmVyIiwiX2Rpc3BhdGNoQXJyYXlCdWZmZXIiLCJCbG9iIiwiRmlsZVJlYWRlciIsInJlYWRBc0FycmF5QnVmZmVyIiwiYXJyYXlidWZmZXIiLCJ6ZXJvU3RhcnQiLCJfemVyb1N0YXJ0IiwicGFyYW0iLCJ0b1N0cmluZyIsInNlZWtlZFVSTCIsInBhcmFtU3RhcnQiLCJwYXJhbUVuZCIsIl9zdGFydE5hbWUiLCJfZW5kTmFtZSIsImJhc2VVcmwiLCJuZWVkQW5kIiwiYmFzZVVSTCIsInF1ZXJ5SW5kZXgiLCJzdWJzdHJpbmciLCJyZXN1bHRQYXJhbXMiLCJwYWlycyIsInBhaXIiLCJyZXF1aXJlQW5kIiwiZXh0cmFEYXRhIiwiX2V4dHJhRGF0YSIsIl9zdGFzaEluaXRpYWxTaXplIiwic3Rhc2hJbml0aWFsU2l6ZSIsIl9zdGFzaFVzZWQiLCJfc3Rhc2hTaXplIiwiX2J1ZmZlclNpemUiLCJfc3Rhc2hCdWZmZXIiLCJfc3Rhc2hCeXRlU3RhcnQiLCJfZW5hYmxlU3Rhc2giLCJlbmFibGVTdGFzaEJ1ZmZlciIsIl9sb2FkZXIiLCJfbG9hZGVyQ2xhc3MiLCJfaXNXZWJTb2NrZXRVUkwiLCJ0ZXN0IiwiX3JlZlRvdGFsTGVuZ3RoIiwiX2Z1bGxSZXF1ZXN0RmxhZyIsIl9jdXJyZW50UmFuZ2UiLCJfcmVkaXJlY3RlZFVSTCIsIl9zcGVlZE5vcm1hbGl6ZWQiLCJfc3BlZWROb3JtYWxpemVMaXN0IiwiX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmciLCJfcGF1c2VkIiwiX3Jlc3VtZUZyb20iLCJfb25TZWVrZWQiLCJfb25SZWRpcmVjdCIsIl9vblJlY292ZXJlZEVhcmx5RW9mIiwiX3NlbGVjdFNlZWtIYW5kbGVyIiwiX3NlbGVjdExvYWRlciIsIl9jcmVhdGVMb2FkZXIiLCJjdXJyZW50U3BlZWQiLCJzZWVrVHlwZSIsInJhbmdlTG9hZFplcm9TdGFydCIsInNlZWtQYXJhbVN0YXJ0Iiwic2Vla1BhcmFtRW5kIiwiY3VzdG9tU2Vla0hhbmRsZXIiLCJjdXN0b21Mb2FkZXIiLCJpc1N1cHBvcnRlZCIsIm5lZWRTdGFzaEJ1ZmZlciIsIm9uQ29udGVudExlbmd0aEtub3duIiwib25VUkxSZWRpcmVjdCIsIm9uRGF0YUFycml2YWwiLCJfb25Mb2FkZXJDaHVua0Fycml2YWwiLCJvbkNvbXBsZXRlIiwiX29uTG9hZGVyQ29tcGxldGUiLCJvbkVycm9yIiwiX29uTG9hZGVyRXJyb3IiLCJvcHRpb25hbEZyb20iLCJyZXNldCIsIl9pbnRlcm5hbFNlZWsiLCJkcm9wVW5jb25zdW1lZCIsIl9mbHVzaFN0YXNoQnVmZmVyIiwicmVxdWVzdFJhbmdlIiwiZXhwZWN0ZWRCeXRlcyIsImJ1ZmZlck5ld1NpemUiLCJuZXdCdWZmZXIiLCJzdGFzaE9sZEFycmF5IiwiVWludDhBcnJheSIsInNldCIsInN0YXNoU2l6ZUtCIiwiaXNMaXZlIiwiYnVmZmVyU2l6ZSIsIl9leHBhbmRCdWZmZXIiLCJjaHVua3MiLCJjb250ZW50TGVuZ3RoIiwicmVjZWl2ZWRMZW5ndGgiLCJfYWRqdXN0U3Rhc2hTaXplIiwic3Rhc2hBcnJheSIsInNsaWNlIiwiY29uc3VtZWQiLCJfZGlzcGF0Y2hDaHVua3MiLCJyZW1haW5BcnJheSIsInJlbWFpbiIsIm5leHRGcm9tIiwiZGVmYXVsdENvbmZpZyIsImVuYWJsZVdvcmtlciIsImxhenlMb2FkIiwibGF6eUxvYWRNYXhEdXJhdGlvbiIsImxhenlMb2FkUmVjb3ZlckR1cmF0aW9uIiwiZGVmZXJMb2FkQWZ0ZXJTb3VyY2VPcGVuIiwiYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uIiwiYXV0b0NsZWFudXBNaW5CYWNrd2FyZER1cmF0aW9uIiwic3RhdGlzdGljc0luZm9SZXBvcnRJbnRlcnZhbCIsImZpeEF1ZGlvVGltZXN0YW1wR2FwIiwiYWNjdXJhdGVTZWVrIiwiY3JlYXRlRGVmYXVsdENvbmZpZyIsIndpbmRvdyIsIk1lZGlhU291cmNlIiwiaXNUeXBlU3VwcG9ydGVkIiwiaW9jdGwiLCJsb2FkZXJUeXBlIiwibWltZVR5cGUiLCJ2aWRlb0VsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjYW5QbGF5IiwiY2FuUGxheVR5cGUiLCJmZWF0dXJlcyIsIm1zZUZsdlBsYXliYWNrIiwibXNlTGl2ZUZsdlBsYXliYWNrIiwibmV0d29ya1N0cmVhbUlPIiwibmV0d29ya0xvYWRlck5hbWUiLCJuYXRpdmVNUDRIMjY0UGxheWJhY2siLCJuYXRpdmVXZWJtVlA4UGxheWJhY2siLCJuYXRpdmVXZWJtVlA5UGxheWJhY2siLCJzdXBwb3J0TVNFSDI2NFBsYXliYWNrIiwic3VwcG9ydE5ldHdvcmtTdHJlYW1JTyIsImdldE5ldHdvcmtMb2FkZXJUeXBlTmFtZSIsInN1cHBvcnROYXRpdmVNZWRpYVBsYXliYWNrIiwiRVJST1IiLCJMT0FESU5HX0NPTVBMRVRFIiwiUkVDT1ZFUkVEX0VBUkxZX0VPRiIsIk1FRElBX0lORk8iLCJNRVRBREFUQV9BUlJJVkVEIiwiU0NSSVBUREFUQV9BUlJJVkVEIiwiU1RBVElTVElDU19JTkZPIiwiZW5hYmxlIiwiX25vdGlmeUNoYW5nZSIsImdsb2JhbFRhZyIsImZvcmNlR2xvYmFsVGFnIiwiZW5hYmxlVmVyYm9zZSIsImVuYWJsZURlYnVnIiwiZW5hYmxlSW5mbyIsImVuYWJsZVdhcm4iLCJlbmFibGVFcnJvciIsImVuYWJsZUNhbGxiYWNrIiwibGlzdGVuZXJDb3VudCIsImxpc3RlbmVyIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImR1cmF0aW9uIiwiaGFzQXVkaW8iLCJoYXNWaWRlbyIsImF1ZGlvQ29kZWMiLCJ2aWRlb0NvZGVjIiwiYXVkaW9EYXRhUmF0ZSIsInZpZGVvRGF0YVJhdGUiLCJhdWRpb1NhbXBsZVJhdGUiLCJhdWRpb0NoYW5uZWxDb3VudCIsIndpZHRoIiwiaGVpZ2h0IiwiZnBzIiwicHJvZmlsZSIsImxldmVsIiwicmVmRnJhbWVzIiwiY2hyb21hRm9ybWF0Iiwic2FyTnVtIiwic2FyRGVuIiwibWV0YWRhdGEiLCJzZWdtZW50cyIsInNlZ21lbnRDb3VudCIsImhhc0tleWZyYW1lc0luZGV4Iiwia2V5ZnJhbWVzSW5kZXgiLCJhdWRpb0luZm9Db21wbGV0ZSIsInZpZGVvSW5mb0NvbXBsZXRlIiwibWlsbGlzZWNvbmRzIiwidGFibGUiLCJrZXlmcmFtZUlkeCIsIl9zZWFyY2giLCJ0aW1lcyIsImluZGV4IiwiZmlsZXBvc2l0aW9uIiwiZmlsZXBvc2l0aW9ucyIsImlkeCIsImNoZWNrQ29udGludWF0aW9uIiwidWludDhhcnJheSIsInN0YXJ0IiwiY2hlY2tMZW5ndGgiLCJhcnJheSIsIm91dCIsInB1c2giLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJ1Y3M0Iiwiam9pbiIsImJ1ZiIsIkRhdGFWaWV3Iiwic2V0SW50MTYiLCJJbnQxNkFycmF5IiwiYXJyYXlCdWZmZXIiLCJkYXRhT2Zmc2V0IiwiZGF0YVNpemUiLCJwYXJzZVZhbHVlIiwic2l6ZSIsInBhcnNlU3RyaW5nIiwiaXNPYmplY3RFbmQiLCJvYmplY3RFbmQiLCJwYXJzZU9iamVjdCIsImdldFVpbnQxNiIsImdldFVpbnQzMiIsInYiLCJ0aW1lc3RhbXAiLCJnZXRGbG9hdDY0IiwiZ2V0SW50MTYiLCJvZmZzZXQiLCJnZXRVaW50OCIsImFtZnN0ciIsInRlcm1pbmFsIiwiYW1mb2JqIiwiYW1mdmFyIiwicGFyc2VWYXJpYWJsZSIsInN0cmljdEFycmF5TGVuZ3RoIiwidmFsIiwiZGF0ZSIsInBhcnNlRGF0ZSIsImFtZkxvbmdTdHIiLCJfYnVmZmVyIiwiX2J1ZmZlcl9pbmRleCIsIl90b3RhbF9ieXRlcyIsIl90b3RhbF9iaXRzIiwiX2N1cnJlbnRfd29yZCIsIl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IiwiYnVmZmVyX2J5dGVzX2xlZnQiLCJieXRlc19yZWFkIiwibWluIiwid29yZCIsInN1YmFycmF5IiwiYml0cyIsImJpdHNfbmVlZF9sZWZ0IiwiX2ZpbGxDdXJyZW50V29yZCIsImJpdHNfcmVhZF9uZXh0IiwicmVzdWx0MiIsInJlYWRCaXRzIiwiemVyb19jb3VudCIsIl9za2lwTGVhZGluZ1plcm8iLCJsZWFkaW5nX3plcm9zIiwicmVhZFVFRyIsInNyYyIsInNyY19sZW5ndGgiLCJkc3QiLCJkc3RfaWR4IiwicmJzcCIsIl9lYnNwMnJic3AiLCJnYiIsInJlYWRCeXRlIiwicHJvZmlsZV9pZGMiLCJsZXZlbF9pZGMiLCJwcm9maWxlX3N0cmluZyIsImdldFByb2ZpbGVTdHJpbmciLCJsZXZlbF9zdHJpbmciLCJnZXRMZXZlbFN0cmluZyIsImNocm9tYV9mb3JtYXRfaWRjIiwiY2hyb21hX2Zvcm1hdCIsImNocm9tYV9mb3JtYXRfdGFibGUiLCJiaXRfZGVwdGgiLCJyZWFkQm9vbCIsInNjYWxpbmdfbGlzdF9jb3VudCIsIl9za2lwU2NhbGluZ0xpc3QiLCJwaWNfb3JkZXJfY250X3R5cGUiLCJyZWFkU0VHIiwibnVtX3JlZl9mcmFtZXNfaW5fcGljX29yZGVyX2NudF9jeWNsZSIsInJlZl9mcmFtZXMiLCJwaWNfd2lkdGhfaW5fbWJzX21pbnVzMSIsInBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSIsImZyYW1lX21ic19vbmx5X2ZsYWciLCJmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0IiwiZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQiLCJmcmFtZV9jcm9wX3RvcF9vZmZzZXQiLCJmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQiLCJzYXJfd2lkdGgiLCJzYXJfaGVpZ2h0IiwiZnBzX2ZpeGVkIiwiZnBzX251bSIsImZwc19kZW4iLCJhc3BlY3RfcmF0aW9faWRjIiwic2FyX3dfdGFibGUiLCJzYXJfaF90YWJsZSIsIm51bV91bml0c19pbl90aWNrIiwidGltZV9zY2FsZSIsInNhclNjYWxlIiwiY3JvcF91bml0X3giLCJjcm9wX3VuaXRfeSIsImNvZGVjX3dpZHRoIiwiY29kZWNfaGVpZ2h0IiwicHJlc2VudF93aWR0aCIsImNlaWwiLCJjaHJvbWFfZm9ybWF0X3N0cmluZyIsImdldENocm9tYUZvcm1hdFN0cmluZyIsImZyYW1lX3JhdGUiLCJmaXhlZCIsInNhcl9yYXRpbyIsImNvZGVjX3NpemUiLCJwcmVzZW50X3NpemUiLCJjb3VudCIsImxhc3Rfc2NhbGUiLCJuZXh0X3NjYWxlIiwiZGVsdGFfc2NhbGUiLCJ0b0ZpeGVkIiwiY2hyb21hIiwiRk9STUFUX0VSUk9SIiwiRk9STUFUX1VOU1VQUE9SVEVEIiwiQ09ERUNfVU5TVVBQT1JURUQiLCJwcm9iZURhdGEiLCJfb25NZWRpYUluZm8iLCJfb25NZXRhRGF0YUFycml2ZWQiLCJfb25TY3JpcHREYXRhQXJyaXZlZCIsIl9vblRyYWNrTWV0YWRhdGEiLCJfb25EYXRhQXZhaWxhYmxlIiwiX2RhdGFPZmZzZXQiLCJfZmlyc3RQYXJzZSIsIl9kaXNwYXRjaCIsIl9oYXNBdWRpbyIsImhhc0F1ZGlvVHJhY2siLCJfaGFzVmlkZW8iLCJoYXNWaWRlb1RyYWNrIiwiX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCIsIl9oYXNWaWRlb0ZsYWdPdmVycmlkZWQiLCJfYXVkaW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkIiwiX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCIsIl9tZWRpYUluZm8iLCJfbWV0YWRhdGEiLCJfYXVkaW9NZXRhZGF0YSIsIl92aWRlb01ldGFkYXRhIiwiX25hbHVMZW5ndGhTaXplIiwiX3RpbWVzdGFtcEJhc2UiLCJfdGltZXNjYWxlIiwiX2R1cmF0aW9uIiwiX2R1cmF0aW9uT3ZlcnJpZGVkIiwiX3JlZmVyZW5jZUZyYW1lUmF0ZSIsIl9mbHZTb3VuZFJhdGVUYWJsZSIsIl9tcGVnU2FtcGxpbmdSYXRlcyIsIl9tcGVnQXVkaW9WMTBTYW1wbGVSYXRlVGFibGUiLCJfbXBlZ0F1ZGlvVjIwU2FtcGxlUmF0ZVRhYmxlIiwiX21wZWdBdWRpb1YyNVNhbXBsZVJhdGVUYWJsZSIsIl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZSIsIl9tcGVnQXVkaW9MMkJpdFJhdGVUYWJsZSIsIl9tcGVnQXVkaW9MM0JpdFJhdGVUYWJsZSIsIl92aWRlb1RyYWNrIiwiaWQiLCJzZXF1ZW5jZU51bWJlciIsInNhbXBsZXMiLCJfYXVkaW9UcmFjayIsIl9saXR0bGVFbmRpYW4iLCJtaXNtYXRjaCIsImxvYWRlciIsInBhcnNlQ2h1bmtzIiwiYmFzZSIsImxlIiwicHJvYmUiLCJ0YWdUeXBlIiwidHMyIiwidHMxIiwiX3BhcnNlQXVkaW9EYXRhIiwiX3BhcnNlVmlkZW9EYXRhIiwiX3BhcnNlU2NyaXB0RGF0YSIsInByZXZUYWdTaXplIiwiX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCIsInNjcmlwdERhdGEiLCJwYXJzZVNjcmlwdERhdGEiLCJvbk1ldGFEYXRhIiwiYXVkaW9kYXRhcmF0ZSIsInZpZGVvZGF0YXJhdGUiLCJmcmFtZXJhdGUiLCJrZXlmcmFtZXMiLCJfcGFyc2VLZXlmcmFtZXNJbmRleCIsImlzQ29tcGxldGUiLCJrZXlzIiwidGltZSIsInRhZ1RpbWVzdGFtcCIsInNvdW5kU3BlYyIsInNvdW5kRm9ybWF0Iiwic291bmRSYXRlIiwic291bmRSYXRlSW5kZXgiLCJzb3VuZFR5cGUiLCJtZXRhIiwidHJhY2siLCJ0aW1lc2NhbGUiLCJjaGFubmVsQ291bnQiLCJhYWNEYXRhIiwiX3BhcnNlQUFDQXVkaW9EYXRhIiwicGFja2V0VHlwZSIsIm1pc2MiLCJzYW1wbGluZ1JhdGUiLCJjb2RlYyIsIm9yaWdpbmFsQ29kZWMiLCJyZWZTYW1wbGVEdXJhdGlvbiIsIm1pIiwiZHRzIiwiYWFjU2FtcGxlIiwidW5pdCIsInB0cyIsIl9wYXJzZU1QM0F1ZGlvRGF0YSIsImJpdFJhdGUiLCJtcDNTYW1wbGUiLCJfcGFyc2VBQUNBdWRpb1NwZWNpZmljQ29uZmlnIiwiYXVkaW9PYmplY3RUeXBlIiwib3JpZ2luYWxBdWRpb09iamVjdFR5cGUiLCJhdWRpb0V4dGVuc2lvbk9iamVjdFR5cGUiLCJzYW1wbGluZ0luZGV4IiwiZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCIsInNhbXBsaW5nRnJlcXVlbmNlIiwiY2hhbm5lbENvbmZpZyIsIkFycmF5IiwicmVxdWVzdEhlYWRlciIsInZlciIsImxheWVyIiwiYml0cmF0ZV9pbmRleCIsInNhbXBsaW5nX2ZyZXFfaW5kZXgiLCJjaGFubmVsX2NvdW50Iiwic2FtcGxlX3JhdGUiLCJiaXRfcmF0ZSIsIm9iamVjdF90eXBlIiwidGFnUG9zaXRpb24iLCJzcGVjIiwiZnJhbWVUeXBlIiwiY29kZWNJZCIsIl9wYXJzZUFWQ1ZpZGVvUGFja2V0IiwiY3RzIiwiX3BhcnNlQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQiLCJfcGFyc2VBVkNWaWRlb0RhdGEiLCJhdmNjIiwiYXZjUHJvZmlsZSIsInNwc0NvdW50IiwibGVuIiwic3BzIiwicGFyc2VTUFMiLCJjb2RlY1dpZHRoIiwiY29kZWNIZWlnaHQiLCJwcmVzZW50V2lkdGgiLCJwcmVzZW50SGVpZ2h0IiwiYml0RGVwdGgiLCJzYXJSYXRpbyIsImZyYW1lUmF0ZSIsImNvZGVjQXJyYXkiLCJjb2RlY1N0cmluZyIsImoiLCJoIiwicHBzQ291bnQiLCJ1bml0cyIsImxlbmd0aFNpemUiLCJrZXlmcmFtZSIsIm5hbHVTaXplIiwidW5pdFR5cGUiLCJhdmNTYW1wbGUiLCJpc0tleWZyYW1lIiwiTVA0IiwidHlwZXMiLCJhdmMxIiwiYXZjQyIsImJ0cnQiLCJkaW5mIiwiZHJlZiIsImVzZHMiLCJmdHlwIiwiaGRsciIsIm1kYXQiLCJtZGhkIiwibWRpYSIsIm1maGQiLCJtaW5mIiwibW9vZiIsIm1vb3YiLCJtcDRhIiwibXZleCIsIm12aGQiLCJzZHRwIiwic3RibCIsInN0Y28iLCJzdHNjIiwic3RzZCIsInN0c3oiLCJzdHRzIiwidGZkdCIsInRmaGQiLCJ0cmFmIiwidHJhayIsInRydW4iLCJ0cmV4IiwidGtoZCIsInZtaGQiLCJzbWhkIiwiY2hhckNvZGVBdCIsImNvbnN0YW50cyIsIkZUWVAiLCJTVFNEX1BSRUZJWCIsIlNUVFMiLCJTVFNDIiwiU1RDTyIsIlNUU1oiLCJIRExSX1ZJREVPIiwiSERMUl9BVURJTyIsIkRSRUYiLCJTTUhEIiwiVk1IRCIsImRhdGFzIiwicHJvdG90eXBlIiwiYXJyYXlDb3VudCIsImJveCIsInRyYWNrSWQiLCJ4bWhkIiwibXAzIiwic2FtcGxlUmF0ZSIsImNvbmZpZ1NpemUiLCJjb25jYXQiLCJiYXNlTWVkaWFEZWNvZGVUaW1lIiwic2FtcGxlQ291bnQiLCJmbGFncyIsImlzTGVhZGluZyIsImRlcGVuZHNPbiIsImlzRGVwZW5kZWRPbiIsImhhc1JlZHVuZGFuY3kiLCJpc05vblN5bmMiLCJpbml0IiwiU2FtcGxlSW5mbyIsIm9yaWdpbmFsRHRzIiwiaXNTeW5jIiwiaXNTeW5jUG9pbnQiLCJNZWRpYVNlZ21lbnRJbmZvIiwiYmVnaW5EdHMiLCJlbmREdHMiLCJiZWdpblB0cyIsImVuZFB0cyIsIm9yaWdpbmFsQmVnaW5EdHMiLCJvcmlnaW5hbEVuZER0cyIsInN5bmNQb2ludHMiLCJmaXJzdFNhbXBsZSIsImxhc3RTYW1wbGUiLCJzYW1wbGVJbmZvIiwiSURSU2FtcGxlTGlzdCIsIl9saXN0IiwiY2xlYXIiLCJhcHBseSIsIk1lZGlhU2VnbWVudEluZm9MaXN0IiwiX2xhc3RBcHBlbmRMb2NhdGlvbiIsIl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZSIsIm1lZGlhU2VnbWVudEluZm8iLCJtc2kiLCJsYXN0QXBwZW5kSWR4IiwiaW5zZXJ0SWR4Iiwic3BsaWNlIiwic2VnbWVudCIsImdldExhc3RTZWdtZW50QmVmb3JlIiwic2VnbWVudElkeCIsIl9pc0xpdmUiLCJfZHRzQmFzZSIsIl9kdHNCYXNlSW5pdGVkIiwiX2F1ZGlvRHRzQmFzZSIsIkluZmluaXR5IiwiX3ZpZGVvRHRzQmFzZSIsIl9hdWRpb05leHREdHMiLCJfdmlkZW9OZXh0RHRzIiwiX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUiLCJfdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSIsIl9hdWRpb01ldGEiLCJfdmlkZW9NZXRhIiwiX2F1ZGlvU2VnbWVudEluZm9MaXN0IiwiX3ZpZGVvU2VnbWVudEluZm9MaXN0IiwiX29uSW5pdFNlZ21lbnQiLCJfb25NZWRpYVNlZ21lbnQiLCJfZm9yY2VGaXJzdElEUiIsIl9maWxsU2lsZW50QWZ0ZXJTZWVrIiwiX21wM1VzZU1wZWdBdWRpbyIsImZpcmVmb3giLCJfZmlsbEF1ZGlvVGltZXN0YW1wR2FwIiwicHJvZHVjZXIiLCJvbkRhdGFBdmFpbGFibGUiLCJyZW11eCIsIm9uVHJhY2tNZXRhZGF0YSIsIl9vblRyYWNrTWV0YWRhdGFSZWNlaXZlZCIsImF1ZGlvVHJhY2siLCJ2aWRlb1RyYWNrIiwiX2NhbGN1bGF0ZUR0c0Jhc2UiLCJfcmVtdXhWaWRlbyIsIl9yZW11eEF1ZGlvIiwibWV0YWJveCIsImNvbnRhaW5lciIsImdlbmVyYXRlSW5pdFNlZ21lbnQiLCJtZWRpYUR1cmF0aW9uIiwidmlkZW9TYW1wbGUiLCJhdWRpb1NhbXBsZSIsImZvcmNlIiwiZHRzQ29ycmVjdGlvbiIsImZpcnN0RHRzIiwibGFzdER0cyIsIm1wZWdSYXdUcmFjayIsImZpcnN0U2VnbWVudEFmdGVyU2VlayIsImluc2VydFByZWZpeFNpbGVudEZyYW1lIiwibWRhdGJveCIsIm1kYXRCeXRlcyIsInBvcCIsInNhbXBsZSIsInVuc2hpZnQiLCJmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIiwiaXNFbXB0eSIsImdldExhc3RTYW1wbGVCZWZvcmUiLCJkaXN0YW5jZSIsImZpcnN0U2FtcGxlRHRzIiwidmlkZW9TZWdtZW50Iiwic2lsZW50VW5pdCIsImdldFNpbGVudEZyYW1lIiwic2lsZW50RnJhbWVEdXJhdGlvbiIsIm1wNFNhbXBsZXMiLCJzYW1wbGVEdXJhdGlvbiIsIm5lZWRGaWxsU2lsZW50RnJhbWVzIiwic2lsZW50RnJhbWVzIiwiYWJzIiwiZnJhbWVDb3VudCIsImN1cnJlbnREdHMiLCJyb3VuZCIsImludER0cyIsInByZXZpb3VzRnJhbWUiLCJmcmFtZSIsImxhc3RGcmFtZSIsImxhdGVzdCIsIm1vb2Zib3giLCJfbWVyZ2VCb3hlcyIsInRpbWVzdGFtcE9mZnNldCIsImZpcnN0UHRzIiwibGFzdFB0cyIsInN5bmNQb2ludCIsImFwcGVuZFN5bmNQb2ludCIsInNoaWZ0IiwiSU9fRVJST1IiLCJERU1VWF9FUlJPUiIsIklOSVRfU0VHTUVOVCIsIk1FRElBX1NFR01FTlQiLCJSRUNPTU1FTkRfU0VFS1BPSU5UIiwibWVkaWFEYXRhU291cmNlIiwiX2VtaXR0ZXIiLCJfbWVkaWFEYXRhU291cmNlIiwiX2N1cnJlbnRTZWdtZW50SW5kZXgiLCJ0b3RhbER1cmF0aW9uIiwiZm9yRWFjaCIsInRpbWVzdGFtcEJhc2UiLCJpc05hTiIsIl9kZW11eGVyIiwiX3JlbXV4ZXIiLCJfaW9jdGwiLCJfcGVuZGluZ1NlZWtUaW1lIiwiX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50IiwiX3N0YXRpc3RpY3NSZXBvcnRlciIsIl9kaXNhYmxlU3RhdGlzdGljc1JlcG9ydGVyIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiZXZlbnQiLCJfbG9hZFNlZ21lbnQiLCJfZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyIiwic2VnbWVudEluZGV4IiwiX29uSU9FeGNlcHRpb24iLCJvblNlZWtlZCIsIl9vbklPU2Vla2VkIiwiX29uSU9Db21wbGV0ZSIsIm9uUmVkaXJlY3QiLCJfb25JT1JlZGlyZWN0Iiwib25SZWNvdmVyZWRFYXJseUVvZiIsIl9vbklPUmVjb3ZlcmVkRWFybHlFb2YiLCJiaW5kRGF0YVNvdXJjZSIsIl9vbkluaXRDaHVua0Fycml2YWwiLCJwYXVzZSIsImlzUGF1c2VkIiwicmVzdW1lIiwiaXNTZWVrYWJsZSIsInRhcmdldFNlZ21lbnRJbmRleCIsIl9zZWFyY2hTZWdtZW50SW5kZXhDb250YWlucyIsInNlZ21lbnRJbmZvIiwiZ2V0TmVhcmVzdEtleWZyYW1lIiwic2VlayIsInRhcmdldFNlZ21lbnRJbmZvIiwiaW5zZXJ0RGlzY29udGludWl0eSIsInJlc2V0TWVkaWFJbmZvIiwiX3JlcG9ydFNlZ21lbnRNZWRpYUluZm8iLCJtZHMiLCJvdmVycmlkZWREdXJhdGlvbiIsIm92ZXJyaWRlZEhhc0F1ZGlvIiwib3ZlcnJpZGVkSGFzVmlkZW8iLCJfb25EZW11eEV4Y2VwdGlvbiIsIm9uTWVkaWFJbmZvIiwib25NZXRhRGF0YUFycml2ZWQiLCJvblNjcmlwdERhdGFBcnJpdmVkIiwib25Jbml0U2VnbWVudCIsIl9vblJlbXV4ZXJJbml0U2VnbWVudEFycml2YWwiLCJvbk1lZGlhU2VnbWVudCIsIl9vblJlbXV4ZXJNZWRpYVNlZ21lbnRBcnJpdmFsIiwicmVzb2x2ZSIsIm1lZGlhSW5mbyIsIm5leHRTZWdtZW50SW5kZXgiLCJmbHVzaFN0YXNoZWRTYW1wbGVzIiwiaW5pdFNlZ21lbnQiLCJtZWRpYVNlZ21lbnQiLCJzZWVrcG9pbnQiLCJzZXRJbnRlcnZhbCIsIl9yZXBvcnRTdGF0aXN0aWNzSW5mbyIsImNsZWFySW50ZXJ2YWwiLCJleHBvcnRJbmZvIiwiY3VycmVudFVSTCIsImhhc1JlZGlyZWN0IiwiY3VycmVudFJlZGlyZWN0ZWRVUkwiLCJzcGVlZCIsImN1cnJlbnRTZWdtZW50SW5kZXgiLCJ0b3RhbFNlZ21lbnRDb3VudCIsImNvbnRyb2xsZXIiLCJsb2djYXRMaXN0ZW5lciIsInBvc3RNZXNzYWdlIiwibG9nY2F0Iiwib25Mb2FkaW5nQ29tcGxldGUiLCJvblN0YXRpc3RpY3NJbmZvIiwic3RhdEluZm8iLCJvbklPRXJyb3IiLCJvbkRlbXV4RXJyb3IiLCJvblJlY29tbWVuZFNlZWtwb2ludCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbWQiLCJvbiIsInN0b3AiLCJhcHBseUNvbmZpZyIsImFkZExvZ0xpc3RlbmVyIiwicmVtb3ZlTG9nTGlzdGVuZXIiLCJ3b3JrIiwiX3dvcmtlciIsIl93b3JrZXJEZXN0cm95aW5nIiwiX29uV29ya2VyTWVzc2FnZSIsIm9uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQiLCJfb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZCIsInJlZ2lzdGVyTGlzdGVuZXIiLCJfY29udHJvbGxlciIsImN0bCIsIl9vbklPRXJyb3IiLCJfb25EZW11eEVycm9yIiwiX29uTG9hZGluZ0NvbXBsZXRlIiwiX29uU3RhdGlzdGljc0luZm8iLCJfb25SZWNvbW1lbmRTZWVrcG9pbnQiLCJzdGF0aXN0aWNzSW5mbyIsInRlcm1pbmF0ZSIsIlNPVVJDRV9PUEVOIiwiVVBEQVRFX0VORCIsIkJVRkZFUl9GVUxMIiwiYXV0b0NsZWFudXBTb3VyY2VCdWZmZXIiLCJvblNvdXJjZU9wZW4iLCJfb25Tb3VyY2VPcGVuIiwib25Tb3VyY2VFbmRlZCIsIl9vblNvdXJjZUVuZGVkIiwib25Tb3VyY2VDbG9zZSIsIl9vblNvdXJjZUNsb3NlIiwib25Tb3VyY2VCdWZmZXJFcnJvciIsIl9vblNvdXJjZUJ1ZmZlckVycm9yIiwib25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQiLCJfb25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQiLCJfbWVkaWFTb3VyY2UiLCJfbWVkaWFTb3VyY2VPYmplY3RVUkwiLCJfbWVkaWFFbGVtZW50IiwiX2lzQnVmZmVyRnVsbCIsIl9oYXNQZW5kaW5nRW9zIiwiX3JlcXVpcmVTZXRNZWRpYUR1cmF0aW9uIiwiX3BlbmRpbmdNZWRpYUR1cmF0aW9uIiwiX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0IiwiX21pbWVUeXBlcyIsInZpZGVvIiwiYXVkaW8iLCJfc291cmNlQnVmZmVycyIsIl9sYXN0SW5pdFNlZ21lbnRzIiwiX3BlbmRpbmdTZWdtZW50cyIsIl9wZW5kaW5nUmVtb3ZlUmFuZ2VzIiwiX2lkckxpc3QiLCJkZXRhY2hNZWRpYUVsZW1lbnQiLCJtZWRpYUVsZW1lbnQiLCJtcyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsInBzIiwic2IiLCJyZW1vdmVTb3VyY2VCdWZmZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZW5kT2ZTdHJlYW0iLCJyZW1vdmVBdHRyaWJ1dGUiLCJyZXZva2VPYmplY3RVUkwiLCJkZWZlcnJlZCIsImlzIiwiZmlyc3RJbml0U2VnbWVudCIsImFkZFNvdXJjZUJ1ZmZlciIsInVwZGF0aW5nIiwiX2RvQXBwZW5kU2VnbWVudHMiLCJfdXBkYXRlTWVkaWFTb3VyY2VEdXJhdGlvbiIsIl9uZWVkQ2xlYW51cFNvdXJjZUJ1ZmZlciIsIl9kb0NsZWFudXBTb3VyY2VCdWZmZXIiLCJfaGFzUGVuZGluZ1JlbW92ZVJhbmdlcyIsInNlY29uZHMiLCJidWZmZXJlZCIsImVuZCIsIl9kb1JlbW92ZVJhbmdlcyIsImxhc3RJbml0U2VnbWVudCIsIl9oYXNQZW5kaW5nU2VnbWVudHMiLCJnZXRMYXN0U3luY1BvaW50QmVmb3JlRHRzIiwiY3VycmVudFRpbWUiLCJkb1JlbW92ZSIsInJlbW92ZUVuZCIsImN1cnJlbnQiLCJyYW5nZXMiLCJyZW1vdmUiLCJwZW5kaW5nU2VnbWVudHMiLCJjdXJyZW50T2Zmc2V0IiwidGFyZ2V0T2Zmc2V0IiwiYXBwZW5kQnVmZmVyIiwiYXBwZW5kQXJyYXkiLCJwZW5kaW5ncyIsImFwcGVuZEluaXRTZWdtZW50IiwicHJyIiwiRXJyb3JUeXBlcyIsIk5FVFdPUktfRVJST1IiLCJNRURJQV9FUlJPUiIsIk9USEVSX0VSUk9SIiwiRXJyb3JEZXRhaWxzIiwiTkVUV09SS19FWENFUFRJT04iLCJORVRXT1JLX1NUQVRVU19DT0RFX0lOVkFMSUQiLCJORVRXT1JLX1RJTUVPVVQiLCJORVRXT1JLX1VOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GIiwiTUVESUFfTVNFX0VSUk9SIiwiTUVESUFfRk9STUFUX0VSUk9SIiwiTUVESUFfRk9STUFUX1VOU1VQUE9SVEVEIiwiTUVESUFfQ09ERUNfVU5TVVBQT1JURUQiLCJvbnZMb2FkZWRNZXRhZGF0YSIsIl9vbnZMb2FkZWRNZXRhZGF0YSIsIm9udlNlZWtpbmciLCJfb252U2Vla2luZyIsIm9udkNhblBsYXkiLCJfb252Q2FuUGxheSIsIm9udlN0YWxsZWQiLCJfb252U3RhbGxlZCIsIm9udlByb2dyZXNzIiwiX29udlByb2dyZXNzIiwiX3JlcXVlc3RTZXRUaW1lIiwiX3NlZWtwb2ludFJlY29yZCIsIl9wcm9ncmVzc0NoZWNrZXIiLCJfbXNlY3RsIiwiX3RyYW5zbXV4ZXIiLCJfbXNlU291cmNlT3BlbmVkIiwiX2hhc1BlbmRpbmdMb2FkIiwiX3JlY2VpdmVkQ2FuUGxheSIsIl9zdGF0aXN0aWNzSW5mbyIsImNocm9tZU5lZWRJRFJGaXgiLCJfYWx3YXlzU2Vla0tleWZyYW1lIiwidW5sb2FkIiwiX29ubXNlVXBkYXRlRW5kIiwiX29ubXNlQnVmZmVyRnVsbCIsImxvYWQiLCJhdHRhY2hNZWRpYUVsZW1lbnQiLCJhcHBlbmRNZWRpYVNlZ21lbnQiLCJfc3VzcGVuZFRyYW5zbXV4ZXIiLCJkZXRhaWwiLCJfZmlsbFN0YXRpc3RpY3NJbmZvIiwicGxheSIsInZvbHVtZSIsIm11dGVkIiwicGxheWVyVHlwZSIsIkhUTUxWaWRlb0VsZW1lbnQiLCJoYXNRdWFsaXR5SW5mbyIsImRlY29kZWQiLCJkcm9wcGVkIiwiZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkiLCJxdWFsaXR5IiwidG90YWxWaWRlb0ZyYW1lcyIsImRyb3BwZWRWaWRlb0ZyYW1lcyIsIndlYmtpdERlY29kZWRGcmFtZUNvdW50Iiwid2Via2l0RHJvcHBlZEZyYW1lQ291bnQiLCJkZWNvZGVkRnJhbWVzIiwiZHJvcHBlZEZyYW1lcyIsImN1cnJlbnRSYW5nZVN0YXJ0IiwiY3VycmVudFJhbmdlRW5kIiwiX2NoZWNrUHJvZ3Jlc3NBbmRSZXN1bWUiLCJuZWVkUmVzdW1lIiwiZGlyZWN0U2VlayIsIl9pc1RpbWVwb2ludEJ1ZmZlcmVkIiwiZGlyZWN0U2Vla0JlZ2luIiwiZGlyZWN0U2Vla0JlZ2luVGltZSIsInZpZGVvQmVnaW5UaW1lIiwiaWRyIiwicmVjb3JkVGltZSIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJfY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQiLCJzdGFsbGVkIiwibWVkaWEiLCJzZWVrUG9pbnQiLCJfY2hlY2tBbmRSZXN1bWVTdHVja1BsYXliYWNrIiwicHJlbG9hZCIsIkhUTUxBdWRpb0VsZW1lbnQiLCJ2aWRlb1dpZHRoIiwidmlkZW9IZWlnaHQiLCJmbHZqcyIsIm9wdGlvbmFsQ29uZmlnIiwiZ2V0RmVhdHVyZUxpc3QiLCJCYXNlTG9hZGVyIiwiRXZlbnRzIiwiRmx2UGxheWVyIiwiTmF0aXZlUGxheWVyIiwiTG9nZ2luZ0NvbnRyb2wiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJSZWZsZWN0T3duS2V5cyIsIlIiLCJSZWZsZWN0IiwiUmVmbGVjdEFwcGx5IiwicmVjZWl2ZXIiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiRXZlbnRFbWl0dGVyIiwibW9kdWxlIiwiZXhwb3J0cyIsIm9uY2UiLCJyZWplY3QiLCJldmVudExpc3RlbmVyIiwiZXJyb3JMaXN0ZW5lciIsImVyciIsIl9ldmVudHMiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInByZXBlbmQiLCJtIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwiY3JlYXRlIiwibmV3TGlzdGVuZXIiLCJ3YXJuZWQiLCJFcnJvciIsIm9uY2VXcmFwcGVyIiwiZmlyZWQiLCJ3cmFwRm4iLCJfb25jZVdyYXAiLCJzdGF0ZSIsIndyYXBwZWQiLCJfbGlzdGVuZXJzIiwidW53cmFwIiwiZXZsaXN0ZW5lciIsImFyciIsInJldCIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJuIiwiY29weSIsImFyZyIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlciIsImNvbnRleHQiLCJoYW5kbGVyIiwibGlzdGVuZXJzIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsInBvc2l0aW9uIiwib3JpZ2luYWxMaXN0ZW5lciIsInNwbGljZU9uZSIsIm9mZiIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJmYWN0b3J5IiwiaXNGdW5jdGlvbiIsIngiLCJpc0FycmF5IiwidmVydHhOZXh0IiwiY3VzdG9tU2NoZWR1bGVyRm4iLCJhc2FwIiwicXVldWUiLCJmbHVzaCIsInNjaGVkdWxlRmx1c2giLCJicm93c2VyV2luZG93IiwiYnJvd3Nlckdsb2JhbCIsIkJyb3dzZXJNdXRhdGlvbk9ic2VydmVyIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJpc05vZGUiLCJwcm9jZXNzIiwiaXNXb3JrZXIiLCJVaW50OENsYW1wZWRBcnJheSIsImltcG9ydFNjcmlwdHMiLCJNZXNzYWdlQ2hhbm5lbCIsInVzZVNldFRpbWVvdXQiLCJnbG9iYWxTZXRUaW1lb3V0IiwiY2hhbm5lbCIsIml0ZXJhdGlvbnMiLCJvYnNlcnZlciIsIm5vZGUiLCJvbkZ1bGZpbGxtZW50Iiwib25SZWplY3Rpb24iLCJwYXJlbnQiLCJjaGlsZCIsIm5vb3AiLCJQUk9NSVNFX0lEIiwibWFrZVByb21pc2UiLCJfc3RhdGUiLCJpbnZva2VDYWxsYmFjayIsIl9yZXN1bHQiLCJzdWJzY3JpYmUiLCJyZXNvbHZlJDEiLCJvYmplY3QiLCJwcm9taXNlIiwibmV4dFRpY2siLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwicG9ydDEiLCJwb3J0MiIsInZlcnR4IiwicmVxdWlyZSIsInJ1bk9uTG9vcCIsInJ1bk9uQ29udGV4dCIsImF0dGVtcHRWZXJ0eCIsInJhbmRvbSIsImhhbmRsZU1heWJlVGhlbmFibGUiLCJtYXliZVRoZW5hYmxlIiwidGhlbiQkMSIsInRoZW5hYmxlIiwiZnVsZmlsbCIsInJlYXNvbiIsImhhbmRsZU93blRoZW5hYmxlIiwic2VhbGVkIiwiZnVsZmlsbG1lbnRIYW5kbGVyIiwicmVqZWN0aW9uSGFuZGxlciIsInRyeVRoZW4iLCJfbGFiZWwiLCJoYW5kbGVGb3JlaWduVGhlbmFibGUiLCJwdWJsaXNoUmVqZWN0aW9uIiwiX29uZXJyb3IiLCJwdWJsaXNoIiwiX3N1YnNjcmliZXJzIiwic3Vic2NyaWJlcnMiLCJzZXR0bGVkIiwiaGFzQ2FsbGJhY2siLCJzdWNjZWVkZWQiLCJFbnVtZXJhdG9yIiwiQ29uc3RydWN0b3IiLCJfaW5zdGFuY2VDb25zdHJ1Y3RvciIsIl9yZW1haW5pbmciLCJfZW51bWVyYXRlIiwiX2VhY2hFbnRyeSIsImVudHJ5IiwiYyIsInJlc29sdmUkJDEiLCJfdGhlbiIsImRpZEVycm9yIiwiX3NldHRsZWRBdCIsIlByb21pc2UkMSIsIl93aWxsU2V0dGxlQXQiLCJlbnVtZXJhdG9yIiwicmVzb2x2ZXIiLCJuZWVkc1Jlc29sdmVyIiwiaW5pdGlhbGl6ZVByb21pc2UiLCJuZWVkc05ldyIsImZpbmFsbHkiLCJhbGwiLCJlbnRyaWVzIiwicmFjZSIsIl8iLCJfc2V0U2NoZWR1bGVyIiwic2NoZWR1bGVGbiIsIl9zZXRBc2FwIiwiYXNhcEZuIiwiX2FzYXAiLCJsb2NhbCIsImdsb2JhbCIsIlAiLCJwcm9taXNlVG9TdHJpbmciLCJjYXN0IiwiYnVuZGxlRm4iLCJzb3VyY2VzIiwic3RyaW5naWZ5IiwiSlNPTiIsImZuIiwib3B0aW9ucyIsIndrZXkiLCJjYWNoZUtleXMiLCJsIiwiZXhwIiwiZGVmYXVsdCIsInBvdyIsIndjYWNoZSIsInNrZXkiLCJzY2FjaGUiLCJ3b3JrZXJTb3VyY2VzIiwicmVzb2x2ZVNvdXJjZXMiLCJkZXBQYXRoIiwiZGVwS2V5IiwibWFwIiwid2Via2l0VVJMIiwibW96VVJMIiwibXNVUkwiLCJibG9iIiwiYmFyZSIsIndvcmtlclVybCIsIndvcmtlciIsIldvcmtlciIsIm9iamVjdFVSTCJdLCJtYXBwaW5ncyI6Im1HQWtCQSxNQUFNQSxFQUVGLGlCQUVJQyxPQUFPQyxlQUFpQkQsT0FBT0MsZ0JBQWtCLFNBQVVDLEVBQUtDLEdBRTVELE9BREFELEVBQUlFLFVBQVlELEVBQ1RELEdBSVhGLE9BQU9LLE9BQVNMLE9BQU9LLFFBQVUsU0FB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QU0sb0JBQ25DLEdBQUlxcEMsR0FBV0EsRUFBUW1CLEtBQVEsT0FBT0QsRUFDdEMsSUFBSUUsRUFBWTlVLEVBQUlDLGdCQUFnQjJVLEdBQ2hDRyxFQUFTLElBQUlDLE9BQU9GLEdBRXhCLE9BREFDLEVBQU9FLFVBQVlILEVBQ1pDIiwiZmlsZSI6IjExLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBQb2x5ZmlsbCB7XG5cbiAgICBzdGF0aWMgaW5zdGFsbCgpIHtcbiAgICAgICAgLy8gRVM2IE9iamVjdC5zZXRQcm90b3R5cGVPZlxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKG9iaiwgcHJvdG8pIHtcbiAgICAgICAgICAgIG9iai5fX3Byb3RvX18gPSBwcm90bztcbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRVM2IE9iamVjdC5hc3NpZ25cbiAgICAgICAgT2JqZWN0LmFzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkIHx8IHRhcmdldCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgb3V0cHV0ID0gT2JqZWN0KHRhcmdldCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAhPT0gdW5kZWZpbmVkICYmIHNvdXJjZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBFUzYgUHJvbWlzZSAobWlzc2luZyBzdXBwb3J0IGluIElFMTEpXG4gICAgICAgIGlmICh0eXBlb2Ygc2VsZi5Qcm9taXNlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXF1aXJlKCdlczYtcHJvbWlzZScpLnBvbHlmaWxsKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuUG9seWZpbGwuaW5zdGFsbCgpO1xuXG5leHBvcnQgZGVmYXVsdCBQb2x5ZmlsbDsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuXG5jbGFzcyBMb2cge1xuXG4gICAgc3RhdGljIGUodGFnLCBtc2cpIHtcbiAgICAgICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpXG4gICAgICAgICAgICB0YWcgPSBMb2cuR0xPQkFMX1RBRztcblxuICAgICAgICBsZXQgc3RyID0gYFske3RhZ31dID4gJHttc2d9YDtcblxuICAgICAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ2Vycm9yJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9FUlJPUikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3Ioc3RyKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25zb2xlLndhcm4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihzdHIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBpKHRhZywgbXNnKSB7XG4gICAgICAgIGlmICghdGFnIHx8IExvZy5GT1JDRV9HTE9CQUxfVEFHKVxuICAgICAgICAgICAgdGFnID0gTG9nLkdMT0JBTF9UQUc7XG5cbiAgICAgICAgbGV0IHN0ciA9IGBbJHt0YWd9XSA+ICR7bXNnfWA7XG5cbiAgICAgICAgaWYgKExvZy5FTkFCTEVfQ0FMTEJBQ0spIHtcbiAgICAgICAgICAgIExvZy5lbWl0dGVyLmVtaXQoJ2xvZycsICdpbmZvJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9JTkZPKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29uc29sZS5pbmZvKSB7XG4gICAgICAgICAgICBjb25zb2xlLmluZm8oc3RyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdyh0YWcsIG1zZykge1xuICAgICAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgICAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuXG4gICAgICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gO1xuXG4gICAgICAgIGlmIChMb2cuRU5BQkxFX0NBTExCQUNLKSB7XG4gICAgICAgICAgICBMb2cuZW1pdHRlci5lbWl0KCdsb2cnLCAnd2FybicsIHN0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUxvZy5FTkFCTEVfV0FSTikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnNvbGUud2Fybikge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKHN0cik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdHIpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGQodGFnLCBtc2cpIHtcbiAgICAgICAgaWYgKCF0YWcgfHwgTG9nLkZPUkNFX0dMT0JBTF9UQUcpXG4gICAgICAgICAgICB0YWcgPSBMb2cuR0xPQkFMX1RBRztcblxuICAgICAgICBsZXQgc3RyID0gYFske3RhZ31dID4gJHttc2d9YDtcblxuICAgICAgICBpZiAoTG9nLkVOQUJMRV9DQUxMQkFDSykge1xuICAgICAgICAgICAgTG9nLmVtaXR0ZXIuZW1pdCgnbG9nJywgJ2RlYnVnJywgc3RyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghTG9nLkVOQUJMRV9ERUJVRykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbnNvbGUuZGVidWcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZGVidWcoc3RyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0cik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdih0YWcsIG1zZykge1xuICAgICAgICBpZiAoIXRhZyB8fCBMb2cuRk9SQ0VfR0xPQkFMX1RBRylcbiAgICAgICAgICAgIHRhZyA9IExvZy5HTE9CQUxfVEFHO1xuXG4gICAgICAgIGxldCBzdHIgPSBgWyR7dGFnfV0gPiAke21zZ31gO1xuXG4gICAgICAgIGlmIChMb2cuRU5BQkxFX0NBTExCQUNLKSB7XG4gICAgICAgICAgICBMb2cuZW1pdHRlci5lbWl0KCdsb2cnLCAndmVyYm9zZScsIHN0cik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIUxvZy5FTkFCTEVfVkVSQk9TRSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc29sZS5sb2coc3RyKTtcbiAgICB9XG5cbn1cblxuTG9nLkdMT0JBTF9UQUcgPSAnZmx2LmpzJztcbkxvZy5GT1JDRV9HTE9CQUxfVEFHID0gZmFsc2U7XG5Mb2cuRU5BQkxFX0VSUk9SID0gdHJ1ZTtcbkxvZy5FTkFCTEVfSU5GTyA9IHRydWU7XG5Mb2cuRU5BQkxFX1dBUk4gPSB0cnVlO1xuTG9nLkVOQUJMRV9ERUJVRyA9IHRydWU7XG5Mb2cuRU5BQkxFX1ZFUkJPU0UgPSB0cnVlO1xuXG5Mb2cuRU5BQkxFX0NBTExCQUNLID0gZmFsc2U7XG5cbkxvZy5lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG5leHBvcnQgZGVmYXVsdCBMb2c7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8vIFV0aWxpdHkgY2xhc3MgdG8gY2FsY3VsYXRlIHJlYWx0aW1lIG5ldHdvcmsgSS9PIHNwZWVkXG5jbGFzcyBTcGVlZFNhbXBsZXIge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIG1pbGxpc2Vjb25kc1xuICAgICAgICB0aGlzLl9maXJzdENoZWNrcG9pbnQgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0Q2hlY2twb2ludCA9IDA7XG4gICAgICAgIHRoaXMuX2ludGVydmFsQnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl90b3RhbEJ5dGVzID0gMDtcbiAgICAgICAgdGhpcy5fbGFzdFNlY29uZEJ5dGVzID0gMDtcblxuICAgICAgICAvLyBjb21wYXRpYmlsaXR5IGRldGVjdGlvblxuICAgICAgICBpZiAoc2VsZi5wZXJmb3JtYW5jZSAmJiBzZWxmLnBlcmZvcm1hbmNlLm5vdykge1xuICAgICAgICAgICAgdGhpcy5fbm93ID0gc2VsZi5wZXJmb3JtYW5jZS5ub3cuYmluZChzZWxmLnBlcmZvcm1hbmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX25vdyA9IERhdGUubm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9IHRoaXMuX2xhc3RDaGVja3BvaW50ID0gMDtcbiAgICAgICAgdGhpcy5fdG90YWxCeXRlcyA9IHRoaXMuX2ludGVydmFsQnl0ZXMgPSAwO1xuICAgICAgICB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgPSAwO1xuICAgIH1cblxuICAgIGFkZEJ5dGVzKGJ5dGVzKSB7XG4gICAgICAgIGlmICh0aGlzLl9maXJzdENoZWNrcG9pbnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCA9IHRoaXMuX25vdygpO1xuICAgICAgICAgICAgdGhpcy5fbGFzdENoZWNrcG9pbnQgPSB0aGlzLl9maXJzdENoZWNrcG9pbnQ7XG4gICAgICAgICAgICB0aGlzLl9pbnRlcnZhbEJ5dGVzICs9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fdG90YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9ub3coKSAtIHRoaXMuX2xhc3RDaGVja3BvaW50IDwgMTAwMCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsQnl0ZXMgKz0gYnl0ZXM7XG4gICAgICAgIH0gZWxzZSB7ICAvLyBkdXJhdGlvbiA+PSAxMDAwXG4gICAgICAgICAgICB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgPSB0aGlzLl9pbnRlcnZhbEJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJ2YWxCeXRlcyA9IGJ5dGVzO1xuICAgICAgICAgICAgdGhpcy5fdG90YWxCeXRlcyArPSBieXRlcztcbiAgICAgICAgICAgIHRoaXMuX2xhc3RDaGVja3BvaW50ID0gdGhpcy5fbm93KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgY3VycmVudEtCcHMoKSB7XG4gICAgICAgIHRoaXMuYWRkQnl0ZXMoMCk7XG5cbiAgICAgICAgbGV0IGR1cmF0aW9uU2Vjb25kcyA9ICh0aGlzLl9ub3coKSAtIHRoaXMuX2xhc3RDaGVja3BvaW50KSAvIDEwMDA7XG4gICAgICAgIGlmIChkdXJhdGlvblNlY29uZHMgPT0gMCkgZHVyYXRpb25TZWNvbmRzID0gMTtcbiAgICAgICAgcmV0dXJuICh0aGlzLl9pbnRlcnZhbEJ5dGVzIC8gZHVyYXRpb25TZWNvbmRzKSAvIDEwMjQ7XG4gICAgfVxuXG4gICAgZ2V0IGxhc3RTZWNvbmRLQnBzKCkge1xuICAgICAgICB0aGlzLmFkZEJ5dGVzKDApO1xuXG4gICAgICAgIGlmICh0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgIT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sYXN0U2Vjb25kQnl0ZXMgLyAxMDI0O1xuICAgICAgICB9IGVsc2UgeyAgLy8gbGFzdFNlY29uZEJ5dGVzID09PSAwXG4gICAgICAgICAgICBpZiAodGhpcy5fbm93KCkgLSB0aGlzLl9sYXN0Q2hlY2twb2ludCA+PSA1MDApIHtcbiAgICAgICAgICAgICAgICAvLyBpZiB0aW1lIGludGVydmFsIHNpbmNlIGxhc3QgY2hlY2twb2ludCBoYXMgZXhjZWVkZWQgNTAwbXNcbiAgICAgICAgICAgICAgICAvLyB0aGUgc3BlZWQgaXMgbmVhcmx5IGFjY3VyYXRlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEtCcHM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGtub3dcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBhdmVyYWdlS0JwcygpIHtcbiAgICAgICAgbGV0IGR1cmF0aW9uU2Vjb25kcyA9ICh0aGlzLl9ub3coKSAtIHRoaXMuX2ZpcnN0Q2hlY2twb2ludCkgLyAxMDAwO1xuICAgICAgICByZXR1cm4gKHRoaXMuX3RvdGFsQnl0ZXMgLyBkdXJhdGlvblNlY29uZHMpIC8gMTAyNDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BlZWRTYW1wbGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgUnVudGltZUV4Y2VwdGlvbiB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIH1cblxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gJ1J1bnRpbWVFeGNlcHRpb24nO1xuICAgIH1cblxuICAgIGdldCBtZXNzYWdlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVzc2FnZTtcbiAgICB9XG5cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmFtZSArICc6ICcgKyB0aGlzLm1lc3NhZ2U7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24gZXh0ZW5kcyBSdW50aW1lRXhjZXB0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJztcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiBleHRlbmRzIFJ1bnRpbWVFeGNlcHRpb24ge1xuXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICB9XG5cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuICdJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24nO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgTm90SW1wbGVtZW50ZWRFeGNlcHRpb24gZXh0ZW5kcyBSdW50aW1lRXhjZXB0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgfVxuXG4gICAgZ2V0IG5hbWUoKSB7XG4gICAgICAgIHJldHVybiAnTm90SW1wbGVtZW50ZWRFeGNlcHRpb24nO1xuICAgIH1cblxufVxuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7Tm90SW1wbGVtZW50ZWRFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbmV4cG9ydCBjb25zdCBMb2FkZXJTdGF0dXMgPSB7XG4gICAga0lkbGU6IDAsXG4gICAga0Nvbm5lY3Rpbmc6IDEsXG4gICAga0J1ZmZlcmluZzogMixcbiAgICBrRXJyb3I6IDMsXG4gICAga0NvbXBsZXRlOiA0XG59O1xuXG5leHBvcnQgY29uc3QgTG9hZGVyRXJyb3JzID0ge1xuICAgIE9LOiAnT0snLFxuICAgIEVYQ0VQVElPTjogJ0V4Y2VwdGlvbicsXG4gICAgSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElEOiAnSHR0cFN0YXR1c0NvZGVJbnZhbGlkJyxcbiAgICBDT05ORUNUSU5HX1RJTUVPVVQ6ICdDb25uZWN0aW5nVGltZW91dCcsXG4gICAgRUFSTFlfRU9GOiAnRWFybHlFb2YnLFxuICAgIFVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GOiAnVW5yZWNvdmVyYWJsZUVhcmx5RW9mJ1xufTtcblxuLyogTG9hZGVyIGhhcyBjYWxsYmFja3Mgd2hpY2ggaGF2ZSBmb2xsb3dpbmcgcHJvdG90eXBlczpcbiAqICAgICBmdW5jdGlvbiBvbkNvbnRlbnRMZW5ndGhLbm93bihjb250ZW50TGVuZ3RoOiBudW1iZXIpOiB2b2lkXG4gKiAgICAgZnVuY3Rpb24gb25VUkxSZWRpcmVjdCh1cmw6IHN0cmluZyk6IHZvaWRcbiAqICAgICBmdW5jdGlvbiBvbkRhdGFBcnJpdmFsKGNodW5rOiBBcnJheUJ1ZmZlciwgYnl0ZVN0YXJ0OiBudW1iZXIsIHJlY2VpdmVkTGVuZ3RoOiBudW1iZXIpOiB2b2lkXG4gKiAgICAgZnVuY3Rpb24gb25FcnJvcihlcnJvclR5cGU6IG51bWJlciwgZXJyb3JJbmZvOiB7Y29kZTogbnVtYmVyLCBtc2c6IHN0cmluZ30pOiB2b2lkXG4gKiAgICAgZnVuY3Rpb24gb25Db21wbGV0ZShyYW5nZUZyb206IG51bWJlciwgcmFuZ2VUbzogbnVtYmVyKTogdm9pZFxuICovXG5leHBvcnQgY2xhc3MgQmFzZUxvYWRlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcih0eXBlTmFtZSkge1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZU5hbWUgfHwgJ3VuZGVmaW5lZCc7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rSWRsZTtcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gZmFsc2U7XG4gICAgICAgIC8vIGNhbGxiYWNrc1xuICAgICAgICB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93biA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBudWxsO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rSWRsZTtcbiAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24gPSBudWxsO1xuICAgICAgICB0aGlzLl9vblVSTFJlZGlyZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gbnVsbDtcbiAgICB9XG5cbiAgICBpc1dvcmtpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0dXMgPT09IExvYWRlclN0YXR1cy5rQ29ubmVjdGluZyB8fCB0aGlzLl9zdGF0dXMgPT09IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdHVzO1xuICAgIH1cblxuICAgIGdldCBuZWVkU3Rhc2hCdWZmZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZWVkU3Rhc2g7XG4gICAgfVxuXG4gICAgZ2V0IG9uQ29udGVudExlbmd0aEtub3duKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd247XG4gICAgfVxuXG4gICAgc2V0IG9uQ29udGVudExlbmd0aEtub3duKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uVVJMUmVkaXJlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblVSTFJlZGlyZWN0O1xuICAgIH1cblxuICAgIHNldCBvblVSTFJlZGlyZWN0KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25EYXRhQXJyaXZhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRGF0YUFycml2YWw7XG4gICAgfVxuXG4gICAgc2V0IG9uRGF0YUFycml2YWwoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvbkVycm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25FcnJvcjtcbiAgICB9XG5cbiAgICBzZXQgb25FcnJvcihjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkVycm9yID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uQ29tcGxldGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkNvbXBsZXRlO1xuICAgIH1cblxuICAgIHNldCBvbkNvbXBsZXRlKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwdXJlIHZpcnR1YWxcbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRocm93IG5ldyBOb3RJbXBsZW1lbnRlZEV4Y2VwdGlvbignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBmdW5jdGlvbiEnKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vdEltcGxlbWVudGVkRXhjZXB0aW9uKCdVbmltcGxlbWVudGVkIGFic3RyYWN0IGZ1bmN0aW9uIScpO1xuICAgIH1cblxuXG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmxldCBCcm93c2VyID0ge307XG5cbmZ1bmN0aW9uIGRldGVjdCgpIHtcbiAgICAvLyBtb2RpZmllZCBmcm9tIGpxdWVyeS1icm93c2VyLXBsdWdpblxuXG4gICAgbGV0IHVhID0gc2VsZi5uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7XG5cbiAgICBsZXQgbWF0Y2ggPSAvKGVkZ2UpXFwvKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG9wcilbXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhjaHJvbWUpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGllbW9iaWxlKVtcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKHZlcnNpb24pKGFwcGxld2Via2l0KVsgXFwvXShbXFx3Ll0rKS4qKHNhZmFyaSlbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2Via2l0KVsgXFwvXShbXFx3Ll0rKS4qKHZlcnNpb24pWyBcXC9dKFtcXHcuXSspLiooc2FmYXJpKVsgXFwvXShbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh3ZWJraXQpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG9wZXJhKSg/Oi4qdmVyc2lvbnwpWyBcXC9dKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICAvKG1zaWUpIChbXFx3Ll0rKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgdWEuaW5kZXhPZigndHJpZGVudCcpID49IDAgJiYgLyhydikoPzo6fCApKFtcXHcuXSspLy5leGVjKHVhKSB8fFxuICAgICAgICB1YS5pbmRleE9mKCdjb21wYXRpYmxlJykgPCAwICYmIC8oZmlyZWZveClbIFxcL10oW1xcdy5dKykvLmV4ZWModWEpIHx8XG4gICAgICAgIFtdO1xuXG4gICAgbGV0IHBsYXRmb3JtX21hdGNoID0gLyhpcGFkKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhpcG9kKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyh3aW5kb3dzIHBob25lKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhpcGhvbmUpLy5leGVjKHVhKSB8fFxuICAgICAgICAvKGtpbmRsZSkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oYW5kcm9pZCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8od2luZG93cykvLmV4ZWModWEpIHx8XG4gICAgICAgIC8obWFjKS8uZXhlYyh1YSkgfHxcbiAgICAgICAgLyhsaW51eCkvLmV4ZWModWEpIHx8XG4gICAgICAgIC8oY3JvcykvLmV4ZWModWEpIHx8XG4gICAgICAgIFtdO1xuXG4gICAgbGV0IG1hdGNoZWQgPSB7XG4gICAgICAgIGJyb3dzZXI6IG1hdGNoWzVdIHx8IG1hdGNoWzNdIHx8IG1hdGNoWzFdIHx8ICcnLFxuICAgICAgICB2ZXJzaW9uOiBtYXRjaFsyXSB8fCBtYXRjaFs0XSB8fCAnMCcsXG4gICAgICAgIG1ham9yVmVyc2lvbjogbWF0Y2hbNF0gfHwgbWF0Y2hbMl0gfHwgJzAnLFxuICAgICAgICBwbGF0Zm9ybTogcGxhdGZvcm1fbWF0Y2hbMF0gfHwgJydcbiAgICB9O1xuXG4gICAgbGV0IGJyb3dzZXIgPSB7fTtcbiAgICBpZiAobWF0Y2hlZC5icm93c2VyKSB7XG4gICAgICAgIGJyb3dzZXJbbWF0Y2hlZC5icm93c2VyXSA9IHRydWU7XG5cbiAgICAgICAgbGV0IHZlcnNpb25BcnJheSA9IG1hdGNoZWQubWFqb3JWZXJzaW9uLnNwbGl0KCcuJyk7XG4gICAgICAgIGJyb3dzZXIudmVyc2lvbiA9IHtcbiAgICAgICAgICAgIG1ham9yOiBwYXJzZUludChtYXRjaGVkLm1ham9yVmVyc2lvbiwgMTApLFxuICAgICAgICAgICAgc3RyaW5nOiBtYXRjaGVkLnZlcnNpb25cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHZlcnNpb25BcnJheS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBicm93c2VyLnZlcnNpb24ubWlub3IgPSBwYXJzZUludCh2ZXJzaW9uQXJyYXlbMV0sIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmVyc2lvbkFycmF5Lmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgIGJyb3dzZXIudmVyc2lvbi5idWlsZCA9IHBhcnNlSW50KHZlcnNpb25BcnJheVsyXSwgMTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoZWQucGxhdGZvcm0pIHtcbiAgICAgICAgYnJvd3NlclttYXRjaGVkLnBsYXRmb3JtXSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKGJyb3dzZXIuY2hyb21lIHx8IGJyb3dzZXIub3ByIHx8IGJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgIGJyb3dzZXIud2Via2l0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBNU0lFLiBJRTExIGhhcyAncnYnIGlkZW50aWZlclxuICAgIGlmIChicm93c2VyLnJ2IHx8IGJyb3dzZXIuaWVtb2JpbGUpIHtcbiAgICAgICAgaWYgKGJyb3dzZXIucnYpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBicm93c2VyLnJ2O1xuICAgICAgICB9XG4gICAgICAgIGxldCBtc2llID0gJ21zaWUnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBtc2llO1xuICAgICAgICBicm93c2VyW21zaWVdID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBNaWNyb3NvZnQgRWRnZVxuICAgIGlmIChicm93c2VyLmVkZ2UpIHtcbiAgICAgICAgZGVsZXRlIGJyb3dzZXIuZWRnZTtcbiAgICAgICAgbGV0IG1zZWRnZSA9ICdtc2VkZ2UnO1xuICAgICAgICBtYXRjaGVkLmJyb3dzZXIgPSBtc2VkZ2U7XG4gICAgICAgIGJyb3dzZXJbbXNlZGdlXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gT3BlcmEgMTUrXG4gICAgaWYgKGJyb3dzZXIub3ByKSB7XG4gICAgICAgIGxldCBvcGVyYSA9ICdvcGVyYSc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IG9wZXJhO1xuICAgICAgICBicm93c2VyW29wZXJhXSA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gU3RvY2sgYW5kcm9pZCBicm93c2VycyBhcmUgbWFya2VkIGFzIFNhZmFyaVxuICAgIGlmIChicm93c2VyLnNhZmFyaSAmJiBicm93c2VyLmFuZHJvaWQpIHtcbiAgICAgICAgbGV0IGFuZHJvaWQgPSAnYW5kcm9pZCc7XG4gICAgICAgIG1hdGNoZWQuYnJvd3NlciA9IGFuZHJvaWQ7XG4gICAgICAgIGJyb3dzZXJbYW5kcm9pZF0gPSB0cnVlO1xuICAgIH1cblxuICAgIGJyb3dzZXIubmFtZSA9IG1hdGNoZWQuYnJvd3NlcjtcbiAgICBicm93c2VyLnBsYXRmb3JtID0gbWF0Y2hlZC5wbGF0Zm9ybTtcblxuICAgIGZvciAobGV0IGtleSBpbiBCcm93c2VyKSB7XG4gICAgICAgIGlmIChCcm93c2VyLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBCcm93c2VyW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JqZWN0LmFzc2lnbihCcm93c2VyLCBicm93c2VyKTtcbn1cblxuZGV0ZWN0KCk7XG5cbmV4cG9ydCBkZWZhdWx0IEJyb3dzZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHtCYXNlTG9hZGVyLCBMb2FkZXJTdGF0dXMsIExvYWRlckVycm9yc30gZnJvbSAnLi9sb2FkZXIuanMnO1xuaW1wb3J0IHtSdW50aW1lRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vKiBmZXRjaCArIHN0cmVhbSBJTyBsb2FkZXIuIEN1cnJlbnRseSB3b3JraW5nIG9uIGNocm9tZSA0MysuXG4gKiBmZXRjaCBwcm92aWRlcyBhIGJldHRlciBhbHRlcm5hdGl2ZSBodHRwIEFQSSB0byBYTUxIdHRwUmVxdWVzdFxuICpcbiAqIGZldGNoIHNwZWMgICBodHRwczovL2ZldGNoLnNwZWMud2hhdHdnLm9yZy9cbiAqIHN0cmVhbSBzcGVjICBodHRwczovL3N0cmVhbXMuc3BlYy53aGF0d2cub3JnL1xuICovXG5jbGFzcyBGZXRjaFN0cmVhbUxvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gZmV0Y2ggKyBzdHJlYW0gaXMgYnJva2VuIG9uIE1pY3Jvc29mdCBFZGdlLiBEaXNhYmxlIGJlZm9yZSBidWlsZCAxNTA0OC5cbiAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy84MTk2OTA3L1xuICAgICAgICAgICAgLy8gRml4ZWQgaW4gSmFuIDEwLCAyMDE3LiBCdWlsZCAxNTA0OCsgcmVtb3ZlZCBmcm9tIGJsYWNrbGlzdC5cbiAgICAgICAgICAgIGxldCBpc1dvcmtXZWxsRWRnZSA9IEJyb3dzZXIubXNlZGdlICYmIEJyb3dzZXIudmVyc2lvbi5taW5vciA+PSAxNTA0ODtcbiAgICAgICAgICAgIGxldCBicm93c2VyTm90QmxhY2tsaXN0ZWQgPSBCcm93c2VyLm1zZWRnZSA/IGlzV29ya1dlbGxFZGdlIDogdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiAoc2VsZi5mZXRjaCAmJiBzZWxmLlJlYWRhYmxlU3RyZWFtICYmIGJyb3dzZXJOb3RCbGFja2xpc3RlZCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ2ZldGNoLXN0cmVhbS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnRmV0Y2hTdHJlYW1Mb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwgJiYgZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc291cmNlVVJMID0gZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZWtDb25maWcgPSB0aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcoc291cmNlVVJMLCByYW5nZSk7XG5cbiAgICAgICAgbGV0IGhlYWRlcnMgPSBuZXcgc2VsZi5IZWFkZXJzKCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrQ29uZmlnLmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBsZXQgY29uZmlnSGVhZGVycyA9IHNlZWtDb25maWcuaGVhZGVycztcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBjb25maWdIZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZ0hlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLmFwcGVuZChrZXksIGNvbmZpZ0hlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBhcmFtcyA9IHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiBoZWFkZXJzLFxuICAgICAgICAgICAgbW9kZTogJ2NvcnMnLFxuICAgICAgICAgICAgY2FjaGU6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgIC8vIFRoZSBkZWZhdWx0IHBvbGljeSBvZiBGZXRjaCBBUEkgaW4gdGhlIHdoYXR3ZyBzdGFuZGFyZFxuICAgICAgICAgICAgLy8gU2FmYXJpIGluY29ycmVjdGx5IGluZGljYXRlcyAnbm8tcmVmZXJyZXInIGFzIGRlZmF1bHQgcG9saWN5LCBmdWNrIGl0XG4gICAgICAgICAgICByZWZlcnJlclBvbGljeTogJ25vLXJlZmVycmVyLXdoZW4tZG93bmdyYWRlJ1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGFkZCBhZGRpdGlvbmFsIGhlYWRlcnNcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9jb25maWcuaGVhZGVycyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiB0aGlzLl9jb25maWcuaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdGhpcy5fY29uZmlnLmhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb3JzIGlzIGVuYWJsZWQgYnkgZGVmYXVsdFxuICAgICAgICBpZiAoZGF0YVNvdXJjZS5jb3JzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gbm8tY29ycyBtZWFucyAnZGlzcmVnYXJkIGNvcnMgcG9saWN5Jywgd2hpY2ggY2FuIG9ubHkgYmUgdXNlZCBpbiBTZXJ2aWNlV29ya2VyXG4gICAgICAgICAgICBwYXJhbXMubW9kZSA9ICdzYW1lLW9yaWdpbic7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3aXRoQ3JlZGVudGlhbHMgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdFxuICAgICAgICBpZiAoZGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHBhcmFtcy5jcmVkZW50aWFscyA9ICdpbmNsdWRlJztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJlZmVycmVyUG9saWN5IGZyb20gY29uZmlnXG4gICAgICAgIGlmIChkYXRhU291cmNlLnJlZmVycmVyUG9saWN5KSB7XG4gICAgICAgICAgICBwYXJhbXMucmVmZXJyZXJQb2xpY3kgPSBkYXRhU291cmNlLnJlZmVycmVyUG9saWN5O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb25uZWN0aW5nO1xuICAgICAgICBzZWxmLmZldGNoKHNlZWtDb25maWcudXJsLCBwYXJhbXMpLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RBYm9ydCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rSWRsZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmVzLm9rICYmIChyZXMuc3RhdHVzID49IDIwMCAmJiByZXMuc3RhdHVzIDw9IDI5OSkpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLnVybCAhPT0gc2Vla0NvbmZpZy51cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uVVJMUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWRpcmVjdGVkVVJMID0gdGhpcy5fc2Vla0hhbmRsZXIucmVtb3ZlVVJMUGFyYW1ldGVycyhyZXMudXJsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QocmVkaXJlY3RlZFVSTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgbGVuZ3RoSGVhZGVyID0gcmVzLmhlYWRlcnMuZ2V0KCdDb250ZW50LUxlbmd0aCcpO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGhIZWFkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250ZW50TGVuZ3RoID0gcGFyc2VJbnQobGVuZ3RoSGVhZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKHRoaXMuX2NvbnRlbnRMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3B1bXAuY2FsbCh0aGlzLCByZXMuYm9keS5nZXRSZWFkZXIoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElELCB7Y29kZTogcmVzLnN0YXR1cywgbXNnOiByZXMuc3RhdHVzVGV4dH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdGZXRjaFN0cmVhbUxvYWRlcjogSHR0cCBjb2RlIGludmFsaWQsICcgKyByZXMuc3RhdHVzICsgJyAnICsgcmVzLnN0YXR1c1RleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoTG9hZGVyRXJyb3JzLkVYQ0VQVElPTiwge2NvZGU6IC0xLCBtc2c6IGUubWVzc2FnZX0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBfcHVtcChyZWFkZXIpIHsgIC8vIFJlYWRhYmxlU3RyZWFtUmVhZGVyXG4gICAgICAgIHJldHVybiByZWFkZXIucmVhZCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICAgICAgLy8gRmlyc3QgY2hlY2sgcmVjZWl2ZWQgbGVuZ3RoXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggIT09IG51bGwgJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcG9ydCBFYXJseS1FT0ZcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHR5cGUgPSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5mbyA9IHtjb2RlOiAtMSwgbXNnOiAnRmV0Y2ggc3RyZWFtIG1lZXQgRWFybHktRU9GJ307XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gT0suIERvd25sb2FkIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX3JhbmdlLmZyb20sIHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEFib3J0ID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNodW5rID0gcmVzdWx0LnZhbHVlLmJ1ZmZlcjtcbiAgICAgICAgICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoICs9IGNodW5rLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRhdGFBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9wdW1wKHJlYWRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5jb2RlID09PSAxMSAmJiBCcm93c2VyLm1zZWRnZSkgeyAgLy8gSW52YWxpZFN0YXRlRXJyb3Igb24gTWljcm9zb2Z0IEVkZ2VcbiAgICAgICAgICAgICAgICAvLyBXb3JrYXJvdW5kOiBFZGdlIG1heSB0aHJvdyBJbnZhbGlkU3RhdGVFcnJvciBhZnRlciBSZWFkYWJsZVN0cmVhbVJlYWRlci5jYW5jZWwoKSBjYWxsXG4gICAgICAgICAgICAgICAgLy8gSWdub3JlIHRoZSB1bmtub3duIGV4Y2VwdGlvbi5cbiAgICAgICAgICAgICAgICAvLyBSZWxhdGVkIGlzc3VlOiBodHRwczovL2RldmVsb3Blci5taWNyb3NvZnQuY29tL2VuLXVzL21pY3Jvc29mdC1lZGdlL3BsYXRmb3JtL2lzc3Vlcy8xMTI2NTIwMi9cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmICgoZS5jb2RlID09PSAxOSB8fCBlLm1lc3NhZ2UgPT09ICduZXR3b3JrIGVycm9yJykgJiYgLy8gTkVUV09SS19FUlJcbiAgICAgICAgICAgICAgICAodGhpcy5fY29udGVudExlbmd0aCA9PT0gbnVsbCB8fFxuICAgICAgICAgICAgICAgICh0aGlzLl9jb250ZW50TGVuZ3RoICE9PSBudWxsICYmIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIDwgdGhpcy5fY29udGVudExlbmd0aCkpKSB7XG4gICAgICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FQVJMWV9FT0Y7XG4gICAgICAgICAgICAgICAgaW5mbyA9IHtjb2RlOiBlLmNvZGUsIG1zZzogJ0ZldGNoIHN0cmVhbSBtZWV0IEVhcmx5LUVPRid9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgICAgICAgICBpbmZvID0ge2NvZGU6IGUuY29kZSwgbXNnOiBlLm1lc3NhZ2V9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IodHlwZSwgaW5mbyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZldGNoU3RyZWFtTG9hZGVyO1xuIiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCB7QmFzZUxvYWRlciwgTG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vbG9hZGVyLmpzJztcbmltcG9ydCB7UnVudGltZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gRm9yIEZpcmVGb3ggYnJvd3NlciB3aGljaCBzdXBwb3J0cyBgeGhyLnJlc3BvbnNlVHlwZSA9ICdtb3otY2h1bmtlZC1hcnJheWJ1ZmZlcidgXG5jbGFzcyBNb3pDaHVua2VkTG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICAvLyBGaXJlZm94IDM3LSByZXF1aXJlcyAub3BlbigpIHRvIGJlIGNhbGxlZCBiZWZvcmUgc2V0dGluZyByZXNwb25zZVR5cGVcbiAgICAgICAgICAgIHhoci5vcGVuKCdHRVQnLCAnaHR0cHM6Ly9leGFtcGxlLmNvbScsIHRydWUpO1xuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdtb3otY2h1bmtlZC1hcnJheWJ1ZmZlcic7XG4gICAgICAgICAgICByZXR1cm4gKHhoci5yZXNwb25zZVR5cGUgPT09ICdtb3otY2h1bmtlZC1hcnJheWJ1ZmZlcicpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBMb2cudygnTW96Q2h1bmtlZExvYWRlcicsIGUubWVzc2FnZSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihzZWVrSGFuZGxlciwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKCd4aHItbW96LWNodW5rZWQtbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuVEFHID0gJ01vekNodW5rZWRMb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkTGVuZ3RoID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5pc1dvcmtpbmcoKSkge1xuICAgICAgICAgICAgdGhpcy5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl94aHIpIHtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ubG9hZGVuZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwgJiYgZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc291cmNlVVJMID0gZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZWtDb25maWcgPSB0aGlzLl9zZWVrSGFuZGxlci5nZXRDb25maWcoc291cmNlVVJMLCByYW5nZSk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RVUkwgPSBzZWVrQ29uZmlnLnVybDtcblxuICAgICAgICBsZXQgeGhyID0gdGhpcy5feGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHhoci5vcGVuKCdHRVQnLCBzZWVrQ29uZmlnLnVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnbW96LWNodW5rZWQtYXJyYXlidWZmZXInO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gdGhpcy5fb25SZWFkeVN0YXRlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbnByb2dyZXNzID0gdGhpcy5fb25Qcm9ncmVzcy5iaW5kKHRoaXMpO1xuICAgICAgICB4aHIub25sb2FkZW5kID0gdGhpcy5fb25Mb2FkRW5kLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmVycm9yID0gdGhpcy5fb25YaHJFcnJvci5iaW5kKHRoaXMpO1xuXG4gICAgICAgIC8vIGNvcnMgaXMgYXV0byBkZXRlY3RlZCBhbmQgZW5hYmxlZCBieSB4aHJcblxuICAgICAgICAvLyB3aXRoQ3JlZGVudGlhbHMgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdFxuICAgICAgICBpZiAoZGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBzZWVrQ29uZmlnLmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IHNlZWtDb25maWcuaGVhZGVycztcblxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhZGQgYWRkaXRpb25hbCBoZWFkZXJzXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY29uZmlnLmhlYWRlcnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IHRoaXMuX2NvbmZpZy5oZWFkZXJzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29ubmVjdGluZztcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICB9XG5cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3hocikge1xuICAgICAgICAgICAgdGhpcy5feGhyLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtDb21wbGV0ZTtcbiAgICB9XG5cbiAgICBfb25SZWFkeVN0YXRlQ2hhbmdlKGUpIHtcbiAgICAgICAgbGV0IHhociA9IGUudGFyZ2V0O1xuXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gMikgeyAgLy8gSEVBREVSU19SRUNFSVZFRFxuICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVVSTCAhPSB1bmRlZmluZWQgJiYgeGhyLnJlc3BvbnNlVVJMICE9PSB0aGlzLl9yZXF1ZXN0VVJMKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uVVJMUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlZGlyZWN0ZWRVUkwgPSB0aGlzLl9zZWVrSGFuZGxlci5yZW1vdmVVUkxQYXJhbWV0ZXJzKHhoci5yZXNwb25zZVVSTCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QocmVkaXJlY3RlZFVSTCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyAhPT0gMCAmJiAoeGhyLnN0YXR1cyA8IDIwMCB8fCB4aHIuc3RhdHVzID4gMjk5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuSFRUUF9TVEFUVVNfQ09ERV9JTlZBTElELCB7Y29kZTogeGhyLnN0YXR1cywgbXNnOiB4aHIuc3RhdHVzVGV4dH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdNb3pDaHVua2VkTG9hZGVyOiBIdHRwIGNvZGUgaW52YWxpZCwgJyArIHhoci5zdGF0dXMgKyAnICcgKyB4aHIuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0J1ZmZlcmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblByb2dyZXNzKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXR1cyA9PT0gTG9hZGVyU3RhdHVzLmtFcnJvcikge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGUudG90YWwgIT09IG51bGwgJiYgZS50b3RhbCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSBlLnRvdGFsO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkNvbnRlbnRMZW5ndGhLbm93bih0aGlzLl9jb250ZW50TGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY2h1bmsgPSBlLnRhcmdldC5yZXNwb25zZTtcbiAgICAgICAgbGV0IGJ5dGVTdGFydCA9IHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbChjaHVuaywgYnl0ZVN0YXJ0LCB0aGlzLl9yZWNlaXZlZExlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Mb2FkRW5kKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RBYm9ydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RhdHVzID09PSBMb2FkZXJTdGF0dXMua0Vycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICBpZiAodGhpcy5fb25Db21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5fb25Db21wbGV0ZSh0aGlzLl9yYW5nZS5mcm9tLCB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vblhockVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcbiAgICAgICAgbGV0IHR5cGUgPSAwO1xuICAgICAgICBsZXQgaW5mbyA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggJiYgZS5sb2FkZWQgPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogJ01vei1DaHVua2VkIHN0cmVhbSBtZWV0IEVhcmx5LUVvZid9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5FWENFUFRJT047XG4gICAgICAgICAgICBpbmZvID0ge2NvZGU6IC0xLCBtc2c6IGUuY29uc3RydWN0b3IubmFtZSArICcgJyArIGUudHlwZX07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlLCBpbmZvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKGluZm8ubXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNb3pDaHVua2VkTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgU3BlZWRTYW1wbGVyIGZyb20gJy4vc3BlZWQtc2FtcGxlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIFVuaXZlcnNhbCBJTyBMb2FkZXIsIGltcGxlbWVudGVkIGJ5IGFkZGluZyBSYW5nZSBoZWFkZXIgaW4geGhyJ3MgcmVxdWVzdCBoZWFkZXJcbmNsYXNzIFJhbmdlTG9hZGVyIGV4dGVuZHMgQmFzZUxvYWRlciB7XG5cbiAgICBzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignR0VUJywgJ2h0dHBzOi8vZXhhbXBsZS5jb20nLCB0cnVlKTtcbiAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgICAgICAgICAgcmV0dXJuICh4aHIucmVzcG9uc2VUeXBlID09PSAnYXJyYXlidWZmZXInKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgTG9nLncoJ1JhbmdlTG9hZGVyJywgZS5tZXNzYWdlKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHNlZWtIYW5kbGVyLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoJ3hoci1yYW5nZS1sb2FkZXInKTtcbiAgICAgICAgdGhpcy5UQUcgPSAnUmFuZ2VMb2FkZXInO1xuXG4gICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gc2Vla0hhbmRsZXI7XG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fY2h1bmtTaXplS0JMaXN0ID0gW1xuICAgICAgICAgICAgMTI4LCAyNTYsIDM4NCwgNTEyLCA3NjgsIDEwMjQsIDE1MzYsIDIwNDgsIDMwNzIsIDQwOTYsIDUxMjAsIDYxNDQsIDcxNjgsIDgxOTJcbiAgICAgICAgXTtcbiAgICAgICAgdGhpcy5fY3VycmVudENodW5rU2l6ZUtCID0gMzg0O1xuICAgICAgICB0aGlzLl9jdXJyZW50U3BlZWROb3JtYWxpemVkID0gMDtcbiAgICAgICAgdGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCA9IDA7XG5cbiAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyID0gbmV3IFNwZWVkU2FtcGxlcigpO1xuXG4gICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdG90YWxMZW5ndGhSZWNlaXZlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY3VycmVudFJlZGlyZWN0ZWRVUkwgPSBudWxsO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdG90YWxMZW5ndGggPSBudWxsOyAgLy8gc2l6ZSBvZiB0aGUgZW50aXJlIGZpbGVcbiAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IG51bGw7ICAvLyBDb250ZW50LUxlbmd0aCBvZiBlbnRpcmUgcmVxdWVzdCByYW5nZVxuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7ICAvLyB0b3RhbCByZWNlaXZlZCBieXRlc1xuICAgICAgICB0aGlzLl9sYXN0VGltZUxvYWRlZCA9IDA7ICAvLyByZWNlaXZlZCBieXRlcyBvZiBjdXJyZW50IHJlcXVlc3Qgc3ViLXJhbmdlXG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5feGhyKSB7XG4gICAgICAgICAgICB0aGlzLl94aHIub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnByb2dyZXNzID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbmxvYWQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9uZXJyb3IgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRTcGVlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NwZWVkU2FtcGxlci5sYXN0U2Vjb25kS0JwcztcbiAgICB9XG5cbiAgICBvcGVuKGRhdGFTb3VyY2UsIHJhbmdlKSB7XG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Nvbm5lY3Rpbmc7XG5cbiAgICAgICAgbGV0IHVzZVJlZlRvdGFsTGVuZ3RoID0gZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLl9kYXRhU291cmNlLmZpbGVzaXplICE9IHVuZGVmaW5lZCAmJiB0aGlzLl9kYXRhU291cmNlLmZpbGVzaXplICE9PSAwKSB7XG4gICAgICAgICAgICB1c2VSZWZUb3RhbExlbmd0aCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl90b3RhbExlbmd0aCA9IHRoaXMuX2RhdGFTb3VyY2UuZmlsZXNpemU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuX3RvdGFsTGVuZ3RoUmVjZWl2ZWQgJiYgIXVzZVJlZlRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBXZSBuZWVkIHRvdGFsIGZpbGVzaXplXG4gICAgICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHtmcm9tOiAwLCB0bzogLTF9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgZmlsZXNpemUsIHN0YXJ0IGxvYWRpbmdcbiAgICAgICAgICAgIHRoaXMuX29wZW5TdWJSYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29wZW5TdWJSYW5nZSgpIHtcbiAgICAgICAgbGV0IGNodW5rU2l6ZSA9IHRoaXMuX2N1cnJlbnRDaHVua1NpemVLQiAqIDEwMjQ7XG5cbiAgICAgICAgbGV0IGZyb20gPSB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fcmVjZWl2ZWRMZW5ndGg7XG4gICAgICAgIGxldCB0byA9IGZyb20gKyBjaHVua1NpemU7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggIT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRvIC0gdGhpcy5fcmFuZ2UuZnJvbSA+PSB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdG8gPSB0aGlzLl9yYW5nZS5mcm9tICsgdGhpcy5fY29udGVudExlbmd0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFJhbmdlID0ge2Zyb20sIHRvfTtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxPcGVuKHRoaXMuX2RhdGFTb3VyY2UsIHRoaXMuX2N1cnJlbnRSZXF1ZXN0UmFuZ2UpO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbE9wZW4oZGF0YVNvdXJjZSwgcmFuZ2UpIHtcbiAgICAgICAgdGhpcy5fbGFzdFRpbWVMb2FkZWQgPSAwO1xuXG4gICAgICAgIGxldCBzb3VyY2VVUkwgPSBkYXRhU291cmNlLnVybDtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5yZXVzZVJlZGlyZWN0ZWRVUkwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBzb3VyY2VVUkwgPSB0aGlzLl9jdXJyZW50UmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YVNvdXJjZS5yZWRpcmVjdGVkVVJMICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHNvdXJjZVVSTCA9IGRhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZWVrQ29uZmlnID0gdGhpcy5fc2Vla0hhbmRsZXIuZ2V0Q29uZmlnKHNvdXJjZVVSTCwgcmFuZ2UpO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmVxdWVzdFVSTCA9IHNlZWtDb25maWcudXJsO1xuXG4gICAgICAgIGxldCB4aHIgPSB0aGlzLl94aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIHNlZWtDb25maWcudXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSB0aGlzLl9vblJlYWR5U3RhdGVDaGFuZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9ucHJvZ3Jlc3MgPSB0aGlzLl9vblByb2dyZXNzLmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vbmxvYWQgPSB0aGlzLl9vbkxvYWQuYmluZCh0aGlzKTtcbiAgICAgICAgeGhyLm9uZXJyb3IgPSB0aGlzLl9vblhockVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgaWYgKGRhdGFTb3VyY2Uud2l0aENyZWRlbnRpYWxzKSB7XG4gICAgICAgICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlb2Ygc2Vla0NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSBzZWVrQ29uZmlnLmhlYWRlcnM7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiBoZWFkZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIGFkZGl0aW9uYWwgaGVhZGVyc1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuX2NvbmZpZy5oZWFkZXJzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbGV0IGhlYWRlcnMgPSB0aGlzLl9jb25maWcuaGVhZGVycztcblxuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaGVhZGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9yZXF1ZXN0QWJvcnQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgfVxuXG4gICAgX2ludGVybmFsQWJvcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl94aHIpIHtcbiAgICAgICAgICAgIHRoaXMuX3hoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ucHJvZ3Jlc3MgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5feGhyLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIub25lcnJvciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLl94aHIuYWJvcnQoKTtcbiAgICAgICAgICAgIHRoaXMuX3hociA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25SZWFkeVN0YXRlQ2hhbmdlKGUpIHtcbiAgICAgICAgbGV0IHhociA9IGUudGFyZ2V0O1xuXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gMikgeyAgLy8gSEVBREVSU19SRUNFSVZFRFxuICAgICAgICAgICAgaWYgKHhoci5yZXNwb25zZVVSTCAhPSB1bmRlZmluZWQpIHsgIC8vIGlmIHRoZSBicm93c2VyIHN1cHBvcnQgdGhpcyBwcm9wZXJ0eVxuICAgICAgICAgICAgICAgIGxldCByZWRpcmVjdGVkVVJMID0gdGhpcy5fc2Vla0hhbmRsZXIucmVtb3ZlVVJMUGFyYW1ldGVycyh4aHIucmVzcG9uc2VVUkwpO1xuICAgICAgICAgICAgICAgIGlmICh4aHIucmVzcG9uc2VVUkwgIT09IHRoaXMuX2N1cnJlbnRSZXF1ZXN0VVJMICYmIHJlZGlyZWN0ZWRVUkwgIT09IHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnRSZWRpcmVjdGVkVVJMID0gcmVkaXJlY3RlZFVSTDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX29uVVJMUmVkaXJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uVVJMUmVkaXJlY3QocmVkaXJlY3RlZFVSTCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8PSAyOTkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3dhaXRGb3JUb3RhbExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoTG9hZGVyRXJyb3JzLkhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRCwge2NvZGU6IHhoci5zdGF0dXMsIG1zZzogeGhyLnN0YXR1c1RleHR9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUnVudGltZUV4Y2VwdGlvbignUmFuZ2VMb2FkZXI6IEh0dHAgY29kZSBpbnZhbGlkLCAnICsgeGhyLnN0YXR1cyArICcgJyArIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Qcm9ncmVzcyhlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0dXMgPT09IExvYWRlclN0YXR1cy5rRXJyb3IpIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBlcnJvciByZXNwb25zZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbnRlbnRMZW5ndGggPT09IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBvcGVuTmV4dFJhbmdlID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3RhbExlbmd0aFJlY2VpdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvcGVuTmV4dFJhbmdlID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIGxldCB0b3RhbCA9IGUudG90YWw7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICAgICAgICAgIGlmICh0b3RhbCAhPSBudWxsICYgdG90YWwgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdG90YWxMZW5ndGggPSB0b3RhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSBjdXJycmVudCByZXF1ZXN0IHJhbmdlJ3MgY29udGVudExlbmd0aFxuICAgICAgICAgICAgaWYgKHRoaXMuX3JhbmdlLnRvID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbnRlbnRMZW5ndGggPSB0aGlzLl90b3RhbExlbmd0aCAtIHRoaXMuX3JhbmdlLmZyb207XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gdG8gIT09IC0xXG4gICAgICAgICAgICAgICAgdGhpcy5fY29udGVudExlbmd0aCA9IHRoaXMuX3JhbmdlLnRvIC0gdGhpcy5fcmFuZ2UuZnJvbSArIDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvcGVuTmV4dFJhbmdlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlblN1YlJhbmdlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29udGVudExlbmd0aEtub3duKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24odGhpcy5fY29udGVudExlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGVsdGEgPSBlLmxvYWRlZCAtIHRoaXMuX2xhc3RUaW1lTG9hZGVkO1xuICAgICAgICB0aGlzLl9sYXN0VGltZUxvYWRlZCA9IGUubG9hZGVkO1xuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIuYWRkQnl0ZXMoZGVsdGEpO1xuICAgIH1cblxuICAgIF9ub3JtYWxpemVTcGVlZChpbnB1dCkge1xuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX2NodW5rU2l6ZUtCTGlzdDtcbiAgICAgICAgbGV0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgaWYgKGlucHV0IDwgbGlzdFswXSkge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RbMF07XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAobGJvdW5kIDw9IHVib3VuZCkge1xuICAgICAgICAgICAgbWlkID0gbGJvdW5kICsgTWF0aC5mbG9vcigodWJvdW5kIC0gbGJvdW5kKSAvIDIpO1xuICAgICAgICAgICAgaWYgKG1pZCA9PT0gbGFzdCB8fCAoaW5wdXQgPj0gbGlzdFttaWRdICYmIGlucHV0IDwgbGlzdFttaWQgKyAxXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdFttaWRdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsaXN0W21pZF0gPCBpbnB1dCkge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Mb2FkKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXR1cyA9PT0gTG9hZGVyU3RhdHVzLmtFcnJvcikge1xuICAgICAgICAgICAgLy8gSWdub3JlIGVycm9yIHJlc3BvbnNlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fd2FpdEZvclRvdGFsTGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl93YWl0Rm9yVG90YWxMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xhc3RUaW1lTG9hZGVkID0gMDtcbiAgICAgICAgbGV0IEtCcHMgPSB0aGlzLl9zcGVlZFNhbXBsZXIubGFzdFNlY29uZEtCcHM7XG4gICAgICAgIGlmIChLQnBzID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLl96ZXJvU3BlZWRDaHVua0NvdW50Kys7XG4gICAgICAgICAgICBpZiAodGhpcy5femVyb1NwZWVkQ2h1bmtDb3VudCA+PSAzKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJ5IGdldCBjdXJyZW50S0JwcyBhZnRlciAzIGNodW5rc1xuICAgICAgICAgICAgICAgIEtCcHMgPSB0aGlzLl9zcGVlZFNhbXBsZXIuY3VycmVudEtCcHM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoS0JwcyAhPT0gMCkge1xuICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZWQgPSB0aGlzLl9ub3JtYWxpemVTcGVlZChLQnBzKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jdXJyZW50U3BlZWROb3JtYWxpemVkICE9PSBub3JtYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudFNwZWVkTm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudENodW5rU2l6ZUtCID0gbm9ybWFsaXplZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBjaHVuayA9IGUudGFyZ2V0LnJlc3BvbnNlO1xuICAgICAgICBsZXQgYnl0ZVN0YXJ0ID0gdGhpcy5fcmFuZ2UuZnJvbSArIHRoaXMuX3JlY2VpdmVkTGVuZ3RoO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGxldCByZXBvcnRDb21wbGV0ZSA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb250ZW50TGVuZ3RoICE9IG51bGwgJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBjb250aW51ZSBsb2FkIG5leHQgY2h1bmtcbiAgICAgICAgICAgIHRoaXMuX29wZW5TdWJSYW5nZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVwb3J0Q29tcGxldGUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggcmVjZWl2ZWQgY2h1bmtcbiAgICAgICAgaWYgKHRoaXMuX29uRGF0YUFycml2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRGF0YUFycml2YWwoY2h1bmssIGJ5dGVTdGFydCwgdGhpcy5fcmVjZWl2ZWRMZW5ndGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHJlcG9ydENvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKHRoaXMuX3JhbmdlLmZyb20sIHRoaXMuX3JhbmdlLmZyb20gKyB0aGlzLl9yZWNlaXZlZExlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uWGhyRXJyb3IoZSkge1xuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICBsZXQgdHlwZSA9IDA7XG4gICAgICAgIGxldCBpbmZvID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5fY29udGVudExlbmd0aCAmJiB0aGlzLl9yZWNlaXZlZExlbmd0aCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgdGhpcy5fcmVjZWl2ZWRMZW5ndGggPCB0aGlzLl9jb250ZW50TGVuZ3RoKSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVBUkxZX0VPRjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogJ1JhbmdlTG9hZGVyIG1lZXQgRWFybHktRW9mJ307XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLkVYQ0VQVElPTjtcbiAgICAgICAgICAgIGluZm8gPSB7Y29kZTogLTEsIG1zZzogZS5jb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgZS50eXBlfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKHR5cGUsIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlTG9hZGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQge0Jhc2VMb2FkZXIsIExvYWRlclN0YXR1cywgTG9hZGVyRXJyb3JzfSBmcm9tICcuL2xvYWRlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cbi8vIEZvciBGTFYgb3ZlciBXZWJTb2NrZXQgbGl2ZSBzdHJlYW1cbmNsYXNzIFdlYlNvY2tldExvYWRlciBleHRlbmRzIEJhc2VMb2FkZXIge1xuXG4gICAgc3RhdGljIGlzU3VwcG9ydGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2Ygc2VsZi5XZWJTb2NrZXQgIT09ICd1bmRlZmluZWQnKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCd3ZWJzb2NrZXQtbG9hZGVyJyk7XG4gICAgICAgIHRoaXMuVEFHID0gJ1dlYlNvY2tldExvYWRlcic7XG5cbiAgICAgICAgdGhpcy5fbmVlZFN0YXNoID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl93cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RBYm9ydCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9yZWNlaXZlZExlbmd0aCA9IDA7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dzKSB7XG4gICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIG9wZW4oZGF0YVNvdXJjZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHdzID0gdGhpcy5fd3MgPSBuZXcgc2VsZi5XZWJTb2NrZXQoZGF0YVNvdXJjZS51cmwpO1xuICAgICAgICAgICAgd3MuYmluYXJ5VHlwZSA9ICdhcnJheWJ1ZmZlcic7XG4gICAgICAgICAgICB3cy5vbm9wZW4gPSB0aGlzLl9vbldlYlNvY2tldE9wZW4uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHdzLm9uY2xvc2UgPSB0aGlzLl9vbldlYlNvY2tldENsb3NlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB3cy5vbm1lc3NhZ2UgPSB0aGlzLl9vbldlYlNvY2tldE1lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHdzLm9uZXJyb3IgPSB0aGlzLl9vbldlYlNvY2tldEVycm9yLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29ubmVjdGluZztcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdHVzID0gTG9hZGVyU3RhdHVzLmtFcnJvcjtcblxuICAgICAgICAgICAgbGV0IGluZm8gPSB7Y29kZTogZS5jb2RlLCBtc2c6IGUubWVzc2FnZX07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuRVhDRVBUSU9OLCBpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWJvcnQoKSB7XG4gICAgICAgIGxldCB3cyA9IHRoaXMuX3dzO1xuICAgICAgICBpZiAod3MgJiYgKHdzLnJlYWR5U3RhdGUgPT09IDAgfHwgd3MucmVhZHlTdGF0ZSA9PT0gMSkpIHsgIC8vIENPTk5FQ1RJTkcgfHwgT1BFTlxuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gdHJ1ZTtcbiAgICAgICAgICAgIHdzLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl93cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQ29tcGxldGU7XG4gICAgfVxuXG4gICAgX29uV2ViU29ja2V0T3BlbihlKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rQnVmZmVyaW5nO1xuICAgIH1cblxuICAgIF9vbldlYlNvY2tldENsb3NlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3JlcXVlc3RBYm9ydCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdEFib3J0ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0NvbXBsZXRlO1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkNvbXBsZXRlKDAsIHRoaXMuX3JlY2VpdmVkTGVuZ3RoIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25XZWJTb2NrZXRNZXNzYWdlKGUpIHtcbiAgICAgICAgaWYgKGUuZGF0YSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kaXNwYXRjaEFycmF5QnVmZmVyKGUuZGF0YSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5kYXRhIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICAgICAgbGV0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoQXJyYXlCdWZmZXIocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGUuZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0dXMgPSBMb2FkZXJTdGF0dXMua0Vycm9yO1xuICAgICAgICAgICAgbGV0IGluZm8gPSB7Y29kZTogLTEsIG1zZzogJ1Vuc3VwcG9ydGVkIFdlYlNvY2tldCBtZXNzYWdlIHR5cGU6ICcgKyBlLmRhdGEuY29uc3RydWN0b3IubmFtZX07XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcihMb2FkZXJFcnJvcnMuRVhDRVBUSU9OLCBpbmZvKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2Rpc3BhdGNoQXJyYXlCdWZmZXIoYXJyYXlidWZmZXIpIHtcbiAgICAgICAgbGV0IGNodW5rID0gYXJyYXlidWZmZXI7XG4gICAgICAgIGxldCBieXRlU3RhcnQgPSB0aGlzLl9yZWNlaXZlZExlbmd0aDtcbiAgICAgICAgdGhpcy5fcmVjZWl2ZWRMZW5ndGggKz0gY2h1bmsuYnl0ZUxlbmd0aDtcblxuICAgICAgICBpZiAodGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbChjaHVuaywgYnl0ZVN0YXJ0LCB0aGlzLl9yZWNlaXZlZExlbmd0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25XZWJTb2NrZXRFcnJvcihlKSB7XG4gICAgICAgIHRoaXMuX3N0YXR1cyA9IExvYWRlclN0YXR1cy5rRXJyb3I7XG5cbiAgICAgICAgbGV0IGluZm8gPSB7XG4gICAgICAgICAgICBjb2RlOiBlLmNvZGUsXG4gICAgICAgICAgICBtc2c6IGUubWVzc2FnZVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh0aGlzLl9vbkVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKExvYWRlckVycm9ycy5FWENFUFRJT04sIGluZm8pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFJ1bnRpbWVFeGNlcHRpb24oaW5mby5tc2cpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYlNvY2tldExvYWRlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY2xhc3MgUmFuZ2VTZWVrSGFuZGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcih6ZXJvU3RhcnQpIHtcbiAgICAgICAgdGhpcy5femVyb1N0YXJ0ID0gemVyb1N0YXJ0IHx8IGZhbHNlO1xuICAgIH1cblxuICAgIGdldENvbmZpZyh1cmwsIHJhbmdlKSB7XG4gICAgICAgIGxldCBoZWFkZXJzID0ge307XG5cbiAgICAgICAgaWYgKHJhbmdlLmZyb20gIT09IDAgfHwgcmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW07XG4gICAgICAgICAgICBpZiAocmFuZ2UudG8gIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcGFyYW0gPSBgYnl0ZXM9JHtyYW5nZS5mcm9tLnRvU3RyaW5nKCl9LSR7cmFuZ2UudG8udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbSA9IGBieXRlcz0ke3JhbmdlLmZyb20udG9TdHJpbmcoKX0tYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhlYWRlcnNbJ1JhbmdlJ10gPSBwYXJhbTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl96ZXJvU3RhcnQpIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ1JhbmdlJ10gPSAnYnl0ZXM9MC0nO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbW92ZVVSTFBhcmFtZXRlcnMoc2Vla2VkVVJMKSB7XG4gICAgICAgIHJldHVybiBzZWVrZWRVUkw7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFJhbmdlU2Vla0hhbmRsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNsYXNzIFBhcmFtU2Vla0hhbmRsZXIge1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1TdGFydCwgcGFyYW1FbmQpIHtcbiAgICAgICAgdGhpcy5fc3RhcnROYW1lID0gcGFyYW1TdGFydDtcbiAgICAgICAgdGhpcy5fZW5kTmFtZSA9IHBhcmFtRW5kO1xuICAgIH1cblxuICAgIGdldENvbmZpZyhiYXNlVXJsLCByYW5nZSkge1xuICAgICAgICBsZXQgdXJsID0gYmFzZVVybDtcblxuICAgICAgICBpZiAocmFuZ2UuZnJvbSAhPT0gMCB8fCByYW5nZS50byAhPT0gLTEpIHtcbiAgICAgICAgICAgIGxldCBuZWVkQW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh1cmwuaW5kZXhPZignPycpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHVybCArPSAnPyc7XG4gICAgICAgICAgICAgICAgbmVlZEFuZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAobmVlZEFuZCkge1xuICAgICAgICAgICAgICAgIHVybCArPSAnJic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVybCArPSBgJHt0aGlzLl9zdGFydE5hbWV9PSR7cmFuZ2UuZnJvbS50b1N0cmluZygpfWA7XG5cbiAgICAgICAgICAgIGlmIChyYW5nZS50byAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB1cmwgKz0gYCYke3RoaXMuX2VuZE5hbWV9PSR7cmFuZ2UudG8udG9TdHJpbmcoKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgaGVhZGVyczoge31cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW1vdmVVUkxQYXJhbWV0ZXJzKHNlZWtlZFVSTCkge1xuICAgICAgICBsZXQgYmFzZVVSTCA9IHNlZWtlZFVSTC5zcGxpdCgnPycpWzBdO1xuICAgICAgICBsZXQgcGFyYW1zID0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGxldCBxdWVyeUluZGV4ID0gc2Vla2VkVVJMLmluZGV4T2YoJz8nKTtcbiAgICAgICAgaWYgKHF1ZXJ5SW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBwYXJhbXMgPSBzZWVrZWRVUkwuc3Vic3RyaW5nKHF1ZXJ5SW5kZXggKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHRQYXJhbXMgPSAnJztcblxuICAgICAgICBpZiAocGFyYW1zICE9IHVuZGVmaW5lZCAmJiBwYXJhbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHBhaXJzID0gcGFyYW1zLnNwbGl0KCcmJyk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGFpciA9IHBhaXJzW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgbGV0IHJlcXVpcmVBbmQgPSAoaSA+IDApO1xuXG4gICAgICAgICAgICAgICAgaWYgKHBhaXJbMF0gIT09IHRoaXMuX3N0YXJ0TmFtZSAmJiBwYWlyWzBdICE9PSB0aGlzLl9lbmROYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXF1aXJlQW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRQYXJhbXMgKz0gJyYnO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFBhcmFtcyArPSBwYWlyc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKHJlc3VsdFBhcmFtcy5sZW5ndGggPT09IDApID8gYmFzZVVSTCA6IGJhc2VVUkwgKyAnPycgKyByZXN1bHRQYXJhbXM7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFBhcmFtU2Vla0hhbmRsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBTcGVlZFNhbXBsZXIgZnJvbSAnLi9zcGVlZC1zYW1wbGVyLmpzJztcbmltcG9ydCB7TG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vbG9hZGVyLmpzJztcbmltcG9ydCBGZXRjaFN0cmVhbUxvYWRlciBmcm9tICcuL2ZldGNoLXN0cmVhbS1sb2FkZXIuanMnO1xuaW1wb3J0IE1vekNodW5rZWRMb2FkZXIgZnJvbSAnLi94aHItbW96LWNodW5rZWQtbG9hZGVyLmpzJztcbmltcG9ydCBNU1N0cmVhbUxvYWRlciBmcm9tICcuL3hoci1tc3N0cmVhbS1sb2FkZXIuanMnO1xuaW1wb3J0IFJhbmdlTG9hZGVyIGZyb20gJy4veGhyLXJhbmdlLWxvYWRlci5qcyc7XG5pbXBvcnQgV2ViU29ja2V0TG9hZGVyIGZyb20gJy4vd2Vic29ja2V0LWxvYWRlci5qcyc7XG5pbXBvcnQgUmFuZ2VTZWVrSGFuZGxlciBmcm9tICcuL3JhbmdlLXNlZWstaGFuZGxlci5qcyc7XG5pbXBvcnQgUGFyYW1TZWVrSGFuZGxlciBmcm9tICcuL3BhcmFtLXNlZWstaGFuZGxlci5qcyc7XG5pbXBvcnQge1J1bnRpbWVFeGNlcHRpb24sIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vKipcbiAqIERhdGFTb3VyY2U6IHtcbiAqICAgICB1cmw6IHN0cmluZyxcbiAqICAgICBmaWxlc2l6ZTogbnVtYmVyLFxuICogICAgIGNvcnM6IGJvb2xlYW4sXG4gKiAgICAgd2l0aENyZWRlbnRpYWxzOiBib29sZWFuXG4gKiB9XG4gKiBcbiAqL1xuXG4vLyBNYW5hZ2UgSU8gTG9hZGVyc1xuY2xhc3MgSU9Db250cm9sbGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKGRhdGFTb3VyY2UsIGNvbmZpZywgZXh0cmFEYXRhKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ0lPQ29udHJvbGxlcic7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9leHRyYURhdGEgPSBleHRyYURhdGE7XG5cbiAgICAgICAgdGhpcy5fc3Rhc2hJbml0aWFsU2l6ZSA9IDEwMjQgKiAzODQ7ICAvLyBkZWZhdWx0IGluaXRpYWwgc2l6ZTogMzg0S0JcbiAgICAgICAgaWYgKGNvbmZpZy5zdGFzaEluaXRpYWxTaXplICE9IHVuZGVmaW5lZCAmJiBjb25maWcuc3Rhc2hJbml0aWFsU2l6ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIGFwcGx5IGZyb20gY29uZmlnXG4gICAgICAgICAgICB0aGlzLl9zdGFzaEluaXRpYWxTaXplID0gY29uZmlnLnN0YXNoSW5pdGlhbFNpemU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSAwO1xuICAgICAgICB0aGlzLl9zdGFzaFNpemUgPSB0aGlzLl9zdGFzaEluaXRpYWxTaXplO1xuICAgICAgICB0aGlzLl9idWZmZXJTaXplID0gMTAyNCAqIDEwMjQgKiAzOyAgLy8gaW5pdGlhbCBzaXplOiAzTUJcbiAgICAgICAgdGhpcy5fc3Rhc2hCdWZmZXIgPSBuZXcgQXJyYXlCdWZmZXIodGhpcy5fYnVmZmVyU2l6ZSk7XG4gICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5fZW5hYmxlU3Rhc2ggPSB0cnVlO1xuICAgICAgICBpZiAoY29uZmlnLmVuYWJsZVN0YXNoQnVmZmVyID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlU3Rhc2ggPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWRlckNsYXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc2Vla0hhbmRsZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UgPSBkYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9pc1dlYlNvY2tldFVSTCA9IC93c3M/OlxcL1xcLyguKz8pLy50ZXN0KGRhdGFTb3VyY2UudXJsKTtcbiAgICAgICAgdGhpcy5fcmVmVG90YWxMZW5ndGggPSBkYXRhU291cmNlLmZpbGVzaXplID8gZGF0YVNvdXJjZS5maWxlc2l6ZSA6IG51bGw7XG4gICAgICAgIHRoaXMuX3RvdGFsTGVuZ3RoID0gdGhpcy5fcmVmVG90YWxMZW5ndGg7XG4gICAgICAgIHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZWRpcmVjdGVkVVJMID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zcGVlZE5vcm1hbGl6ZWQgPSAwO1xuICAgICAgICB0aGlzLl9zcGVlZFNhbXBsZXIgPSBuZXcgU3BlZWRTYW1wbGVyKCk7XG4gICAgICAgIHRoaXMuX3NwZWVkTm9ybWFsaXplTGlzdCA9IFs2NCwgMTI4LCAyNTYsIDM4NCwgNTEyLCA3NjgsIDEwMjQsIDE1MzYsIDIwNDgsIDMwNzIsIDQwOTZdO1xuXG4gICAgICAgIHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fcmVzdW1lRnJvbSA9IDA7XG5cbiAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uU2Vla2VkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblJlZGlyZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fc2VsZWN0U2Vla0hhbmRsZXIoKTtcbiAgICAgICAgdGhpcy5fc2VsZWN0TG9hZGVyKCk7XG4gICAgICAgIHRoaXMuX2NyZWF0ZUxvYWRlcigpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9sb2FkZXIuaXNXb3JraW5nKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlci5hYm9ydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2xvYWRlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2xvYWRlckNsYXNzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZGF0YVNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXNoQnVmZmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gdGhpcy5fc3Rhc2hTaXplID0gdGhpcy5fYnVmZmVyU2l6ZSA9IHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3BlZWRTYW1wbGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uU2Vla2VkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uQ29tcGxldGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblJlZGlyZWN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZXh0cmFEYXRhID0gbnVsbDtcbiAgICB9XG5cbiAgICBpc1dvcmtpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2FkZXIgJiYgdGhpcy5fbG9hZGVyLmlzV29ya2luZygpICYmICF0aGlzLl9wYXVzZWQ7XG4gICAgfVxuXG4gICAgaXNQYXVzZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXVzZWQ7XG4gICAgfVxuXG4gICAgZ2V0IHN0YXR1cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlci5zdGF0dXM7XG4gICAgfVxuXG4gICAgZ2V0IGV4dHJhRGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4dHJhRGF0YTtcbiAgICB9XG5cbiAgICBzZXQgZXh0cmFEYXRhKGRhdGEpIHtcbiAgICAgICAgdGhpcy5fZXh0cmFEYXRhID0gZGF0YTtcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uIG9uRGF0YUFycml2YWwoY2h1bmtzOiBBcnJheUJ1ZmZlciwgYnl0ZVN0YXJ0OiBudW1iZXIpOiBudW1iZXJcbiAgICBnZXQgb25EYXRhQXJyaXZhbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRGF0YUFycml2YWw7XG4gICAgfVxuXG4gICAgc2V0IG9uRGF0YUFycml2YWwoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25EYXRhQXJyaXZhbCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvblNlZWtlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uU2Vla2VkO1xuICAgIH1cblxuICAgIHNldCBvblNlZWtlZChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vblNlZWtlZCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIC8vIHByb3RvdHlwZTogZnVuY3Rpb24gb25FcnJvcih0eXBlOiBudW1iZXIsIGluZm86IHtjb2RlOiBudW1iZXIsIG1zZzogc3RyaW5nfSk6IHZvaWRcbiAgICBnZXQgb25FcnJvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uRXJyb3I7XG4gICAgfVxuXG4gICAgc2V0IG9uRXJyb3IoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25FcnJvciA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBvbkNvbXBsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25Db21wbGV0ZTtcbiAgICB9XG5cbiAgICBzZXQgb25Db21wbGV0ZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkNvbXBsZXRlID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9uUmVkaXJlY3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vblJlZGlyZWN0O1xuICAgIH1cblxuICAgIHNldCBvblJlZGlyZWN0KGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uUmVkaXJlY3QgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25SZWNvdmVyZWRFYXJseUVvZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2Y7XG4gICAgfVxuXG4gICAgc2V0IG9uUmVjb3ZlcmVkRWFybHlFb2YoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZiA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50VVJMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YVNvdXJjZS51cmw7XG4gICAgfVxuXG4gICAgZ2V0IGhhc1JlZGlyZWN0KCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX3JlZGlyZWN0ZWRVUkwgIT0gbnVsbCB8fCB0aGlzLl9kYXRhU291cmNlLnJlZGlyZWN0ZWRVUkwgIT0gdW5kZWZpbmVkKTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFJlZGlyZWN0ZWRVUkwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWRpcmVjdGVkVVJMIHx8IHRoaXMuX2RhdGFTb3VyY2UucmVkaXJlY3RlZFVSTDtcbiAgICB9XG5cbiAgICAvLyBpbiBLQi9zXG4gICAgZ2V0IGN1cnJlbnRTcGVlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvYWRlckNsYXNzID09PSBSYW5nZUxvYWRlcikge1xuICAgICAgICAgICAgLy8gU3BlZWRTYW1wbGVyIGlzIGluYWNjdXJhY3kgaWYgbG9hZGVyIGlzIFJhbmdlTG9hZGVyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyLmN1cnJlbnRTcGVlZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3BlZWRTYW1wbGVyLmxhc3RTZWNvbmRLQnBzO1xuICAgIH1cblxuICAgIGdldCBsb2FkZXJUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVyLnR5cGU7XG4gICAgfVxuXG4gICAgX3NlbGVjdFNlZWtIYW5kbGVyKCkge1xuICAgICAgICBsZXQgY29uZmlnID0gdGhpcy5fY29uZmlnO1xuXG4gICAgICAgIGlmIChjb25maWcuc2Vla1R5cGUgPT09ICdyYW5nZScpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlZWtIYW5kbGVyID0gbmV3IFJhbmdlU2Vla0hhbmRsZXIodGhpcy5fY29uZmlnLnJhbmdlTG9hZFplcm9TdGFydCk7XG4gICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLnNlZWtUeXBlID09PSAncGFyYW0nKSB7XG4gICAgICAgICAgICBsZXQgcGFyYW1TdGFydCA9IGNvbmZpZy5zZWVrUGFyYW1TdGFydCB8fCAnYnN0YXJ0JztcbiAgICAgICAgICAgIGxldCBwYXJhbUVuZCA9IGNvbmZpZy5zZWVrUGFyYW1FbmQgfHwgJ2JlbmQnO1xuXG4gICAgICAgICAgICB0aGlzLl9zZWVrSGFuZGxlciA9IG5ldyBQYXJhbVNlZWtIYW5kbGVyKHBhcmFtU3RhcnQsIHBhcmFtRW5kKTtcbiAgICAgICAgfSBlbHNlIGlmIChjb25maWcuc2Vla1R5cGUgPT09ICdjdXN0b20nKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbmZpZy5jdXN0b21TZWVrSGFuZGxlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0N1c3RvbSBzZWVrVHlwZSBzcGVjaWZpZWQgaW4gY29uZmlnIGJ1dCBpbnZhbGlkIGN1c3RvbVNlZWtIYW5kbGVyIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc2Vla0hhbmRsZXIgPSBuZXcgY29uZmlnLmN1c3RvbVNlZWtIYW5kbGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKGBJbnZhbGlkIHNlZWtUeXBlIGluIGNvbmZpZzogJHtjb25maWcuc2Vla1R5cGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2VsZWN0TG9hZGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmN1c3RvbUxvYWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IHRoaXMuX2NvbmZpZy5jdXN0b21Mb2FkZXI7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5faXNXZWJTb2NrZXRVUkwpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckNsYXNzID0gV2ViU29ja2V0TG9hZGVyO1xuICAgICAgICB9IGVsc2UgaWYgKEZldGNoU3RyZWFtTG9hZGVyLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2xvYWRlckNsYXNzID0gRmV0Y2hTdHJlYW1Mb2FkZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoTW96Q2h1bmtlZExvYWRlci5pc1N1cHBvcnRlZCgpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXJDbGFzcyA9IE1vekNodW5rZWRMb2FkZXI7XG4gICAgICAgIH0gZWxzZSBpZiAoUmFuZ2VMb2FkZXIuaXNTdXBwb3J0ZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVyQ2xhc3MgPSBSYW5nZUxvYWRlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdZb3VyIGJyb3dzZXIgZG9lc25cXCd0IHN1cHBvcnQgeGhyIHdpdGggYXJyYXlidWZmZXIgcmVzcG9uc2VUeXBlIScpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NyZWF0ZUxvYWRlcigpIHtcbiAgICAgICAgdGhpcy5fbG9hZGVyID0gbmV3IHRoaXMuX2xvYWRlckNsYXNzKHRoaXMuX3NlZWtIYW5kbGVyLCB0aGlzLl9jb25maWcpO1xuICAgICAgICBpZiAodGhpcy5fbG9hZGVyLm5lZWRTdGFzaEJ1ZmZlciA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZVN0YXNoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbG9hZGVyLm9uQ29udGVudExlbmd0aEtub3duID0gdGhpcy5fb25Db250ZW50TGVuZ3RoS25vd24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyLm9uVVJMUmVkaXJlY3QgPSB0aGlzLl9vblVSTFJlZGlyZWN0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vbkRhdGFBcnJpdmFsID0gdGhpcy5fb25Mb2FkZXJDaHVua0Fycml2YWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyLm9uQ29tcGxldGUgPSB0aGlzLl9vbkxvYWRlckNvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuX2xvYWRlci5vbkVycm9yID0gdGhpcy5fb25Mb2FkZXJFcnJvci5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIG9wZW4ob3B0aW9uYWxGcm9tKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRSYW5nZSA9IHtmcm9tOiAwLCB0bzogLTF9O1xuICAgICAgICBpZiAob3B0aW9uYWxGcm9tKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UuZnJvbSA9IG9wdGlvbmFsRnJvbTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlci5yZXNldCgpO1xuICAgICAgICBpZiAoIW9wdGlvbmFsRnJvbSkge1xuICAgICAgICAgICAgdGhpcy5fZnVsbFJlcXVlc3RGbGFnID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2xvYWRlci5vcGVuKHRoaXMuX2RhdGFTb3VyY2UsIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX2N1cnJlbnRSYW5nZSkpO1xuICAgIH1cblxuICAgIGFib3J0KCkge1xuICAgICAgICB0aGlzLl9sb2FkZXIuYWJvcnQoKTtcblxuICAgICAgICBpZiAodGhpcy5fcGF1c2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VtZUZyb20gPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIuYWJvcnQoKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3VtZUZyb20gPSB0aGlzLl9zdGFzaEJ5dGVTdGFydDtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50UmFuZ2UudG8gPSB0aGlzLl9zdGFzaEJ5dGVTdGFydCAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc3VtZUZyb20gPSB0aGlzLl9jdXJyZW50UmFuZ2UudG8gKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gMDtcbiAgICAgICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9wYXVzZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGJ5dGVzID0gdGhpcy5fcmVzdW1lRnJvbTtcbiAgICAgICAgICAgIHRoaXMuX3Jlc3VtZUZyb20gPSAwO1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxTZWVrKGJ5dGVzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsoYnl0ZXMpIHtcbiAgICAgICAgdGhpcy5fcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IDA7XG4gICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gMDtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxTZWVrKGJ5dGVzLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGVuIHNlZWtpbmcgcmVxdWVzdCBpcyBmcm9tIG1lZGlhIHNlZWtpbmcsIHVuY29uc3VtZWQgc3Rhc2ggZGF0YSBzaG91bGQgYmUgZHJvcHBlZFxuICAgICAqIEhvd2V2ZXIsIHN0YXNoIGRhdGEgc2hvdWxkbid0IGJlIGRyb3BwZWQgaWYgc2Vla2luZyByZXF1ZXN0ZWQgZnJvbSBodHRwIHJlY29ubmVjdGlvblxuICAgICAqXG4gICAgICogQGRyb3BVbmNvbnN1bWVkOiBJZ25vcmUgYW5kIGRpc2NhcmQgYWxsIHVuY29uc3VtZWQgZGF0YSBpbiBzdGFzaCBidWZmZXJcbiAgICAgKi9cbiAgICBfaW50ZXJuYWxTZWVrKGJ5dGVzLCBkcm9wVW5jb25zdW1lZCkge1xuICAgICAgICBpZiAodGhpcy5fbG9hZGVyLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2FkZXIuYWJvcnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGRpc3BhdGNoICYgZmx1c2ggc3Rhc2ggYnVmZmVyIGJlZm9yZSBzZWVrXG4gICAgICAgIHRoaXMuX2ZsdXNoU3Rhc2hCdWZmZXIoZHJvcFVuY29uc3VtZWQpO1xuXG4gICAgICAgIHRoaXMuX2xvYWRlci5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuX2xvYWRlciA9IG51bGw7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RSYW5nZSA9IHtmcm9tOiBieXRlcywgdG86IC0xfTtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlID0ge2Zyb206IHJlcXVlc3RSYW5nZS5mcm9tLCB0bzogLTF9O1xuXG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlci5yZXNldCgpO1xuICAgICAgICB0aGlzLl9zdGFzaFNpemUgPSB0aGlzLl9zdGFzaEluaXRpYWxTaXplO1xuICAgICAgICB0aGlzLl9jcmVhdGVMb2FkZXIoKTtcbiAgICAgICAgdGhpcy5fbG9hZGVyLm9wZW4odGhpcy5fZGF0YVNvdXJjZSwgcmVxdWVzdFJhbmdlKTtcblxuICAgICAgICBpZiAodGhpcy5fb25TZWVrZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX29uU2Vla2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVVcmwodXJsKSB7XG4gICAgICAgIGlmICghdXJsIHx8IHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnIHx8IHVybC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ1VybCBtdXN0IGJlIGEgbm9uLWVtcHR5IHN0cmluZyEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2RhdGFTb3VyY2UudXJsID0gdXJsO1xuXG4gICAgICAgIC8vIFRPRE86IHJlcGxhY2Ugd2l0aCBuZXcgdXJsXG4gICAgfVxuXG4gICAgX2V4cGFuZEJ1ZmZlcihleHBlY3RlZEJ5dGVzKSB7XG4gICAgICAgIGxldCBidWZmZXJOZXdTaXplID0gdGhpcy5fc3Rhc2hTaXplO1xuICAgICAgICB3aGlsZSAoYnVmZmVyTmV3U2l6ZSArIDEwMjQgKiAxMDI0ICogMSA8IGV4cGVjdGVkQnl0ZXMpIHtcbiAgICAgICAgICAgIGJ1ZmZlck5ld1NpemUgKj0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGJ1ZmZlck5ld1NpemUgKz0gMTAyNCAqIDEwMjQgKiAxOyAgLy8gYnVmZmVyU2l6ZSA9IHN0YXNoU2l6ZSArIDFNQlxuICAgICAgICBpZiAoYnVmZmVyTmV3U2l6ZSA9PT0gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG5ld0J1ZmZlciA9IG5ldyBBcnJheUJ1ZmZlcihidWZmZXJOZXdTaXplKTtcblxuICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkID4gMCkgeyAgLy8gY29weSBleGlzdGluZyBkYXRhIGludG8gbmV3IGJ1ZmZlclxuICAgICAgICAgICAgbGV0IHN0YXNoT2xkQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLl9zdGFzaEJ1ZmZlciwgMCwgdGhpcy5fc3Rhc2hVc2VkKTtcbiAgICAgICAgICAgIGxldCBzdGFzaE5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3QnVmZmVyLCAwLCBidWZmZXJOZXdTaXplKTtcbiAgICAgICAgICAgIHN0YXNoTmV3QXJyYXkuc2V0KHN0YXNoT2xkQXJyYXksIDApO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc3Rhc2hCdWZmZXIgPSBuZXdCdWZmZXI7XG4gICAgICAgIHRoaXMuX2J1ZmZlclNpemUgPSBidWZmZXJOZXdTaXplO1xuICAgIH1cblxuICAgIF9ub3JtYWxpemVTcGVlZChpbnB1dCkge1xuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX3NwZWVkTm9ybWFsaXplTGlzdDtcbiAgICAgICAgbGV0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgaWYgKGlucHV0IDwgbGlzdFswXSkge1xuICAgICAgICAgICAgcmV0dXJuIGxpc3RbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBiaW5hcnkgc2VhcmNoXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8IChpbnB1dCA+PSBsaXN0W21pZF0gJiYgaW5wdXQgPCBsaXN0W21pZCArIDFdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0W21pZF07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxpc3RbbWlkXSA8IGlucHV0KSB7XG4gICAgICAgICAgICAgICAgbGJvdW5kID0gbWlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWJvdW5kID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9hZGp1c3RTdGFzaFNpemUobm9ybWFsaXplZCkge1xuICAgICAgICBsZXQgc3Rhc2hTaXplS0IgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuaXNMaXZlKSB7XG4gICAgICAgICAgICAvLyBsaXZlIHN0cmVhbTogYWx3YXlzIHVzZSBzaW5nbGUgbm9ybWFsaXplZCBzcGVlZCBmb3Igc2l6ZSBvZiBzdGFzaFNpemVLQlxuICAgICAgICAgICAgc3Rhc2hTaXplS0IgPSBub3JtYWxpemVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWQgPCA1MTIpIHtcbiAgICAgICAgICAgICAgICBzdGFzaFNpemVLQiA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbGl6ZWQgPj0gNTEyICYmIG5vcm1hbGl6ZWQgPD0gMTAyNCkge1xuICAgICAgICAgICAgICAgIHN0YXNoU2l6ZUtCID0gTWF0aC5mbG9vcihub3JtYWxpemVkICogMS41KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3Rhc2hTaXplS0IgPSBub3JtYWxpemVkICogMjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFzaFNpemVLQiA+IDgxOTIpIHtcbiAgICAgICAgICAgIHN0YXNoU2l6ZUtCID0gODE5MjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBidWZmZXJTaXplID0gc3Rhc2hTaXplS0IgKiAxMDI0ICsgMTAyNCAqIDEwMjQgKiAxOyAgLy8gc3Rhc2hTaXplICsgMU1CXG4gICAgICAgIGlmICh0aGlzLl9idWZmZXJTaXplIDwgYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5fZXhwYW5kQnVmZmVyKGJ1ZmZlclNpemUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXNoU2l6ZSA9IHN0YXNoU2l6ZUtCICogMTAyNDtcbiAgICB9XG5cbiAgICBfZGlzcGF0Y2hDaHVua3MoY2h1bmtzLCBieXRlU3RhcnQpIHtcbiAgICAgICAgdGhpcy5fY3VycmVudFJhbmdlLnRvID0gYnl0ZVN0YXJ0ICsgY2h1bmtzLmJ5dGVMZW5ndGggLSAxO1xuICAgICAgICByZXR1cm4gdGhpcy5fb25EYXRhQXJyaXZhbChjaHVua3MsIGJ5dGVTdGFydCk7XG4gICAgfVxuXG4gICAgX29uVVJMUmVkaXJlY3QocmVkaXJlY3RlZFVSTCkge1xuICAgICAgICB0aGlzLl9yZWRpcmVjdGVkVVJMID0gcmVkaXJlY3RlZFVSTDtcbiAgICAgICAgaWYgKHRoaXMuX29uUmVkaXJlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuX29uUmVkaXJlY3QocmVkaXJlY3RlZFVSTCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfb25Db250ZW50TGVuZ3RoS25vd24oY29udGVudExlbmd0aCkge1xuICAgICAgICBpZiAoY29udGVudExlbmd0aCAmJiB0aGlzLl9mdWxsUmVxdWVzdEZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvdGFsTGVuZ3RoID0gY29udGVudExlbmd0aDtcbiAgICAgICAgICAgIHRoaXMuX2Z1bGxSZXF1ZXN0RmxhZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTG9hZGVyQ2h1bmtBcnJpdmFsKGNodW5rLCBieXRlU3RhcnQsIHJlY2VpdmVkTGVuZ3RoKSB7XG4gICAgICAgIGlmICghdGhpcy5fb25EYXRhQXJyaXZhbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignSU9Db250cm9sbGVyOiBObyBleGlzdGluZyBjb25zdW1lciAob25EYXRhQXJyaXZhbCkgY2FsbGJhY2shJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3BhdXNlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nKSB7XG4gICAgICAgICAgICAvLyBBdXRvLXJlY29ubmVjdCBmb3IgRWFybHlFb2Ygc3VjY2VlZCwgbm90aWZ5IHRvIHVwcGVyLWxheWVyIGJ5IGNhbGxiYWNrXG4gICAgICAgICAgICB0aGlzLl9pc0Vhcmx5RW9mUmVjb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGhpcy5fb25SZWNvdmVyZWRFYXJseUVvZikge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uUmVjb3ZlcmVkRWFybHlFb2YoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3NwZWVkU2FtcGxlci5hZGRCeXRlcyhjaHVuay5ieXRlTGVuZ3RoKTtcblxuICAgICAgICAvLyBhZGp1c3Qgc3Rhc2ggYnVmZmVyIHNpemUgYWNjb3JkaW5nIHRvIG5ldHdvcmsgc3BlZWQgZHluYW1pY2FsbHlcbiAgICAgICAgbGV0IEtCcHMgPSB0aGlzLl9zcGVlZFNhbXBsZXIubGFzdFNlY29uZEtCcHM7XG4gICAgICAgIGlmIChLQnBzICE9PSAwKSB7XG4gICAgICAgICAgICBsZXQgbm9ybWFsaXplZCA9IHRoaXMuX25vcm1hbGl6ZVNwZWVkKEtCcHMpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX3NwZWVkTm9ybWFsaXplZCAhPT0gbm9ybWFsaXplZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NwZWVkTm9ybWFsaXplZCA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWRqdXN0U3Rhc2hTaXplKG5vcm1hbGl6ZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLl9lbmFibGVTdGFzaCkgeyAgLy8gZGlzYWJsZSBzdGFzaFxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGRpc3BhdGNoIGNodW5rIGRpcmVjdGx5IHRvIGNvbnN1bWVyO1xuICAgICAgICAgICAgICAgIC8vIGNoZWNrIHJldCB2YWx1ZSAoY29uc3VtZWQgYnl0ZXMpIGFuZCBzdGFzaCB1bmNvbnN1bWVkIHRvIHN0YXNoQnVmZmVyXG4gICAgICAgICAgICAgICAgbGV0IGNvbnN1bWVkID0gdGhpcy5fZGlzcGF0Y2hDaHVua3MoY2h1bmssIGJ5dGVTdGFydCk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnN1bWVkIDwgY2h1bmsuYnl0ZUxlbmd0aCkgeyAgLy8gdW5jb25zdW1lZCBkYXRhIHJlbWFpbi5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbiA9IGNodW5rLmJ5dGVMZW5ndGggLSBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbiA+IHRoaXMuX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2V4cGFuZEJ1ZmZlcihyZW1haW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdGFzaEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChuZXcgVWludDhBcnJheShjaHVuaywgY29uc3VtZWQpLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkICs9IHJlbWFpbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSBieXRlU3RhcnQgKyBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGVsc2U6IE1lcmdlIGNodW5rIGludG8gc3Rhc2hCdWZmZXIsIGFuZCBkaXNwYXRjaCBzdGFzaEJ1ZmZlciB0byBjb25zdW1lci5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3Rhc2hVc2VkICsgY2h1bmsuYnl0ZUxlbmd0aCA+IHRoaXMuX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZXhwYW5kQnVmZmVyKHRoaXMuX3N0YXNoVXNlZCArIGNodW5rLmJ5dGVMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICBzdGFzaEFycmF5LnNldChuZXcgVWludDhBcnJheShjaHVuayksIHRoaXMuX3N0YXNoVXNlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkICs9IGNodW5rLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnN1bWVkID0gdGhpcy5fZGlzcGF0Y2hDaHVua3ModGhpcy5fc3Rhc2hCdWZmZXIuc2xpY2UoMCwgdGhpcy5fc3Rhc2hVc2VkKSwgdGhpcy5fc3Rhc2hCeXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCA8IHRoaXMuX3N0YXNoVXNlZCAmJiBjb25zdW1lZCA+IDApIHsgIC8vIHVuY29uc3VtZWQgZGF0YSByZW1haW5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbkFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIGNvbnN1bWVkKTtcbiAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQocmVtYWluQXJyYXksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgLT0gY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgKz0gY29uc3VtZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7ICAvLyBlbmFibGUgc3Rhc2hcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgPT09IDAgJiYgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPT09IDApIHsgIC8vIHNlZWtlZD8gb3IgaW5pdCBjaHVuaz9cbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBjaHVuayBhZnRlciBzZWVrIGFjdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ID0gYnl0ZVN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCArIGNodW5rLmJ5dGVMZW5ndGggPD0gdGhpcy5fc3Rhc2hTaXplKSB7XG4gICAgICAgICAgICAgICAgLy8ganVzdCBzdGFzaFxuICAgICAgICAgICAgICAgIGxldCBzdGFzaEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX3N0YXNoU2l6ZSk7XG4gICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoY2h1bmspLCB0aGlzLl9zdGFzaFVzZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCArPSBjaHVuay5ieXRlTGVuZ3RoO1xuICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHN0YXNoVXNlZCArIGNodW5rU2l6ZSA+IHN0YXNoU2l6ZSwgc2l6ZSBsaW1pdCBleGNlZWRlZFxuICAgICAgICAgICAgICAgIGxldCBzdGFzaEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgPiAwKSB7ICAvLyBUaGVyZSdyZSBzdGFzaCBkYXRhcyBpbiBidWZmZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGF0Y2ggdGhlIHdob2xlIHN0YXNoQnVmZmVyLCBhbmQgc3Rhc2ggcmVtYWluIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlbiBhcHBlbmQgY2h1bmsgdG8gc3Rhc2hCdWZmZXIgKHN0YXNoKVxuICAgICAgICAgICAgICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5fc3Rhc2hCdWZmZXIuc2xpY2UoMCwgdGhpcy5fc3Rhc2hVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnN1bWVkID0gdGhpcy5fZGlzcGF0Y2hDaHVua3MoYnVmZmVyLCB0aGlzLl9zdGFzaEJ5dGVTdGFydCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb25zdW1lZCA8IGJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbWFpbkFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyLCBjb25zdW1lZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQocmVtYWluQXJyYXksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IHJlbWFpbkFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgKz0gY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgKz0gY29uc3VtZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXNoVXNlZCArIGNodW5rLmJ5dGVMZW5ndGggPiB0aGlzLl9idWZmZXJTaXplKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRCdWZmZXIodGhpcy5fc3Rhc2hVc2VkICsgY2h1bmsuYnl0ZUxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXNoQXJyYXkuc2V0KG5ldyBVaW50OEFycmF5KGNodW5rKSwgdGhpcy5fc3Rhc2hVc2VkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkICs9IGNodW5rLmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHN0YXNoIGJ1ZmZlciBlbXB0eSwgYnV0IGNodW5rU2l6ZSA+IHN0YXNoU2l6ZSAob2gsIGhvbHkgc2hpdClcbiAgICAgICAgICAgICAgICAgICAgLy8gZGlzcGF0Y2ggY2h1bmsgZGlyZWN0bHkgYW5kIHN0YXNoIHJlbWFpbiBkYXRhXG4gICAgICAgICAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKGNodW5rLCBieXRlU3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPCBjaHVuay5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVtYWluID0gY2h1bmsuYnl0ZUxlbmd0aCAtIGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlbWFpbiA+IHRoaXMuX2J1ZmZlclNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9leHBhbmRCdWZmZXIocmVtYWluKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFzaEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5fc3Rhc2hCdWZmZXIsIDAsIHRoaXMuX2J1ZmZlclNpemUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkoY2h1bmssIGNvbnN1bWVkKSwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdGFzaFVzZWQgKz0gcmVtYWluO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hCeXRlU3RhcnQgPSBieXRlU3RhcnQgKyBjb25zdW1lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9mbHVzaFN0YXNoQnVmZmVyKGRyb3BVbmNvbnN1bWVkKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGFzaFVzZWQgPiAwKSB7XG4gICAgICAgICAgICBsZXQgYnVmZmVyID0gdGhpcy5fc3Rhc2hCdWZmZXIuc2xpY2UoMCwgdGhpcy5fc3Rhc2hVc2VkKTtcbiAgICAgICAgICAgIGxldCBjb25zdW1lZCA9IHRoaXMuX2Rpc3BhdGNoQ2h1bmtzKGJ1ZmZlciwgdGhpcy5fc3Rhc2hCeXRlU3RhcnQpO1xuICAgICAgICAgICAgbGV0IHJlbWFpbiA9IGJ1ZmZlci5ieXRlTGVuZ3RoIC0gY29uc3VtZWQ7XG5cbiAgICAgICAgICAgIGlmIChjb25zdW1lZCA8IGJ1ZmZlci5ieXRlTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRyb3BVbmNvbnN1bWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgJHtyZW1haW59IGJ5dGVzIHVuY29uc3VtZWQgZGF0YSByZW1haW4gd2hlbiBmbHVzaCBidWZmZXIsIGRyb3BwZWRgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29uc3VtZWQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3Rhc2hBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuX3N0YXNoQnVmZmVyLCAwLCB0aGlzLl9idWZmZXJTaXplKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZW1haW5BcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlciwgY29uc3VtZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3Rhc2hBcnJheS5zZXQocmVtYWluQXJyYXksIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3Rhc2hVc2VkID0gcmVtYWluQXJyYXkuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXNoQnl0ZVN0YXJ0ICs9IGNvbnN1bWVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3N0YXNoVXNlZCA9IDA7XG4gICAgICAgICAgICB0aGlzLl9zdGFzaEJ5dGVTdGFydCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gcmVtYWluO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIF9vbkxvYWRlckNvbXBsZXRlKGZyb20sIHRvKSB7XG4gICAgICAgIC8vIEZvcmNlLWZsdXNoIHN0YXNoIGJ1ZmZlciwgYW5kIGRyb3AgdW5jb25zdW1lZCBkYXRhXG4gICAgICAgIHRoaXMuX2ZsdXNoU3Rhc2hCdWZmZXIodHJ1ZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX29uQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ29tcGxldGUodGhpcy5fZXh0cmFEYXRhKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkxvYWRlckVycm9yKHR5cGUsIGRhdGEpIHtcbiAgICAgICAgTG9nLmUodGhpcy5UQUcsIGBMb2FkZXIgZXJyb3IsIGNvZGUgPSAke2RhdGEuY29kZX0sIG1zZyA9ICR7ZGF0YS5tc2d9YCk7XG5cbiAgICAgICAgdGhpcy5fZmx1c2hTdGFzaEJ1ZmZlcihmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzRWFybHlFb2ZSZWNvbm5lY3RpbmcpIHtcbiAgICAgICAgICAgIC8vIEF1dG8tcmVjb25uZWN0IGZvciBFYXJseUVvZiBmYWlsZWQsIHRocm93IFVucmVjb3ZlcmFibGVFYXJseUVvZiBlcnJvciB0byB1cHBlci1sYXllclxuICAgICAgICAgICAgdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgdHlwZSA9IExvYWRlckVycm9ycy5VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuRUFSTFlfRU9GOiB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jb25maWcuaXNMaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvIGludGVybmFsIGh0dHAgcmVjb25uZWN0IGlmIG5vdCBsaXZlIHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXh0RnJvbSA9IHRoaXMuX2N1cnJlbnRSYW5nZS50byArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEZyb20gPCB0aGlzLl90b3RhbExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnQ29ubmVjdGlvbiBsb3N0LCB0cnlpbmcgcmVjb25uZWN0Li4uJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNFYXJseUVvZlJlY29ubmVjdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxTZWVrKG5leHRGcm9tLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gZWxzZTogV2UgZG9uJ3Qga25vdyB0b3RhbExlbmd0aCwgdGhyb3cgVW5yZWNvdmVyYWJsZUVhcmx5RW9mXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGxpdmUgc3RyZWFtOiB0aHJvdyBVbnJlY292ZXJhYmxlRWFybHlFb2YgZXJyb3IgdG8gdXBwZXItbGF5ZXJcbiAgICAgICAgICAgICAgICB0eXBlID0gTG9hZGVyRXJyb3JzLlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBMb2FkZXJFcnJvcnMuVU5SRUNPVkVSQUJMRV9FQVJMWV9FT0Y6XG4gICAgICAgICAgICBjYXNlIExvYWRlckVycm9ycy5DT05ORUNUSU5HX1RJTUVPVVQ6XG4gICAgICAgICAgICBjYXNlIExvYWRlckVycm9ycy5IVFRQX1NUQVRVU19DT0RFX0lOVkFMSUQ6XG4gICAgICAgICAgICBjYXNlIExvYWRlckVycm9ycy5FWENFUFRJT046XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fb25FcnJvcikge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcih0eXBlLCBkYXRhKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSdW50aW1lRXhjZXB0aW9uKCdJT0V4Y2VwdGlvbjogJyArIGRhdGEubXNnKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBJT0NvbnRyb2xsZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjb25zdCBkZWZhdWx0Q29uZmlnID0ge1xuICAgIGVuYWJsZVdvcmtlcjogZmFsc2UsXG4gICAgZW5hYmxlU3Rhc2hCdWZmZXI6IHRydWUsXG4gICAgc3Rhc2hJbml0aWFsU2l6ZTogdW5kZWZpbmVkLFxuXG4gICAgaXNMaXZlOiBmYWxzZSxcblxuICAgIGxhenlMb2FkOiB0cnVlLFxuICAgIGxhenlMb2FkTWF4RHVyYXRpb246IDMgKiA2MCxcbiAgICBsYXp5TG9hZFJlY292ZXJEdXJhdGlvbjogMzAsXG4gICAgZGVmZXJMb2FkQWZ0ZXJTb3VyY2VPcGVuOiB0cnVlLFxuXG4gICAgLy8gYXV0b0NsZWFudXBTb3VyY2VCdWZmZXI6IGRlZmF1bHQgYXMgZmFsc2UsIGxlYXZlIHVuc3BlY2lmaWVkXG4gICAgYXV0b0NsZWFudXBNYXhCYWNrd2FyZER1cmF0aW9uOiAzICogNjAsXG4gICAgYXV0b0NsZWFudXBNaW5CYWNrd2FyZER1cmF0aW9uOiAyICogNjAsXG5cbiAgICBzdGF0aXN0aWNzSW5mb1JlcG9ydEludGVydmFsOiA2MDAsXG5cbiAgICBmaXhBdWRpb1RpbWVzdGFtcEdhcDogdHJ1ZSxcblxuICAgIGFjY3VyYXRlU2VlazogZmFsc2UsXG4gICAgc2Vla1R5cGU6ICdyYW5nZScsICAvLyBbcmFuZ2UsIHBhcmFtLCBjdXN0b21dXG4gICAgc2Vla1BhcmFtU3RhcnQ6ICdic3RhcnQnLFxuICAgIHNlZWtQYXJhbUVuZDogJ2JlbmQnLFxuICAgIHJhbmdlTG9hZFplcm9TdGFydDogZmFsc2UsXG4gICAgY3VzdG9tU2Vla0hhbmRsZXI6IHVuZGVmaW5lZCxcbiAgICByZXVzZVJlZGlyZWN0ZWRVUkw6IGZhbHNlLFxuICAgIC8vIHJlZmVycmVyUG9saWN5OiBsZWF2ZSBhcyB1bnNwZWNpZmllZFxuXG4gICAgaGVhZGVyczogdW5kZWZpbmVkLFxuICAgIGN1c3RvbUxvYWRlcjogdW5kZWZpbmVkXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlRGVmYXVsdENvbmZpZygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdENvbmZpZyk7XG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBJT0NvbnRyb2xsZXIgZnJvbSAnLi4vaW8vaW8tY29udHJvbGxlci5qcyc7XG5pbXBvcnQge2NyZWF0ZURlZmF1bHRDb25maWd9IGZyb20gJy4uL2NvbmZpZy5qcyc7XG5cbmNsYXNzIEZlYXR1cmVzIHtcblxuICAgIHN0YXRpYyBzdXBwb3J0TVNFSDI2NFBsYXliYWNrKCkge1xuICAgICAgICByZXR1cm4gd2luZG93Lk1lZGlhU291cmNlICYmXG4gICAgICAgICAgICAgICB3aW5kb3cuTWVkaWFTb3VyY2UuaXNUeXBlU3VwcG9ydGVkKCd2aWRlby9tcDQ7IGNvZGVjcz1cImF2YzEuNDJFMDFFLG1wNGEuNDAuMlwiJyk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN1cHBvcnROZXR3b3JrU3RyZWFtSU8oKSB7XG4gICAgICAgIGxldCBpb2N0bCA9IG5ldyBJT0NvbnRyb2xsZXIoe30sIGNyZWF0ZURlZmF1bHRDb25maWcoKSk7XG4gICAgICAgIGxldCBsb2FkZXJUeXBlID0gaW9jdGwubG9hZGVyVHlwZTtcbiAgICAgICAgaW9jdGwuZGVzdHJveSgpO1xuICAgICAgICByZXR1cm4gbG9hZGVyVHlwZSA9PSAnZmV0Y2gtc3RyZWFtLWxvYWRlcicgfHwgbG9hZGVyVHlwZSA9PSAneGhyLW1vei1jaHVua2VkLWxvYWRlcic7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldE5ldHdvcmtMb2FkZXJUeXBlTmFtZSgpIHtcbiAgICAgICAgbGV0IGlvY3RsID0gbmV3IElPQ29udHJvbGxlcih7fSwgY3JlYXRlRGVmYXVsdENvbmZpZygpKTtcbiAgICAgICAgbGV0IGxvYWRlclR5cGUgPSBpb2N0bC5sb2FkZXJUeXBlO1xuICAgICAgICBpb2N0bC5kZXN0cm95KCk7XG4gICAgICAgIHJldHVybiBsb2FkZXJUeXBlO1xuICAgIH1cblxuICAgIHN0YXRpYyBzdXBwb3J0TmF0aXZlTWVkaWFQbGF5YmFjayhtaW1lVHlwZSkge1xuICAgICAgICBpZiAoRmVhdHVyZXMudmlkZW9FbGVtZW50ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgRmVhdHVyZXMudmlkZW9FbGVtZW50ID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhblBsYXkgPSBGZWF0dXJlcy52aWRlb0VsZW1lbnQuY2FuUGxheVR5cGUobWltZVR5cGUpO1xuICAgICAgICByZXR1cm4gY2FuUGxheSA9PT0gJ3Byb2JhYmx5JyB8fCBjYW5QbGF5ID09ICdtYXliZSc7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldEZlYXR1cmVMaXN0KCkge1xuICAgICAgICBsZXQgZmVhdHVyZXMgPSB7XG4gICAgICAgICAgICBtc2VGbHZQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBtc2VMaXZlRmx2UGxheWJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgbmV0d29ya1N0cmVhbUlPOiBmYWxzZSxcbiAgICAgICAgICAgIG5ldHdvcmtMb2FkZXJOYW1lOiAnJyxcbiAgICAgICAgICAgIG5hdGl2ZU1QNEgyNjRQbGF5YmFjazogZmFsc2UsXG4gICAgICAgICAgICBuYXRpdmVXZWJtVlA4UGxheWJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgbmF0aXZlV2VibVZQOVBsYXliYWNrOiBmYWxzZVxuICAgICAgICB9O1xuXG4gICAgICAgIGZlYXR1cmVzLm1zZUZsdlBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE1TRUgyNjRQbGF5YmFjaygpO1xuICAgICAgICBmZWF0dXJlcy5uZXR3b3JrU3RyZWFtSU8gPSBGZWF0dXJlcy5zdXBwb3J0TmV0d29ya1N0cmVhbUlPKCk7XG4gICAgICAgIGZlYXR1cmVzLm5ldHdvcmtMb2FkZXJOYW1lID0gRmVhdHVyZXMuZ2V0TmV0d29ya0xvYWRlclR5cGVOYW1lKCk7XG4gICAgICAgIGZlYXR1cmVzLm1zZUxpdmVGbHZQbGF5YmFjayA9IGZlYXR1cmVzLm1zZUZsdlBsYXliYWNrICYmIGZlYXR1cmVzLm5ldHdvcmtTdHJlYW1JTztcbiAgICAgICAgZmVhdHVyZXMubmF0aXZlTVA0SDI2NFBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL21wNDsgY29kZWNzPVwiYXZjMS40MjAwMUUsIG1wNGEuNDAuMlwiJyk7XG4gICAgICAgIGZlYXR1cmVzLm5hdGl2ZVdlYm1WUDhQbGF5YmFjayA9IEZlYXR1cmVzLnN1cHBvcnROYXRpdmVNZWRpYVBsYXliYWNrKCd2aWRlby93ZWJtOyBjb2RlY3M9XCJ2cDguMCwgdm9yYmlzXCInKTtcbiAgICAgICAgZmVhdHVyZXMubmF0aXZlV2VibVZQOVBsYXliYWNrID0gRmVhdHVyZXMuc3VwcG9ydE5hdGl2ZU1lZGlhUGxheWJhY2soJ3ZpZGVvL3dlYm07IGNvZGVjcz1cInZwOVwiJyk7XG5cbiAgICAgICAgcmV0dXJuIGZlYXR1cmVzO1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlczsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuY29uc3QgUGxheWVyRXZlbnRzID0ge1xuICAgIEVSUk9SOiAnZXJyb3InLFxuICAgIExPQURJTkdfQ09NUExFVEU6ICdsb2FkaW5nX2NvbXBsZXRlJyxcbiAgICBSRUNPVkVSRURfRUFSTFlfRU9GOiAncmVjb3ZlcmVkX2Vhcmx5X2VvZicsXG4gICAgTUVESUFfSU5GTzogJ21lZGlhX2luZm8nLFxuICAgIE1FVEFEQVRBX0FSUklWRUQ6ICdtZXRhZGF0YV9hcnJpdmVkJyxcbiAgICBTQ1JJUFREQVRBX0FSUklWRUQ6ICdzY3JpcHRkYXRhX2Fycml2ZWQnLFxuICAgIFNUQVRJU1RJQ1NfSU5GTzogJ3N0YXRpc3RpY3NfaW5mbydcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllckV2ZW50czsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IEV2ZW50RW1pdHRlciBmcm9tICdldmVudHMnO1xuaW1wb3J0IExvZyBmcm9tICcuL2xvZ2dlci5qcyc7XG5cbmNsYXNzIExvZ2dpbmdDb250cm9sIHtcblxuICAgIHN0YXRpYyBnZXQgZm9yY2VHbG9iYWxUYWcoKSB7XG4gICAgICAgIHJldHVybiBMb2cuRk9SQ0VfR0xPQkFMX1RBRztcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGZvcmNlR2xvYmFsVGFnKGVuYWJsZSkge1xuICAgICAgICBMb2cuRk9SQ0VfR0xPQkFMX1RBRyA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZ2xvYmFsVGFnKCkge1xuICAgICAgICByZXR1cm4gTG9nLkdMT0JBTF9UQUc7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBnbG9iYWxUYWcodGFnKSB7XG4gICAgICAgIExvZy5HTE9CQUxfVEFHID0gdGFnO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbmFibGVBbGwoKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX1ZFUkJPU0VcbiAgICAgICAgICAgICYmIExvZy5FTkFCTEVfREVCVUdcbiAgICAgICAgICAgICYmIExvZy5FTkFCTEVfSU5GT1xuICAgICAgICAgICAgJiYgTG9nLkVOQUJMRV9XQVJOXG4gICAgICAgICAgICAmJiBMb2cuRU5BQkxFX0VSUk9SO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZW5hYmxlQWxsKGVuYWJsZSkge1xuICAgICAgICBMb2cuRU5BQkxFX1ZFUkJPU0UgPSBlbmFibGU7XG4gICAgICAgIExvZy5FTkFCTEVfREVCVUcgPSBlbmFibGU7XG4gICAgICAgIExvZy5FTkFCTEVfSU5GTyA9IGVuYWJsZTtcbiAgICAgICAgTG9nLkVOQUJMRV9XQVJOID0gZW5hYmxlO1xuICAgICAgICBMb2cuRU5BQkxFX0VSUk9SID0gZW5hYmxlO1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5fbm90aWZ5Q2hhbmdlKCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBlbmFibGVEZWJ1ZygpIHtcbiAgICAgICAgcmV0dXJuIExvZy5FTkFCTEVfREVCVUc7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldCBlbmFibGVEZWJ1ZyhlbmFibGUpIHtcbiAgICAgICAgTG9nLkVOQUJMRV9ERUJVRyA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlVmVyYm9zZSgpIHtcbiAgICAgICAgcmV0dXJuIExvZy5FTkFCTEVfVkVSQk9TRTtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZVZlcmJvc2UoZW5hYmxlKSB7XG4gICAgICAgIExvZy5FTkFCTEVfVkVSQk9TRSA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlSW5mbygpIHtcbiAgICAgICAgcmV0dXJuIExvZy5FTkFCTEVfSU5GTztcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZUluZm8oZW5hYmxlKSB7XG4gICAgICAgIExvZy5FTkFCTEVfSU5GTyA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlV2FybigpIHtcbiAgICAgICAgcmV0dXJuIExvZy5FTkFCTEVfV0FSTjtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0IGVuYWJsZVdhcm4oZW5hYmxlKSB7XG4gICAgICAgIExvZy5FTkFCTEVfV0FSTiA9IGVuYWJsZTtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgZW5hYmxlRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiBMb2cuRU5BQkxFX0VSUk9SO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZXQgZW5hYmxlRXJyb3IoZW5hYmxlKSB7XG4gICAgICAgIExvZy5FTkFCTEVfRVJST1IgPSBlbmFibGU7XG4gICAgICAgIExvZ2dpbmdDb250cm9sLl9ub3RpZnlDaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0Q29uZmlnKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2xvYmFsVGFnOiBMb2cuR0xPQkFMX1RBRyxcbiAgICAgICAgICAgIGZvcmNlR2xvYmFsVGFnOiBMb2cuRk9SQ0VfR0xPQkFMX1RBRyxcbiAgICAgICAgICAgIGVuYWJsZVZlcmJvc2U6IExvZy5FTkFCTEVfVkVSQk9TRSxcbiAgICAgICAgICAgIGVuYWJsZURlYnVnOiBMb2cuRU5BQkxFX0RFQlVHLFxuICAgICAgICAgICAgZW5hYmxlSW5mbzogTG9nLkVOQUJMRV9JTkZPLFxuICAgICAgICAgICAgZW5hYmxlV2FybjogTG9nLkVOQUJMRV9XQVJOLFxuICAgICAgICAgICAgZW5hYmxlRXJyb3I6IExvZy5FTkFCTEVfRVJST1IsXG4gICAgICAgICAgICBlbmFibGVDYWxsYmFjazogTG9nLkVOQUJMRV9DQUxMQkFDS1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBhcHBseUNvbmZpZyhjb25maWcpIHtcbiAgICAgICAgTG9nLkdMT0JBTF9UQUcgPSBjb25maWcuZ2xvYmFsVGFnO1xuICAgICAgICBMb2cuRk9SQ0VfR0xPQkFMX1RBRyA9IGNvbmZpZy5mb3JjZUdsb2JhbFRhZztcbiAgICAgICAgTG9nLkVOQUJMRV9WRVJCT1NFID0gY29uZmlnLmVuYWJsZVZlcmJvc2U7XG4gICAgICAgIExvZy5FTkFCTEVfREVCVUcgPSBjb25maWcuZW5hYmxlRGVidWc7XG4gICAgICAgIExvZy5FTkFCTEVfSU5GTyA9IGNvbmZpZy5lbmFibGVJbmZvO1xuICAgICAgICBMb2cuRU5BQkxFX1dBUk4gPSBjb25maWcuZW5hYmxlV2FybjtcbiAgICAgICAgTG9nLkVOQUJMRV9FUlJPUiA9IGNvbmZpZy5lbmFibGVFcnJvcjtcbiAgICAgICAgTG9nLkVOQUJMRV9DQUxMQkFDSyA9IGNvbmZpZy5lbmFibGVDYWxsYmFjaztcbiAgICB9XG5cbiAgICBzdGF0aWMgX25vdGlmeUNoYW5nZSgpIHtcbiAgICAgICAgbGV0IGVtaXR0ZXIgPSBMb2dnaW5nQ29udHJvbC5lbWl0dGVyO1xuXG4gICAgICAgIGlmIChlbWl0dGVyLmxpc3RlbmVyQ291bnQoJ2NoYW5nZScpID4gMCkge1xuICAgICAgICAgICAgbGV0IGNvbmZpZyA9IExvZ2dpbmdDb250cm9sLmdldENvbmZpZygpO1xuICAgICAgICAgICAgZW1pdHRlci5lbWl0KCdjaGFuZ2UnLCBjb25maWcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlZ2lzdGVyTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgTG9nZ2luZ0NvbnRyb2wuZW1pdHRlci5hZGRMaXN0ZW5lcignY2hhbmdlJywgbGlzdGVuZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZW1vdmVMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICBMb2dnaW5nQ29udHJvbC5lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgc3RhdGljIGFkZExvZ0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIExvZy5lbWl0dGVyLmFkZExpc3RlbmVyKCdsb2cnLCBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChMb2cuZW1pdHRlci5saXN0ZW5lckNvdW50KCdsb2cnKSA+IDApIHtcbiAgICAgICAgICAgIExvZy5FTkFCTEVfQ0FMTEJBQ0sgPSB0cnVlO1xuICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHJlbW92ZUxvZ0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIExvZy5lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdsb2cnLCBsaXN0ZW5lcik7XG4gICAgICAgIGlmIChMb2cuZW1pdHRlci5saXN0ZW5lckNvdW50KCdsb2cnKSA9PT0gMCkge1xuICAgICAgICAgICAgTG9nLkVOQUJMRV9DQUxMQkFDSyA9IGZhbHNlO1xuICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wuX25vdGlmeUNoYW5nZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbkxvZ2dpbmdDb250cm9sLmVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IExvZ2dpbmdDb250cm9sOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBNZWRpYUluZm8ge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWltZVR5cGUgPSBudWxsO1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gbnVsbDtcblxuICAgICAgICB0aGlzLmhhc0F1ZGlvID0gbnVsbDtcbiAgICAgICAgdGhpcy5oYXNWaWRlbyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9Db2RlYyA9IG51bGw7XG4gICAgICAgIHRoaXMuYXVkaW9EYXRhUmF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMudmlkZW9EYXRhUmF0ZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5hdWRpb1NhbXBsZVJhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLmF1ZGlvQ2hhbm5lbENvdW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLndpZHRoID0gbnVsbDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBudWxsO1xuICAgICAgICB0aGlzLmZwcyA9IG51bGw7XG4gICAgICAgIHRoaXMucHJvZmlsZSA9IG51bGw7XG4gICAgICAgIHRoaXMubGV2ZWwgPSBudWxsO1xuICAgICAgICB0aGlzLnJlZkZyYW1lcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY2hyb21hRm9ybWF0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5zYXJOdW0gPSBudWxsO1xuICAgICAgICB0aGlzLnNhckRlbiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBudWxsOyAgLy8gTWVkaWFJbmZvW11cbiAgICAgICAgdGhpcy5zZWdtZW50Q291bnQgPSBudWxsO1xuICAgICAgICB0aGlzLmhhc0tleWZyYW1lc0luZGV4ID0gbnVsbDtcbiAgICAgICAgdGhpcy5rZXlmcmFtZXNJbmRleCA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNDb21wbGV0ZSgpIHtcbiAgICAgICAgbGV0IGF1ZGlvSW5mb0NvbXBsZXRlID0gKHRoaXMuaGFzQXVkaW8gPT09IGZhbHNlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5oYXNBdWRpbyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvZGVjICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9TYW1wbGVSYXRlICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9DaGFubmVsQ291bnQgIT0gbnVsbCk7XG5cbiAgICAgICAgbGV0IHZpZGVvSW5mb0NvbXBsZXRlID0gKHRoaXMuaGFzVmlkZW8gPT09IGZhbHNlKSB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodGhpcy5oYXNWaWRlbyA9PT0gdHJ1ZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWRlb0NvZGVjICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMud2lkdGggIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mcHMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9maWxlICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGV2ZWwgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZGcmFtZXMgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaHJvbWFGb3JtYXQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXJOdW0gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXJEZW4gIT0gbnVsbCk7XG5cbiAgICAgICAgLy8ga2V5ZnJhbWVzSW5kZXggbWF5IG5vdCBiZSBwcmVzZW50XG4gICAgICAgIHJldHVybiB0aGlzLm1pbWVUeXBlICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIHRoaXMuZHVyYXRpb24gIT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgdGhpcy5tZXRhZGF0YSAhPSBudWxsICYmXG4gICAgICAgICAgICAgICB0aGlzLmhhc0tleWZyYW1lc0luZGV4ICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgIGF1ZGlvSW5mb0NvbXBsZXRlICYmXG4gICAgICAgICAgICAgICB2aWRlb0luZm9Db21wbGV0ZTtcbiAgICB9XG5cbiAgICBpc1NlZWthYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNLZXlmcmFtZXNJbmRleCA9PT0gdHJ1ZTtcbiAgICB9XG5cbiAgICBnZXROZWFyZXN0S2V5ZnJhbWUobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLmtleWZyYW1lc0luZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRhYmxlID0gdGhpcy5rZXlmcmFtZXNJbmRleDtcbiAgICAgICAgbGV0IGtleWZyYW1lSWR4ID0gdGhpcy5fc2VhcmNoKHRhYmxlLnRpbWVzLCBtaWxsaXNlY29uZHMpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbmRleDoga2V5ZnJhbWVJZHgsXG4gICAgICAgICAgICBtaWxsaXNlY29uZHM6IHRhYmxlLnRpbWVzW2tleWZyYW1lSWR4XSxcbiAgICAgICAgICAgIGZpbGVwb3NpdGlvbjogdGFibGUuZmlsZXBvc2l0aW9uc1trZXlmcmFtZUlkeF1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfc2VhcmNoKGxpc3QsIHZhbHVlKSB7XG4gICAgICAgIGxldCBpZHggPSAwO1xuXG4gICAgICAgIGxldCBsYXN0ID0gbGlzdC5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgbWlkID0gMDtcbiAgICAgICAgbGV0IGxib3VuZCA9IDA7XG4gICAgICAgIGxldCB1Ym91bmQgPSBsYXN0O1xuXG4gICAgICAgIGlmICh2YWx1ZSA8IGxpc3RbMF0pIHtcbiAgICAgICAgICAgIGlkeCA9IDA7XG4gICAgICAgICAgICBsYm91bmQgPSB1Ym91bmQgKyAxOyAgLy8gc2tpcCBzZWFyY2hcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8ICh2YWx1ZSA+PSBsaXN0W21pZF0gJiYgdmFsdWUgPCBsaXN0W21pZCArIDFdKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdIDwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBsYm91bmQgPSBtaWQgKyAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB1Ym91bmQgPSBtaWQgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTWVkaWFJbmZvOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIGRlcml2ZWQgZnJvbSBDKysgcHJvamVjdCBsaWJXaW5URjggKGh0dHBzOi8vZ2l0aHViLmNvbS9tMTMyNTMvbGliV2luVEY4KVxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5mdW5jdGlvbiBjaGVja0NvbnRpbnVhdGlvbih1aW50OGFycmF5LCBzdGFydCwgY2hlY2tMZW5ndGgpIHtcbiAgICBsZXQgYXJyYXkgPSB1aW50OGFycmF5O1xuICAgIGlmIChzdGFydCArIGNoZWNrTGVuZ3RoIDwgYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgIHdoaWxlIChjaGVja0xlbmd0aC0tKSB7XG4gICAgICAgICAgICBpZiAoKGFycmF5Wysrc3RhcnRdICYgMHhDMCkgIT09IDB4ODApXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRlY29kZVVURjgodWludDhhcnJheSkge1xuICAgIGxldCBvdXQgPSBbXTtcbiAgICBsZXQgaW5wdXQgPSB1aW50OGFycmF5O1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbGVuZ3RoID0gdWludDhhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaSA8IGxlbmd0aCkge1xuICAgICAgICBpZiAoaW5wdXRbaV0gPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKGlucHV0W2ldKSk7XG4gICAgICAgICAgICArK2k7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFtpXSA8IDB4QzApIHtcbiAgICAgICAgICAgIC8vIGZhbGx0aHJvdWdoXG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEUwKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tDb250aW51YXRpb24oaW5wdXQsIGksIDEpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVjczQgPSAoaW5wdXRbaV0gJiAweDFGKSA8PCA2IHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpO1xuICAgICAgICAgICAgICAgIGlmICh1Y3M0ID49IDB4ODApIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSh1Y3M0ICYgMHhGRkZGKSk7XG4gICAgICAgICAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0W2ldIDwgMHhGMCkge1xuICAgICAgICAgICAgaWYgKGNoZWNrQ29udGludWF0aW9uKGlucHV0LCBpLCAyKSkge1xuICAgICAgICAgICAgICAgIGxldCB1Y3M0ID0gKGlucHV0W2ldICYgMHhGKSA8PCAxMiB8IChpbnB1dFtpICsgMV0gJiAweDNGKSA8PCA2IHwgaW5wdXRbaSArIDJdICYgMHgzRjtcbiAgICAgICAgICAgICAgICBpZiAodWNzNCA+PSAweDgwMCAmJiAodWNzNCAmIDB4RjgwMCkgIT09IDB4RDgwMCkge1xuICAgICAgICAgICAgICAgICAgICBvdXQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlKHVjczQgJiAweEZGRkYpKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAzO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaW5wdXRbaV0gPCAweEY4KSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tDb250aW51YXRpb24oaW5wdXQsIGksIDMpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVjczQgPSAoaW5wdXRbaV0gJiAweDcpIDw8IDE4IHwgKGlucHV0W2kgKyAxXSAmIDB4M0YpIDw8IDEyXG4gICAgICAgICAgICAgICAgICAgICAgICAgfCAoaW5wdXRbaSArIDJdICYgMHgzRikgPDwgNiB8IChpbnB1dFtpICsgM10gJiAweDNGKTtcbiAgICAgICAgICAgICAgICBpZiAodWNzNCA+IDB4MTAwMDAgJiYgdWNzNCA8IDB4MTEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHVjczQgLT0gMHgxMDAwMDtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgodWNzNCA+Pj4gMTApIHwgMHhEODAwKSk7XG4gICAgICAgICAgICAgICAgICAgIG91dC5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoKHVjczQgJiAweDNGRikgfCAweERDMDApKTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSA0O1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgb3V0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZSgweEZGRkQpKTtcbiAgICAgICAgKytpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXQuam9pbignJyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRlY29kZVVURjg7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBkZWNvZGVVVEY4IGZyb20gJy4uL3V0aWxzL3V0ZjgtY29udi5qcyc7XG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxubGV0IGxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgYnVmID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgIChuZXcgRGF0YVZpZXcoYnVmKSkuc2V0SW50MTYoMCwgMjU2LCB0cnVlKTsgIC8vIGxpdHRsZS1lbmRpYW4gd3JpdGVcbiAgICByZXR1cm4gKG5ldyBJbnQxNkFycmF5KGJ1ZikpWzBdID09PSAyNTY7ICAvLyBwbGF0Zm9ybS1zcGVjIHJlYWQsIGlmIGVxdWFsIHRoZW4gTEVcbn0pKCk7XG5cbmNsYXNzIEFNRiB7XG5cbiAgICBzdGF0aWMgcGFyc2VTY3JpcHREYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBsZXQgZGF0YSA9IHt9O1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsZXQgbmFtZSA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSBBTUYucGFyc2VWYWx1ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG5hbWUuc2l6ZSwgZGF0YVNpemUgLSBuYW1lLnNpemUpO1xuXG4gICAgICAgICAgICBkYXRhW25hbWUuZGF0YV0gPSB2YWx1ZS5kYXRhO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBMb2cuZSgnQU1GJywgZS50b1N0cmluZygpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZU9iamVjdChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgU2NyaXB0RGF0YU9iamVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBuYW1lID0gQU1GLnBhcnNlU3RyaW5nKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCB2YWx1ZSA9IEFNRi5wYXJzZVZhbHVlKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgbmFtZS5zaXplLCBkYXRhU2l6ZSAtIG5hbWUuc2l6ZSk7XG4gICAgICAgIGxldCBpc09iamVjdEVuZCA9IHZhbHVlLm9iamVjdEVuZDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUuZGF0YSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUuZGF0YVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IG5hbWUuc2l6ZSArIHZhbHVlLnNpemUsXG4gICAgICAgICAgICBvYmplY3RFbmQ6IGlzT2JqZWN0RW5kXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlVmFyaWFibGUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIHJldHVybiBBTUYucGFyc2VPYmplY3QoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VTdHJpbmcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGlmIChkYXRhU2l6ZSA8IDIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0RhdGEgbm90IGVub3VnaCB3aGVuIHBhcnNlIFN0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCBsZW5ndGggPSB2LmdldFVpbnQxNigwLCAhbGUpO1xuXG4gICAgICAgIGxldCBzdHI7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdHIgPSBkZWNvZGVVVEY4KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgMiwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBzdHIsXG4gICAgICAgICAgICBzaXplOiAyICsgbGVuZ3RoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlTG9uZ1N0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgTG9uZ1N0cmluZycpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCBsZW5ndGggPSB2LmdldFVpbnQzMigwLCAhbGUpO1xuXG4gICAgICAgIGxldCBzdHI7XG4gICAgICAgIGlmIChsZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBzdHIgPSBkZWNvZGVVVEY4KG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgNCwgbGVuZ3RoKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHIgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBzdHIsXG4gICAgICAgICAgICBzaXplOiA0ICsgbGVuZ3RoXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgc3RhdGljIHBhcnNlRGF0ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMTApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0RhdGEgc2l6ZSBpbnZhbGlkIHdoZW4gcGFyc2UgRGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCB0aW1lc3RhbXAgPSB2LmdldEZsb2F0NjQoMCwgIWxlKTtcbiAgICAgICAgbGV0IGxvY2FsVGltZU9mZnNldCA9IHYuZ2V0SW50MTYoOCwgIWxlKTtcbiAgICAgICAgdGltZXN0YW1wICs9IGxvY2FsVGltZU9mZnNldCAqIDYwICogMTAwMDsgIC8vIGdldCBVVEMgdGltZVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkYXRhOiBuZXcgRGF0ZSh0aW1lc3RhbXApLFxuICAgICAgICAgICAgc2l6ZTogOCArIDJcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VWYWx1ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignRGF0YSBub3QgZW5vdWdoIHdoZW4gcGFyc2UgVmFsdWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICAgICAgbGV0IG9mZnNldCA9IDE7XG4gICAgICAgIGxldCB0eXBlID0gdi5nZXRVaW50OCgwKTtcbiAgICAgICAgbGV0IHZhbHVlO1xuICAgICAgICBsZXQgb2JqZWN0RW5kID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogIC8vIE51bWJlcihEb3VibGUpIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2LmdldEZsb2F0NjQoMSwgIWxlKTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDg7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTogeyAgLy8gQm9vbGVhbiB0eXBlXG4gICAgICAgICAgICAgICAgICAgIGxldCBiID0gdi5nZXRVaW50OCgxKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBiID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMjogeyAgLy8gU3RyaW5nIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFtZnN0ciA9IEFNRi5wYXJzZVN0cmluZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYW1mc3RyLmRhdGE7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSBhbWZzdHIuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMzogeyAvLyBPYmplY3QocykgdHlwZVxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGVybWluYWwgPSAwOyAgLy8gd29ya2Fyb3VuZCBmb3IgbWFsZm9ybWVkIE9iamVjdHMgd2hpY2ggaGFzIG1pc3NpbmcgU2NyaXB0RGF0YU9iamVjdEVuZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHYuZ2V0VWludDMyKGRhdGFTaXplIC0gNCwgIWxlKSAmIDB4MDBGRkZGRkYpID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IGRhdGFTaXplIC0gNCkgeyAgLy8gNCA9PT0gdHlwZShVSTgpICsgU2NyaXB0RGF0YU9iamVjdEVuZChVSTI0KVxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGFtZm9iaiA9IEFNRi5wYXJzZU9iamVjdChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG9mZnNldCwgZGF0YVNpemUgLSBvZmZzZXQgLSB0ZXJtaW5hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1mb2JqLm9iamVjdEVuZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2FtZm9iai5kYXRhLm5hbWVdID0gYW1mb2JqLmRhdGEudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gYW1mb2JqLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA8PSBkYXRhU2l6ZSAtIDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBtYXJrZXIgPSB2LmdldFVpbnQzMihvZmZzZXQgLSAxLCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXJrZXIgPT09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSA4OiB7IC8vIEVDTUEgYXJyYXkgdHlwZSAoTWl4ZWQgYXJyYXkpXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0ge307XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSA0OyAgLy8gRUNNQUFycmF5TGVuZ3RoKFVJMzIpXG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZXJtaW5hbCA9IDA7ICAvLyB3b3JrYXJvdW5kIGZvciBtYWxmb3JtZWQgTWl4ZWRBcnJheXMgd2hpY2ggaGFzIG1pc3NpbmcgU2NyaXB0RGF0YU9iamVjdEVuZFxuICAgICAgICAgICAgICAgICAgICBpZiAoKHYuZ2V0VWludDMyKGRhdGFTaXplIC0gNCwgIWxlKSAmIDB4MDBGRkZGRkYpID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXJtaW5hbCA9IDM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9mZnNldCA8IGRhdGFTaXplIC0gOCkgeyAgLy8gOCA9PT0gdHlwZShVSTgpICsgRUNNQUFycmF5TGVuZ3RoKFVJMzIpICsgU2NyaXB0RGF0YVZhcmlhYmxlRW5kKFVJMjQpXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgYW1mdmFyID0gQU1GLnBhcnNlVmFyaWFibGUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBvZmZzZXQsIGRhdGFTaXplIC0gb2Zmc2V0IC0gdGVybWluYWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFtZnZhci5vYmplY3RFbmQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZVthbWZ2YXIuZGF0YS5uYW1lXSA9IGFtZnZhci5kYXRhLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGFtZnZhci5zaXplO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChvZmZzZXQgPD0gZGF0YVNpemUgLSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbWFya2VyID0gdi5nZXRVaW50MzIob2Zmc2V0IC0gMSwgIWxlKSAmIDB4MDBGRkZGRkY7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWFya2VyID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgOTogIC8vIFNjcmlwdERhdGFPYmplY3RFbmRcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdEVuZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTA6IHsgIC8vIFN0cmljdCBhcnJheSB0eXBlXG4gICAgICAgICAgICAgICAgICAgIC8vIFNjcmlwdERhdGFWYWx1ZVtuXS4gTk9URTogYWNjb3JkaW5nIHRvIHZpZGVvX2ZpbGVfZm9ybWF0X3NwZWNfdjEwXzEucGRmXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gW107XG4gICAgICAgICAgICAgICAgICAgIGxldCBzdHJpY3RBcnJheUxlbmd0aCA9IHYuZ2V0VWludDMyKDEsICFsZSk7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0cmljdEFycmF5TGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWwgPSBBTUYucGFyc2VWYWx1ZShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIG9mZnNldCwgZGF0YVNpemUgLSBvZmZzZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUucHVzaCh2YWwuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gdmFsLnNpemU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMTE6IHsgIC8vIERhdGUgdHlwZVxuICAgICAgICAgICAgICAgICAgICBsZXQgZGF0ZSA9IEFNRi5wYXJzZURhdGUoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGRhdGUuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGUuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgMTI6IHsgIC8vIExvbmcgc3RyaW5nIHR5cGVcbiAgICAgICAgICAgICAgICAgICAgbGV0IGFtZkxvbmdTdHIgPSBBTUYucGFyc2VTdHJpbmcoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFtZkxvbmdTdHIuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGFtZkxvbmdTdHIuc2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBhbmQgc2tpcFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBkYXRhU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgTG9nLncoJ0FNRicsICdVbnN1cHBvcnRlZCBBTUYgdmFsdWUgdHlwZSAnICsgdHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIExvZy5lKCdBTUYnLCBlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHZhbHVlLFxuICAgICAgICAgICAgc2l6ZTogb2Zmc2V0LFxuICAgICAgICAgICAgb2JqZWN0RW5kOiBvYmplY3RFbmRcbiAgICAgICAgfTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQU1GOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vLyBFeHBvbmVudGlhbC1Hb2xvbWIgYnVmZmVyIGRlY29kZXJcbmNsYXNzIEV4cEdvbG9tYiB7XG5cbiAgICBjb25zdHJ1Y3Rvcih1aW50OGFycmF5KSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ0V4cEdvbG9tYic7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyID0gdWludDhhcnJheTtcbiAgICAgICAgdGhpcy5fYnVmZmVyX2luZGV4ID0gMDtcbiAgICAgICAgdGhpcy5fdG90YWxfYnl0ZXMgPSB1aW50OGFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICAgIHRoaXMuX3RvdGFsX2JpdHMgPSB1aW50OGFycmF5LmJ5dGVMZW5ndGggKiA4O1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPSAwO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0ID0gMDtcbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLl9idWZmZXIgPSBudWxsO1xuICAgIH1cblxuICAgIF9maWxsQ3VycmVudFdvcmQoKSB7XG4gICAgICAgIGxldCBidWZmZXJfYnl0ZXNfbGVmdCA9IHRoaXMuX3RvdGFsX2J5dGVzIC0gdGhpcy5fYnVmZmVyX2luZGV4O1xuICAgICAgICBpZiAoYnVmZmVyX2J5dGVzX2xlZnQgPD0gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0V4cEdvbG9tYjogX2ZpbGxDdXJyZW50V29yZCgpIGJ1dCBubyBieXRlcyBhdmFpbGFibGUnKTtcblxuICAgICAgICBsZXQgYnl0ZXNfcmVhZCA9IE1hdGgubWluKDQsIGJ1ZmZlcl9ieXRlc19sZWZ0KTtcbiAgICAgICAgbGV0IHdvcmQgPSBuZXcgVWludDhBcnJheSg0KTtcbiAgICAgICAgd29yZC5zZXQodGhpcy5fYnVmZmVyLnN1YmFycmF5KHRoaXMuX2J1ZmZlcl9pbmRleCwgdGhpcy5fYnVmZmVyX2luZGV4ICsgYnl0ZXNfcmVhZCkpO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPSBuZXcgRGF0YVZpZXcod29yZC5idWZmZXIpLmdldFVpbnQzMigwLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fYnVmZmVyX2luZGV4ICs9IGJ5dGVzX3JlYWQ7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQgPSBieXRlc19yZWFkICogODtcbiAgICB9XG5cbiAgICByZWFkQml0cyhiaXRzKSB7XG4gICAgICAgIGlmIChiaXRzID4gMzIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdFeHBHb2xvbWI6IHJlYWRCaXRzKCkgYml0cyBleGNlZWRlZCBtYXggMzJiaXRzIScpO1xuXG4gICAgICAgIGlmIChiaXRzIDw9IHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLl9jdXJyZW50X3dvcmQgPj4+ICgzMiAtIGJpdHMpO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudF93b3JkIDw8PSBiaXRzO1xuICAgICAgICAgICAgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCAtPSBiaXRzO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCByZXN1bHQgPSB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0ID8gdGhpcy5fY3VycmVudF93b3JkIDogMDtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0ID4+PiAoMzIgLSB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0KTtcbiAgICAgICAgbGV0IGJpdHNfbmVlZF9sZWZ0ID0gYml0cyAtIHRoaXMuX2N1cnJlbnRfd29yZF9iaXRzX2xlZnQ7XG5cbiAgICAgICAgdGhpcy5fZmlsbEN1cnJlbnRXb3JkKCk7XG4gICAgICAgIGxldCBiaXRzX3JlYWRfbmV4dCA9IE1hdGgubWluKGJpdHNfbmVlZF9sZWZ0LCB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0KTtcblxuICAgICAgICBsZXQgcmVzdWx0MiA9IHRoaXMuX2N1cnJlbnRfd29yZCA+Pj4gKDMyIC0gYml0c19yZWFkX25leHQpO1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPDw9IGJpdHNfcmVhZF9uZXh0O1xuICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmRfYml0c19sZWZ0IC09IGJpdHNfcmVhZF9uZXh0O1xuXG4gICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgYml0c19yZWFkX25leHQpIHwgcmVzdWx0MjtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICByZWFkQm9vbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMoMSkgPT09IDE7XG4gICAgfVxuXG4gICAgcmVhZEJ5dGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRCaXRzKDgpO1xuICAgIH1cblxuICAgIF9za2lwTGVhZGluZ1plcm8oKSB7XG4gICAgICAgIGxldCB6ZXJvX2NvdW50O1xuICAgICAgICBmb3IgKHplcm9fY291bnQgPSAwOyB6ZXJvX2NvdW50IDwgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdDsgemVyb19jb3VudCsrKSB7XG4gICAgICAgICAgICBpZiAoMCAhPT0gKHRoaXMuX2N1cnJlbnRfd29yZCAmICgweDgwMDAwMDAwID4+PiB6ZXJvX2NvdW50KSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50X3dvcmQgPDw9IHplcm9fY291bnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudF93b3JkX2JpdHNfbGVmdCAtPSB6ZXJvX2NvdW50O1xuICAgICAgICAgICAgICAgIHJldHVybiB6ZXJvX2NvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2ZpbGxDdXJyZW50V29yZCgpO1xuICAgICAgICByZXR1cm4gemVyb19jb3VudCArIHRoaXMuX3NraXBMZWFkaW5nWmVybygpO1xuICAgIH1cblxuICAgIHJlYWRVRUcoKSB7ICAvLyB1bnNpZ25lZCBleHBvbmVudGlhbCBnb2xvbWJcbiAgICAgICAgbGV0IGxlYWRpbmdfemVyb3MgPSB0aGlzLl9za2lwTGVhZGluZ1plcm8oKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVhZEJpdHMobGVhZGluZ196ZXJvcyArIDEpIC0gMTtcbiAgICB9XG5cbiAgICByZWFkU0VHKCkgeyAgLy8gc2lnbmVkIGV4cG9uZW50aWFsIGdvbG9tYlxuICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnJlYWRVRUcoKTtcbiAgICAgICAgaWYgKHZhbHVlICYgMHgwMSkge1xuICAgICAgICAgICAgcmV0dXJuICh2YWx1ZSArIDEpID4+PiAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIC0xICogKHZhbHVlID4+PiAxKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBFeHBHb2xvbWI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFeHBHb2xvbWIgZnJvbSAnLi9leHAtZ29sb21iLmpzJztcblxuY2xhc3MgU1BTUGFyc2VyIHtcblxuICAgIHN0YXRpYyBfZWJzcDJyYnNwKHVpbnQ4YXJyYXkpIHtcbiAgICAgICAgbGV0IHNyYyA9IHVpbnQ4YXJyYXk7XG4gICAgICAgIGxldCBzcmNfbGVuZ3RoID0gc3JjLmJ5dGVMZW5ndGg7XG4gICAgICAgIGxldCBkc3QgPSBuZXcgVWludDhBcnJheShzcmNfbGVuZ3RoKTtcbiAgICAgICAgbGV0IGRzdF9pZHggPSAwO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3JjX2xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoaSA+PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gVW5lc2NhcGU6IFNraXAgMHgwMyBhZnRlciAwMCAwMFxuICAgICAgICAgICAgICAgIGlmIChzcmNbaV0gPT09IDB4MDMgJiYgc3JjW2kgLSAxXSA9PT0gMHgwMCAmJiBzcmNbaSAtIDJdID09PSAweDAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRzdFtkc3RfaWR4XSA9IHNyY1tpXTtcbiAgICAgICAgICAgIGRzdF9pZHgrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShkc3QuYnVmZmVyLCAwLCBkc3RfaWR4KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGFyc2VTUFModWludDhhcnJheSkge1xuICAgICAgICBsZXQgcmJzcCA9IFNQU1BhcnNlci5fZWJzcDJyYnNwKHVpbnQ4YXJyYXkpO1xuICAgICAgICBsZXQgZ2IgPSBuZXcgRXhwR29sb21iKHJic3ApO1xuXG4gICAgICAgIGdiLnJlYWRCeXRlKCk7XG4gICAgICAgIGxldCBwcm9maWxlX2lkYyA9IGdiLnJlYWRCeXRlKCk7ICAvLyBwcm9maWxlX2lkY1xuICAgICAgICBnYi5yZWFkQnl0ZSgpOyAgLy8gY29uc3RyYWludF9zZXRfZmxhZ3NbNV0gKyByZXNlcnZlZF96ZXJvWzNdXG4gICAgICAgIGxldCBsZXZlbF9pZGMgPSBnYi5yZWFkQnl0ZSgpOyAgLy8gbGV2ZWxfaWRjXG4gICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIHNlcV9wYXJhbWV0ZXJfc2V0X2lkXG5cbiAgICAgICAgbGV0IHByb2ZpbGVfc3RyaW5nID0gU1BTUGFyc2VyLmdldFByb2ZpbGVTdHJpbmcocHJvZmlsZV9pZGMpO1xuICAgICAgICBsZXQgbGV2ZWxfc3RyaW5nID0gU1BTUGFyc2VyLmdldExldmVsU3RyaW5nKGxldmVsX2lkYyk7XG4gICAgICAgIGxldCBjaHJvbWFfZm9ybWF0X2lkYyA9IDE7XG4gICAgICAgIGxldCBjaHJvbWFfZm9ybWF0ID0gNDIwO1xuICAgICAgICBsZXQgY2hyb21hX2Zvcm1hdF90YWJsZSA9IFswLCA0MjAsIDQyMiwgNDQ0XTtcbiAgICAgICAgbGV0IGJpdF9kZXB0aCA9IDg7XG5cbiAgICAgICAgaWYgKHByb2ZpbGVfaWRjID09PSAxMDAgfHwgcHJvZmlsZV9pZGMgPT09IDExMCB8fCBwcm9maWxlX2lkYyA9PT0gMTIyIHx8XG4gICAgICAgICAgICBwcm9maWxlX2lkYyA9PT0gMjQ0IHx8IHByb2ZpbGVfaWRjID09PSA0NCB8fCBwcm9maWxlX2lkYyA9PT0gODMgfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSA4NiB8fCBwcm9maWxlX2lkYyA9PT0gMTE4IHx8IHByb2ZpbGVfaWRjID09PSAxMjggfHxcbiAgICAgICAgICAgIHByb2ZpbGVfaWRjID09PSAxMzggfHwgcHJvZmlsZV9pZGMgPT09IDE0NCkge1xuXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0X2lkYyA9IGdiLnJlYWRVRUcoKTtcbiAgICAgICAgICAgIGlmIChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMykge1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gc2VwYXJhdGVfY29sb3VyX3BsYW5lX2ZsYWdcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHJvbWFfZm9ybWF0X2lkYyA8PSAzKSB7XG4gICAgICAgICAgICAgICAgY2hyb21hX2Zvcm1hdCA9IGNocm9tYV9mb3JtYXRfdGFibGVbY2hyb21hX2Zvcm1hdF9pZGNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBiaXRfZGVwdGggPSBnYi5yZWFkVUVHKCkgKyA4OyAgLy8gYml0X2RlcHRoX2x1bWFfbWludXM4XG4gICAgICAgICAgICBnYi5yZWFkVUVHKCk7ICAvLyBiaXRfZGVwdGhfY2hyb21hX21pbnVzOFxuICAgICAgICAgICAgZ2IucmVhZEJpdHMoMSk7ICAvLyBxcHByaW1lX3lfemVyb190cmFuc2Zvcm1fYnlwYXNzX2ZsYWdcbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBzZXFfc2NhbGluZ19tYXRyaXhfcHJlc2VudF9mbGFnXG4gICAgICAgICAgICAgICAgbGV0IHNjYWxpbmdfbGlzdF9jb3VudCA9IChjaHJvbWFfZm9ybWF0X2lkYyAhPT0gMykgPyA4IDogMTI7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY2FsaW5nX2xpc3RfY291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gc2VxX3NjYWxpbmdfbGlzdF9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQU1BhcnNlci5fc2tpcFNjYWxpbmdMaXN0KGdiLCAxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNQU1BhcnNlci5fc2tpcFNjYWxpbmdMaXN0KGdiLCA2NCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gbG9nMl9tYXhfZnJhbWVfbnVtX21pbnVzNFxuICAgICAgICBsZXQgcGljX29yZGVyX2NudF90eXBlID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBpZiAocGljX29yZGVyX2NudF90eXBlID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkVUVHKCk7ICAvLyBsb2cyX21heF9waWNfb3JkZXJfY250X2xzYl9taW51c180XG4gICAgICAgIH0gZWxzZSBpZiAocGljX29yZGVyX2NudF90eXBlID09PSAxKSB7XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIGRlbHRhX3BpY19vcmRlcl9hbHdheXNfemVyb19mbGFnXG4gICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX25vbl9yZWZfcGljXG4gICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX3RvcF90b19ib3R0b21fZmllbGRcbiAgICAgICAgICAgIGxldCBudW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1fcmVmX2ZyYW1lc19pbl9waWNfb3JkZXJfY250X2N5Y2xlOyBpKyspIHtcbiAgICAgICAgICAgICAgICBnYi5yZWFkU0VHKCk7ICAvLyBvZmZzZXRfZm9yX3JlZl9mcmFtZVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCByZWZfZnJhbWVzID0gZ2IucmVhZFVFRygpOyAgLy8gbWF4X251bV9yZWZfZnJhbWVzXG4gICAgICAgIGdiLnJlYWRCaXRzKDEpOyAgLy8gZ2Fwc19pbl9mcmFtZV9udW1fdmFsdWVfYWxsb3dlZF9mbGFnXG5cbiAgICAgICAgbGV0IHBpY193aWR0aF9pbl9tYnNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuICAgICAgICBsZXQgcGljX2hlaWdodF9pbl9tYXBfdW5pdHNfbWludXMxID0gZ2IucmVhZFVFRygpO1xuXG4gICAgICAgIGxldCBmcmFtZV9tYnNfb25seV9mbGFnID0gZ2IucmVhZEJpdHMoMSk7XG4gICAgICAgIGlmIChmcmFtZV9tYnNfb25seV9mbGFnID09PSAwKSB7XG4gICAgICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIG1iX2FkYXB0aXZlX2ZyYW1lX2ZpZWxkX2ZsYWdcbiAgICAgICAgfVxuICAgICAgICBnYi5yZWFkQml0cygxKTsgIC8vIGRpcmVjdF84eDhfaW5mZXJlbmNlX2ZsYWdcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcF9sZWZ0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3JpZ2h0X29mZnNldCA9IDA7XG4gICAgICAgIGxldCBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSAwO1xuICAgICAgICBsZXQgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0ID0gMDtcblxuICAgICAgICBsZXQgZnJhbWVfY3JvcHBpbmdfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmIChmcmFtZV9jcm9wcGluZ19mbGFnKSB7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ID0gZ2IucmVhZFVFRygpO1xuICAgICAgICAgICAgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX3RvcF9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgICAgICBmcmFtZV9jcm9wX2JvdHRvbV9vZmZzZXQgPSBnYi5yZWFkVUVHKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgc2FyX3dpZHRoID0gMSwgc2FyX2hlaWdodCA9IDE7XG4gICAgICAgIGxldCBmcHMgPSAwLCBmcHNfZml4ZWQgPSB0cnVlLCBmcHNfbnVtID0gMCwgZnBzX2RlbiA9IDA7XG5cbiAgICAgICAgbGV0IHZ1aV9wYXJhbWV0ZXJzX3ByZXNlbnRfZmxhZyA9IGdiLnJlYWRCb29sKCk7XG4gICAgICAgIGlmICh2dWlfcGFyYW1ldGVyc19wcmVzZW50X2ZsYWcpIHtcbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyBhc3BlY3RfcmF0aW9faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgYXNwZWN0X3JhdGlvX2lkYyA9IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgbGV0IHNhcl93X3RhYmxlID0gWzEsIDEyLCAxMCwgMTYsIDQwLCAyNCwgMjAsIDMyLCA4MCwgMTgsIDE1LCA2NCwgMTYwLCA0LCAzLCAyXTtcbiAgICAgICAgICAgICAgICBsZXQgc2FyX2hfdGFibGUgPSBbMSwgMTEsIDExLCAxMSwgMzMsIDExLCAxMSwgMTEsIDMzLCAxMSwgMTEsIDMzLCAgOTksIDMsIDIsIDFdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGFzcGVjdF9yYXRpb19pZGMgPiAwICYmIGFzcGVjdF9yYXRpb19pZGMgPCAxNikge1xuICAgICAgICAgICAgICAgICAgICBzYXJfd2lkdGggPSBzYXJfd190YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIHNhcl9oZWlnaHQgPSBzYXJfaF90YWJsZVthc3BlY3RfcmF0aW9faWRjIC0gMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChhc3BlY3RfcmF0aW9faWRjID09PSAyNTUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2FyX3dpZHRoID0gZ2IucmVhZEJ5dGUoKSA8PCA4IHwgZ2IucmVhZEJ5dGUoKTtcbiAgICAgICAgICAgICAgICAgICAgc2FyX2hlaWdodCA9IGdiLnJlYWRCeXRlKCkgPDwgOCB8IGdiLnJlYWRCeXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gb3ZlcnNjYW5faW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBnYi5yZWFkQm9vbCgpOyAgLy8gb3ZlcnNjYW5fYXBwcm9wcmlhdGVfZmxhZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIHZpZGVvX3NpZ25hbF90eXBlX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRCaXRzKDQpOyAgLy8gdmlkZW9fZm9ybWF0ICYgdmlkZW9fZnVsbF9yYW5nZV9mbGFnXG4gICAgICAgICAgICAgICAgaWYgKGdiLnJlYWRCb29sKCkpIHsgIC8vIGNvbG91cl9kZXNjcmlwdGlvbl9wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICAgICAgZ2IucmVhZEJpdHMoMjQpOyAgLy8gY29sb3VyX3ByaW1hcmllcyAmIHRyYW5zZmVyX2NoYXJhY3RlcmlzdGljcyAmIG1hdHJpeF9jb2VmZmljaWVudHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZ2IucmVhZEJvb2woKSkgeyAgLy8gY2hyb21hX2xvY19pbmZvX3ByZXNlbnRfZmxhZ1xuICAgICAgICAgICAgICAgIGdiLnJlYWRVRUcoKTsgIC8vIGNocm9tYV9zYW1wbGVfbG9jX3R5cGVfdG9wX2ZpZWxkXG4gICAgICAgICAgICAgICAgZ2IucmVhZFVFRygpOyAgLy8gY2hyb21hX3NhbXBsZV9sb2NfdHlwZV9ib3R0b21fZmllbGRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChnYi5yZWFkQm9vbCgpKSB7ICAvLyB0aW1pbmdfaW5mb19wcmVzZW50X2ZsYWdcbiAgICAgICAgICAgICAgICBsZXQgbnVtX3VuaXRzX2luX3RpY2sgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgbGV0IHRpbWVfc2NhbGUgPSBnYi5yZWFkQml0cygzMik7XG4gICAgICAgICAgICAgICAgZnBzX2ZpeGVkID0gZ2IucmVhZEJvb2woKTsgIC8vIGZpeGVkX2ZyYW1lX3JhdGVfZmxhZ1xuXG4gICAgICAgICAgICAgICAgZnBzX251bSA9IHRpbWVfc2NhbGU7XG4gICAgICAgICAgICAgICAgZnBzX2RlbiA9IG51bV91bml0c19pbl90aWNrICogMjtcbiAgICAgICAgICAgICAgICBmcHMgPSBmcHNfbnVtIC8gZnBzX2RlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYXJTY2FsZSA9IDE7XG4gICAgICAgIGlmIChzYXJfd2lkdGggIT09IDEgfHwgc2FyX2hlaWdodCAhPT0gMSkge1xuICAgICAgICAgICAgc2FyU2NhbGUgPSBzYXJfd2lkdGggLyBzYXJfaGVpZ2h0O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNyb3BfdW5pdF94ID0gMCwgY3JvcF91bml0X3kgPSAwO1xuICAgICAgICBpZiAoY2hyb21hX2Zvcm1hdF9pZGMgPT09IDApIHtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF95ID0gMiAtIGZyYW1lX21ic19vbmx5X2ZsYWc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgc3ViX3djID0gKGNocm9tYV9mb3JtYXRfaWRjID09PSAzKSA/IDEgOiAyO1xuICAgICAgICAgICAgbGV0IHN1Yl9oYyA9IChjaHJvbWFfZm9ybWF0X2lkYyA9PT0gMSkgPyAyIDogMTtcbiAgICAgICAgICAgIGNyb3BfdW5pdF94ID0gc3ViX3djO1xuICAgICAgICAgICAgY3JvcF91bml0X3kgPSBzdWJfaGMgKiAoMiAtIGZyYW1lX21ic19vbmx5X2ZsYWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvZGVjX3dpZHRoID0gKHBpY193aWR0aF9pbl9tYnNfbWludXMxICsgMSkgKiAxNjtcbiAgICAgICAgbGV0IGNvZGVjX2hlaWdodCA9ICgyIC0gZnJhbWVfbWJzX29ubHlfZmxhZykgKiAoKHBpY19oZWlnaHRfaW5fbWFwX3VuaXRzX21pbnVzMSArIDEpICogMTYpO1xuXG4gICAgICAgIGNvZGVjX3dpZHRoIC09IChmcmFtZV9jcm9wX2xlZnRfb2Zmc2V0ICsgZnJhbWVfY3JvcF9yaWdodF9vZmZzZXQpICogY3JvcF91bml0X3g7XG4gICAgICAgIGNvZGVjX2hlaWdodCAtPSAoZnJhbWVfY3JvcF90b3Bfb2Zmc2V0ICsgZnJhbWVfY3JvcF9ib3R0b21fb2Zmc2V0KSAqIGNyb3BfdW5pdF95O1xuXG4gICAgICAgIGxldCBwcmVzZW50X3dpZHRoID0gTWF0aC5jZWlsKGNvZGVjX3dpZHRoICogc2FyU2NhbGUpO1xuXG4gICAgICAgIGdiLmRlc3Ryb3koKTtcbiAgICAgICAgZ2IgPSBudWxsO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcm9maWxlX3N0cmluZzogcHJvZmlsZV9zdHJpbmcsICAvLyBiYXNlbGluZSwgaGlnaCwgaGlnaDEwLCAuLi5cbiAgICAgICAgICAgIGxldmVsX3N0cmluZzogbGV2ZWxfc3RyaW5nLCAgLy8gMywgMy4xLCA0LCA0LjEsIDUsIDUuMSwgLi4uXG4gICAgICAgICAgICBiaXRfZGVwdGg6IGJpdF9kZXB0aCwgIC8vIDhiaXQsIDEwYml0LCAuLi5cbiAgICAgICAgICAgIHJlZl9mcmFtZXM6IHJlZl9mcmFtZXMsXG4gICAgICAgICAgICBjaHJvbWFfZm9ybWF0OiBjaHJvbWFfZm9ybWF0LCAgLy8gNDoyOjAsIDQ6MjoyLCAuLi5cbiAgICAgICAgICAgIGNocm9tYV9mb3JtYXRfc3RyaW5nOiBTUFNQYXJzZXIuZ2V0Q2hyb21hRm9ybWF0U3RyaW5nKGNocm9tYV9mb3JtYXQpLFxuXG4gICAgICAgICAgICBmcmFtZV9yYXRlOiB7XG4gICAgICAgICAgICAgICAgZml4ZWQ6IGZwc19maXhlZCxcbiAgICAgICAgICAgICAgICBmcHM6IGZwcyxcbiAgICAgICAgICAgICAgICBmcHNfZGVuOiBmcHNfZGVuLFxuICAgICAgICAgICAgICAgIGZwc19udW06IGZwc19udW1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNhcl9yYXRpbzoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzYXJfd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzYXJfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBjb2RlY19zaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGNvZGVjX3dpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogY29kZWNfaGVpZ2h0XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBwcmVzZW50X3NpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogcHJlc2VudF93aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvZGVjX2hlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBfc2tpcFNjYWxpbmdMaXN0KGdiLCBjb3VudCkge1xuICAgICAgICBsZXQgbGFzdF9zY2FsZSA9IDgsIG5leHRfc2NhbGUgPSA4O1xuICAgICAgICBsZXQgZGVsdGFfc2NhbGUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGlmIChuZXh0X3NjYWxlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgZGVsdGFfc2NhbGUgPSBnYi5yZWFkU0VHKCk7XG4gICAgICAgICAgICAgICAgbmV4dF9zY2FsZSA9IChsYXN0X3NjYWxlICsgZGVsdGFfc2NhbGUgKyAyNTYpICUgMjU2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdF9zY2FsZSA9IChuZXh0X3NjYWxlID09PSAwKSA/IGxhc3Rfc2NhbGUgOiBuZXh0X3NjYWxlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldFByb2ZpbGVTdHJpbmcocHJvZmlsZV9pZGMpIHtcbiAgICAgICAgc3dpdGNoIChwcm9maWxlX2lkYykge1xuICAgICAgICAgICAgY2FzZSA2NjpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0Jhc2VsaW5lJztcbiAgICAgICAgICAgIGNhc2UgNzc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdNYWluJztcbiAgICAgICAgICAgIGNhc2UgODg6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdFeHRlbmRlZCc7XG4gICAgICAgICAgICBjYXNlIDEwMDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ0hpZ2gnO1xuICAgICAgICAgICAgY2FzZSAxMTA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoMTAnO1xuICAgICAgICAgICAgY2FzZSAxMjI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdIaWdoNDIyJztcbiAgICAgICAgICAgIGNhc2UgMjQ0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnSGlnaDQ0NCc7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiAnVW5rbm93bic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0TGV2ZWxTdHJpbmcobGV2ZWxfaWRjKSB7XG4gICAgICAgIHJldHVybiAobGV2ZWxfaWRjIC8gMTApLnRvRml4ZWQoMSk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENocm9tYUZvcm1hdFN0cmluZyhjaHJvbWEpIHtcbiAgICAgICAgc3dpdGNoIChjaHJvbWEpIHtcbiAgICAgICAgICAgIGNhc2UgNDIwOlxuICAgICAgICAgICAgICAgIHJldHVybiAnNDoyOjAnO1xuICAgICAgICAgICAgY2FzZSA0MjI6XG4gICAgICAgICAgICAgICAgcmV0dXJuICc0OjI6Mic7XG4gICAgICAgICAgICBjYXNlIDQ0NDpcbiAgICAgICAgICAgICAgICByZXR1cm4gJzQ6NDo0JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdVbmtub3duJztcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTUFNQYXJzZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmNvbnN0IERlbXV4RXJyb3JzID0ge1xuICAgIE9LOiAnT0snLFxuICAgIEZPUk1BVF9FUlJPUjogJ0Zvcm1hdEVycm9yJyxcbiAgICBGT1JNQVRfVU5TVVBQT1JURUQ6ICdGb3JtYXRVbnN1cHBvcnRlZCcsXG4gICAgQ09ERUNfVU5TVVBQT1JURUQ6ICdDb2RlY1Vuc3VwcG9ydGVkJ1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGVtdXhFcnJvcnM7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBBTUYgZnJvbSAnLi9hbWYtcGFyc2VyLmpzJztcbmltcG9ydCBTUFNQYXJzZXIgZnJvbSAnLi9zcHMtcGFyc2VyLmpzJztcbmltcG9ydCBEZW11eEVycm9ycyBmcm9tICcuL2RlbXV4LWVycm9ycy5qcyc7XG5pbXBvcnQgTWVkaWFJbmZvIGZyb20gJy4uL2NvcmUvbWVkaWEtaW5mby5qcyc7XG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuZnVuY3Rpb24gU3dhcDE2KHNyYykge1xuICAgIHJldHVybiAoKChzcmMgPj4+IDgpICYgMHhGRikgfFxuICAgICAgICAgICAgKChzcmMgJiAweEZGKSA8PCA4KSk7XG59XG5cbmZ1bmN0aW9uIFN3YXAzMihzcmMpIHtcbiAgICByZXR1cm4gKCgoc3JjICYgMHhGRjAwMDAwMCkgPj4+IDI0KSB8XG4gICAgICAgICAgICAoKHNyYyAmIDB4MDBGRjAwMDApID4+PiA4KSAgfFxuICAgICAgICAgICAgKChzcmMgJiAweDAwMDBGRjAwKSA8PCA4KSAgIHxcbiAgICAgICAgICAgICgoc3JjICYgMHgwMDAwMDBGRikgPDwgMjQpKTtcbn1cblxuZnVuY3Rpb24gUmVhZEJpZzMyKGFycmF5LCBpbmRleCkge1xuICAgIHJldHVybiAoKGFycmF5W2luZGV4XSA8PCAyNCkgICAgIHxcbiAgICAgICAgICAgIChhcnJheVtpbmRleCArIDFdIDw8IDE2KSB8XG4gICAgICAgICAgICAoYXJyYXlbaW5kZXggKyAyXSA8PCA4KSAgfFxuICAgICAgICAgICAgKGFycmF5W2luZGV4ICsgM10pKTtcbn1cblxuXG5jbGFzcyBGTFZEZW11eGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKHByb2JlRGF0YSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ0ZMVkRlbXV4ZXInO1xuXG4gICAgICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcblxuICAgICAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25NZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1ldGFEYXRhQXJyaXZlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uU2NyaXB0RGF0YUFycml2ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2RhdGFPZmZzZXQgPSBwcm9iZURhdGEuZGF0YU9mZnNldDtcbiAgICAgICAgdGhpcy5fZmlyc3RQYXJzZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5faGFzQXVkaW8gPSBwcm9iZURhdGEuaGFzQXVkaW9UcmFjaztcbiAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBwcm9iZURhdGEuaGFzVmlkZW9UcmFjaztcblxuICAgICAgICB0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fYXVkaW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG5ldyBNZWRpYUluZm8oKTtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0F1ZGlvID0gdGhpcy5faGFzQXVkaW87XG4gICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRoaXMuX2hhc1ZpZGVvO1xuICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX2F1ZGlvTWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGFkYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9uYWx1TGVuZ3RoU2l6ZSA9IDQ7XG4gICAgICAgIHRoaXMuX3RpbWVzdGFtcEJhc2UgPSAwOyAgLy8gaW50MzIsIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICB0aGlzLl90aW1lc2NhbGUgPSAxMDAwO1xuICAgICAgICB0aGlzLl9kdXJhdGlvbiA9IDA7ICAvLyBpbnQzMiwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgIHRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZSA9IHtcbiAgICAgICAgICAgIGZpeGVkOiB0cnVlLFxuICAgICAgICAgICAgZnBzOiAyMy45NzYsXG4gICAgICAgICAgICBmcHNfbnVtOiAyMzk3NixcbiAgICAgICAgICAgIGZwc19kZW46IDEwMDBcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9mbHZTb3VuZFJhdGVUYWJsZSA9IFs1NTAwLCAxMTAyNSwgMjIwNTAsIDQ0MTAwLCA0ODAwMF07XG5cbiAgICAgICAgdGhpcy5fbXBlZ1NhbXBsaW5nUmF0ZXMgPSBbXG4gICAgICAgICAgICA5NjAwMCwgODgyMDAsIDY0MDAwLCA0ODAwMCwgNDQxMDAsIDMyMDAwLFxuICAgICAgICAgICAgMjQwMDAsIDIyMDUwLCAxNjAwMCwgMTIwMDAsIDExMDI1LCA4MDAwLCA3MzUwXG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5fbXBlZ0F1ZGlvVjEwU2FtcGxlUmF0ZVRhYmxlID0gWzQ0MTAwLCA0ODAwMCwgMzIwMDAsIDBdO1xuICAgICAgICB0aGlzLl9tcGVnQXVkaW9WMjBTYW1wbGVSYXRlVGFibGUgPSBbMjIwNTAsIDI0MDAwLCAxNjAwMCwgMF07XG4gICAgICAgIHRoaXMuX21wZWdBdWRpb1YyNVNhbXBsZVJhdGVUYWJsZSA9IFsxMTAyNSwgMTIwMDAsIDgwMDAsICAwXTtcblxuICAgICAgICB0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZSA9IFswLCAzMiwgNjQsIDk2LCAxMjgsIDE2MCwgMTkyLCAyMjQsIDI1NiwgMjg4LCAzMjAsIDM1MiwgMzg0LCA0MTYsIDQ0OCwgLTFdO1xuICAgICAgICB0aGlzLl9tcGVnQXVkaW9MMkJpdFJhdGVUYWJsZSA9IFswLCAzMiwgNDgsIDU2LCAgNjQsICA4MCwgIDk2LCAxMTIsIDEyOCwgMTYwLCAxOTIsIDIyNCwgMjU2LCAzMjAsIDM4NCwgLTFdO1xuICAgICAgICB0aGlzLl9tcGVnQXVkaW9MM0JpdFJhdGVUYWJsZSA9IFswLCAzMiwgNDAsIDQ4LCAgNTYsICA2NCwgIDgwLCAgOTYsIDExMiwgMTI4LCAxNjAsIDE5MiwgMjI0LCAyNTYsIDMyMCwgLTFdO1xuXG4gICAgICAgIHRoaXMuX3ZpZGVvVHJhY2sgPSB7dHlwZTogJ3ZpZGVvJywgaWQ6IDEsIHNlcXVlbmNlTnVtYmVyOiAwLCBzYW1wbGVzOiBbXSwgbGVuZ3RoOiAwfTtcbiAgICAgICAgdGhpcy5fYXVkaW9UcmFjayA9IHt0eXBlOiAnYXVkaW8nLCBpZDogMiwgc2VxdWVuY2VOdW1iZXI6IDAsIHNhbXBsZXM6IFtdLCBsZW5ndGg6IDB9O1xuXG4gICAgICAgIHRoaXMuX2xpdHRsZUVuZGlhbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBsZXQgYnVmID0gbmV3IEFycmF5QnVmZmVyKDIpO1xuICAgICAgICAgICAgKG5ldyBEYXRhVmlldyhidWYpKS5zZXRJbnQxNigwLCAyNTYsIHRydWUpOyAgLy8gbGl0dGxlLWVuZGlhbiB3cml0ZVxuICAgICAgICAgICAgcmV0dXJuIChuZXcgSW50MTZBcnJheShidWYpKVswXSA9PT0gMjU2OyAgLy8gcGxhdGZvcm0tc3BlYyByZWFkLCBpZiBlcXVhbCB0aGVuIExFXG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdWRpb01ldGFkYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdmlkZW9NZXRhZGF0YSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvVHJhY2sgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdWRpb1RyYWNrID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9vbkVycm9yID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25NZWRpYUluZm8gPSBudWxsO1xuICAgICAgICB0aGlzLl9vbk1ldGFEYXRhQXJyaXZlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uU2NyaXB0RGF0YUFycml2ZWQgPSBudWxsO1xuICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUgPSBudWxsO1xuICAgIH1cblxuICAgIHN0YXRpYyBwcm9iZShidWZmZXIpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICAgICAgICBsZXQgbWlzbWF0Y2ggPSB7bWF0Y2g6IGZhbHNlfTtcblxuICAgICAgICBpZiAoZGF0YVswXSAhPT0gMHg0NiB8fCBkYXRhWzFdICE9PSAweDRDIHx8IGRhdGFbMl0gIT09IDB4NTYgfHwgZGF0YVszXSAhPT0gMHgwMSkge1xuICAgICAgICAgICAgcmV0dXJuIG1pc21hdGNoO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGhhc0F1ZGlvID0gKChkYXRhWzRdICYgNCkgPj4+IDIpICE9PSAwO1xuICAgICAgICBsZXQgaGFzVmlkZW8gPSAoZGF0YVs0XSAmIDEpICE9PSAwO1xuXG4gICAgICAgIGxldCBvZmZzZXQgPSBSZWFkQmlnMzIoZGF0YSwgNSk7XG5cbiAgICAgICAgaWYgKG9mZnNldCA8IDkpIHtcbiAgICAgICAgICAgIHJldHVybiBtaXNtYXRjaDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtYXRjaDogdHJ1ZSxcbiAgICAgICAgICAgIGNvbnN1bWVkOiBvZmZzZXQsXG4gICAgICAgICAgICBkYXRhT2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgICAgICBoYXNBdWRpb1RyYWNrOiBoYXNBdWRpbyxcbiAgICAgICAgICAgIGhhc1ZpZGVvVHJhY2s6IGhhc1ZpZGVvXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYmluZERhdGFTb3VyY2UobG9hZGVyKSB7XG4gICAgICAgIGxvYWRlci5vbkRhdGFBcnJpdmFsID0gdGhpcy5wYXJzZUNodW5rcy5iaW5kKHRoaXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKHR5cGU6IHN0cmluZywgbWV0YWRhdGE6IGFueSk6IHZvaWRcbiAgICBnZXQgb25UcmFja01ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25UcmFja01ldGFkYXRhO1xuICAgIH1cblxuICAgIHNldCBvblRyYWNrTWV0YWRhdGEoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25UcmFja01ldGFkYXRhID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgLy8gcHJvdG90eXBlOiBmdW5jdGlvbihtZWRpYUluZm86IE1lZGlhSW5mbyk6IHZvaWRcbiAgICBnZXQgb25NZWRpYUluZm8oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbk1lZGlhSW5mbztcbiAgICB9XG5cbiAgICBzZXQgb25NZWRpYUluZm8oY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25NZWRpYUluZm8gPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25NZXRhRGF0YUFycml2ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbk1ldGFEYXRhQXJyaXZlZDtcbiAgICB9XG5cbiAgICBzZXQgb25NZXRhRGF0YUFycml2ZWQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25NZXRhRGF0YUFycml2ZWQgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICBnZXQgb25TY3JpcHREYXRhQXJyaXZlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uU2NyaXB0RGF0YUFycml2ZWQ7XG4gICAgfVxuXG4gICAgc2V0IG9uU2NyaXB0RGF0YUFycml2ZWQoY2FsbGJhY2spIHtcbiAgICAgICAgdGhpcy5fb25TY3JpcHREYXRhQXJyaXZlZCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIC8vIHByb3RvdHlwZTogZnVuY3Rpb24odHlwZTogbnVtYmVyLCBpbmZvOiBzdHJpbmcpOiB2b2lkXG4gICAgZ2V0IG9uRXJyb3IoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkVycm9yO1xuICAgIH1cblxuICAgIHNldCBvbkVycm9yKGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuX29uRXJyb3IgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyBwcm90b3R5cGU6IGZ1bmN0aW9uKHZpZGVvVHJhY2s6IGFueSwgYXVkaW9UcmFjazogYW55KTogdm9pZFxuICAgIGdldCBvbkRhdGFBdmFpbGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vbkRhdGFBdmFpbGFibGU7XG4gICAgfVxuXG4gICAgc2V0IG9uRGF0YUF2YWlsYWJsZShjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUgPSBjYWxsYmFjaztcbiAgICB9XG5cbiAgICAvLyB0aW1lc3RhbXAgYmFzZSBmb3Igb3V0cHV0IHNhbXBsZXMsIG11c3QgYmUgaW4gbWlsbGlzZWNvbmRzXG4gICAgZ2V0IHRpbWVzdGFtcEJhc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aW1lc3RhbXBCYXNlO1xuICAgIH1cblxuICAgIHNldCB0aW1lc3RhbXBCYXNlKGJhc2UpIHtcbiAgICAgICAgdGhpcy5fdGltZXN0YW1wQmFzZSA9IGJhc2U7XG4gICAgfVxuXG4gICAgZ2V0IG92ZXJyaWRlZER1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZHVyYXRpb247XG4gICAgfVxuXG4gICAgLy8gRm9yY2Utb3ZlcnJpZGUgbWVkaWEgZHVyYXRpb24uIE11c3QgYmUgaW4gbWlsbGlzZWNvbmRzLCBpbnQzMlxuICAgIHNldCBvdmVycmlkZWREdXJhdGlvbihkdXJhdGlvbikge1xuICAgICAgICB0aGlzLl9kdXJhdGlvbk92ZXJyaWRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIH1cblxuICAgIC8vIEZvcmNlLW92ZXJyaWRlIGF1ZGlvIHRyYWNrIHByZXNlbnQgZmxhZywgYm9vbGVhblxuICAgIHNldCBvdmVycmlkZWRIYXNBdWRpbyhoYXNBdWRpbykge1xuICAgICAgICB0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9oYXNBdWRpbyA9IGhhc0F1ZGlvO1xuICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSBoYXNBdWRpbztcbiAgICB9XG5cbiAgICAvLyBGb3JjZS1vdmVycmlkZSB2aWRlbyB0cmFjayBwcmVzZW50IGZsYWcsIGJvb2xlYW5cbiAgICBzZXQgb3ZlcnJpZGVkSGFzVmlkZW8oaGFzVmlkZW8pIHtcbiAgICAgICAgdGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5faGFzVmlkZW8gPSBoYXNWaWRlbztcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gaGFzVmlkZW87XG4gICAgfVxuXG4gICAgcmVzZXRNZWRpYUluZm8oKSB7XG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG5ldyBNZWRpYUluZm8oKTtcbiAgICB9XG5cbiAgICBfaXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkge1xuICAgICAgICBpZiAodGhpcy5faGFzQXVkaW8gJiYgdGhpcy5faGFzVmlkZW8pIHsgIC8vIGJvdGggYXVkaW8gJiB2aWRlb1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCAmJiB0aGlzLl92aWRlb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhc0F1ZGlvICYmICF0aGlzLl9oYXNWaWRlbykgeyAgLy8gYXVkaW8gb25seVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1ZGlvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2hhc0F1ZGlvICYmIHRoaXMuX2hhc1ZpZGVvKSB7ICAvLyB2aWRlbyBvbmx5XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlkZW9Jbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBmdW5jdGlvbiBwYXJzZUNodW5rcyhjaHVuazogQXJyYXlCdWZmZXIsIGJ5dGVTdGFydDogbnVtYmVyKTogbnVtYmVyO1xuICAgIHBhcnNlQ2h1bmtzKGNodW5rLCBieXRlU3RhcnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9vbkVycm9yIHx8ICF0aGlzLl9vbk1lZGlhSW5mbyB8fCAhdGhpcy5fb25UcmFja01ldGFkYXRhIHx8ICF0aGlzLl9vbkRhdGFBdmFpbGFibGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0Zsdjogb25FcnJvciAmIG9uTWVkaWFJbmZvICYgb25UcmFja01ldGFkYXRhICYgb25EYXRhQXZhaWxhYmxlIGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuXG4gICAgICAgIGlmIChieXRlU3RhcnQgPT09IDApIHsgIC8vIGJ1ZmZlciB3aXRoIEZMViBoZWFkZXJcbiAgICAgICAgICAgIGlmIChjaHVuay5ieXRlTGVuZ3RoID4gMTMpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJvYmVEYXRhID0gRkxWRGVtdXhlci5wcm9iZShjaHVuayk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gcHJvYmVEYXRhLmRhdGFPZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuX2ZpcnN0UGFyc2UpIHsgIC8vIGhhbmRsZSBQcmV2aW91c1RhZ1NpemUwIGJlZm9yZSBUYWcxXG4gICAgICAgICAgICB0aGlzLl9maXJzdFBhcnNlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoYnl0ZVN0YXJ0ICsgb2Zmc2V0ICE9PSB0aGlzLl9kYXRhT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGaXJzdCB0aW1lIHBhcnNpbmcgYnV0IGNodW5rIGJ5dGVTdGFydCBpbnZhbGlkIScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhjaHVuaywgb2Zmc2V0KTtcbiAgICAgICAgICAgIGxldCBwcmV2VGFnU2l6ZTAgPSB2LmdldFVpbnQzMigwLCAhbGUpO1xuICAgICAgICAgICAgaWYgKHByZXZUYWdTaXplMCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnUHJldlRhZ1NpemUwICE9PSAwICEhIScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XG4gICAgICAgIH1cblxuICAgICAgICB3aGlsZSAob2Zmc2V0IDwgY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcGF0Y2ggPSB0cnVlO1xuXG4gICAgICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhjaHVuaywgb2Zmc2V0KTtcblxuICAgICAgICAgICAgaWYgKG9mZnNldCArIDExICsgNCA+IGNodW5rLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyBkYXRhIG5vdCBlbm91Z2ggZm9yIHBhcnNpbmcgYW4gZmx2IHRhZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdGFnVHlwZSA9IHYuZ2V0VWludDgoMCk7XG4gICAgICAgICAgICBsZXQgZGF0YVNpemUgPSB2LmdldFVpbnQzMigwLCAhbGUpICYgMHgwMEZGRkZGRjtcblxuICAgICAgICAgICAgaWYgKG9mZnNldCArIDExICsgZGF0YVNpemUgKyA0ID4gY2h1bmsuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGRhdGEgbm90IGVub3VnaCBmb3IgcGFyc2luZyBhY3R1YWwgZGF0YSBib2R5XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0YWdUeXBlICE9PSA4ICYmIHRhZ1R5cGUgIT09IDkgJiYgdGFnVHlwZSAhPT0gMTgpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYFVuc3VwcG9ydGVkIHRhZyB0eXBlICR7dGFnVHlwZX0sIHNraXBwZWRgKTtcbiAgICAgICAgICAgICAgICAvLyBjb25zdW1lIHRoZSB3aG9sZSB0YWcgKHNraXAgaXQpXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDExICsgZGF0YVNpemUgKyA0O1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdHMyID0gdi5nZXRVaW50OCg0KTtcbiAgICAgICAgICAgIGxldCB0czEgPSB2LmdldFVpbnQ4KDUpO1xuICAgICAgICAgICAgbGV0IHRzMCA9IHYuZ2V0VWludDgoNik7XG4gICAgICAgICAgICBsZXQgdHMzID0gdi5nZXRVaW50OCg3KTtcblxuICAgICAgICAgICAgbGV0IHRpbWVzdGFtcCA9IHRzMCB8ICh0czEgPDwgOCkgfCAodHMyIDw8IDE2KSB8ICh0czMgPDwgMjQpO1xuXG4gICAgICAgICAgICBsZXQgc3RyZWFtSWQgPSB2LmdldFVpbnQzMig3LCAhbGUpICYgMHgwMEZGRkZGRjtcbiAgICAgICAgICAgIGlmIChzdHJlYW1JZCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnTWVldCB0YWcgd2hpY2ggaGFzIFN0cmVhbUlEICE9IDAhJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkYXRhT2Zmc2V0ID0gb2Zmc2V0ICsgMTE7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGFnVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgODogIC8vIEF1ZGlvXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlQXVkaW9EYXRhKGNodW5rLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA5OiAgLy8gVmlkZW9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFyc2VWaWRlb0RhdGEoY2h1bmssIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0aW1lc3RhbXAsIGJ5dGVTdGFydCArIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMTg6ICAvLyBTY3JpcHREYXRhT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcnNlU2NyaXB0RGF0YShjaHVuaywgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHByZXZUYWdTaXplID0gdi5nZXRVaW50MzIoMTEgKyBkYXRhU2l6ZSwgIWxlKTtcbiAgICAgICAgICAgIGlmIChwcmV2VGFnU2l6ZSAhPT0gMTEgKyBkYXRhU2l6ZSkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgSW52YWxpZCBQcmV2VGFnU2l6ZSAke3ByZXZUYWdTaXplfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvZmZzZXQgKz0gMTEgKyBkYXRhU2l6ZSArIDQ7ICAvLyB0YWdCb2R5ICsgZGF0YVNpemUgKyBwcmV2VGFnU2l6ZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggcGFyc2VkIGZyYW1lcyB0byBjb25zdW1lciAodHlwaWNhbGx5LCB0aGUgcmVtdXhlcilcbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLCB0aGlzLl92aWRlb1RyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvZmZzZXQ7ICAvLyBjb25zdW1lZCBieXRlcywganVzdCBlcXVhbHMgbGF0ZXN0IG9mZnNldCBpbmRleFxuICAgIH1cblxuICAgIF9wYXJzZVNjcmlwdERhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSB7XG4gICAgICAgIGxldCBzY3JpcHREYXRhID0gQU1GLnBhcnNlU2NyaXB0RGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGlmIChzY3JpcHREYXRhLmhhc093blByb3BlcnR5KCdvbk1ldGFEYXRhJykpIHtcbiAgICAgICAgICAgIGlmIChzY3JpcHREYXRhLm9uTWV0YURhdGEgPT0gbnVsbCB8fCB0eXBlb2Ygc2NyaXB0RGF0YS5vbk1ldGFEYXRhICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnSW52YWxpZCBvbk1ldGFEYXRhIHN0cnVjdHVyZSEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fbWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZvdW5kIGFub3RoZXIgb25NZXRhRGF0YSB0YWchJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tZXRhZGF0YSA9IHNjcmlwdERhdGE7XG4gICAgICAgICAgICBsZXQgb25NZXRhRGF0YSA9IHRoaXMuX21ldGFkYXRhLm9uTWV0YURhdGE7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9vbk1ldGFEYXRhQXJyaXZlZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uTWV0YURhdGFBcnJpdmVkKE9iamVjdC5hc3NpZ24oe30sIG9uTWV0YURhdGEpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmhhc0F1ZGlvID09PSAnYm9vbGVhbicpIHsgIC8vIGhhc0F1ZGlvXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hhc0F1ZGlvRmxhZ092ZXJyaWRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFzQXVkaW8gPSBvbk1ldGFEYXRhLmhhc0F1ZGlvO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0aGlzLl9oYXNBdWRpbztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuaGFzVmlkZW8gPT09ICdib29sZWFuJykgeyAgLy8gaGFzVmlkZW9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYXNWaWRlbyA9IG9uTWV0YURhdGEuaGFzVmlkZW87XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5oYXNWaWRlbyA9IHRoaXMuX2hhc1ZpZGVvO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5hdWRpb2RhdGFyYXRlID09PSAnbnVtYmVyJykgeyAgLy8gYXVkaW9kYXRhcmF0ZVxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5hdWRpb0RhdGFSYXRlID0gb25NZXRhRGF0YS5hdWRpb2RhdGFyYXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLnZpZGVvZGF0YXJhdGUgPT09ICdudW1iZXInKSB7ICAvLyB2aWRlb2RhdGFyYXRlXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnZpZGVvRGF0YVJhdGUgPSBvbk1ldGFEYXRhLnZpZGVvZGF0YXJhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEud2lkdGggPT09ICdudW1iZXInKSB7ICAvLyB3aWR0aFxuICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby53aWR0aCA9IG9uTWV0YURhdGEud2lkdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEuaGVpZ2h0ID09PSAnbnVtYmVyJykgeyAgLy8gaGVpZ2h0XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhlaWdodCA9IG9uTWV0YURhdGEuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBvbk1ldGFEYXRhLmR1cmF0aW9uID09PSAnbnVtYmVyJykgeyAgLy8gZHVyYXRpb25cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2R1cmF0aW9uT3ZlcnJpZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IE1hdGguZmxvb3Iob25NZXRhRGF0YS5kdXJhdGlvbiAqIHRoaXMuX3RpbWVzY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2R1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmR1cmF0aW9uID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb25NZXRhRGF0YS5mcmFtZXJhdGUgPT09ICdudW1iZXInKSB7ICAvLyBmcmFtZXJhdGVcbiAgICAgICAgICAgICAgICBsZXQgZnBzX251bSA9IE1hdGguZmxvb3Iob25NZXRhRGF0YS5mcmFtZXJhdGUgKiAxMDAwKTtcbiAgICAgICAgICAgICAgICBpZiAoZnBzX251bSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGZwcyA9IGZwc19udW0gLyAxMDAwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZml4ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzID0gZnBzO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZWZlcmVuY2VGcmFtZVJhdGUuZnBzX251bSA9IGZwc19udW07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZS5mcHNfZGVuID0gMTAwMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmZwcyA9IGZwcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uTWV0YURhdGEua2V5ZnJhbWVzID09PSAnb2JqZWN0JykgeyAgLy8ga2V5ZnJhbWVzXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc0tleWZyYW1lc0luZGV4ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQga2V5ZnJhbWVzID0gb25NZXRhRGF0YS5rZXlmcmFtZXM7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmtleWZyYW1lc0luZGV4ID0gdGhpcy5fcGFyc2VLZXlmcmFtZXNJbmRleChrZXlmcmFtZXMpO1xuICAgICAgICAgICAgICAgIG9uTWV0YURhdGEua2V5ZnJhbWVzID0gbnVsbDsgIC8vIGtleWZyYW1lcyBoYXMgYmVlbiBleHRyYWN0ZWQsIHJlbW92ZSBpdFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzS2V5ZnJhbWVzSW5kZXggPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2Rpc3BhdGNoID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ubWV0YWRhdGEgPSBvbk1ldGFEYXRhO1xuICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdQYXJzZWQgb25NZXRhRGF0YScpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhSW5mby5pc0NvbXBsZXRlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyh0aGlzLl9tZWRpYUluZm8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjcmlwdERhdGEpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9vblNjcmlwdERhdGFBcnJpdmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25TY3JpcHREYXRhQXJyaXZlZChPYmplY3QuYXNzaWduKHt9LCBzY3JpcHREYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcGFyc2VLZXlmcmFtZXNJbmRleChrZXlmcmFtZXMpIHtcbiAgICAgICAgbGV0IHRpbWVzID0gW107XG4gICAgICAgIGxldCBmaWxlcG9zaXRpb25zID0gW107XG5cbiAgICAgICAgLy8gaWdub3JlIGZpcnN0IGtleWZyYW1lIHdoaWNoIGlzIGFjdHVhbGx5IEFWQyBTZXF1ZW5jZSBIZWFkZXIgKEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkKVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGtleWZyYW1lcy50aW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHRpbWUgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgTWF0aC5mbG9vcihrZXlmcmFtZXMudGltZXNbaV0gKiAxMDAwKTtcbiAgICAgICAgICAgIHRpbWVzLnB1c2godGltZSk7XG4gICAgICAgICAgICBmaWxlcG9zaXRpb25zLnB1c2goa2V5ZnJhbWVzLmZpbGVwb3NpdGlvbnNbaV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpbWVzOiB0aW1lcyxcbiAgICAgICAgICAgIGZpbGVwb3NpdGlvbnM6IGZpbGVwb3NpdGlvbnNcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfcGFyc2VBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0YWdUaW1lc3RhbXApIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDw9IDEpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnRmx2OiBJbnZhbGlkIGF1ZGlvIHBhY2tldCwgbWlzc2luZyBTb3VuZERhdGEgcGF5bG9hZCEnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9oYXNBdWRpb0ZsYWdPdmVycmlkZWQgPT09IHRydWUgJiYgdGhpcy5faGFzQXVkaW8gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAvLyBJZiBoYXNBdWRpbzogZmFsc2UgaW5kaWNhdGVkIGV4cGxpY2l0bHkgaW4gTWVkaWFEYXRhU291cmNlLFxuICAgICAgICAgICAgLy8gSWdub3JlIGFsbCB0aGUgYXVkaW8gcGFja2V0c1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGxldCBzb3VuZFNwZWMgPSB2LmdldFVpbnQ4KDApO1xuXG4gICAgICAgIGxldCBzb3VuZEZvcm1hdCA9IHNvdW5kU3BlYyA+Pj4gNDtcbiAgICAgICAgaWYgKHNvdW5kRm9ybWF0ICE9PSAyICYmIHNvdW5kRm9ybWF0ICE9PSAxMCkgeyAgLy8gTVAzIG9yIEFBQ1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5DT0RFQ19VTlNVUFBPUlRFRCwgJ0ZsdjogVW5zdXBwb3J0ZWQgYXVkaW8gY29kZWMgaWR4OiAnICsgc291bmRGb3JtYXQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNvdW5kUmF0ZSA9IDA7XG4gICAgICAgIGxldCBzb3VuZFJhdGVJbmRleCA9IChzb3VuZFNwZWMgJiAxMikgPj4+IDI7XG4gICAgICAgIGlmIChzb3VuZFJhdGVJbmRleCA+PSAwICYmIHNvdW5kUmF0ZUluZGV4IDw9IDQpIHtcbiAgICAgICAgICAgIHNvdW5kUmF0ZSA9IHRoaXMuX2ZsdlNvdW5kUmF0ZVRhYmxlW3NvdW5kUmF0ZUluZGV4XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIGF1ZGlvIHNhbXBsZSByYXRlIGlkeDogJyArIHNvdW5kUmF0ZUluZGV4KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzb3VuZFNpemUgPSAoc291bmRTcGVjICYgMikgPj4+IDE7ICAvLyB1bnVzZWRcbiAgICAgICAgbGV0IHNvdW5kVHlwZSA9IChzb3VuZFNwZWMgJiAxKTtcblxuXG4gICAgICAgIGxldCBtZXRhID0gdGhpcy5fYXVkaW9NZXRhZGF0YTtcbiAgICAgICAgbGV0IHRyYWNrID0gdGhpcy5fYXVkaW9UcmFjaztcblxuICAgICAgICBpZiAoIW1ldGEpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9oYXNBdWRpbyA9PT0gZmFsc2UgJiYgdGhpcy5faGFzQXVkaW9GbGFnT3ZlcnJpZGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uaGFzQXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbml0aWFsIG1ldGFkYXRhXG4gICAgICAgICAgICBtZXRhID0gdGhpcy5fYXVkaW9NZXRhZGF0YSA9IHt9O1xuICAgICAgICAgICAgbWV0YS50eXBlID0gJ2F1ZGlvJztcbiAgICAgICAgICAgIG1ldGEuaWQgPSB0cmFjay5pZDtcbiAgICAgICAgICAgIG1ldGEudGltZXNjYWxlID0gdGhpcy5fdGltZXNjYWxlO1xuICAgICAgICAgICAgbWV0YS5kdXJhdGlvbiA9IHRoaXMuX2R1cmF0aW9uO1xuICAgICAgICAgICAgbWV0YS5hdWRpb1NhbXBsZVJhdGUgPSBzb3VuZFJhdGU7XG4gICAgICAgICAgICBtZXRhLmNoYW5uZWxDb3VudCA9IChzb3VuZFR5cGUgPT09IDAgPyAxIDogMik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc291bmRGb3JtYXQgPT09IDEwKSB7ICAvLyBBQUNcbiAgICAgICAgICAgIGxldCBhYWNEYXRhID0gdGhpcy5fcGFyc2VBQUNBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEpO1xuICAgICAgICAgICAgaWYgKGFhY0RhdGEgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYWFjRGF0YS5wYWNrZXRUeXBlID09PSAwKSB7ICAvLyBBQUMgc2VxdWVuY2UgaGVhZGVyIChBdWRpb1NwZWNpZmljQ29uZmlnKVxuICAgICAgICAgICAgICAgIGlmIChtZXRhLmNvbmZpZykge1xuICAgICAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZvdW5kIGFub3RoZXIgQXVkaW9TcGVjaWZpY0NvbmZpZyEnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IG1pc2MgPSBhYWNEYXRhLmRhdGE7XG4gICAgICAgICAgICAgICAgbWV0YS5hdWRpb1NhbXBsZVJhdGUgPSBtaXNjLnNhbXBsaW5nUmF0ZTtcbiAgICAgICAgICAgICAgICBtZXRhLmNoYW5uZWxDb3VudCA9IG1pc2MuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgICAgIG1ldGEuY29kZWMgPSBtaXNjLmNvZGVjO1xuICAgICAgICAgICAgICAgIG1ldGEub3JpZ2luYWxDb2RlYyA9IG1pc2Mub3JpZ2luYWxDb2RlYztcbiAgICAgICAgICAgICAgICBtZXRhLmNvbmZpZyA9IG1pc2MuY29uZmlnO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBkZWNvZGUgcmVzdWx0IG9mIGFuIGFhYyBzYW1wbGUgaXMgMTAyNCBQQ00gc2FtcGxlc1xuICAgICAgICAgICAgICAgIG1ldGEucmVmU2FtcGxlRHVyYXRpb24gPSAxMDI0IC8gbWV0YS5hdWRpb1NhbXBsZVJhdGUgKiBtZXRhLnRpbWVzY2FsZTtcbiAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgJ1BhcnNlZCBBdWRpb1NwZWNpZmljQ29uZmlnJyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNJbml0aWFsTWV0YWRhdGFEaXNwYXRjaGVkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm9uLWluaXRpYWwgbWV0YWRhdGEsIGZvcmNlIGRpc3BhdGNoIChvciBmbHVzaCkgcGFyc2VkIGZyYW1lcyB0byByZW11eGVyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwYXRjaCAmJiAodGhpcy5fYXVkaW9UcmFjay5sZW5ndGggfHwgdGhpcy5fdmlkZW9UcmFjay5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbkRhdGFBdmFpbGFibGUodGhpcy5fYXVkaW9UcmFjaywgdGhpcy5fdmlkZW9UcmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB0aGVuIG5vdGlmeSBuZXcgbWV0YWRhdGFcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSgnYXVkaW8nLCBtZXRhKTtcblxuICAgICAgICAgICAgICAgIGxldCBtaSA9IHRoaXMuX21lZGlhSW5mbztcbiAgICAgICAgICAgICAgICBtaS5hdWRpb0NvZGVjID0gbWV0YS5vcmlnaW5hbENvZGVjO1xuICAgICAgICAgICAgICAgIG1pLmF1ZGlvU2FtcGxlUmF0ZSA9IG1ldGEuYXVkaW9TYW1wbGVSYXRlO1xuICAgICAgICAgICAgICAgIG1pLmF1ZGlvQ2hhbm5lbENvdW50ID0gbWV0YS5jaGFubmVsQ291bnQ7XG4gICAgICAgICAgICAgICAgaWYgKG1pLmhhc1ZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtaS52aWRlb0NvZGVjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkudmlkZW9Db2RlYyArICcsJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS5hdWRpb0NvZGVjICsgJ1wiJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1pLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyhtaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChhYWNEYXRhLnBhY2tldFR5cGUgPT09IDEpIHsgIC8vIEFBQyByYXcgZnJhbWUgZGF0YVxuICAgICAgICAgICAgICAgIGxldCBkdHMgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgdGFnVGltZXN0YW1wO1xuICAgICAgICAgICAgICAgIGxldCBhYWNTYW1wbGUgPSB7dW5pdDogYWFjRGF0YS5kYXRhLCBsZW5ndGg6IGFhY0RhdGEuZGF0YS5ieXRlTGVuZ3RoLCBkdHM6IGR0cywgcHRzOiBkdHN9O1xuICAgICAgICAgICAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChhYWNTYW1wbGUpO1xuICAgICAgICAgICAgICAgIHRyYWNrLmxlbmd0aCArPSBhYWNEYXRhLmRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBMb2cuZSh0aGlzLlRBRywgYEZsdjogVW5zdXBwb3J0ZWQgQUFDIGRhdGEgdHlwZSAke2FhY0RhdGEucGFja2V0VHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzb3VuZEZvcm1hdCA9PT0gMikgeyAgLy8gTVAzXG4gICAgICAgICAgICBpZiAoIW1ldGEuY29kZWMpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIG1ldGFkYXRhIGZvciBtcDMgYXVkaW8gdHJhY2ssIGV4dHJhY3QgaW5mbyBmcm9tIGZyYW1lIGhlYWRlclxuICAgICAgICAgICAgICAgIGxldCBtaXNjID0gdGhpcy5fcGFyc2VNUDNBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChtaXNjID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1ldGEuYXVkaW9TYW1wbGVSYXRlID0gbWlzYy5zYW1wbGluZ1JhdGU7XG4gICAgICAgICAgICAgICAgbWV0YS5jaGFubmVsQ291bnQgPSBtaXNjLmNoYW5uZWxDb3VudDtcbiAgICAgICAgICAgICAgICBtZXRhLmNvZGVjID0gbWlzYy5jb2RlYztcbiAgICAgICAgICAgICAgICBtZXRhLm9yaWdpbmFsQ29kZWMgPSBtaXNjLm9yaWdpbmFsQ29kZWM7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGRlY29kZSByZXN1bHQgb2YgYW4gbXAzIHNhbXBsZSBpcyAxMTUyIFBDTSBzYW1wbGVzXG4gICAgICAgICAgICAgICAgbWV0YS5yZWZTYW1wbGVEdXJhdGlvbiA9IDExNTIgLyBtZXRhLmF1ZGlvU2FtcGxlUmF0ZSAqIG1ldGEudGltZXNjYWxlO1xuICAgICAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCAnUGFyc2VkIE1QRUcgQXVkaW8gRnJhbWUgSGVhZGVyJyk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9hdWRpb0luaXRpYWxNZXRhZGF0YURpc3BhdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX29uVHJhY2tNZXRhZGF0YSgnYXVkaW8nLCBtZXRhKTtcblxuICAgICAgICAgICAgICAgIGxldCBtaSA9IHRoaXMuX21lZGlhSW5mbztcbiAgICAgICAgICAgICAgICBtaS5hdWRpb0NvZGVjID0gbWV0YS5jb2RlYztcbiAgICAgICAgICAgICAgICBtaS5hdWRpb1NhbXBsZVJhdGUgPSBtZXRhLmF1ZGlvU2FtcGxlUmF0ZTtcbiAgICAgICAgICAgICAgICBtaS5hdWRpb0NoYW5uZWxDb3VudCA9IG1ldGEuY2hhbm5lbENvdW50O1xuICAgICAgICAgICAgICAgIG1pLmF1ZGlvRGF0YVJhdGUgPSBtaXNjLmJpdFJhdGU7XG4gICAgICAgICAgICAgICAgaWYgKG1pLmhhc1ZpZGVvKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtaS52aWRlb0NvZGVjICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkudmlkZW9Db2RlYyArICcsJyArIG1pLmF1ZGlvQ29kZWMgKyAnXCInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWkubWltZVR5cGUgPSAndmlkZW8veC1mbHY7IGNvZGVjcz1cIicgKyBtaS5hdWRpb0NvZGVjICsgJ1wiJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1pLmlzQ29tcGxldGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9vbk1lZGlhSW5mbyhtaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUaGlzIHBhY2tldCBpcyBhbHdheXMgYSB2YWxpZCBhdWRpbyBwYWNrZXQsIGV4dHJhY3QgaXRcbiAgICAgICAgICAgIGxldCBkYXRhID0gdGhpcy5fcGFyc2VNUDNBdWRpb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyAxLCBkYXRhU2l6ZSAtIDEsIGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChkYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBkdHMgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgdGFnVGltZXN0YW1wO1xuICAgICAgICAgICAgbGV0IG1wM1NhbXBsZSA9IHt1bml0OiBkYXRhLCBsZW5ndGg6IGRhdGEuYnl0ZUxlbmd0aCwgZHRzOiBkdHMsIHB0czogZHRzfTtcbiAgICAgICAgICAgIHRyYWNrLnNhbXBsZXMucHVzaChtcDNTYW1wbGUpO1xuICAgICAgICAgICAgdHJhY2subGVuZ3RoICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3BhcnNlQUFDQXVkaW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPD0gMSkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgQUFDIHBhY2tldCwgbWlzc2luZyBBQUNQYWNrZXRUeXBlIG9yL2FuZCBEYXRhIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIHJlc3VsdC5wYWNrZXRUeXBlID0gYXJyYXlbMF07XG5cbiAgICAgICAgaWYgKGFycmF5WzBdID09PSAwKSB7XG4gICAgICAgICAgICByZXN1bHQuZGF0YSA9IHRoaXMuX3BhcnNlQUFDQXVkaW9TcGVjaWZpY0NvbmZpZyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQuZGF0YSA9IGFycmF5LnN1YmFycmF5KDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBfcGFyc2VBQUNBdWRpb1NwZWNpZmljQ29uZmlnKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBsZXQgYXJyYXkgPSBuZXcgVWludDhBcnJheShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuICAgICAgICBsZXQgY29uZmlnID0gbnVsbDtcblxuICAgICAgICAvKiBBdWRpbyBPYmplY3QgVHlwZTpcbiAgICAgICAgICAgMDogTnVsbFxuICAgICAgICAgICAxOiBBQUMgTWFpblxuICAgICAgICAgICAyOiBBQUMgTENcbiAgICAgICAgICAgMzogQUFDIFNTUiAoU2NhbGFibGUgU2FtcGxlIFJhdGUpXG4gICAgICAgICAgIDQ6IEFBQyBMVFAgKExvbmcgVGVybSBQcmVkaWN0aW9uKVxuICAgICAgICAgICA1OiBIRS1BQUMgLyBTQlIgKFNwZWN0cmFsIEJhbmQgUmVwbGljYXRpb24pXG4gICAgICAgICAgIDY6IEFBQyBTY2FsYWJsZVxuICAgICAgICAqL1xuXG4gICAgICAgIGxldCBhdWRpb09iamVjdFR5cGUgPSAwO1xuICAgICAgICBsZXQgb3JpZ2luYWxBdWRpb09iamVjdFR5cGUgPSAwO1xuICAgICAgICBsZXQgYXVkaW9FeHRlbnNpb25PYmplY3RUeXBlID0gbnVsbDtcbiAgICAgICAgbGV0IHNhbXBsaW5nSW5kZXggPSAwO1xuICAgICAgICBsZXQgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IG51bGw7XG5cbiAgICAgICAgLy8gNSBiaXRzXG4gICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IG9yaWdpbmFsQXVkaW9PYmplY3RUeXBlID0gYXJyYXlbMF0gPj4+IDM7XG4gICAgICAgIC8vIDQgYml0c1xuICAgICAgICBzYW1wbGluZ0luZGV4ID0gKChhcnJheVswXSAmIDB4MDcpIDw8IDEpIHwgKGFycmF5WzFdID4+PiA3KTtcbiAgICAgICAgaWYgKHNhbXBsaW5nSW5kZXggPCAwIHx8IHNhbXBsaW5nSW5kZXggPj0gdGhpcy5fbXBlZ1NhbXBsaW5nUmF0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgJ0ZsdjogQUFDIGludmFsaWQgc2FtcGxpbmcgZnJlcXVlbmN5IGluZGV4IScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNhbXBsaW5nRnJlcXVlbmNlID0gdGhpcy5fbXBlZ1NhbXBsaW5nUmF0ZXNbc2FtcGxpbmdJbmRleF07XG5cbiAgICAgICAgLy8gNCBiaXRzXG4gICAgICAgIGxldCBjaGFubmVsQ29uZmlnID0gKGFycmF5WzFdICYgMHg3OCkgPj4+IDM7XG4gICAgICAgIGlmIChjaGFubmVsQ29uZmlnIDwgMCB8fCBjaGFubmVsQ29uZmlnID49IDgpIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBBQUMgaW52YWxpZCBjaGFubmVsIGNvbmZpZ3VyYXRpb24nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdWRpb09iamVjdFR5cGUgPT09IDUpIHsgIC8vIEhFLUFBQz9cbiAgICAgICAgICAgIC8vIDQgYml0c1xuICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9ICgoYXJyYXlbMV0gJiAweDA3KSA8PCAxKSB8IChhcnJheVsyXSA+Pj4gNyk7XG4gICAgICAgICAgICAvLyA1IGJpdHNcbiAgICAgICAgICAgIGF1ZGlvRXh0ZW5zaW9uT2JqZWN0VHlwZSA9IChhcnJheVsyXSAmIDB4N0MpID4+PiAyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd29ya2Fyb3VuZHMgZm9yIHZhcmlvdXMgYnJvd3NlcnNcbiAgICAgICAgbGV0IHVzZXJBZ2VudCA9IHNlbGYubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGlmICh1c2VyQWdlbnQuaW5kZXhPZignZmlyZWZveCcpICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gZmlyZWZveDogdXNlIFNCUiAoSEUtQUFDKSBpZiBmcmVxIGxlc3MgdGhhbiAyNGtIelxuICAgICAgICAgICAgaWYgKHNhbXBsaW5nSW5kZXggPj0gNikge1xuICAgICAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDU7XG4gICAgICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDQpO1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4IC0gMztcbiAgICAgICAgICAgIH0gZWxzZSB7ICAvLyB1c2UgTEMtQUFDXG4gICAgICAgICAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodXNlckFnZW50LmluZGV4T2YoJ2FuZHJvaWQnKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIGFuZHJvaWQ6IGFsd2F5cyB1c2UgTEMtQUFDXG4gICAgICAgICAgICBhdWRpb09iamVjdFR5cGUgPSAyO1xuICAgICAgICAgICAgY29uZmlnID0gbmV3IEFycmF5KDIpO1xuICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBmb3Igb3RoZXIgYnJvd3NlcnMsIGUuZy4gY2hyb21lLi4uXG4gICAgICAgICAgICAvLyBBbHdheXMgdXNlIEhFLUFBQyB0byBtYWtlIGl0IGVhc2llciB0byBzd2l0Y2ggYWFjIGNvZGVjIHByb2ZpbGVcbiAgICAgICAgICAgIGF1ZGlvT2JqZWN0VHlwZSA9IDU7XG4gICAgICAgICAgICBleHRlbnNpb25TYW1wbGluZ0luZGV4ID0gc2FtcGxpbmdJbmRleDtcbiAgICAgICAgICAgIGNvbmZpZyA9IG5ldyBBcnJheSg0KTtcblxuICAgICAgICAgICAgaWYgKHNhbXBsaW5nSW5kZXggPj0gNikge1xuICAgICAgICAgICAgICAgIGV4dGVuc2lvblNhbXBsaW5nSW5kZXggPSBzYW1wbGluZ0luZGV4IC0gMztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvbmZpZyA9PT0gMSkgeyAgLy8gTW9ubyBjaGFubmVsXG4gICAgICAgICAgICAgICAgYXVkaW9PYmplY3RUeXBlID0gMjtcbiAgICAgICAgICAgICAgICBjb25maWcgPSBuZXcgQXJyYXkoMik7XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uU2FtcGxpbmdJbmRleCA9IHNhbXBsaW5nSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25maWdbMF0gID0gYXVkaW9PYmplY3RUeXBlIDw8IDM7XG4gICAgICAgIGNvbmZpZ1swXSB8PSAoc2FtcGxpbmdJbmRleCAmIDB4MEYpID4+PiAxO1xuICAgICAgICBjb25maWdbMV0gID0gKHNhbXBsaW5nSW5kZXggJiAweDBGKSA8PCA3O1xuICAgICAgICBjb25maWdbMV0gfD0gKGNoYW5uZWxDb25maWcgJiAweDBGKSA8PCAzO1xuICAgICAgICBpZiAoYXVkaW9PYmplY3RUeXBlID09PSA1KSB7XG4gICAgICAgICAgICBjb25maWdbMV0gfD0gKChleHRlbnNpb25TYW1wbGluZ0luZGV4ICYgMHgwRikgPj4+IDEpO1xuICAgICAgICAgICAgY29uZmlnWzJdICA9IChleHRlbnNpb25TYW1wbGluZ0luZGV4ICYgMHgwMSkgPDwgNztcbiAgICAgICAgICAgIC8vIGV4dGVuZGVkIGF1ZGlvIG9iamVjdCB0eXBlOiBmb3JjZSB0byAyIChMQy1BQUMpXG4gICAgICAgICAgICBjb25maWdbMl0gfD0gKDIgPDwgMik7XG4gICAgICAgICAgICBjb25maWdbM10gID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb25maWc6IGNvbmZpZyxcbiAgICAgICAgICAgIHNhbXBsaW5nUmF0ZTogc2FtcGxpbmdGcmVxdWVuY2UsXG4gICAgICAgICAgICBjaGFubmVsQ291bnQ6IGNoYW5uZWxDb25maWcsXG4gICAgICAgICAgICBjb2RlYzogJ21wNGEuNDAuJyArIGF1ZGlvT2JqZWN0VHlwZSxcbiAgICAgICAgICAgIG9yaWdpbmFsQ29kZWM6ICdtcDRhLjQwLicgKyBvcmlnaW5hbEF1ZGlvT2JqZWN0VHlwZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIF9wYXJzZU1QM0F1ZGlvRGF0YShhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHJlcXVlc3RIZWFkZXIpIHtcbiAgICAgICAgaWYgKGRhdGFTaXplIDwgNCkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdGbHY6IEludmFsaWQgTVAzIHBhY2tldCwgaGVhZGVyIG1pc3NpbmchJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGUgPSB0aGlzLl9saXR0bGVFbmRpYW47XG4gICAgICAgIGxldCBhcnJheSA9IG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgIGlmIChyZXF1ZXN0SGVhZGVyKSB7XG4gICAgICAgICAgICBpZiAoYXJyYXlbMF0gIT09IDB4RkYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdmVyID0gKGFycmF5WzFdID4+PiAzKSAmIDB4MDM7XG4gICAgICAgICAgICBsZXQgbGF5ZXIgPSAoYXJyYXlbMV0gJiAweDA2KSA+PiAxO1xuXG4gICAgICAgICAgICBsZXQgYml0cmF0ZV9pbmRleCA9IChhcnJheVsyXSAmIDB4RjApID4+PiA0O1xuICAgICAgICAgICAgbGV0IHNhbXBsaW5nX2ZyZXFfaW5kZXggPSAoYXJyYXlbMl0gJiAweDBDKSA+Pj4gMjtcblxuICAgICAgICAgICAgbGV0IGNoYW5uZWxfbW9kZSA9IChhcnJheVszXSA+Pj4gNikgJiAweDAzO1xuICAgICAgICAgICAgbGV0IGNoYW5uZWxfY291bnQgPSBjaGFubmVsX21vZGUgIT09IDMgPyAyIDogMTtcblxuICAgICAgICAgICAgbGV0IHNhbXBsZV9yYXRlID0gMDtcbiAgICAgICAgICAgIGxldCBiaXRfcmF0ZSA9IDA7XG4gICAgICAgICAgICBsZXQgb2JqZWN0X3R5cGUgPSAzNDsgIC8vIExheWVyLTMsIGxpc3RlZCBpbiBNUEVHLTQgQXVkaW8gT2JqZWN0IFR5cGVzXG5cbiAgICAgICAgICAgIGxldCBjb2RlYyA9ICdtcDMnO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKHZlcikge1xuICAgICAgICAgICAgICAgIGNhc2UgMDogIC8vIE1QRUcgMi41XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZV9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvVjI1U2FtcGxlUmF0ZVRhYmxlW3NhbXBsaW5nX2ZyZXFfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDI6ICAvLyBNUEVHIDJcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlX3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9WMjBTYW1wbGVSYXRlVGFibGVbc2FtcGxpbmdfZnJlcV9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMzogIC8vIE1QRUcgMVxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb1YxMFNhbXBsZVJhdGVUYWJsZVtzYW1wbGluZ19mcmVxX2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHN3aXRjaCAobGF5ZXIpIHtcbiAgICAgICAgICAgICAgICBjYXNlIDE6ICAvLyBMYXllciAzXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdF90eXBlID0gMzQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiaXRyYXRlX2luZGV4IDwgdGhpcy5fbXBlZ0F1ZGlvTDNCaXRSYXRlVGFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBiaXRfcmF0ZSA9IHRoaXMuX21wZWdBdWRpb0wzQml0UmF0ZVRhYmxlW2JpdHJhdGVfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgMjogIC8vIExheWVyIDJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0X3R5cGUgPSAzMztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHJhdGVfaW5kZXggPCB0aGlzLl9tcGVnQXVkaW9MMkJpdFJhdGVUYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJpdF9yYXRlID0gdGhpcy5fbXBlZ0F1ZGlvTDJCaXRSYXRlVGFibGVbYml0cmF0ZV9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAzOiAgLy8gTGF5ZXIgMVxuICAgICAgICAgICAgICAgICAgICBvYmplY3RfdHlwZSA9IDMyO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYml0cmF0ZV9pbmRleCA8IHRoaXMuX21wZWdBdWRpb0wxQml0UmF0ZVRhYmxlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYml0X3JhdGUgPSB0aGlzLl9tcGVnQXVkaW9MMUJpdFJhdGVUYWJsZVtiaXRyYXRlX2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgICAgIGJpdFJhdGU6IGJpdF9yYXRlLFxuICAgICAgICAgICAgICAgIHNhbXBsaW5nUmF0ZTogc2FtcGxlX3JhdGUsXG4gICAgICAgICAgICAgICAgY2hhbm5lbENvdW50OiBjaGFubmVsX2NvdW50LFxuICAgICAgICAgICAgICAgIGNvZGVjOiBjb2RlYyxcbiAgICAgICAgICAgICAgICBvcmlnaW5hbENvZGVjOiBjb2RlY1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGFycmF5O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBfcGFyc2VWaWRlb0RhdGEoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplLCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uKSB7XG4gICAgICAgIGlmIChkYXRhU2l6ZSA8PSAxKSB7XG4gICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCB2aWRlbyBwYWNrZXQsIG1pc3NpbmcgVmlkZW9EYXRhIHBheWxvYWQhJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faGFzVmlkZW9GbGFnT3ZlcnJpZGVkID09PSB0cnVlICYmIHRoaXMuX2hhc1ZpZGVvID09PSBmYWxzZSkge1xuICAgICAgICAgICAgLy8gSWYgaGFzVmlkZW86IGZhbHNlIGluZGljYXRlZCBleHBsaWNpdGx5IGluIE1lZGlhRGF0YVNvdXJjZSxcbiAgICAgICAgICAgIC8vIElnbm9yZSBhbGwgdGhlIHZpZGVvIHBhY2tldHNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcGVjID0gKG5ldyBVaW50OEFycmF5KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkpWzBdO1xuXG4gICAgICAgIGxldCBmcmFtZVR5cGUgPSAoc3BlYyAmIDI0MCkgPj4+IDQ7XG4gICAgICAgIGxldCBjb2RlY0lkID0gc3BlYyAmIDE1O1xuXG4gICAgICAgIGlmIChjb2RlY0lkICE9PSA3KSB7XG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkNPREVDX1VOU1VQUE9SVEVELCBgRmx2OiBVbnN1cHBvcnRlZCBjb2RlYyBpbiB2aWRlbyBmcmFtZTogJHtjb2RlY0lkfWApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fcGFyc2VBVkNWaWRlb1BhY2tldChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDEsIGRhdGFTaXplIC0gMSwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbiwgZnJhbWVUeXBlKTtcbiAgICB9XG5cbiAgICBfcGFyc2VBVkNWaWRlb1BhY2tldChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUsIHRhZ1RpbWVzdGFtcCwgdGFnUG9zaXRpb24sIGZyYW1lVHlwZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCA0KSB7XG4gICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCBBVkMgcGFja2V0LCBtaXNzaW5nIEFWQ1BhY2tldFR5cGUgb3IvYW5kIENvbXBvc2l0aW9uVGltZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGxldCBwYWNrZXRUeXBlID0gdi5nZXRVaW50OCgwKTtcbiAgICAgICAgbGV0IGN0c191bnNpZ25lZCA9IHYuZ2V0VWludDMyKDAsICFsZSkgJiAweDAwRkZGRkZGO1xuICAgICAgICBsZXQgY3RzID0gKGN0c191bnNpZ25lZCA8PCA4KSA+PiA4OyAgLy8gY29udmVydCB0byAyNC1iaXQgc2lnbmVkIGludFxuXG4gICAgICAgIGlmIChwYWNrZXRUeXBlID09PSAwKSB7ICAvLyBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZFxuICAgICAgICAgICAgdGhpcy5fcGFyc2VBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZChhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCArIDQsIGRhdGFTaXplIC0gNCk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFja2V0VHlwZSA9PT0gMSkgeyAgLy8gT25lIG9yIG1vcmUgTmFsdXNcbiAgICAgICAgICAgIHRoaXMuX3BhcnNlQVZDVmlkZW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0ICsgNCwgZGF0YVNpemUgLSA0LCB0YWdUaW1lc3RhbXAsIHRhZ1Bvc2l0aW9uLCBmcmFtZVR5cGUsIGN0cyk7XG4gICAgICAgIH0gZWxzZSBpZiAocGFja2V0VHlwZSA9PT0gMikge1xuICAgICAgICAgICAgLy8gZW1wdHksIEFWQyBlbmQgb2Ygc2VxdWVuY2VcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCBgRmx2OiBJbnZhbGlkIHZpZGVvIHBhY2tldCB0eXBlICR7cGFja2V0VHlwZX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYXJzZUFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSkge1xuICAgICAgICBpZiAoZGF0YVNpemUgPCA3KSB7XG4gICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgJ0ZsdjogSW52YWxpZCBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCwgbGFjayBvZiBkYXRhIScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1ldGEgPSB0aGlzLl92aWRlb01ldGFkYXRhO1xuICAgICAgICBsZXQgdHJhY2sgPSB0aGlzLl92aWRlb1RyYWNrO1xuICAgICAgICBsZXQgbGUgPSB0aGlzLl9saXR0bGVFbmRpYW47XG4gICAgICAgIGxldCB2ID0gbmV3IERhdGFWaWV3KGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSk7XG5cbiAgICAgICAgaWYgKCFtZXRhKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faGFzVmlkZW8gPT09IGZhbHNlICYmIHRoaXMuX2hhc1ZpZGVvRmxhZ092ZXJyaWRlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYXNWaWRlbyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLmhhc1ZpZGVvID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWV0YSA9IHRoaXMuX3ZpZGVvTWV0YWRhdGEgPSB7fTtcbiAgICAgICAgICAgIG1ldGEudHlwZSA9ICd2aWRlbyc7XG4gICAgICAgICAgICBtZXRhLmlkID0gdHJhY2suaWQ7XG4gICAgICAgICAgICBtZXRhLnRpbWVzY2FsZSA9IHRoaXMuX3RpbWVzY2FsZTtcbiAgICAgICAgICAgIG1ldGEuZHVyYXRpb24gPSB0aGlzLl9kdXJhdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0YS5hdmNjICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCAnRm91bmQgYW5vdGhlciBBVkNEZWNvZGVyQ29uZmlndXJhdGlvblJlY29yZCEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2ZXJzaW9uID0gdi5nZXRVaW50OCgwKTsgIC8vIGNvbmZpZ3VyYXRpb25WZXJzaW9uXG4gICAgICAgIGxldCBhdmNQcm9maWxlID0gdi5nZXRVaW50OCgxKTsgIC8vIGF2Y1Byb2ZpbGVJbmRpY2F0aW9uXG4gICAgICAgIGxldCBwcm9maWxlQ29tcGF0aWJpbGl0eSA9IHYuZ2V0VWludDgoMik7ICAvLyBwcm9maWxlX2NvbXBhdGliaWxpdHlcbiAgICAgICAgbGV0IGF2Y0xldmVsID0gdi5nZXRVaW50OCgzKTsgIC8vIEFWQ0xldmVsSW5kaWNhdGlvblxuXG4gICAgICAgIGlmICh2ZXJzaW9uICE9PSAxIHx8IGF2Y1Byb2ZpbGUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9uYWx1TGVuZ3RoU2l6ZSA9ICh2LmdldFVpbnQ4KDQpICYgMykgKyAxOyAgLy8gbGVuZ3RoU2l6ZU1pbnVzT25lXG4gICAgICAgIGlmICh0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAhPT0gMyAmJiB0aGlzLl9uYWx1TGVuZ3RoU2l6ZSAhPT0gNCkgeyAgLy8gaG9seSBzaGl0ISEhXG4gICAgICAgICAgICB0aGlzLl9vbkVycm9yKERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUiwgYEZsdjogU3RyYW5nZSBOYWx1TGVuZ3RoU2l6ZU1pbnVzT25lOiAke3RoaXMuX25hbHVMZW5ndGhTaXplIC0gMX1gKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzcHNDb3VudCA9IHYuZ2V0VWludDgoNSkgJiAzMTsgIC8vIG51bU9mU2VxdWVuY2VQYXJhbWV0ZXJTZXRzXG4gICAgICAgIGlmIChzcHNDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fb25FcnJvcihEZW11eEVycm9ycy5GT1JNQVRfRVJST1IsICdGbHY6IEludmFsaWQgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ6IE5vIFNQUycpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2UgaWYgKHNwc0NvdW50ID4gMSkge1xuICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsIGBGbHY6IFN0cmFuZ2UgQVZDRGVjb2RlckNvbmZpZ3VyYXRpb25SZWNvcmQ6IFNQUyBDb3VudCA9ICR7c3BzQ291bnR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb2Zmc2V0ID0gNjtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwc0NvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGxldCBsZW4gPSB2LmdldFVpbnQxNihvZmZzZXQsICFsZSk7ICAvLyBzZXF1ZW5jZVBhcmFtZXRlclNldExlbmd0aFxuICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XG5cbiAgICAgICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTm90aWNlOiBOYWx1IHdpdGhvdXQgc3RhcnRjb2RlIGhlYWRlciAoMDAgMDAgMDAgMDEpXG4gICAgICAgICAgICBsZXQgc3BzID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBvZmZzZXQsIGxlbik7XG4gICAgICAgICAgICBvZmZzZXQgKz0gbGVuO1xuXG4gICAgICAgICAgICBsZXQgY29uZmlnID0gU1BTUGFyc2VyLnBhcnNlU1BTKHNwcyk7XG4gICAgICAgICAgICBpZiAoaSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBvdGhlciBzcHMncyBjb25maWdcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbWV0YS5jb2RlY1dpZHRoID0gY29uZmlnLmNvZGVjX3NpemUud2lkdGg7XG4gICAgICAgICAgICBtZXRhLmNvZGVjSGVpZ2h0ID0gY29uZmlnLmNvZGVjX3NpemUuaGVpZ2h0O1xuICAgICAgICAgICAgbWV0YS5wcmVzZW50V2lkdGggPSBjb25maWcucHJlc2VudF9zaXplLndpZHRoO1xuICAgICAgICAgICAgbWV0YS5wcmVzZW50SGVpZ2h0ID0gY29uZmlnLnByZXNlbnRfc2l6ZS5oZWlnaHQ7XG5cbiAgICAgICAgICAgIG1ldGEucHJvZmlsZSA9IGNvbmZpZy5wcm9maWxlX3N0cmluZztcbiAgICAgICAgICAgIG1ldGEubGV2ZWwgPSBjb25maWcubGV2ZWxfc3RyaW5nO1xuICAgICAgICAgICAgbWV0YS5iaXREZXB0aCA9IGNvbmZpZy5iaXRfZGVwdGg7XG4gICAgICAgICAgICBtZXRhLmNocm9tYUZvcm1hdCA9IGNvbmZpZy5jaHJvbWFfZm9ybWF0O1xuICAgICAgICAgICAgbWV0YS5zYXJSYXRpbyA9IGNvbmZpZy5zYXJfcmF0aW87XG4gICAgICAgICAgICBtZXRhLmZyYW1lUmF0ZSA9IGNvbmZpZy5mcmFtZV9yYXRlO1xuXG4gICAgICAgICAgICBpZiAoY29uZmlnLmZyYW1lX3JhdGUuZml4ZWQgPT09IGZhbHNlIHx8XG4gICAgICAgICAgICAgICAgY29uZmlnLmZyYW1lX3JhdGUuZnBzX251bSA9PT0gMCB8fFxuICAgICAgICAgICAgICAgIGNvbmZpZy5mcmFtZV9yYXRlLmZwc19kZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBtZXRhLmZyYW1lUmF0ZSA9IHRoaXMuX3JlZmVyZW5jZUZyYW1lUmF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGZwc19kZW4gPSBtZXRhLmZyYW1lUmF0ZS5mcHNfZGVuO1xuICAgICAgICAgICAgbGV0IGZwc19udW0gPSBtZXRhLmZyYW1lUmF0ZS5mcHNfbnVtO1xuICAgICAgICAgICAgbWV0YS5yZWZTYW1wbGVEdXJhdGlvbiA9IG1ldGEudGltZXNjYWxlICogKGZwc19kZW4gLyBmcHNfbnVtKTtcblxuICAgICAgICAgICAgbGV0IGNvZGVjQXJyYXkgPSBzcHMuc3ViYXJyYXkoMSwgNCk7XG4gICAgICAgICAgICBsZXQgY29kZWNTdHJpbmcgPSAnYXZjMS4nO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgaCA9IGNvZGVjQXJyYXlbal0udG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgIGlmIChoLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgaCA9ICcwJyArIGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvZGVjU3RyaW5nICs9IGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZXRhLmNvZGVjID0gY29kZWNTdHJpbmc7XG5cbiAgICAgICAgICAgIGxldCBtaSA9IHRoaXMuX21lZGlhSW5mbztcbiAgICAgICAgICAgIG1pLndpZHRoID0gbWV0YS5jb2RlY1dpZHRoO1xuICAgICAgICAgICAgbWkuaGVpZ2h0ID0gbWV0YS5jb2RlY0hlaWdodDtcbiAgICAgICAgICAgIG1pLmZwcyA9IG1ldGEuZnJhbWVSYXRlLmZwcztcbiAgICAgICAgICAgIG1pLnByb2ZpbGUgPSBtZXRhLnByb2ZpbGU7XG4gICAgICAgICAgICBtaS5sZXZlbCA9IG1ldGEubGV2ZWw7XG4gICAgICAgICAgICBtaS5yZWZGcmFtZXMgPSBjb25maWcucmVmX2ZyYW1lcztcbiAgICAgICAgICAgIG1pLmNocm9tYUZvcm1hdCA9IGNvbmZpZy5jaHJvbWFfZm9ybWF0X3N0cmluZztcbiAgICAgICAgICAgIG1pLnNhck51bSA9IG1ldGEuc2FyUmF0aW8ud2lkdGg7XG4gICAgICAgICAgICBtaS5zYXJEZW4gPSBtZXRhLnNhclJhdGlvLmhlaWdodDtcbiAgICAgICAgICAgIG1pLnZpZGVvQ29kZWMgPSBjb2RlY1N0cmluZztcblxuICAgICAgICAgICAgaWYgKG1pLmhhc0F1ZGlvKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pLmF1ZGlvQ29kZWMgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBtaS5taW1lVHlwZSA9ICd2aWRlby94LWZsdjsgY29kZWNzPVwiJyArIG1pLnZpZGVvQ29kZWMgKyAnLCcgKyBtaS5hdWRpb0NvZGVjICsgJ1wiJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1pLm1pbWVUeXBlID0gJ3ZpZGVvL3gtZmx2OyBjb2RlY3M9XCInICsgbWkudmlkZW9Db2RlYyArICdcIic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWkuaXNDb21wbGV0ZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25NZWRpYUluZm8obWkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHBwc0NvdW50ID0gdi5nZXRVaW50OChvZmZzZXQpOyAgLy8gbnVtT2ZQaWN0dXJlUGFyYW1ldGVyU2V0c1xuICAgICAgICBpZiAocHBzQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuX29uRXJyb3IoRGVtdXhFcnJvcnMuRk9STUFUX0VSUk9SLCAnRmx2OiBJbnZhbGlkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkOiBObyBQUFMnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmIChwcHNDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgRmx2OiBTdHJhbmdlIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkOiBQUFMgQ291bnQgPSAke3Bwc0NvdW50fWApO1xuICAgICAgICB9XG5cbiAgICAgICAgb2Zmc2V0Kys7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcHNDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGVuID0gdi5nZXRVaW50MTYob2Zmc2V0LCAhbGUpOyAgLy8gcGljdHVyZVBhcmFtZXRlclNldExlbmd0aFxuICAgICAgICAgICAgb2Zmc2V0ICs9IDI7XG5cbiAgICAgICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcHBzIGlzIHVzZWxlc3MgZm9yIGV4dHJhY3RpbmcgdmlkZW8gaW5mb3JtYXRpb25cbiAgICAgICAgICAgIG9mZnNldCArPSBsZW47XG4gICAgICAgIH1cblxuICAgICAgICBtZXRhLmF2Y2MgPSBuZXcgVWludDhBcnJheShkYXRhU2l6ZSk7XG4gICAgICAgIG1ldGEuYXZjYy5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQsIGRhdGFTaXplKSwgMCk7XG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnUGFyc2VkIEFWQ0RlY29kZXJDb25maWd1cmF0aW9uUmVjb3JkJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2lzSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCgpKSB7XG4gICAgICAgICAgICAvLyBmbHVzaCBwYXJzZWQgZnJhbWVzXG4gICAgICAgICAgICBpZiAodGhpcy5fZGlzcGF0Y2ggJiYgKHRoaXMuX2F1ZGlvVHJhY2subGVuZ3RoIHx8IHRoaXMuX3ZpZGVvVHJhY2subGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29uRGF0YUF2YWlsYWJsZSh0aGlzLl9hdWRpb1RyYWNrLCB0aGlzLl92aWRlb1RyYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvSW5pdGlhbE1ldGFkYXRhRGlzcGF0Y2hlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm90aWZ5IG5ldyBtZXRhZGF0YVxuICAgICAgICB0aGlzLl9kaXNwYXRjaCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9vblRyYWNrTWV0YWRhdGEoJ3ZpZGVvJywgbWV0YSk7XG4gICAgfVxuXG4gICAgX3BhcnNlQVZDVmlkZW9EYXRhKGFycmF5QnVmZmVyLCBkYXRhT2Zmc2V0LCBkYXRhU2l6ZSwgdGFnVGltZXN0YW1wLCB0YWdQb3NpdGlvbiwgZnJhbWVUeXBlLCBjdHMpIHtcbiAgICAgICAgbGV0IGxlID0gdGhpcy5fbGl0dGxlRW5kaWFuO1xuICAgICAgICBsZXQgdiA9IG5ldyBEYXRhVmlldyhhcnJheUJ1ZmZlciwgZGF0YU9mZnNldCwgZGF0YVNpemUpO1xuXG4gICAgICAgIGxldCB1bml0cyA9IFtdLCBsZW5ndGggPSAwO1xuXG4gICAgICAgIGxldCBvZmZzZXQgPSAwO1xuICAgICAgICBjb25zdCBsZW5ndGhTaXplID0gdGhpcy5fbmFsdUxlbmd0aFNpemU7XG4gICAgICAgIGxldCBkdHMgPSB0aGlzLl90aW1lc3RhbXBCYXNlICsgdGFnVGltZXN0YW1wO1xuICAgICAgICBsZXQga2V5ZnJhbWUgPSAoZnJhbWVUeXBlID09PSAxKTsgIC8vIGZyb20gRkxWIEZyYW1lIFR5cGUgY29uc3RhbnRzXG5cbiAgICAgICAgd2hpbGUgKG9mZnNldCA8IGRhdGFTaXplKSB7XG4gICAgICAgICAgICBpZiAob2Zmc2V0ICsgNCA+PSBkYXRhU2l6ZSkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgTWFsZm9ybWVkIE5hbHUgbmVhciB0aW1lc3RhbXAgJHtkdHN9LCBvZmZzZXQgPSAke29mZnNldH0sIGRhdGFTaXplID0gJHtkYXRhU2l6ZX1gKTtcbiAgICAgICAgICAgICAgICBicmVhazsgIC8vIGRhdGEgbm90IGVub3VnaCBmb3IgbmV4dCBOYWx1XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOYWx1IHdpdGggbGVuZ3RoLWhlYWRlciAoQVZDMSlcbiAgICAgICAgICAgIGxldCBuYWx1U2l6ZSA9IHYuZ2V0VWludDMyKG9mZnNldCwgIWxlKTsgIC8vIEJpZy1FbmRpYW4gcmVhZFxuICAgICAgICAgICAgaWYgKGxlbmd0aFNpemUgPT09IDMpIHtcbiAgICAgICAgICAgICAgICBuYWx1U2l6ZSA+Pj49IDg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmFsdVNpemUgPiBkYXRhU2l6ZSAtIGxlbmd0aFNpemUpIHtcbiAgICAgICAgICAgICAgICBMb2cudyh0aGlzLlRBRywgYE1hbGZvcm1lZCBOYWx1cyBuZWFyIHRpbWVzdGFtcCAke2R0c30sIE5hbHVTaXplID4gRGF0YVNpemUhYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgdW5pdFR5cGUgPSB2LmdldFVpbnQ4KG9mZnNldCArIGxlbmd0aFNpemUpICYgMHgxRjtcblxuICAgICAgICAgICAgaWYgKHVuaXRUeXBlID09PSA1KSB7ICAvLyBJRFJcbiAgICAgICAgICAgICAgICBrZXlmcmFtZSA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIsIGRhdGFPZmZzZXQgKyBvZmZzZXQsIGxlbmd0aFNpemUgKyBuYWx1U2l6ZSk7XG4gICAgICAgICAgICBsZXQgdW5pdCA9IHt0eXBlOiB1bml0VHlwZSwgZGF0YTogZGF0YX07XG4gICAgICAgICAgICB1bml0cy5wdXNoKHVuaXQpO1xuICAgICAgICAgICAgbGVuZ3RoICs9IGRhdGEuYnl0ZUxlbmd0aDtcblxuICAgICAgICAgICAgb2Zmc2V0ICs9IGxlbmd0aFNpemUgKyBuYWx1U2l6ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1bml0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCB0cmFjayA9IHRoaXMuX3ZpZGVvVHJhY2s7XG4gICAgICAgICAgICBsZXQgYXZjU2FtcGxlID0ge1xuICAgICAgICAgICAgICAgIHVuaXRzOiB1bml0cyxcbiAgICAgICAgICAgICAgICBsZW5ndGg6IGxlbmd0aCxcbiAgICAgICAgICAgICAgICBpc0tleWZyYW1lOiBrZXlmcmFtZSxcbiAgICAgICAgICAgICAgICBkdHM6IGR0cyxcbiAgICAgICAgICAgICAgICBjdHM6IGN0cyxcbiAgICAgICAgICAgICAgICBwdHM6IChkdHMgKyBjdHMpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGtleWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgYXZjU2FtcGxlLmZpbGVwb3NpdGlvbiA9IHRhZ1Bvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhY2suc2FtcGxlcy5wdXNoKGF2Y1NhbXBsZSk7XG4gICAgICAgICAgICB0cmFjay5sZW5ndGggKz0gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEZMVkRlbXV4ZXI7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBUaGlzIGZpbGUgaXMgZGVyaXZlZCBmcm9tIGRhaWx5bW90aW9uJ3MgaGxzLmpzIGxpYnJhcnkgKGhscy5qcy9zcmMvcmVtdXgvbXA0LWdlbmVyYXRvci5qcylcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLy8gIE1QNCBib3hlcyBnZW5lcmF0b3IgZm9yIElTTyBCTUZGIChJU08gQmFzZSBNZWRpYSBGaWxlIEZvcm1hdCwgZGVmaW5lZCBpbiBJU08vSUVDIDE0NDk2LTEyKVxuY2xhc3MgTVA0IHtcblxuICAgIHN0YXRpYyBpbml0KCkge1xuICAgICAgICBNUDQudHlwZXMgPSB7XG4gICAgICAgICAgICBhdmMxOiBbXSwgYXZjQzogW10sIGJ0cnQ6IFtdLCBkaW5mOiBbXSxcbiAgICAgICAgICAgIGRyZWY6IFtdLCBlc2RzOiBbXSwgZnR5cDogW10sIGhkbHI6IFtdLFxuICAgICAgICAgICAgbWRhdDogW10sIG1kaGQ6IFtdLCBtZGlhOiBbXSwgbWZoZDogW10sXG4gICAgICAgICAgICBtaW5mOiBbXSwgbW9vZjogW10sIG1vb3Y6IFtdLCBtcDRhOiBbXSxcbiAgICAgICAgICAgIG12ZXg6IFtdLCBtdmhkOiBbXSwgc2R0cDogW10sIHN0Ymw6IFtdLFxuICAgICAgICAgICAgc3RjbzogW10sIHN0c2M6IFtdLCBzdHNkOiBbXSwgc3RzejogW10sXG4gICAgICAgICAgICBzdHRzOiBbXSwgdGZkdDogW10sIHRmaGQ6IFtdLCB0cmFmOiBbXSxcbiAgICAgICAgICAgIHRyYWs6IFtdLCB0cnVuOiBbXSwgdHJleDogW10sIHRraGQ6IFtdLFxuICAgICAgICAgICAgdm1oZDogW10sIHNtaGQ6IFtdLCAnLm1wMyc6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBNUDQudHlwZXMpIHtcbiAgICAgICAgICAgIGlmIChNUDQudHlwZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgICAgICAgICBNUDQudHlwZXNbbmFtZV0gPSBbXG4gICAgICAgICAgICAgICAgICAgIG5hbWUuY2hhckNvZGVBdCgwKSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZS5jaGFyQ29kZUF0KDEpLFxuICAgICAgICAgICAgICAgICAgICBuYW1lLmNoYXJDb2RlQXQoMiksXG4gICAgICAgICAgICAgICAgICAgIG5hbWUuY2hhckNvZGVBdCgzKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY29uc3RhbnRzID0gTVA0LmNvbnN0YW50cyA9IHt9O1xuXG4gICAgICAgIGNvbnN0YW50cy5GVFlQID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHg2OSwgMHg3MywgMHg2RiwgMHg2RCwgIC8vIG1ham9yX2JyYW5kOiBpc29tXG4gICAgICAgICAgICAweDAsICAweDAsICAweDAsICAweDEsICAgLy8gbWlub3JfdmVyc2lvbjogMHgwMVxuICAgICAgICAgICAgMHg2OSwgMHg3MywgMHg2RiwgMHg2RCwgIC8vIGlzb21cbiAgICAgICAgICAgIDB4NjEsIDB4NzYsIDB4NjMsIDB4MzEgICAvLyBhdmMxXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0YW50cy5TVFNEX1BSRUZJWCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEgICAvLyBlbnRyeV9jb3VudFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuU1RUUyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgICAvLyBlbnRyeV9jb3VudFxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuU1RTQyA9IGNvbnN0YW50cy5TVENPID0gY29uc3RhbnRzLlNUVFM7XG5cbiAgICAgICAgY29uc3RhbnRzLlNUU1ogPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gc2FtcGxlX3NpemVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgICAvLyBzYW1wbGVfY291bnRcbiAgICAgICAgXSk7XG5cbiAgICAgICAgY29uc3RhbnRzLkhETFJfVklERU8gPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcHJlX2RlZmluZWRcbiAgICAgICAgICAgIDB4NzYsIDB4NjksIDB4NjQsIDB4NjUsICAvLyBoYW5kbGVyX3R5cGU6ICd2aWRlJ1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiAzICogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDU2LCAweDY5LCAweDY0LCAweDY1LFxuICAgICAgICAgICAgMHg2RiwgMHg0OCwgMHg2MSwgMHg2RSxcbiAgICAgICAgICAgIDB4NjQsIDB4NkMsIDB4NjUsIDB4NzIsIDB4MDAgIC8vIG5hbWU6IFZpZGVvSGFuZGxlclxuICAgICAgICBdKTtcblxuICAgICAgICBjb25zdGFudHMuSERMUl9BVURJTyA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBwcmVfZGVmaW5lZFxuICAgICAgICAgICAgMHg3MywgMHg2RiwgMHg3NSwgMHg2RSwgIC8vIGhhbmRsZXJfdHlwZTogJ3NvdW4nXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQ6IDMgKiA0IGJ5dGVzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NTMsIDB4NkYsIDB4NzUsIDB4NkUsXG4gICAgICAgICAgICAweDY0LCAweDQ4LCAweDYxLCAweDZFLFxuICAgICAgICAgICAgMHg2NCwgMHg2QywgMHg2NSwgMHg3MiwgMHgwMCAgLy8gbmFtZTogU291bmRIYW5kbGVyXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGNvbnN0YW50cy5EUkVGID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgIC8vIGVudHJ5X2NvdW50XG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDBDLCAgLy8gZW50cnlfc2l6ZVxuICAgICAgICAgICAgMHg3NSwgMHg3MiwgMHg2QywgMHgyMCwgIC8vIHR5cGUgJ3VybCAnXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAxICAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgIF0pO1xuXG4gICAgICAgIC8vIFNvdW5kIG1lZGlhIGhlYWRlclxuICAgICAgICBjb25zdGFudHMuU01IRCA9IG5ldyBVaW50OEFycmF5KFtcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2ZXJzaW9uKDApICsgZmxhZ3NcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAgICAvLyBiYWxhbmNlKDIpICsgcmVzZXJ2ZWQoMilcbiAgICAgICAgXSk7XG5cbiAgICAgICAgLy8gdmlkZW8gbWVkaWEgaGVhZGVyXG4gICAgICAgIGNvbnN0YW50cy5WTUhEID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgICAgICAgICAgICAgIC8vIGdyYXBoaWNzbW9kZTogMiBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIG9wY29sb3I6IDMgKiAyIGJ5dGVzXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlIGEgYm94XG4gICAgc3RhdGljIGJveCh0eXBlKSB7XG4gICAgICAgIGxldCBzaXplID0gODtcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgICAgIGxldCBkYXRhcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGxldCBhcnJheUNvdW50ID0gZGF0YXMubGVuZ3RoO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXlDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBzaXplICs9IGRhdGFzW2ldLmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXN1bHQgPSBuZXcgVWludDhBcnJheShzaXplKTtcbiAgICAgICAgcmVzdWx0WzBdID0gKHNpemUgPj4+IDI0KSAmIDB4RkY7ICAvLyBzaXplXG4gICAgICAgIHJlc3VsdFsxXSA9IChzaXplID4+PiAxNikgJiAweEZGO1xuICAgICAgICByZXN1bHRbMl0gPSAoc2l6ZSA+Pj4gIDgpICYgMHhGRjtcbiAgICAgICAgcmVzdWx0WzNdID0gKHNpemUpICYgMHhGRjtcblxuICAgICAgICByZXN1bHQuc2V0KHR5cGUsIDQpOyAgLy8gdHlwZVxuXG4gICAgICAgIGxldCBvZmZzZXQgPSA4O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Q291bnQ7IGkrKykgeyAgLy8gZGF0YSBib2R5XG4gICAgICAgICAgICByZXN1bHQuc2V0KGRhdGFzW2ldLCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGFzW2ldLmJ5dGVMZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIGVtaXQgZnR5cCAmIG1vb3ZcbiAgICBzdGF0aWMgZ2VuZXJhdGVJbml0U2VnbWVudChtZXRhKSB7XG4gICAgICAgIGxldCBmdHlwID0gTVA0LmJveChNUDQudHlwZXMuZnR5cCwgTVA0LmNvbnN0YW50cy5GVFlQKTtcbiAgICAgICAgbGV0IG1vb3YgPSBNUDQubW9vdihtZXRhKTtcblxuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZnR5cC5ieXRlTGVuZ3RoICsgbW9vdi5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmVzdWx0LnNldChmdHlwLCAwKTtcbiAgICAgICAgcmVzdWx0LnNldChtb292LCBmdHlwLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8vIE1vdmllIG1ldGFkYXRhIGJveFxuICAgIHN0YXRpYyBtb292KG1ldGEpIHtcbiAgICAgICAgbGV0IG12aGQgPSBNUDQubXZoZChtZXRhLnRpbWVzY2FsZSwgbWV0YS5kdXJhdGlvbik7XG4gICAgICAgIGxldCB0cmFrID0gTVA0LnRyYWsobWV0YSk7XG4gICAgICAgIGxldCBtdmV4ID0gTVA0Lm12ZXgobWV0YSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tb292LCBtdmhkLCB0cmFrLCBtdmV4KTtcbiAgICB9XG5cbiAgICAvLyBNb3ZpZSBoZWFkZXIgYm94XG4gICAgc3RhdGljIG12aGQodGltZXNjYWxlLCBkdXJhdGlvbikge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgICAgICAgICAgKHRpbWVzY2FsZSA+Pj4gMjQpICYgMHhGRiwgIC8vIHRpbWVzY2FsZTogNCBieXRlc1xuICAgICAgICAgICAgKHRpbWVzY2FsZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAodGltZXNjYWxlKSAmIDB4RkYsXG4gICAgICAgICAgICAoZHVyYXRpb24gPj4+IDI0KSAmIDB4RkYsICAgLy8gZHVyYXRpb246IDQgYnl0ZXNcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCwgIC8vIFByZWZlcnJlZCByYXRlOiAxLjBcbiAgICAgICAgICAgIDB4MDEsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBQcmVmZXJyZWRWb2x1bWUoMS4wLCAyYnl0ZXMpICsgcmVzZXJ2ZWQoMmJ5dGVzKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiA0ICsgNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsICAvLyAtLS0tYmVnaW4gY29tcG9zaXRpb24gbWF0cml4LS0tLVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyAtLS0tZW5kIGNvbXBvc2l0aW9uIG1hdHJpeC0tLS1cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyAtLS0tYmVnaW4gcHJlX2RlZmluZWQgNiAqIDQgYnl0ZXMtLS0tXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIC0tLS1lbmQgcHJlX2RlZmluZWQgNiAqIDQgYnl0ZXMtLS0tXG4gICAgICAgICAgICAweEZGLCAweEZGLCAweEZGLCAweEZGICAgLy8gbmV4dF90cmFja19JRFxuICAgICAgICBdKSk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgYm94XG4gICAgc3RhdGljIHRyYWsobWV0YSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhaywgTVA0LnRraGQobWV0YSksIE1QNC5tZGlhKG1ldGEpKTtcbiAgICB9XG5cbiAgICAvLyBUcmFjayBoZWFkZXIgYm94XG4gICAgc3RhdGljIHRraGQobWV0YSkge1xuICAgICAgICBsZXQgdHJhY2tJZCA9IG1ldGEuaWQsIGR1cmF0aW9uID0gbWV0YS5kdXJhdGlvbjtcbiAgICAgICAgbGV0IHdpZHRoID0gbWV0YS5wcmVzZW50V2lkdGgsIGhlaWdodCA9IG1ldGEucHJlc2VudEhlaWdodDtcblxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudGtoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwNywgIC8vIHZlcnNpb24oMCkgKyBmbGFnc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIGNyZWF0aW9uX3RpbWVcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBtb2RpZmljYXRpb25fdGltZVxuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDI0KSAmIDB4RkYsICAvLyB0cmFja19JRDogNCBieXRlc1xuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgICh0cmFja0lkKSAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQ6IDQgYnl0ZXNcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMjQpICYgMHhGRiwgLy8gZHVyYXRpb246IDQgYnl0ZXNcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbikgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHJlc2VydmVkOiAyICogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBsYXllcigyYnl0ZXMpICsgYWx0ZXJuYXRlX2dyb3VwKDJieXRlcylcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyB2b2x1bWUoMmJ5dGVzKSArIHJlc2VydmVkKDJieXRlcylcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsIDB4MDAsIDB4MDAsICAvLyAtLS0tYmVnaW4gY29tcG9zaXRpb24gbWF0cml4LS0tLVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMSwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4NDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyAtLS0tZW5kIGNvbXBvc2l0aW9uIG1hdHJpeC0tLS1cbiAgICAgICAgICAgICh3aWR0aCA+Pj4gOCkgJiAweEZGLCAgICAvLyB3aWR0aCBhbmQgaGVpZ2h0XG4gICAgICAgICAgICAod2lkdGgpICYgMHhGRixcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAoaGVpZ2h0ID4+PiA4KSAmIDB4RkYsXG4gICAgICAgICAgICAoaGVpZ2h0KSAmIDB4RkYsXG4gICAgICAgICAgICAweDAwLCAweDAwXG4gICAgICAgIF0pKTtcbiAgICB9XG5cbiAgICAvLyBNZWRpYSBCb3hcbiAgICBzdGF0aWMgbWRpYShtZXRhKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGlhLCBNUDQubWRoZChtZXRhKSwgTVA0LmhkbHIobWV0YSksIE1QNC5taW5mKG1ldGEpKTtcbiAgICB9XG5cbiAgICAvLyBNZWRpYSBoZWFkZXIgYm94XG4gICAgc3RhdGljIG1kaGQobWV0YSkge1xuICAgICAgICBsZXQgdGltZXNjYWxlID0gbWV0YS50aW1lc2NhbGU7XG4gICAgICAgIGxldCBkdXJhdGlvbiA9IG1ldGEuZHVyYXRpb247XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGhkLCBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gY3JlYXRpb25fdGltZVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIG1vZGlmaWNhdGlvbl90aW1lXG4gICAgICAgICAgICAodGltZXNjYWxlID4+PiAyNCkgJiAweEZGLCAgLy8gdGltZXNjYWxlOiA0IGJ5dGVzXG4gICAgICAgICAgICAodGltZXNjYWxlID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHRpbWVzY2FsZSA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgICh0aW1lc2NhbGUpICYgMHhGRixcbiAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMjQpICYgMHhGRiwgICAvLyBkdXJhdGlvbjogNCBieXRlc1xuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKGR1cmF0aW9uID4+PiAgOCkgJiAweEZGLFxuICAgICAgICAgICAgKGR1cmF0aW9uKSAmIDB4RkYsXG4gICAgICAgICAgICAweDU1LCAweEM0LCAgICAgICAgICAgICAvLyBsYW5ndWFnZTogdW5kICh1bmRldGVybWluZWQpXG4gICAgICAgICAgICAweDAwLCAweDAwICAgICAgICAgICAgICAvLyBwcmVfZGVmaW5lZCA9IDBcbiAgICAgICAgXSkpO1xuICAgIH1cblxuICAgIC8vIE1lZGlhIGhhbmRsZXIgcmVmZXJlbmNlIGJveFxuICAgIHN0YXRpYyBoZGxyKG1ldGEpIHtcbiAgICAgICAgbGV0IGRhdGEgPSBudWxsO1xuICAgICAgICBpZiAobWV0YS50eXBlID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICBkYXRhID0gTVA0LmNvbnN0YW50cy5IRExSX0FVRElPO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGF0YSA9IE1QNC5jb25zdGFudHMuSERMUl9WSURFTztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuaGRsciwgZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gTWVkaWEgaW5mb21hdGlvbiBib3hcbiAgICBzdGF0aWMgbWluZihtZXRhKSB7XG4gICAgICAgIGxldCB4bWhkID0gbnVsbDtcbiAgICAgICAgaWYgKG1ldGEudHlwZSA9PT0gJ2F1ZGlvJykge1xuICAgICAgICAgICAgeG1oZCA9IE1QNC5ib3goTVA0LnR5cGVzLnNtaGQsIE1QNC5jb25zdGFudHMuU01IRCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB4bWhkID0gTVA0LmJveChNUDQudHlwZXMudm1oZCwgTVA0LmNvbnN0YW50cy5WTUhEKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWluZiwgeG1oZCwgTVA0LmRpbmYoKSwgTVA0LnN0YmwobWV0YSkpO1xuICAgIH1cblxuICAgIC8vIERhdGEgaW5mb21hdGlvbiBib3hcbiAgICBzdGF0aWMgZGluZigpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IE1QNC5ib3goTVA0LnR5cGVzLmRpbmYsXG4gICAgICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5kcmVmLCBNUDQuY29uc3RhbnRzLkRSRUYpXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLy8gU2FtcGxlIHRhYmxlIGJveFxuICAgIHN0YXRpYyBzdGJsKG1ldGEpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IE1QNC5ib3goTVA0LnR5cGVzLnN0YmwsICAvLyB0eXBlOiBzdGJsXG4gICAgICAgICAgICBNUDQuc3RzZChtZXRhKSwgIC8vIFNhbXBsZSBEZXNjcmlwdGlvbiBUYWJsZVxuICAgICAgICAgICAgTVA0LmJveChNUDQudHlwZXMuc3R0cywgTVA0LmNvbnN0YW50cy5TVFRTKSwgIC8vIFRpbWUtVG8tU2FtcGxlXG4gICAgICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5zdHNjLCBNUDQuY29uc3RhbnRzLlNUU0MpLCAgLy8gU2FtcGxlLVRvLUNodW5rXG4gICAgICAgICAgICBNUDQuYm94KE1QNC50eXBlcy5zdHN6LCBNUDQuY29uc3RhbnRzLlNUU1opLCAgLy8gU2FtcGxlIHNpemVcbiAgICAgICAgICAgIE1QNC5ib3goTVA0LnR5cGVzLnN0Y28sIE1QNC5jb25zdGFudHMuU1RDTykgICAvLyBDaHVuayBvZmZzZXRcbiAgICAgICAgKTsgXG4gICAgICAgIHJldHVybiByZXN1bHQ7IFxuICAgIH1cblxuICAgIC8vIFNhbXBsZSBkZXNjcmlwdGlvbiBib3hcbiAgICBzdGF0aWMgc3RzZChtZXRhKSB7XG4gICAgICAgIGlmIChtZXRhLnR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIGlmIChtZXRhLmNvZGVjID09PSAnbXAzJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5zdHNkLCBNUDQuY29uc3RhbnRzLlNUU0RfUFJFRklYLCBNUDQubXAzKG1ldGEpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVsc2U6IGFhYyAtPiBtcDRhXG4gICAgICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc3RzZCwgTVA0LmNvbnN0YW50cy5TVFNEX1BSRUZJWCwgTVA0Lm1wNGEobWV0YSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1QNC5ib3goTVA0LnR5cGVzLnN0c2QsIE1QNC5jb25zdGFudHMuU1RTRF9QUkVGSVgsIE1QNC5hdmMxKG1ldGEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBtcDMobWV0YSkge1xuICAgICAgICBsZXQgY2hhbm5lbENvdW50ID0gbWV0YS5jaGFubmVsQ291bnQ7XG4gICAgICAgIGxldCBzYW1wbGVSYXRlID0gbWV0YS5hdWRpb1NhbXBsZVJhdGU7XG5cbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQoNClcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsICAvLyByZXNlcnZlZCgyKSArIGRhdGFfcmVmZXJlbmNlX2luZGV4KDIpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQ6IDIgKiA0IGJ5dGVzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgY2hhbm5lbENvdW50LCAgICAgIC8vIGNoYW5uZWxDb3VudCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgxMCwgICAgICAgICAgICAgIC8vIHNhbXBsZVNpemUoMilcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyByZXNlcnZlZCg0KVxuICAgICAgICAgICAgKHNhbXBsZVJhdGUgPj4+IDgpICYgMHhGRiwgIC8vIEF1ZGlvIHNhbXBsZSByYXRlXG4gICAgICAgICAgICAoc2FtcGxlUmF0ZSkgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMFxuICAgICAgICBdKTtcblxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXNbJy5tcDMnXSwgZGF0YSk7XG4gICAgfVxuXG4gICAgc3RhdGljIG1wNGEobWV0YSkge1xuICAgICAgICBsZXQgY2hhbm5lbENvdW50ID0gbWV0YS5jaGFubmVsQ291bnQ7XG4gICAgICAgIGxldCBzYW1wbGVSYXRlID0gbWV0YS5hdWRpb1NhbXBsZVJhdGU7XG5cbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQoNClcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsICAvLyByZXNlcnZlZCgyKSArIGRhdGFfcmVmZXJlbmNlX2luZGV4KDIpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQ6IDIgKiA0IGJ5dGVzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgY2hhbm5lbENvdW50LCAgICAgIC8vIGNoYW5uZWxDb3VudCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgxMCwgICAgICAgICAgICAgIC8vIHNhbXBsZVNpemUoMilcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyByZXNlcnZlZCg0KVxuICAgICAgICAgICAgKHNhbXBsZVJhdGUgPj4+IDgpICYgMHhGRiwgIC8vIEF1ZGlvIHNhbXBsZSByYXRlXG4gICAgICAgICAgICAoc2FtcGxlUmF0ZSkgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMFxuICAgICAgICBdKTtcblxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubXA0YSwgZGF0YSwgTVA0LmVzZHMobWV0YSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBlc2RzKG1ldGEpIHtcbiAgICAgICAgbGV0IGNvbmZpZyA9IG1ldGEuY29uZmlnIHx8IFtdO1xuICAgICAgICBsZXQgY29uZmlnU2l6ZSA9IGNvbmZpZy5sZW5ndGg7XG4gICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24gMCArIGZsYWdzXG5cbiAgICAgICAgICAgIDB4MDMsICAgICAgICAgICAgICAgICAgICAvLyBkZXNjcmlwdG9yX3R5cGVcbiAgICAgICAgICAgIDB4MTcgKyBjb25maWdTaXplLCAgICAgICAvLyBsZW5ndGgzXG4gICAgICAgICAgICAweDAwLCAweDAxLCAgICAgICAgICAgICAgLy8gZXNfaWRcbiAgICAgICAgICAgIDB4MDAsICAgICAgICAgICAgICAgICAgICAvLyBzdHJlYW1fcHJpb3JpdHlcblxuICAgICAgICAgICAgMHgwNCwgICAgICAgICAgICAgICAgICAgIC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgICAgICAgICAgMHgwRiArIGNvbmZpZ1NpemUsICAgICAgIC8vIGxlbmd0aFxuICAgICAgICAgICAgMHg0MCwgICAgICAgICAgICAgICAgICAgIC8vIGNvZGVjOiBtcGVnNF9hdWRpb1xuICAgICAgICAgICAgMHgxNSwgICAgICAgICAgICAgICAgICAgIC8vIHN0cmVhbV90eXBlOiBBdWRpb1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgICAgICAgIC8vIGJ1ZmZlcl9zaXplXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gbWF4Qml0cmF0ZVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIGF2Z0JpdHJhdGVcblxuICAgICAgICAgICAgMHgwNSAgICAgICAgICAgICAgICAgICAgIC8vIGRlc2NyaXB0b3JfdHlwZVxuICAgICAgICBdLmNvbmNhdChbXG4gICAgICAgICAgICBjb25maWdTaXplXG4gICAgICAgIF0pLmNvbmNhdChcbiAgICAgICAgICAgIGNvbmZpZ1xuICAgICAgICApLmNvbmNhdChbXG4gICAgICAgICAgICAweDA2LCAweDAxLCAweDAyICAgICAgICAgLy8gR0FTcGVjaWZpY0NvbmZpZ1xuICAgICAgICBdKSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5lc2RzLCBkYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgYXZjMShtZXRhKSB7XG4gICAgICAgIGxldCBhdmNjID0gbWV0YS5hdmNjO1xuICAgICAgICBsZXQgd2lkdGggPSBtZXRhLmNvZGVjV2lkdGgsIGhlaWdodCA9IG1ldGEuY29kZWNIZWlnaHQ7XG5cbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQoNClcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDEsICAvLyByZXNlcnZlZCgyKSArIGRhdGFfcmVmZXJlbmNlX2luZGV4KDIpXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcHJlX2RlZmluZWQoMikgKyByZXNlcnZlZCgyKVxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHByZV9kZWZpbmVkOiAzICogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAod2lkdGggPj4+IDgpICYgMHhGRiwgICAgLy8gd2lkdGg6IDIgYnl0ZXNcbiAgICAgICAgICAgICh3aWR0aCkgJiAweEZGLFxuICAgICAgICAgICAgKGhlaWdodCA+Pj4gOCkgJiAweEZGLCAgIC8vIGhlaWdodDogMiBieXRlc1xuICAgICAgICAgICAgKGhlaWdodCkgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHg0OCwgMHgwMCwgMHgwMCwgIC8vIGhvcml6cmVzb2x1dGlvbjogNCBieXRlc1xuICAgICAgICAgICAgMHgwMCwgMHg0OCwgMHgwMCwgMHgwMCwgIC8vIHZlcnRyZXNvbHV0aW9uOiA0IGJ5dGVzXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gcmVzZXJ2ZWQ6IDQgYnl0ZXNcbiAgICAgICAgICAgIDB4MDAsIDB4MDEsICAgICAgICAgICAgICAvLyBmcmFtZV9jb3VudFxuICAgICAgICAgICAgMHgwQSwgICAgICAgICAgICAgICAgICAgIC8vIHN0cmxlblxuICAgICAgICAgICAgMHg3OCwgMHg3MSwgMHg3MSwgMHgyRiwgIC8vIGNvbXByZXNzb3JuYW1lOiAzMiBieXRlc1xuICAgICAgICAgICAgMHg2NiwgMHg2QywgMHg3NiwgMHgyRSxcbiAgICAgICAgICAgIDB4NkEsIDB4NzMsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIDB4MDAsIDB4MTgsICAgICAgICAgICAgICAvLyBkZXB0aFxuICAgICAgICAgICAgMHhGRiwgMHhGRiAgICAgICAgICAgICAgIC8vIHByZV9kZWZpbmVkID0gLTFcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5hdmMxLCBkYXRhLCBNUDQuYm94KE1QNC50eXBlcy5hdmNDLCBhdmNjKSk7XG4gICAgfVxuXG4gICAgLy8gTW92aWUgRXh0ZW5kcyBib3hcbiAgICBzdGF0aWMgbXZleChtZXRhKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tdmV4LCBNUDQudHJleChtZXRhKSk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgRXh0ZW5kcyBib3hcbiAgICBzdGF0aWMgdHJleChtZXRhKSB7XG4gICAgICAgIGxldCB0cmFja0lkID0gbWV0YS5pZDtcbiAgICAgICAgbGV0IGRhdGEgPSBuZXcgVWludDhBcnJheShbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gdmVyc2lvbigwKSArIGZsYWdzXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gMjQpICYgMHhGRiwgLy8gdHJhY2tfSURcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAxNikgJiAweEZGLFxuICAgICAgICAgICAgKHRyYWNrSWQgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAodHJhY2tJZCkgJiAweEZGLFxuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMSwgIC8vIGRlZmF1bHRfc2FtcGxlX2Rlc2NyaXB0aW9uX2luZGV4XG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDAwLCAweDAwLCAgLy8gZGVmYXVsdF9zYW1wbGVfZHVyYXRpb25cbiAgICAgICAgICAgIDB4MDAsIDB4MDAsIDB4MDAsIDB4MDAsICAvLyBkZWZhdWx0X3NhbXBsZV9zaXplXG4gICAgICAgICAgICAweDAwLCAweDAxLCAweDAwLCAweDAxICAgLy8gZGVmYXVsdF9zYW1wbGVfZmxhZ3NcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cmV4LCBkYXRhKTtcbiAgICB9XG5cbiAgICAvLyBNb3ZpZSBmcmFnbWVudCBib3hcbiAgICBzdGF0aWMgbW9vZih0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkge1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubW9vZiwgTVA0Lm1maGQodHJhY2suc2VxdWVuY2VOdW1iZXIpLCBNUDQudHJhZih0cmFjaywgYmFzZU1lZGlhRGVjb2RlVGltZSkpO1xuICAgIH1cblxuICAgIHN0YXRpYyBtZmhkKHNlcXVlbmNlTnVtYmVyKSB7XG4gICAgICAgIGxldCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCxcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlciA+Pj4gMjQpICYgMHhGRiwgIC8vIHNlcXVlbmNlX251bWJlcjogaW50MzJcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlciA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlciA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgIChzZXF1ZW5jZU51bWJlcikgJiAweEZGXG4gICAgICAgIF0pO1xuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMubWZoZCwgZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgZnJhZ21lbnQgYm94XG4gICAgc3RhdGljIHRyYWYodHJhY2ssIGJhc2VNZWRpYURlY29kZVRpbWUpIHtcbiAgICAgICAgbGV0IHRyYWNrSWQgPSB0cmFjay5pZDtcblxuICAgICAgICAvLyBUcmFjayBmcmFnbWVudCBoZWFkZXIgYm94XG4gICAgICAgIGxldCB0ZmhkID0gTVA0LmJveChNUDQudHlwZXMudGZoZCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgJiBmbGFnc1xuICAgICAgICAgICAgKHRyYWNrSWQgPj4+IDI0KSAmIDB4RkYsIC8vIHRyYWNrX0lEXG4gICAgICAgICAgICAodHJhY2tJZCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICh0cmFja0lkID4+PiAgOCkgJiAweEZGLFxuICAgICAgICAgICAgKHRyYWNrSWQpICYgMHhGRlxuICAgICAgICBdKSk7XG4gICAgICAgIC8vIFRyYWNrIEZyYWdtZW50IERlY29kZSBUaW1lXG4gICAgICAgIGxldCB0ZmR0ID0gTVA0LmJveChNUDQudHlwZXMudGZkdCwgbmV3IFVpbnQ4QXJyYXkoW1xuICAgICAgICAgICAgMHgwMCwgMHgwMCwgMHgwMCwgMHgwMCwgIC8vIHZlcnNpb24oMCkgJiBmbGFnc1xuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4+IDI0KSAmIDB4RkYsICAvLyBiYXNlTWVkaWFEZWNvZGVUaW1lOiBpbnQzMlxuICAgICAgICAgICAgKGJhc2VNZWRpYURlY29kZVRpbWUgPj4+IDE2KSAmIDB4RkYsXG4gICAgICAgICAgICAoYmFzZU1lZGlhRGVjb2RlVGltZSA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgIChiYXNlTWVkaWFEZWNvZGVUaW1lKSAmIDB4RkZcbiAgICAgICAgXSkpO1xuICAgICAgICBsZXQgc2R0cCA9IE1QNC5zZHRwKHRyYWNrKTtcbiAgICAgICAgbGV0IHRydW4gPSBNUDQudHJ1bih0cmFjaywgc2R0cC5ieXRlTGVuZ3RoICsgMTYgKyAxNiArIDggKyAxNiArIDggKyA4KTtcblxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMudHJhZiwgdGZoZCwgdGZkdCwgdHJ1biwgc2R0cCk7XG4gICAgfVxuXG4gICAgLy8gU2FtcGxlIERlcGVuZGVuY3kgVHlwZSBib3hcbiAgICBzdGF0aWMgc2R0cCh0cmFjaykge1xuICAgICAgICBsZXQgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXMgfHwgW107XG4gICAgICAgIGxldCBzYW1wbGVDb3VudCA9IHNhbXBsZXMubGVuZ3RoO1xuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KDQgKyBzYW1wbGVDb3VudCk7XG4gICAgICAgIC8vIDB+NCBieXRlczogdmVyc2lvbigwKSAmIGZsYWdzXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGZsYWdzID0gc2FtcGxlc1tpXS5mbGFncztcbiAgICAgICAgICAgIGRhdGFbaSArIDRdID0gKGZsYWdzLmlzTGVhZGluZyA8PCA2KSAgICAvLyBpc19sZWFkaW5nOiAyIChiaXQpXG4gICAgICAgICAgICAgICAgICAgICAgICB8IChmbGFncy5kZXBlbmRzT24gPDwgNCkgICAgLy8gc2FtcGxlX2RlcGVuZHNfb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHwgKGZsYWdzLmlzRGVwZW5kZWRPbiA8PCAyKSAvLyBzYW1wbGVfaXNfZGVwZW5kZWRfb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHwgKGZsYWdzLmhhc1JlZHVuZGFuY3kpOyAgICAvLyBzYW1wbGVfaGFzX3JlZHVuZGFuY3lcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTVA0LmJveChNUDQudHlwZXMuc2R0cCwgZGF0YSk7XG4gICAgfVxuXG4gICAgLy8gVHJhY2sgZnJhZ21lbnQgcnVuIGJveFxuICAgIHN0YXRpYyB0cnVuKHRyYWNrLCBvZmZzZXQpIHtcbiAgICAgICAgbGV0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzIHx8IFtdO1xuICAgICAgICBsZXQgc2FtcGxlQ291bnQgPSBzYW1wbGVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGRhdGFTaXplID0gMTIgKyAxNiAqIHNhbXBsZUNvdW50O1xuICAgICAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KGRhdGFTaXplKTtcbiAgICAgICAgb2Zmc2V0ICs9IDggKyBkYXRhU2l6ZTtcblxuICAgICAgICBkYXRhLnNldChbXG4gICAgICAgICAgICAweDAwLCAweDAwLCAweDBGLCAweDAxLCAgICAgIC8vIHZlcnNpb24oMCkgJiBmbGFnc1xuICAgICAgICAgICAgKHNhbXBsZUNvdW50ID4+PiAyNCkgJiAweEZGLCAvLyBzYW1wbGVfY291bnRcbiAgICAgICAgICAgIChzYW1wbGVDb3VudCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChzYW1wbGVDb3VudCA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgIChzYW1wbGVDb3VudCkgJiAweEZGLFxuICAgICAgICAgICAgKG9mZnNldCA+Pj4gMjQpICYgMHhGRiwgICAgICAvLyBkYXRhX29mZnNldFxuICAgICAgICAgICAgKG9mZnNldCA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgIChvZmZzZXQgPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAob2Zmc2V0KSAmIDB4RkZcbiAgICAgICAgXSwgMCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgZHVyYXRpb24gPSBzYW1wbGVzW2ldLmR1cmF0aW9uO1xuICAgICAgICAgICAgbGV0IHNpemUgPSBzYW1wbGVzW2ldLnNpemU7XG4gICAgICAgICAgICBsZXQgZmxhZ3MgPSBzYW1wbGVzW2ldLmZsYWdzO1xuICAgICAgICAgICAgbGV0IGN0cyA9IHNhbXBsZXNbaV0uY3RzO1xuICAgICAgICAgICAgZGF0YS5zZXQoW1xuICAgICAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMjQpICYgMHhGRiwgIC8vIHNhbXBsZV9kdXJhdGlvblxuICAgICAgICAgICAgICAgIChkdXJhdGlvbiA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoZHVyYXRpb24gPj4+ICA4KSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKGR1cmF0aW9uKSAmIDB4RkYsXG4gICAgICAgICAgICAgICAgKHNpemUgPj4+IDI0KSAmIDB4RkYsICAgICAgLy8gc2FtcGxlX3NpemVcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSA+Pj4gIDgpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoc2l6ZSkgJiAweEZGLFxuICAgICAgICAgICAgICAgIChmbGFncy5pc0xlYWRpbmcgPDwgMikgfCBmbGFncy5kZXBlbmRzT24sICAvLyBzYW1wbGVfZmxhZ3NcbiAgICAgICAgICAgICAgICAoZmxhZ3MuaXNEZXBlbmRlZE9uIDw8IDYpIHwgKGZsYWdzLmhhc1JlZHVuZGFuY3kgPDwgNCkgfCBmbGFncy5pc05vblN5bmMsXG4gICAgICAgICAgICAgICAgMHgwMCwgMHgwMCwgICAgICAgICAgICAgICAgLy8gc2FtcGxlX2RlZ3JhZGF0aW9uX3ByaW9yaXR5XG4gICAgICAgICAgICAgICAgKGN0cyA+Pj4gMjQpICYgMHhGRiwgICAgICAgLy8gc2FtcGxlX2NvbXBvc2l0aW9uX3RpbWVfb2Zmc2V0XG4gICAgICAgICAgICAgICAgKGN0cyA+Pj4gMTYpICYgMHhGRixcbiAgICAgICAgICAgICAgICAoY3RzID4+PiAgOCkgJiAweEZGLFxuICAgICAgICAgICAgICAgIChjdHMpICYgMHhGRlxuICAgICAgICAgICAgXSwgMTIgKyAxNiAqIGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy50cnVuLCBkYXRhKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgbWRhdChkYXRhKSB7XG4gICAgICAgIHJldHVybiBNUDQuYm94KE1QNC50eXBlcy5tZGF0LCBkYXRhKTtcbiAgICB9XG5cbn1cblxuTVA0LmluaXQoKTtcblxuZXhwb3J0IGRlZmF1bHQgTVA0OyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBmaWxlIGlzIG1vZGlmaWVkIGZyb20gZGFpbHltb3Rpb24ncyBobHMuanMgbGlicmFyeSAoaGxzLmpzL3NyYy9oZWxwZXIvYWFjLmpzKVxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jbGFzcyBBQUMge1xuXG4gICAgc3RhdGljIGdldFNpbGVudEZyYW1lKGNvZGVjLCBjaGFubmVsQ291bnQpIHtcbiAgICAgICAgaWYgKGNvZGVjID09PSAnbXA0YS40MC4yJykge1xuICAgICAgICAgICAgLy8gaGFuZGxlIExDLUFBQ1xuICAgICAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMywgMHg4MF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MjEsIDB4MDAsIDB4NDksIDB4OTAsIDB4MDIsIDB4MTksIDB4MDAsIDB4MjMsIDB4ODBdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDhlXSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNoYW5uZWxDb3VudCA9PT0gNCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgwMCwgMHhjOCwgMHgwMCwgMHg4MCwgMHgyMCwgMHg4NCwgMHgwMSwgMHgyNiwgMHg0MCwgMHgwOCwgMHg2NCwgMHgwMCwgMHg4MCwgMHgyYywgMHg4MCwgMHgwOCwgMHgwMiwgMHgzOF0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MDAsIDB4YzgsIDB4MDAsIDB4ODAsIDB4MjAsIDB4ODQsIDB4MDEsIDB4MjYsIDB4NDAsIDB4MDgsIDB4NjQsIDB4MDAsIDB4ODIsIDB4MzAsIDB4MDQsIDB4OTksIDB4MDAsIDB4MjEsIDB4OTAsIDB4MDIsIDB4MzhdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSA2KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDAwLCAweGM4LCAweDAwLCAweDgwLCAweDIwLCAweDg0LCAweDAxLCAweDI2LCAweDQwLCAweDA4LCAweDY0LCAweDAwLCAweDgyLCAweDMwLCAweDA0LCAweDk5LCAweDAwLCAweDIxLCAweDkwLCAweDAyLCAweDAwLCAweGIyLCAweDAwLCAweDIwLCAweDA4LCAweGUwXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBoYW5kbGUgSEUtQUFDIChtcDRhLjQwLjUgLyBtcDRhLjQwLjI5KVxuICAgICAgICAgICAgaWYgKGNoYW5uZWxDb3VudCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIGZmbXBlZyAteSAtZiBsYXZmaSAtaSBcImFldmFsc3JjPTA6ZD0wLjA1XCIgLWM6YSBsaWJmZGtfYWFjIC1wcm9maWxlOmEgYWFjX2hlIC1iOmEgNGsgb3V0cHV0LmFhYyAmJiBoZXhkdW1wIC12IC1lICcxNi8xIFwiMHgleCxcIiBcIlxcblwiJyAtdiBvdXRwdXQuYWFjXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KFsweDEsIDB4NDAsIDB4MjIsIDB4ODAsIDB4YTMsIDB4NGUsIDB4ZTYsIDB4ODAsIDB4YmEsIDB4OCwgMHgwLCAweDAsIDB4MCwgMHgxYywgMHg2LCAweGYxLCAweGMxLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhbm5lbENvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gZmZtcGVnIC15IC1mIGxhdmZpIC1pIFwiYWV2YWxzcmM9MHwwOmQ9MC4wNVwiIC1jOmEgbGliZmRrX2FhYyAtcHJvZmlsZTphIGFhY19oZV92MiAtYjphIDRrIG91dHB1dC5hYWMgJiYgaGV4ZHVtcCAtdiAtZSAnMTYvMSBcIjB4JXgsXCIgXCJcXG5cIicgLXYgb3V0cHV0LmFhY1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheShbMHgxLCAweDQwLCAweDIyLCAweDgwLCAweGEzLCAweDVlLCAweGU2LCAweDgwLCAweGJhLCAweDgsIDB4MCwgMHgwLCAweDAsIDB4MCwgMHg5NSwgMHgwLCAweDYsIDB4ZjEsIDB4YTEsIDB4YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1YSwgMHg1ZV0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFubmVsQ291bnQgPT09IDMpIHtcbiAgICAgICAgICAgICAgICAvLyBmZm1wZWcgLXkgLWYgbGF2ZmkgLWkgXCJhZXZhbHNyYz0wfDB8MDpkPTAuMDVcIiAtYzphIGxpYmZka19hYWMgLXByb2ZpbGU6YSBhYWNfaGVfdjIgLWI6YSA0ayBvdXRwdXQuYWFjICYmIGhleGR1bXAgLXYgLWUgJzE2LzEgXCIweCV4LFwiIFwiXFxuXCInIC12IG91dHB1dC5hYWNcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoWzB4MSwgMHg0MCwgMHgyMiwgMHg4MCwgMHhhMywgMHg1ZSwgMHhlNiwgMHg4MCwgMHhiYSwgMHg4LCAweDAsIDB4MCwgMHgwLCAweDAsIDB4OTUsIDB4MCwgMHg2LCAweGYxLCAweGExLCAweGEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWEsIDB4NWVdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgQUFDOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vLyBSZXByZXNlbnRzIGFuIG1lZGlhIHNhbXBsZSAoYXVkaW8gLyB2aWRlbylcbmV4cG9ydCBjbGFzcyBTYW1wbGVJbmZvIHtcblxuICAgIGNvbnN0cnVjdG9yKGR0cywgcHRzLCBkdXJhdGlvbiwgb3JpZ2luYWxEdHMsIGlzU3luYykge1xuICAgICAgICB0aGlzLmR0cyA9IGR0cztcbiAgICAgICAgdGhpcy5wdHMgPSBwdHM7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbER0cyA9IG9yaWdpbmFsRHRzO1xuICAgICAgICB0aGlzLmlzU3luY1BvaW50ID0gaXNTeW5jO1xuICAgICAgICB0aGlzLmZpbGVwb3NpdGlvbiA9IG51bGw7XG4gICAgfVxuXG59XG5cbi8vIE1lZGlhIFNlZ21lbnQgY29uY2VwdCBpcyBkZWZpbmVkIGluIE1lZGlhIFNvdXJjZSBFeHRlbnNpb25zIHNwZWMuXG4vLyBQYXJ0aWN1bGFybHkgaW4gSVNPIEJNRkYgZm9ybWF0LCBhbiBNZWRpYSBTZWdtZW50IGNvbnRhaW5zIGEgbW9vZiBib3ggZm9sbG93ZWQgYnkgYSBtZGF0IGJveC5cbmV4cG9ydCBjbGFzcyBNZWRpYVNlZ21lbnRJbmZvIHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJlZ2luRHRzID0gMDtcbiAgICAgICAgdGhpcy5lbmREdHMgPSAwO1xuICAgICAgICB0aGlzLmJlZ2luUHRzID0gMDtcbiAgICAgICAgdGhpcy5lbmRQdHMgPSAwO1xuICAgICAgICB0aGlzLm9yaWdpbmFsQmVnaW5EdHMgPSAwO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRW5kRHRzID0gMDtcbiAgICAgICAgdGhpcy5zeW5jUG9pbnRzID0gW107ICAgICAvLyBTYW1wbGVJbmZvW25dLCBmb3IgdmlkZW8gSURSIGZyYW1lcyBvbmx5XG4gICAgICAgIHRoaXMuZmlyc3RTYW1wbGUgPSBudWxsOyAgLy8gU2FtcGxlSW5mb1xuICAgICAgICB0aGlzLmxhc3RTYW1wbGUgPSBudWxsOyAgIC8vIFNhbXBsZUluZm9cbiAgICB9XG5cbiAgICBhcHBlbmRTeW5jUG9pbnQoc2FtcGxlSW5mbykgeyAgLy8gYWxzbyBjYWxsZWQgUmFuZG9tIEFjY2VzcyBQb2ludFxuICAgICAgICBzYW1wbGVJbmZvLmlzU3luY1BvaW50ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zeW5jUG9pbnRzLnB1c2goc2FtcGxlSW5mbyk7XG4gICAgfVxuXG59XG5cbi8vIE9yZGVyZWQgbGlzdCBmb3IgcmVjb3JkaW5nIHZpZGVvIElEUiBmcmFtZXMsIHNvcnRlZCBieSBvcmlnaW5hbER0c1xuZXhwb3J0IGNsYXNzIElEUlNhbXBsZUxpc3Qge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2xpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgIH1cblxuICAgIGFwcGVuZEFycmF5KHN5bmNQb2ludHMpIHtcbiAgICAgICAgbGV0IGxpc3QgPSB0aGlzLl9saXN0O1xuXG4gICAgICAgIGlmIChzeW5jUG9pbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCAmJiBzeW5jUG9pbnRzWzBdLm9yaWdpbmFsRHRzIDwgbGlzdFtsaXN0Lmxlbmd0aCAtIDFdLm9yaWdpbmFsRHRzKSB7XG4gICAgICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICAgIH1cblxuICAgICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShsaXN0LCBzeW5jUG9pbnRzKTtcbiAgICB9XG5cbiAgICBnZXRMYXN0U3luY1BvaW50QmVmb3JlRHRzKGR0cykge1xuICAgICAgICBpZiAodGhpcy5fbGlzdC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX2xpc3Q7XG4gICAgICAgIGxldCBpZHggPSAwO1xuICAgICAgICBsZXQgbGFzdCA9IGxpc3QubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBsYm91bmQgPSAwO1xuICAgICAgICBsZXQgdWJvdW5kID0gbGFzdDtcblxuICAgICAgICBpZiAoZHRzIDwgbGlzdFswXS5kdHMpIHtcbiAgICAgICAgICAgIGlkeCA9IDA7XG4gICAgICAgICAgICBsYm91bmQgPSB1Ym91bmQgKyAxO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKGxib3VuZCA8PSB1Ym91bmQpIHtcbiAgICAgICAgICAgIG1pZCA9IGxib3VuZCArIE1hdGguZmxvb3IoKHVib3VuZCAtIGxib3VuZCkgLyAyKTtcbiAgICAgICAgICAgIGlmIChtaWQgPT09IGxhc3QgfHwgKGR0cyA+PSBsaXN0W21pZF0uZHRzICYmIGR0cyA8IGxpc3RbbWlkICsgMV0uZHRzKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdLmR0cyA8IGR0cykge1xuICAgICAgICAgICAgICAgIGxib3VuZCA9IG1pZCArIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHVib3VuZCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3RbaWR4XTtcbiAgICB9XG5cbn1cblxuLy8gRGF0YSBzdHJ1Y3R1cmUgZm9yIHJlY29yZGluZyBpbmZvcm1hdGlvbiBvZiBtZWRpYSBzZWdtZW50cyBpbiBzaW5nbGUgdHJhY2suXG5leHBvcnQgY2xhc3MgTWVkaWFTZWdtZW50SW5mb0xpc3Qge1xuXG4gICAgY29uc3RydWN0b3IodHlwZSkge1xuICAgICAgICB0aGlzLl90eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5fbGlzdCA9IFtdO1xuICAgICAgICB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb24gPSAtMTsgIC8vIGNhY2hlZCBsYXN0IGluc2VydCBsb2NhdGlvblxuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGlzdC5sZW5ndGg7XG4gICAgfVxuXG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpc3QubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9saXN0ID0gW107XG4gICAgICAgIHRoaXMuX2xhc3RBcHBlbmRMb2NhdGlvbiA9IC0xO1xuICAgIH1cblxuICAgIF9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5fbGlzdDtcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gLTI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGxhc3QgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIGxldCBtaWQgPSAwO1xuICAgICAgICBsZXQgbGJvdW5kID0gMDtcbiAgICAgICAgbGV0IHVib3VuZCA9IGxhc3Q7XG5cbiAgICAgICAgbGV0IGlkeCA9IDA7XG5cbiAgICAgICAgaWYgKG9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0WzBdLm9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgICAgIGlkeCA9IC0xO1xuICAgICAgICAgICAgcmV0dXJuIGlkeDtcbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlIChsYm91bmQgPD0gdWJvdW5kKSB7XG4gICAgICAgICAgICBtaWQgPSBsYm91bmQgKyBNYXRoLmZsb29yKCh1Ym91bmQgLSBsYm91bmQpIC8gMik7XG4gICAgICAgICAgICBpZiAobWlkID09PSBsYXN0IHx8IChvcmlnaW5hbEJlZ2luRHRzID4gbGlzdFttaWRdLmxhc3RTYW1wbGUub3JpZ2luYWxEdHMgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKG9yaWdpbmFsQmVnaW5EdHMgPCBsaXN0W21pZCArIDFdLm9yaWdpbmFsQmVnaW5EdHMpKSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IG1pZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobGlzdFttaWRdLm9yaWdpbmFsQmVnaW5EdHMgPCBvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgICAgICAgICAgbGJvdW5kID0gbWlkICsgMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdWJvdW5kID0gbWlkIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWR4O1xuICAgIH1cblxuICAgIF9zZWFyY2hOZWFyZXN0U2VnbWVudEFmdGVyKG9yaWdpbmFsQmVnaW5EdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG9yaWdpbmFsQmVnaW5EdHMpICsgMTtcbiAgICB9XG5cbiAgICBhcHBlbmQobWVkaWFTZWdtZW50SW5mbykge1xuICAgICAgICBsZXQgbGlzdCA9IHRoaXMuX2xpc3Q7XG4gICAgICAgIGxldCBtc2kgPSBtZWRpYVNlZ21lbnRJbmZvO1xuICAgICAgICBsZXQgbGFzdEFwcGVuZElkeCA9IHRoaXMuX2xhc3RBcHBlbmRMb2NhdGlvbjtcbiAgICAgICAgbGV0IGluc2VydElkeCA9IDA7XG5cbiAgICAgICAgaWYgKGxhc3RBcHBlbmRJZHggIT09IC0xICYmIGxhc3RBcHBlbmRJZHggPCBsaXN0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNpLm9yaWdpbmFsQmVnaW5EdHMgPj0gbGlzdFtsYXN0QXBwZW5kSWR4XS5sYXN0U2FtcGxlLm9yaWdpbmFsRHRzICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKGxhc3RBcHBlbmRJZHggPT09IGxpc3QubGVuZ3RoIC0gMSkgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChsYXN0QXBwZW5kSWR4IDwgbGlzdC5sZW5ndGggLSAxICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtc2kub3JpZ2luYWxCZWdpbkR0cyA8IGxpc3RbbGFzdEFwcGVuZElkeCArIDFdLm9yaWdpbmFsQmVnaW5EdHMpKSkge1xuICAgICAgICAgICAgaW5zZXJ0SWR4ID0gbGFzdEFwcGVuZElkeCArIDE7ICAvLyB1c2UgY2FjaGVkIGxvY2F0aW9uIGlkeFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGluc2VydElkeCA9IHRoaXMuX3NlYXJjaE5lYXJlc3RTZWdtZW50QmVmb3JlKG1zaS5vcmlnaW5hbEJlZ2luRHRzKSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9sYXN0QXBwZW5kTG9jYXRpb24gPSBpbnNlcnRJZHg7XG4gICAgICAgIHRoaXMuX2xpc3Quc3BsaWNlKGluc2VydElkeCwgMCwgbXNpKTtcbiAgICB9XG5cbiAgICBnZXRMYXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBpZHggPSB0aGlzLl9zZWFyY2hOZWFyZXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKTtcbiAgICAgICAgaWYgKGlkeCA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGlzdFtpZHhdO1xuICAgICAgICB9IGVsc2UgeyAgLy8gLTFcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TGFzdFNhbXBsZUJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBzZWdtZW50ID0gdGhpcy5nZXRMYXN0U2VnbWVudEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKTtcbiAgICAgICAgaWYgKHNlZ21lbnQgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlZ21lbnQubGFzdFNhbXBsZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TGFzdFN5bmNQb2ludEJlZm9yZShvcmlnaW5hbEJlZ2luRHRzKSB7XG4gICAgICAgIGxldCBzZWdtZW50SWR4ID0gdGhpcy5fc2VhcmNoTmVhcmVzdFNlZ21lbnRCZWZvcmUob3JpZ2luYWxCZWdpbkR0cyk7XG4gICAgICAgIGxldCBzeW5jUG9pbnRzID0gdGhpcy5fbGlzdFtzZWdtZW50SWR4XS5zeW5jUG9pbnRzO1xuICAgICAgICB3aGlsZSAoc3luY1BvaW50cy5sZW5ndGggPT09IDAgJiYgc2VnbWVudElkeCA+IDApIHtcbiAgICAgICAgICAgIHNlZ21lbnRJZHgtLTtcbiAgICAgICAgICAgIHN5bmNQb2ludHMgPSB0aGlzLl9saXN0W3NlZ21lbnRJZHhdLnN5bmNQb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN5bmNQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5bmNQb2ludHNbc3luY1BvaW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG59IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBNUDQgZnJvbSAnLi9tcDQtZ2VuZXJhdG9yLmpzJztcbmltcG9ydCBBQUMgZnJvbSAnLi9hYWMtc2lsZW50LmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IHtTYW1wbGVJbmZvLCBNZWRpYVNlZ21lbnRJbmZvLCBNZWRpYVNlZ21lbnRJbmZvTGlzdH0gZnJvbSAnLi4vY29yZS9tZWRpYS1zZWdtZW50LWluZm8uanMnO1xuaW1wb3J0IHtJbGxlZ2FsU3RhdGVFeGNlcHRpb259IGZyb20gJy4uL3V0aWxzL2V4Y2VwdGlvbi5qcyc7XG5cblxuLy8gRnJhZ21lbnRlZCBtcDQgcmVtdXhlclxuY2xhc3MgTVA0UmVtdXhlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnTVA0UmVtdXhlcic7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9pc0xpdmUgPSAoY29uZmlnLmlzTGl2ZSA9PT0gdHJ1ZSkgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgdGhpcy5fZHRzQmFzZSA9IC0xO1xuICAgICAgICB0aGlzLl9kdHNCYXNlSW5pdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2F1ZGlvRHRzQmFzZSA9IEluZmluaXR5O1xuICAgICAgICB0aGlzLl92aWRlb0R0c0Jhc2UgPSBJbmZpbml0eTtcbiAgICAgICAgdGhpcy5fYXVkaW9OZXh0RHRzID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl92aWRlb05leHREdHMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9hdWRpb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGEgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0ID0gbmV3IE1lZGlhU2VnbWVudEluZm9MaXN0KCdhdWRpbycpO1xuICAgICAgICB0aGlzLl92aWRlb1NlZ21lbnRJbmZvTGlzdCA9IG5ldyBNZWRpYVNlZ21lbnRJbmZvTGlzdCgndmlkZW8nKTtcblxuICAgICAgICB0aGlzLl9vbkluaXRTZWdtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25NZWRpYVNlZ21lbnQgPSBudWxsO1xuXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIGNocm9tZSA8IDUwOiBBbHdheXMgZm9yY2UgZmlyc3Qgc2FtcGxlIGFzIGEgUmFuZG9tIEFjY2VzcyBQb2ludCBpbiBtZWRpYSBzZWdtZW50XG4gICAgICAgIC8vIHNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjk0MTJcbiAgICAgICAgdGhpcy5fZm9yY2VGaXJzdElEUiA9IChCcm93c2VyLmNocm9tZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKEJyb3dzZXIudmVyc2lvbi5tYWpvciA8IDUwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoQnJvd3Nlci52ZXJzaW9uLm1ham9yID09PSA1MCAmJiBCcm93c2VyLnZlcnNpb24uYnVpbGQgPCAyNjYxKSkpID8gdHJ1ZSA6IGZhbHNlO1xuXG4gICAgICAgIC8vIFdvcmthcm91bmQgZm9yIElFMTEvRWRnZTogRmlsbCBzaWxlbnQgYWFjIGZyYW1lIGFmdGVyIGtleWZyYW1lLXNlZWtpbmdcbiAgICAgICAgLy8gTWFrZSBhdWRpbyBiZWdpbkR0cyBlcXVhbHMgd2l0aCB2aWRlbyBiZWdpbkR0cywgaW4gb3JkZXIgdG8gZml4IHNlZWsgZnJlZXplXG4gICAgICAgIHRoaXMuX2ZpbGxTaWxlbnRBZnRlclNlZWsgPSAoQnJvd3Nlci5tc2VkZ2UgfHwgQnJvd3Nlci5tc2llKTtcblxuICAgICAgICAvLyBXaGlsZSBvbmx5IEZpcmVGb3ggc3VwcG9ydHMgJ2F1ZGlvL21wNCwgY29kZWNzPVwibXAzXCInLCB1c2UgJ2F1ZGlvL21wZWcnIGZvciBjaHJvbWUsIHNhZmFyaSwgLi4uXG4gICAgICAgIHRoaXMuX21wM1VzZU1wZWdBdWRpbyA9ICFCcm93c2VyLmZpcmVmb3g7XG5cbiAgICAgICAgdGhpcy5fZmlsbEF1ZGlvVGltZXN0YW1wR2FwID0gdGhpcy5fY29uZmlnLmZpeEF1ZGlvVGltZXN0YW1wR2FwO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX2R0c0Jhc2UgPSAtMTtcbiAgICAgICAgdGhpcy5fZHRzQmFzZUluaXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hdWRpb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb01ldGEgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5jbGVhcigpO1xuICAgICAgICB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fb25Jbml0U2VnbWVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBiaW5kRGF0YVNvdXJjZShwcm9kdWNlcikge1xuICAgICAgICBwcm9kdWNlci5vbkRhdGFBdmFpbGFibGUgPSB0aGlzLnJlbXV4LmJpbmQodGhpcyk7XG4gICAgICAgIHByb2R1Y2VyLm9uVHJhY2tNZXRhZGF0YSA9IHRoaXMuX29uVHJhY2tNZXRhZGF0YVJlY2VpdmVkLmJpbmQodGhpcyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8qIHByb3RvdHlwZTogZnVuY3Rpb24gb25Jbml0U2VnbWVudCh0eXBlOiBzdHJpbmcsIGluaXRTZWdtZW50OiBBcnJheUJ1ZmZlcik6IHZvaWRcbiAgICAgICBJbml0U2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBjb2RlYzogc3RyaW5nLFxuICAgICAgICAgICBjb250YWluZXI6IHN0cmluZ1xuICAgICAgIH1cbiAgICAqL1xuICAgIGdldCBvbkluaXRTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25Jbml0U2VnbWVudDtcbiAgICB9XG5cbiAgICBzZXQgb25Jbml0U2VnbWVudChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbkluaXRTZWdtZW50ID0gY2FsbGJhY2s7XG4gICAgfVxuXG4gICAgLyogcHJvdG90eXBlOiBmdW5jdGlvbiBvbk1lZGlhU2VnbWVudCh0eXBlOiBzdHJpbmcsIG1lZGlhU2VnbWVudDogTWVkaWFTZWdtZW50KTogdm9pZFxuICAgICAgIE1lZGlhU2VnbWVudDoge1xuICAgICAgICAgICB0eXBlOiBzdHJpbmcsXG4gICAgICAgICAgIGRhdGE6IEFycmF5QnVmZmVyLFxuICAgICAgICAgICBzYW1wbGVDb3VudDogaW50MzJcbiAgICAgICAgICAgaW5mbzogTWVkaWFTZWdtZW50SW5mb1xuICAgICAgIH1cbiAgICAqL1xuICAgIGdldCBvbk1lZGlhU2VnbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29uTWVkaWFTZWdtZW50O1xuICAgIH1cblxuICAgIHNldCBvbk1lZGlhU2VnbWVudChjYWxsYmFjaykge1xuICAgICAgICB0aGlzLl9vbk1lZGlhU2VnbWVudCA9IGNhbGxiYWNrO1xuICAgIH1cblxuICAgIGluc2VydERpc2NvbnRpbnVpdHkoKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvTmV4dER0cyA9IHRoaXMuX3ZpZGVvTmV4dER0cyA9IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZWVrKG9yaWdpbmFsRHRzKSB7XG4gICAgICAgIHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsO1xuICAgICAgICB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fYXVkaW9TZWdtZW50SW5mb0xpc3QuY2xlYXIoKTtcbiAgICB9XG5cbiAgICByZW11eChhdWRpb1RyYWNrLCB2aWRlb1RyYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5fb25NZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ01QNFJlbXV4ZXI6IG9uTWVkaWFTZWdtZW50IGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWNlZCEnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2R0c0Jhc2VJbml0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZUR0c0Jhc2UoYXVkaW9UcmFjaywgdmlkZW9UcmFjayk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcmVtdXhWaWRlbyh2aWRlb1RyYWNrKTtcbiAgICAgICAgdGhpcy5fcmVtdXhBdWRpbyhhdWRpb1RyYWNrKTtcbiAgICB9XG5cbiAgICBfb25UcmFja01ldGFkYXRhUmVjZWl2ZWQodHlwZSwgbWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IG1ldGFib3ggPSBudWxsO1xuXG4gICAgICAgIGxldCBjb250YWluZXIgPSAnbXA0JztcbiAgICAgICAgbGV0IGNvZGVjID0gbWV0YWRhdGEuY29kZWM7XG5cbiAgICAgICAgaWYgKHR5cGUgPT09ICdhdWRpbycpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvTWV0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgaWYgKG1ldGFkYXRhLmNvZGVjID09PSAnbXAzJyAmJiB0aGlzLl9tcDNVc2VNcGVnQXVkaW8pIHtcbiAgICAgICAgICAgICAgICAvLyAnYXVkaW8vbXBlZycgZm9yIE1QMyBhdWRpbyB0cmFja1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9ICdtcGVnJztcbiAgICAgICAgICAgICAgICBjb2RlYyA9ICcnO1xuICAgICAgICAgICAgICAgIG1ldGFib3ggPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyAnYXVkaW8vbXA0LCBjb2RlY3M9XCJjb2RlY1wiJ1xuICAgICAgICAgICAgICAgIG1ldGFib3ggPSBNUDQuZ2VuZXJhdGVJbml0U2VnbWVudChtZXRhZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9NZXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICBtZXRhYm94ID0gTVA0LmdlbmVyYXRlSW5pdFNlZ21lbnQobWV0YWRhdGEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlzcGF0Y2ggbWV0YWJveCAoSW5pdGlhbGl6YXRpb24gU2VnbWVudClcbiAgICAgICAgaWYgKCF0aGlzLl9vbkluaXRTZWdtZW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdNUDRSZW11eGVyOiBvbkluaXRTZWdtZW50IGNhbGxiYWNrIG11c3QgYmUgc3BlY2lmaWVkIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX29uSW5pdFNlZ21lbnQodHlwZSwge1xuICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgIGRhdGE6IG1ldGFib3guYnVmZmVyLFxuICAgICAgICAgICAgY29kZWM6IGNvZGVjLFxuICAgICAgICAgICAgY29udGFpbmVyOiBgJHt0eXBlfS8ke2NvbnRhaW5lcn1gLFxuICAgICAgICAgICAgbWVkaWFEdXJhdGlvbjogbWV0YWRhdGEuZHVyYXRpb24gIC8vIGluIHRpbWVzY2FsZSAxMDAwIChtaWxsaXNlY29uZHMpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9jYWxjdWxhdGVEdHNCYXNlKGF1ZGlvVHJhY2ssIHZpZGVvVHJhY2spIHtcbiAgICAgICAgaWYgKHRoaXMuX2R0c0Jhc2VJbml0ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhdWRpb1RyYWNrLnNhbXBsZXMgJiYgYXVkaW9UcmFjay5zYW1wbGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5fYXVkaW9EdHNCYXNlID0gYXVkaW9UcmFjay5zYW1wbGVzWzBdLmR0cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlkZW9UcmFjay5zYW1wbGVzICYmIHZpZGVvVHJhY2suc2FtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvRHRzQmFzZSA9IHZpZGVvVHJhY2suc2FtcGxlc1swXS5kdHM7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9kdHNCYXNlID0gTWF0aC5taW4odGhpcy5fYXVkaW9EdHNCYXNlLCB0aGlzLl92aWRlb0R0c0Jhc2UpO1xuICAgICAgICB0aGlzLl9kdHNCYXNlSW5pdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBmbHVzaFN0YXNoZWRTYW1wbGVzKCkge1xuICAgICAgICBsZXQgdmlkZW9TYW1wbGUgPSB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlO1xuICAgICAgICBsZXQgYXVkaW9TYW1wbGUgPSB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlO1xuXG4gICAgICAgIGxldCB2aWRlb1RyYWNrID0ge1xuICAgICAgICAgICAgdHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICAgIGlkOiAxLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICAgICAgICBzYW1wbGVzOiBbXSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh2aWRlb1NhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2aWRlb1RyYWNrLnNhbXBsZXMucHVzaCh2aWRlb1NhbXBsZSk7XG4gICAgICAgICAgICB2aWRlb1RyYWNrLmxlbmd0aCA9IHZpZGVvU2FtcGxlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhdWRpb1RyYWNrID0ge1xuICAgICAgICAgICAgdHlwZTogJ2F1ZGlvJyxcbiAgICAgICAgICAgIGlkOiAyLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICAgICAgICBzYW1wbGVzOiBbXSxcbiAgICAgICAgICAgIGxlbmd0aDogMFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChhdWRpb1NhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBhdWRpb1RyYWNrLnNhbXBsZXMucHVzaChhdWRpb1NhbXBsZSk7XG4gICAgICAgICAgICBhdWRpb1RyYWNrLmxlbmd0aCA9IGF1ZGlvU2FtcGxlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3ZpZGVvU3Rhc2hlZExhc3RTYW1wbGUgPSBudWxsO1xuICAgICAgICB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9yZW11eFZpZGVvKHZpZGVvVHJhY2ssIHRydWUpO1xuICAgICAgICB0aGlzLl9yZW11eEF1ZGlvKGF1ZGlvVHJhY2ssIHRydWUpO1xuICAgIH1cblxuICAgIF9yZW11eEF1ZGlvKGF1ZGlvVHJhY2ssIGZvcmNlKSB7XG4gICAgICAgIGlmICh0aGlzLl9hdWRpb01ldGEgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRyYWNrID0gYXVkaW9UcmFjaztcbiAgICAgICAgbGV0IHNhbXBsZXMgPSB0cmFjay5zYW1wbGVzO1xuICAgICAgICBsZXQgZHRzQ29ycmVjdGlvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IGZpcnN0RHRzID0gLTEsIGxhc3REdHMgPSAtMSwgbGFzdFB0cyA9IC0xO1xuICAgICAgICBsZXQgcmVmU2FtcGxlRHVyYXRpb24gPSB0aGlzLl9hdWRpb01ldGEucmVmU2FtcGxlRHVyYXRpb247XG5cbiAgICAgICAgbGV0IG1wZWdSYXdUcmFjayA9IHRoaXMuX2F1ZGlvTWV0YS5jb2RlYyA9PT0gJ21wMycgJiYgdGhpcy5fbXAzVXNlTXBlZ0F1ZGlvO1xuICAgICAgICBsZXQgZmlyc3RTZWdtZW50QWZ0ZXJTZWVrID0gdGhpcy5fZHRzQmFzZUluaXRlZCAmJiB0aGlzLl9hdWRpb05leHREdHMgPT09IHVuZGVmaW5lZDtcblxuICAgICAgICBsZXQgaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXNhbXBsZXMgfHwgc2FtcGxlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2FtcGxlcy5sZW5ndGggPT09IDEgJiYgIWZvcmNlKSB7XG4gICAgICAgICAgICAvLyBJZiBbc2FtcGxlIGNvdW50IGluIGN1cnJlbnQgYmF0Y2hdID09PSAxICYmIChmb3JjZSAhPSB0cnVlKVxuICAgICAgICAgICAgLy8gSWdub3JlIGFuZCBrZWVwIGluIGRlbXV4ZXIncyBxdWV1ZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9ICAvLyBlbHNlIGlmIChmb3JjZSA9PT0gdHJ1ZSkgZG8gcmVtdXhcblxuICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgbGV0IG1kYXRib3ggPSBudWxsO1xuICAgICAgICBsZXQgbWRhdEJ5dGVzID0gMDtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgaW5pdGlhbCBtZGF0IHNpemVcbiAgICAgICAgaWYgKG1wZWdSYXdUcmFjaykge1xuICAgICAgICAgICAgLy8gZm9yIHJhdyBtcGVnIGJ1ZmZlclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIG1kYXRCeXRlcyA9IHRyYWNrLmxlbmd0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGZvciBmbXA0IG1kYXQgYm94XG4gICAgICAgICAgICBvZmZzZXQgPSA4OyAgLy8gc2l6ZSArIHR5cGVcbiAgICAgICAgICAgIG1kYXRCeXRlcyA9IDggKyB0cmFjay5sZW5ndGg7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGxldCBsYXN0U2FtcGxlID0gbnVsbDtcblxuICAgICAgICAvLyBQb3AgdGhlIGxhc3RTYW1wbGUgYW5kIHdhaXRpbmcgZm9yIHN0YXNoXG4gICAgICAgIGlmIChzYW1wbGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGxhc3RTYW1wbGUgPSBzYW1wbGVzLnBvcCgpO1xuICAgICAgICAgICAgbWRhdEJ5dGVzIC09IGxhc3RTYW1wbGUubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSW5zZXJ0IFtzdGFzaGVkIGxhc3RTYW1wbGUgaW4gdGhlIHByZXZpb3VzIGJhdGNoXSB0byB0aGUgZnJvbnRcbiAgICAgICAgaWYgKHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgbGV0IHNhbXBsZSA9IHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGU7XG4gICAgICAgICAgICB0aGlzLl9hdWRpb1N0YXNoZWRMYXN0U2FtcGxlID0gbnVsbDtcbiAgICAgICAgICAgIHNhbXBsZXMudW5zaGlmdChzYW1wbGUpO1xuICAgICAgICAgICAgbWRhdEJ5dGVzICs9IHNhbXBsZS5sZW5ndGg7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBTdGFzaCB0aGUgbGFzdFNhbXBsZSBvZiBjdXJyZW50IGJhdGNoLCB3YWl0aW5nIGZvciBuZXh0IGJhdGNoXG4gICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvU3Rhc2hlZExhc3RTYW1wbGUgPSBsYXN0U2FtcGxlO1xuICAgICAgICB9XG5cblxuICAgICAgICBsZXQgZmlyc3RTYW1wbGVPcmlnaW5hbER0cyA9IHNhbXBsZXNbMF0uZHRzIC0gdGhpcy5fZHRzQmFzZTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgZHRzQ29ycmVjdGlvblxuICAgICAgICBpZiAodGhpcy5fYXVkaW9OZXh0RHRzKSB7XG4gICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIHRoaXMuX2F1ZGlvTmV4dER0cztcbiAgICAgICAgfSBlbHNlIHsgIC8vIHRoaXMuX2F1ZGlvTmV4dER0cyA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZmlsbFNpbGVudEFmdGVyU2VlayAmJiAhdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYyAhPT0gJ21wMycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFByZWZpeFNpbGVudEZyYW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3RTYW1wbGUgPSB0aGlzLl9hdWRpb1NlZ21lbnRJbmZvTGlzdC5nZXRMYXN0U2FtcGxlQmVmb3JlKGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpc3RhbmNlID0gKGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSAobGFzdFNhbXBsZS5vcmlnaW5hbER0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDw9IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3RhbmNlID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgZXhwZWN0ZWREdHMgPSBsYXN0U2FtcGxlLmR0cyArIGxhc3RTYW1wbGUuZHVyYXRpb24gKyBkaXN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSBleHBlY3RlZER0cztcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBsYXN0U2FtcGxlID09IG51bGwsIGNhbm5vdCBmb3VuZFxuICAgICAgICAgICAgICAgICAgICBkdHNDb3JyZWN0aW9uID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUpIHtcbiAgICAgICAgICAgIC8vIGFsaWduIGF1ZGlvIHNlZ21lbnQgYmVnaW5EdHMgdG8gbWF0Y2ggd2l0aCBjdXJyZW50IHZpZGVvIHNlZ21lbnQncyBiZWdpbkR0c1xuICAgICAgICAgICAgbGV0IGZpcnN0U2FtcGxlRHRzID0gZmlyc3RTYW1wbGVPcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICBsZXQgdmlkZW9TZWdtZW50ID0gdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuZ2V0TGFzdFNlZ21lbnRCZWZvcmUoZmlyc3RTYW1wbGVPcmlnaW5hbER0cyk7XG4gICAgICAgICAgICBpZiAodmlkZW9TZWdtZW50ICE9IG51bGwgJiYgdmlkZW9TZWdtZW50LmJlZ2luRHRzIDwgZmlyc3RTYW1wbGVEdHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2lsZW50VW5pdCA9IEFBQy5nZXRTaWxlbnRGcmFtZSh0aGlzLl9hdWRpb01ldGEub3JpZ2luYWxDb2RlYywgdGhpcy5fYXVkaW9NZXRhLmNoYW5uZWxDb3VudCk7XG4gICAgICAgICAgICAgICAgaWYgKHNpbGVudFVuaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGR0cyA9IHZpZGVvU2VnbWVudC5iZWdpbkR0cztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNpbGVudEZyYW1lRHVyYXRpb24gPSBmaXJzdFNhbXBsZUR0cyAtIHZpZGVvU2VnbWVudC5iZWdpbkR0cztcbiAgICAgICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsIGBJbnNlcnRQcmVmaXhTaWxlbnRBdWRpbzogZHRzOiAke2R0c30sIGR1cmF0aW9uOiAke3NpbGVudEZyYW1lRHVyYXRpb259YCk7XG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZXMudW5zaGlmdCh7dW5pdDogc2lsZW50VW5pdCwgZHRzOiBkdHMsIHB0czogZHRzfSk7XG4gICAgICAgICAgICAgICAgICAgIG1kYXRCeXRlcyArPSBzaWxlbnRVbml0LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICAgICAgfSAgLy8gc2lsZW50VW5pdCA9PSBudWxsOiBDYW5ub3QgZ2VuZXJhdGUsIHNraXBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0UHJlZml4U2lsZW50RnJhbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtcDRTYW1wbGVzID0gW107XG5cbiAgICAgICAgLy8gQ29ycmVjdCBkdHMgZm9yIGVhY2ggc2FtcGxlLCBhbmQgY2FsY3VsYXRlIHNhbXBsZSBkdXJhdGlvbi4gVGhlbiBvdXRwdXQgdG8gbXA0U2FtcGxlc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBzYW1wbGUgPSBzYW1wbGVzW2ldO1xuICAgICAgICAgICAgbGV0IHVuaXQgPSBzYW1wbGUudW5pdDtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbER0cyA9IHNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlO1xuICAgICAgICAgICAgbGV0IGR0cyA9IG9yaWdpbmFsRHRzIC0gZHRzQ29ycmVjdGlvbjtcblxuICAgICAgICAgICAgaWYgKGZpcnN0RHRzID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGZpcnN0RHRzID0gZHRzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgc2FtcGxlRHVyYXRpb24gPSAwO1xuXG4gICAgICAgICAgICBpZiAoaSAhPT0gc2FtcGxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHREdHMgPSBzYW1wbGVzW2kgKyAxXS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvbjtcbiAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IG5leHREdHMgLSBkdHM7XG4gICAgICAgICAgICB9IGVsc2UgeyAgLy8gdGhlIGxhc3Qgc2FtcGxlXG4gICAgICAgICAgICAgICAgaWYgKGxhc3RTYW1wbGUgIT0gbnVsbCkgeyAgLy8gdXNlIHN0YXNoZWQgc2FtcGxlJ3MgZHRzIHRvIGNhbGN1bGF0ZSBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgbGV0IG5leHREdHMgPSBsYXN0U2FtcGxlLmR0cyAtIHRoaXMuX2R0c0Jhc2UgLSBkdHNDb3JyZWN0aW9uO1xuICAgICAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IG5leHREdHMgLSBkdHM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtcDRTYW1wbGVzLmxlbmd0aCA+PSAxKSB7ICAvLyB1c2Ugc2Vjb25kIGxhc3Qgc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gbXA0U2FtcGxlc1ttcDRTYW1wbGVzLmxlbmd0aCAtIDFdLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7ICAvLyB0aGUgb25seSBvbmUgc2FtcGxlLCB1c2UgcmVmZXJlbmNlIHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IE1hdGguZmxvb3IocmVmU2FtcGxlRHVyYXRpb24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IG5lZWRGaWxsU2lsZW50RnJhbWVzID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgc2lsZW50RnJhbWVzID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gU2lsZW50IGZyYW1lIGdlbmVyYXRpb24sIGlmIGxhcmdlIHRpbWVzdGFtcCBnYXAgZGV0ZWN0ZWQgJiYgY29uZmlnLmZpeEF1ZGlvVGltZXN0YW1wR2FwXG4gICAgICAgICAgICBpZiAoc2FtcGxlRHVyYXRpb24gPiByZWZTYW1wbGVEdXJhdGlvbiAqIDEuNSAmJiB0aGlzLl9hdWRpb01ldGEuY29kZWMgIT09ICdtcDMnICYmIHRoaXMuX2ZpbGxBdWRpb1RpbWVzdGFtcEdhcCAmJiAhQnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGluc2VydCBzaWxlbnQgZnJhbWVzIHRvIGZpbGwgdGltZXN0YW1wIGdhcFxuICAgICAgICAgICAgICAgIG5lZWRGaWxsU2lsZW50RnJhbWVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZGVsdGEgPSBNYXRoLmFicyhzYW1wbGVEdXJhdGlvbiAtIHJlZlNhbXBsZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICBsZXQgZnJhbWVDb3VudCA9IE1hdGguY2VpbChkZWx0YSAvIHJlZlNhbXBsZUR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudER0cyA9IGR0cyArIHJlZlNhbXBsZUR1cmF0aW9uOyAgLy8gTm90aWNlOiBpbiBmbG9hdFxuXG4gICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdMYXJnZSBhdWRpbyB0aW1lc3RhbXAgZ2FwIGRldGVjdGVkLCBtYXkgY2F1c2UgQVYgc3luYyB0byBkcmlmdC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTaWxlbnQgZnJhbWVzIHdpbGwgYmUgZ2VuZXJhdGVkIHRvIGF2b2lkIHVuc3luYy5cXG4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYGR0czogJHtkdHMgKyBzYW1wbGVEdXJhdGlvbn0gbXMsIGV4cGVjdGVkOiAke2R0cyArIE1hdGgucm91bmQocmVmU2FtcGxlRHVyYXRpb24pfSBtcywgYCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBkZWx0YTogJHtNYXRoLnJvdW5kKGRlbHRhKX0gbXMsIGdlbmVyYXRlOiAke2ZyYW1lQ291bnR9IGZyYW1lc2ApO1xuXG4gICAgICAgICAgICAgICAgbGV0IHNpbGVudFVuaXQgPSBBQUMuZ2V0U2lsZW50RnJhbWUodGhpcy5fYXVkaW9NZXRhLm9yaWdpbmFsQ29kZWMsIHRoaXMuX2F1ZGlvTWV0YS5jaGFubmVsQ291bnQpO1xuICAgICAgICAgICAgICAgIGlmIChzaWxlbnRVbml0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLncodGhpcy5UQUcsICdVbmFibGUgdG8gZ2VuZXJhdGUgc2lsZW50IGZyYW1lIGZvciAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGAke3RoaXMuX2F1ZGlvTWV0YS5vcmlnaW5hbENvZGVjfSB3aXRoICR7dGhpcy5fYXVkaW9NZXRhLmNoYW5uZWxDb3VudH0gY2hhbm5lbHMsIHJlcGVhdCBsYXN0IGZyYW1lYCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGVhdCBsYXN0IGZyYW1lXG4gICAgICAgICAgICAgICAgICAgIHNpbGVudFVuaXQgPSB1bml0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaWxlbnRGcmFtZXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZnJhbWVDb3VudDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBpbnREdHMgPSBNYXRoLnJvdW5kKGN1cnJlbnREdHMpOyAgLy8gcm91bmQgdG8gaW50ZWdlclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2lsZW50RnJhbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNldCBwcmV2aW91cyBmcmFtZSBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBwcmV2aW91c0ZyYW1lID0gc2lsZW50RnJhbWVzW3NpbGVudEZyYW1lcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzRnJhbWUuZHVyYXRpb24gPSBpbnREdHMgLSBwcmV2aW91c0ZyYW1lLmR0cztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgZnJhbWUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkdHM6IGludER0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHB0czogaW50RHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3RzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5pdDogc2lsZW50VW5pdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHNpbGVudFVuaXQuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAwLCAgLy8gd2FpdCBmb3IgbmV4dCBzYW1wbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRHRzOiBvcmlnaW5hbER0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNMZWFkaW5nOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBzaWxlbnRGcmFtZXMucHVzaChmcmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIG1kYXRCeXRlcyArPSBmcmFtZS5zaXplO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RHRzICs9IHJlZlNhbXBsZUR1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGxhc3QgZnJhbWU6IGFsaWduIGVuZCB0aW1lIHRvIG5leHQgZnJhbWUgZHRzXG4gICAgICAgICAgICAgICAgbGV0IGxhc3RGcmFtZSA9IHNpbGVudEZyYW1lc1tzaWxlbnRGcmFtZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICAgICAgbGFzdEZyYW1lLmR1cmF0aW9uID0gZHRzICsgc2FtcGxlRHVyYXRpb24gLSBsYXN0RnJhbWUuZHRzO1xuXG4gICAgICAgICAgICAgICAgLy8gc2lsZW50RnJhbWVzLmZvckVhY2goKGZyYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gICAgIExvZy53KHRoaXMuVEFHLCBgU2lsZW50QXVkaW86IGR0czogJHtmcmFtZS5kdHN9LCBkdXJhdGlvbjogJHtmcmFtZS5kdXJhdGlvbn1gKTtcbiAgICAgICAgICAgICAgICAvLyB9KTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCBjb3JyZWN0IHNhbXBsZSBkdXJhdGlvbiBmb3IgY3VycmVudCBmcmFtZVxuICAgICAgICAgICAgICAgIHNhbXBsZUR1cmF0aW9uID0gTWF0aC5yb3VuZChyZWZTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1wNFNhbXBsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZHRzOiBkdHMsXG4gICAgICAgICAgICAgICAgcHRzOiBkdHMsXG4gICAgICAgICAgICAgICAgY3RzOiAwLFxuICAgICAgICAgICAgICAgIHVuaXQ6IHNhbXBsZS51bml0LFxuICAgICAgICAgICAgICAgIHNpemU6IHNhbXBsZS51bml0LmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNhbXBsZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRHRzOiBvcmlnaW5hbER0cyxcbiAgICAgICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogMSxcbiAgICAgICAgICAgICAgICAgICAgaXNEZXBlbmRlZE9uOiAwLFxuICAgICAgICAgICAgICAgICAgICBoYXNSZWR1bmRhbmN5OiAwXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChuZWVkRmlsbFNpbGVudEZyYW1lcykge1xuICAgICAgICAgICAgICAgIC8vIFNpbGVudCBmcmFtZXMgc2hvdWxkIGJlIGluc2VydGVkIGFmdGVyIHdyb25nLWR1cmF0aW9uIGZyYW1lXG4gICAgICAgICAgICAgICAgbXA0U2FtcGxlcy5wdXNoLmFwcGx5KG1wNFNhbXBsZXMsIHNpbGVudEZyYW1lcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbGxvY2F0ZSBtZGF0Ym94XG4gICAgICAgIGlmIChtcGVnUmF3VHJhY2spIHtcbiAgICAgICAgICAgIC8vIGFsbG9jYXRlIGZvciByYXcgbXBlZyBidWZmZXJcbiAgICAgICAgICAgIG1kYXRib3ggPSBuZXcgVWludDhBcnJheShtZGF0Qnl0ZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gYWxsb2NhdGUgZm9yIGZtcDQgbWRhdCBib3hcbiAgICAgICAgICAgIG1kYXRib3ggPSBuZXcgVWludDhBcnJheShtZGF0Qnl0ZXMpO1xuICAgICAgICAgICAgLy8gc2l6ZSBmaWVsZFxuICAgICAgICAgICAgbWRhdGJveFswXSA9IChtZGF0Qnl0ZXMgPj4+IDI0KSAmIDB4RkY7XG4gICAgICAgICAgICBtZGF0Ym94WzFdID0gKG1kYXRCeXRlcyA+Pj4gMTYpICYgMHhGRjtcbiAgICAgICAgICAgIG1kYXRib3hbMl0gPSAobWRhdEJ5dGVzID4+PiAgOCkgJiAweEZGO1xuICAgICAgICAgICAgbWRhdGJveFszXSA9IChtZGF0Qnl0ZXMpICYgMHhGRjtcbiAgICAgICAgICAgIC8vIHR5cGUgZmllbGQgKGZvdXJDQylcbiAgICAgICAgICAgIG1kYXRib3guc2V0KE1QNC50eXBlcy5tZGF0LCA0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdyaXRlIHNhbXBsZXMgaW50byBtZGF0Ym94XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXA0U2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHVuaXQgPSBtcDRTYW1wbGVzW2ldLnVuaXQ7XG4gICAgICAgICAgICBtZGF0Ym94LnNldCh1bml0LCBvZmZzZXQpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IHVuaXQuYnl0ZUxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXRlc3QgPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3REdHMgPSBsYXRlc3QuZHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICB0aGlzLl9hdWRpb05leHREdHMgPSBsYXN0RHRzO1xuXG4gICAgICAgIC8vIGZpbGwgbWVkaWEgc2VnbWVudCBpbmZvICYgYWRkIHRvIGluZm8gbGlzdFxuICAgICAgICBsZXQgaW5mbyA9IG5ldyBNZWRpYVNlZ21lbnRJbmZvKCk7XG4gICAgICAgIGluZm8uYmVnaW5EdHMgPSBmaXJzdER0cztcbiAgICAgICAgaW5mby5lbmREdHMgPSBsYXN0RHRzO1xuICAgICAgICBpbmZvLmJlZ2luUHRzID0gZmlyc3REdHM7XG4gICAgICAgIGluZm8uZW5kUHRzID0gbGFzdER0cztcbiAgICAgICAgaW5mby5vcmlnaW5hbEJlZ2luRHRzID0gbXA0U2FtcGxlc1swXS5vcmlnaW5hbER0cztcbiAgICAgICAgaW5mby5vcmlnaW5hbEVuZER0cyA9IGxhdGVzdC5vcmlnaW5hbER0cyArIGxhdGVzdC5kdXJhdGlvbjtcbiAgICAgICAgaW5mby5maXJzdFNhbXBsZSA9IG5ldyBTYW1wbGVJbmZvKG1wNFNhbXBsZXNbMF0uZHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5wdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVzWzBdLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5vcmlnaW5hbER0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKTtcbiAgICAgICAgaW5mby5sYXN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obGF0ZXN0LmR0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0LnB0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3Qub3JpZ2luYWxEdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhbHNlKTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0xpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX2F1ZGlvU2VnbWVudEluZm9MaXN0LmFwcGVuZChpbmZvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBtcDRTYW1wbGVzO1xuICAgICAgICB0cmFjay5zZXF1ZW5jZU51bWJlcisrO1xuXG4gICAgICAgIGxldCBtb29mYm94ID0gbnVsbDtcblxuICAgICAgICBpZiAobXBlZ1Jhd1RyYWNrKSB7XG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBlbXB0eSBidWZmZXIsIGJlY2F1c2UgdXNlbGVzcyBmb3IgcmF3IG1wZWdcbiAgICAgICAgICAgIG1vb2Zib3ggPSBuZXcgVWludDhBcnJheSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gR2VuZXJhdGUgbW9vZiBmb3IgZm1wNCBzZWdtZW50XG4gICAgICAgICAgICBtb29mYm94ID0gTVA0Lm1vb2YodHJhY2ssIGZpcnN0RHRzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBbXTtcbiAgICAgICAgdHJhY2subGVuZ3RoID0gMDtcblxuICAgICAgICBsZXQgc2VnbWVudCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdhdWRpbycsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9tZXJnZUJveGVzKG1vb2Zib3gsIG1kYXRib3gpLmJ1ZmZlcixcbiAgICAgICAgICAgIHNhbXBsZUNvdW50OiBtcDRTYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZm86IGluZm9cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAobXBlZ1Jhd1RyYWNrICYmIGZpcnN0U2VnbWVudEFmdGVyU2Vlaykge1xuICAgICAgICAgICAgLy8gRm9yIE1QRUcgYXVkaW8gc3RyZWFtIGluIE1TRSwgaWYgc2Vla2luZyBvY2N1cnJlZCwgYmVmb3JlIGFwcGVuZGluZyBuZXcgYnVmZmVyXG4gICAgICAgICAgICAvLyBXZSBuZWVkIGV4cGxpY2l0bHkgc2V0IHRpbWVzdGFtcE9mZnNldCB0byB0aGUgZGVzaXJlZCBwb2ludCBpbiB0aW1lbGluZSBmb3IgbXBlZyBTb3VyY2VCdWZmZXIuXG4gICAgICAgICAgICBzZWdtZW50LnRpbWVzdGFtcE9mZnNldCA9IGZpcnN0RHRzO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fb25NZWRpYVNlZ21lbnQoJ2F1ZGlvJywgc2VnbWVudCk7XG4gICAgfVxuXG4gICAgX3JlbXV4VmlkZW8odmlkZW9UcmFjaywgZm9yY2UpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZGVvTWV0YSA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgdHJhY2sgPSB2aWRlb1RyYWNrO1xuICAgICAgICBsZXQgc2FtcGxlcyA9IHRyYWNrLnNhbXBsZXM7XG4gICAgICAgIGxldCBkdHNDb3JyZWN0aW9uID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgZmlyc3REdHMgPSAtMSwgbGFzdER0cyA9IC0xO1xuICAgICAgICBsZXQgZmlyc3RQdHMgPSAtMSwgbGFzdFB0cyA9IC0xO1xuXG4gICAgICAgIGlmICghc2FtcGxlcyB8fCBzYW1wbGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzYW1wbGVzLmxlbmd0aCA9PT0gMSAmJiAhZm9yY2UpIHtcbiAgICAgICAgICAgIC8vIElmIFtzYW1wbGUgY291bnQgaW4gY3VycmVudCBiYXRjaF0gPT09IDEgJiYgKGZvcmNlICE9IHRydWUpXG4gICAgICAgICAgICAvLyBJZ25vcmUgYW5kIGtlZXAgaW4gZGVtdXhlcidzIHF1ZXVlXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gIC8vIGVsc2UgaWYgKGZvcmNlID09PSB0cnVlKSBkbyByZW11eFxuXG4gICAgICAgIGxldCBvZmZzZXQgPSA4O1xuICAgICAgICBsZXQgbWRhdGJveCA9IG51bGw7XG4gICAgICAgIGxldCBtZGF0Qnl0ZXMgPSA4ICsgdmlkZW9UcmFjay5sZW5ndGg7XG5cblxuICAgICAgICBsZXQgbGFzdFNhbXBsZSA9IG51bGw7XG5cbiAgICAgICAgLy8gUG9wIHRoZSBsYXN0U2FtcGxlIGFuZCB3YWl0aW5nIGZvciBzdGFzaFxuICAgICAgICBpZiAoc2FtcGxlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBsYXN0U2FtcGxlID0gc2FtcGxlcy5wb3AoKTtcbiAgICAgICAgICAgIG1kYXRCeXRlcyAtPSBsYXN0U2FtcGxlLmxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluc2VydCBbc3Rhc2hlZCBsYXN0U2FtcGxlIGluIHRoZSBwcmV2aW91cyBiYXRjaF0gdG8gdGhlIGZyb250XG4gICAgICAgIGlmICh0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBzYW1wbGUgPSB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlO1xuICAgICAgICAgICAgdGhpcy5fdmlkZW9TdGFzaGVkTGFzdFNhbXBsZSA9IG51bGw7XG4gICAgICAgICAgICBzYW1wbGVzLnVuc2hpZnQoc2FtcGxlKTtcbiAgICAgICAgICAgIG1kYXRCeXRlcyArPSBzYW1wbGUubGVuZ3RoO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3Rhc2ggdGhlIGxhc3RTYW1wbGUgb2YgY3VycmVudCBiYXRjaCwgd2FpdGluZyBmb3IgbmV4dCBiYXRjaFxuICAgICAgICBpZiAobGFzdFNhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl92aWRlb1N0YXNoZWRMYXN0U2FtcGxlID0gbGFzdFNhbXBsZTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgbGV0IGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgPSBzYW1wbGVzWzBdLmR0cyAtIHRoaXMuX2R0c0Jhc2U7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGR0c0NvcnJlY3Rpb25cbiAgICAgICAgaWYgKHRoaXMuX3ZpZGVvTmV4dER0cykge1xuICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IGZpcnN0U2FtcGxlT3JpZ2luYWxEdHMgLSB0aGlzLl92aWRlb05leHREdHM7XG4gICAgICAgIH0gZWxzZSB7ICAvLyB0aGlzLl92aWRlb05leHREdHMgPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICBpZiAodGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IDA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBsYXN0U2FtcGxlID0gdGhpcy5fdmlkZW9TZWdtZW50SW5mb0xpc3QuZ2V0TGFzdFNhbXBsZUJlZm9yZShmaXJzdFNhbXBsZU9yaWdpbmFsRHRzKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdFNhbXBsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IChmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIC0gKGxhc3RTYW1wbGUub3JpZ2luYWxEdHMgKyBsYXN0U2FtcGxlLmR1cmF0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXN0YW5jZSA8PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGV0IGV4cGVjdGVkRHRzID0gbGFzdFNhbXBsZS5kdHMgKyBsYXN0U2FtcGxlLmR1cmF0aW9uICsgZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGR0c0NvcnJlY3Rpb24gPSBmaXJzdFNhbXBsZU9yaWdpbmFsRHRzIC0gZXhwZWN0ZWREdHM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gbGFzdFNhbXBsZSA9PSBudWxsLCBjYW5ub3QgZm91bmRcbiAgICAgICAgICAgICAgICAgICAgZHRzQ29ycmVjdGlvbiA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGluZm8gPSBuZXcgTWVkaWFTZWdtZW50SW5mbygpO1xuICAgICAgICBsZXQgbXA0U2FtcGxlcyA9IFtdO1xuXG4gICAgICAgIC8vIENvcnJlY3QgZHRzIGZvciBlYWNoIHNhbXBsZSwgYW5kIGNhbGN1bGF0ZSBzYW1wbGUgZHVyYXRpb24uIFRoZW4gb3V0cHV0IHRvIG1wNFNhbXBsZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzYW1wbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgc2FtcGxlID0gc2FtcGxlc1tpXTtcbiAgICAgICAgICAgIGxldCBvcmlnaW5hbER0cyA9IHNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlO1xuICAgICAgICAgICAgbGV0IGlzS2V5ZnJhbWUgPSBzYW1wbGUuaXNLZXlmcmFtZTtcbiAgICAgICAgICAgIGxldCBkdHMgPSBvcmlnaW5hbER0cyAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICBsZXQgY3RzID0gc2FtcGxlLmN0cztcbiAgICAgICAgICAgIGxldCBwdHMgPSBkdHMgKyBjdHM7XG5cbiAgICAgICAgICAgIGlmIChmaXJzdER0cyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBmaXJzdER0cyA9IGR0cztcbiAgICAgICAgICAgICAgICBmaXJzdFB0cyA9IHB0cztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHNhbXBsZUR1cmF0aW9uID0gMDtcblxuICAgICAgICAgICAgaWYgKGkgIT09IHNhbXBsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0RHRzID0gc2FtcGxlc1tpICsgMV0uZHRzIC0gdGhpcy5fZHRzQmFzZSAtIGR0c0NvcnJlY3Rpb247XG4gICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBuZXh0RHRzIC0gZHRzO1xuICAgICAgICAgICAgfSBlbHNlIHsgIC8vIHRoZSBsYXN0IHNhbXBsZVxuICAgICAgICAgICAgICAgIGlmIChsYXN0U2FtcGxlICE9IG51bGwpIHsgIC8vIHVzZSBzdGFzaGVkIHNhbXBsZSdzIGR0cyB0byBjYWxjdWxhdGUgc2FtcGxlIGR1cmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIGxldCBuZXh0RHRzID0gbGFzdFNhbXBsZS5kdHMgLSB0aGlzLl9kdHNCYXNlIC0gZHRzQ29ycmVjdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBuZXh0RHRzIC0gZHRzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobXA0U2FtcGxlcy5sZW5ndGggPj0gMSkgeyAgLy8gdXNlIHNlY29uZCBsYXN0IHNhbXBsZSBkdXJhdGlvblxuICAgICAgICAgICAgICAgICAgICBzYW1wbGVEdXJhdGlvbiA9IG1wNFNhbXBsZXNbbXA0U2FtcGxlcy5sZW5ndGggLSAxXS5kdXJhdGlvbjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgeyAgLy8gdGhlIG9ubHkgb25lIHNhbXBsZSwgdXNlIHJlZmVyZW5jZSBzYW1wbGUgZHVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgc2FtcGxlRHVyYXRpb24gPSBNYXRoLmZsb29yKHRoaXMuX3ZpZGVvTWV0YS5yZWZTYW1wbGVEdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaXNLZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIGxldCBzeW5jUG9pbnQgPSBuZXcgU2FtcGxlSW5mbyhkdHMsIHB0cywgc2FtcGxlRHVyYXRpb24sIHNhbXBsZS5kdHMsIHRydWUpO1xuICAgICAgICAgICAgICAgIHN5bmNQb2ludC5maWxlcG9zaXRpb24gPSBzYW1wbGUuZmlsZXBvc2l0aW9uO1xuICAgICAgICAgICAgICAgIGluZm8uYXBwZW5kU3luY1BvaW50KHN5bmNQb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1wNFNhbXBsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZHRzOiBkdHMsXG4gICAgICAgICAgICAgICAgcHRzOiBwdHMsXG4gICAgICAgICAgICAgICAgY3RzOiBjdHMsXG4gICAgICAgICAgICAgICAgdW5pdHM6IHNhbXBsZS51bml0cyxcbiAgICAgICAgICAgICAgICBzaXplOiBzYW1wbGUubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGlzS2V5ZnJhbWU6IGlzS2V5ZnJhbWUsXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IHNhbXBsZUR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIG9yaWdpbmFsRHRzOiBvcmlnaW5hbER0cyxcbiAgICAgICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgICAgICBpc0xlYWRpbmc6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlcGVuZHNPbjogaXNLZXlmcmFtZSA/IDIgOiAxLFxuICAgICAgICAgICAgICAgICAgICBpc0RlcGVuZGVkT246IGlzS2V5ZnJhbWUgPyAxIDogMCxcbiAgICAgICAgICAgICAgICAgICAgaGFzUmVkdW5kYW5jeTogMCxcbiAgICAgICAgICAgICAgICAgICAgaXNOb25TeW5jOiBpc0tleWZyYW1lID8gMCA6IDFcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFsbG9jYXRlIG1kYXRib3hcbiAgICAgICAgbWRhdGJveCA9IG5ldyBVaW50OEFycmF5KG1kYXRCeXRlcyk7XG4gICAgICAgIG1kYXRib3hbMF0gPSAobWRhdEJ5dGVzID4+PiAyNCkgJiAweEZGO1xuICAgICAgICBtZGF0Ym94WzFdID0gKG1kYXRCeXRlcyA+Pj4gMTYpICYgMHhGRjtcbiAgICAgICAgbWRhdGJveFsyXSA9IChtZGF0Qnl0ZXMgPj4+ICA4KSAmIDB4RkY7XG4gICAgICAgIG1kYXRib3hbM10gPSAobWRhdEJ5dGVzKSAmIDB4RkY7XG4gICAgICAgIG1kYXRib3guc2V0KE1QNC50eXBlcy5tZGF0LCA0KTtcblxuICAgICAgICAvLyBXcml0ZSBzYW1wbGVzIGludG8gbWRhdGJveFxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1wNFNhbXBsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCB1bml0cyA9IG1wNFNhbXBsZXNbaV0udW5pdHM7XG4gICAgICAgICAgICB3aGlsZSAodW5pdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHVuaXQgPSB1bml0cy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGxldCBkYXRhID0gdW5pdC5kYXRhO1xuICAgICAgICAgICAgICAgIG1kYXRib3guc2V0KGRhdGEsIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGRhdGEuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXRlc3QgPSBtcDRTYW1wbGVzW21wNFNhbXBsZXMubGVuZ3RoIC0gMV07XG4gICAgICAgIGxhc3REdHMgPSBsYXRlc3QuZHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICBsYXN0UHRzID0gbGF0ZXN0LnB0cyArIGxhdGVzdC5kdXJhdGlvbjtcbiAgICAgICAgdGhpcy5fdmlkZW9OZXh0RHRzID0gbGFzdER0cztcblxuICAgICAgICAvLyBmaWxsIG1lZGlhIHNlZ21lbnQgaW5mbyAmIGFkZCB0byBpbmZvIGxpc3RcbiAgICAgICAgaW5mby5iZWdpbkR0cyA9IGZpcnN0RHRzO1xuICAgICAgICBpbmZvLmVuZER0cyA9IGxhc3REdHM7XG4gICAgICAgIGluZm8uYmVnaW5QdHMgPSBmaXJzdFB0cztcbiAgICAgICAgaW5mby5lbmRQdHMgPSBsYXN0UHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsQmVnaW5EdHMgPSBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzO1xuICAgICAgICBpbmZvLm9yaWdpbmFsRW5kRHRzID0gbGF0ZXN0Lm9yaWdpbmFsRHRzICsgbGF0ZXN0LmR1cmF0aW9uO1xuICAgICAgICBpbmZvLmZpcnN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obXA0U2FtcGxlc1swXS5kdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVzWzBdLnB0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1wNFNhbXBsZXNbMF0uZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtcDRTYW1wbGVzWzBdLm9yaWdpbmFsRHRzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXA0U2FtcGxlc1swXS5pc0tleWZyYW1lKTtcbiAgICAgICAgaW5mby5sYXN0U2FtcGxlID0gbmV3IFNhbXBsZUluZm8obGF0ZXN0LmR0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0LnB0cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXN0LmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRlc3Qub3JpZ2luYWxEdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdC5pc0tleWZyYW1lKTtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0xpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZGVvU2VnbWVudEluZm9MaXN0LmFwcGVuZChpbmZvKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYWNrLnNhbXBsZXMgPSBtcDRTYW1wbGVzO1xuICAgICAgICB0cmFjay5zZXF1ZW5jZU51bWJlcisrO1xuXG4gICAgICAgIC8vIHdvcmthcm91bmQgZm9yIGNocm9tZSA8IDUwOiBmb3JjZSBmaXJzdCBzYW1wbGUgYXMgYSByYW5kb20gYWNjZXNzIHBvaW50XG4gICAgICAgIC8vIHNlZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0yMjk0MTJcbiAgICAgICAgaWYgKHRoaXMuX2ZvcmNlRmlyc3RJRFIpIHtcbiAgICAgICAgICAgIGxldCBmbGFncyA9IG1wNFNhbXBsZXNbMF0uZmxhZ3M7XG4gICAgICAgICAgICBmbGFncy5kZXBlbmRzT24gPSAyO1xuICAgICAgICAgICAgZmxhZ3MuaXNOb25TeW5jID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBtb29mYm94ID0gTVA0Lm1vb2YodHJhY2ssIGZpcnN0RHRzKTtcbiAgICAgICAgdHJhY2suc2FtcGxlcyA9IFtdO1xuICAgICAgICB0cmFjay5sZW5ndGggPSAwO1xuXG4gICAgICAgIHRoaXMuX29uTWVkaWFTZWdtZW50KCd2aWRlbycsIHtcbiAgICAgICAgICAgIHR5cGU6ICd2aWRlbycsXG4gICAgICAgICAgICBkYXRhOiB0aGlzLl9tZXJnZUJveGVzKG1vb2Zib3gsIG1kYXRib3gpLmJ1ZmZlcixcbiAgICAgICAgICAgIHNhbXBsZUNvdW50OiBtcDRTYW1wbGVzLmxlbmd0aCxcbiAgICAgICAgICAgIGluZm86IGluZm9cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX21lcmdlQm94ZXMobW9vZiwgbWRhdCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkobW9vZi5ieXRlTGVuZ3RoICsgbWRhdC5ieXRlTGVuZ3RoKTtcbiAgICAgICAgcmVzdWx0LnNldChtb29mLCAwKTtcbiAgICAgICAgcmVzdWx0LnNldChtZGF0LCBtb29mLmJ5dGVMZW5ndGgpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNUDRSZW11eGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBUcmFuc211eGluZ0V2ZW50cyA9IHtcbiAgICBJT19FUlJPUjogJ2lvX2Vycm9yJyxcbiAgICBERU1VWF9FUlJPUjogJ2RlbXV4X2Vycm9yJyxcbiAgICBJTklUX1NFR01FTlQ6ICdpbml0X3NlZ21lbnQnLFxuICAgIE1FRElBX1NFR01FTlQ6ICdtZWRpYV9zZWdtZW50JyxcbiAgICBMT0FESU5HX0NPTVBMRVRFOiAnbG9hZGluZ19jb21wbGV0ZScsXG4gICAgUkVDT1ZFUkVEX0VBUkxZX0VPRjogJ3JlY292ZXJlZF9lYXJseV9lb2YnLFxuICAgIE1FRElBX0lORk86ICdtZWRpYV9pbmZvJyxcbiAgICBNRVRBREFUQV9BUlJJVkVEOiAnbWV0YWRhdGFfYXJyaXZlZCcsXG4gICAgU0NSSVBUREFUQV9BUlJJVkVEOiAnc2NyaXB0ZGF0YV9hcnJpdmVkJyxcbiAgICBTVEFUSVNUSUNTX0lORk86ICdzdGF0aXN0aWNzX2luZm8nLFxuICAgIFJFQ09NTUVORF9TRUVLUE9JTlQ6ICdyZWNvbW1lbmRfc2Vla3BvaW50J1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNtdXhpbmdFdmVudHM7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IE1lZGlhSW5mbyBmcm9tICcuL21lZGlhLWluZm8uanMnO1xuaW1wb3J0IEZMVkRlbXV4ZXIgZnJvbSAnLi4vZGVtdXgvZmx2LWRlbXV4ZXIuanMnO1xuaW1wb3J0IE1QNFJlbXV4ZXIgZnJvbSAnLi4vcmVtdXgvbXA0LXJlbXV4ZXIuanMnO1xuaW1wb3J0IERlbXV4RXJyb3JzIGZyb20gJy4uL2RlbXV4L2RlbXV4LWVycm9ycy5qcyc7XG5pbXBvcnQgSU9Db250cm9sbGVyIGZyb20gJy4uL2lvL2lvLWNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nRXZlbnRzIGZyb20gJy4vdHJhbnNtdXhpbmctZXZlbnRzLmpzJztcbmltcG9ydCB7TG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4uL2lvL2xvYWRlci5qcyc7XG5cbi8vIFRyYW5zbXV4aW5nIChJTywgRGVtdXhpbmcsIFJlbXV4aW5nKSBjb250cm9sbGVyLCB3aXRoIG11bHRpcGFydCBzdXBwb3J0XG5jbGFzcyBUcmFuc211eGluZ0NvbnRyb2xsZXIge1xuXG4gICAgY29uc3RydWN0b3IobWVkaWFEYXRhU291cmNlLCBjb25maWcpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnVHJhbnNtdXhpbmdDb250cm9sbGVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjb25maWc7XG5cbiAgICAgICAgLy8gdHJlYXQgc2luZ2xlIHBhcnQgbWVkaWEgYXMgbXVsdGlwYXJ0IG1lZGlhLCB3aGljaCBoYXMgb25seSBvbmUgc2VnbWVudFxuICAgICAgICBpZiAoIW1lZGlhRGF0YVNvdXJjZS5zZWdtZW50cykge1xuICAgICAgICAgICAgbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzID0gW3tcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogbWVkaWFEYXRhU291cmNlLmR1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGZpbGVzaXplOiBtZWRpYURhdGFTb3VyY2UuZmlsZXNpemUsXG4gICAgICAgICAgICAgICAgdXJsOiBtZWRpYURhdGFTb3VyY2UudXJsXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbGwgaW4gZGVmYXVsdCBJTyBwYXJhbXMgaWYgbm90IGV4aXN0c1xuICAgICAgICBpZiAodHlwZW9mIG1lZGlhRGF0YVNvdXJjZS5jb3JzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIG1lZGlhRGF0YVNvdXJjZS5jb3JzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIG1lZGlhRGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHMgIT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgbWVkaWFEYXRhU291cmNlLndpdGhDcmVkZW50aWFscyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlID0gbWVkaWFEYXRhU291cmNlO1xuICAgICAgICB0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4ID0gMDtcbiAgICAgICAgbGV0IHRvdGFsRHVyYXRpb24gPSAwO1xuXG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50cy5mb3JFYWNoKChzZWdtZW50KSA9PiB7XG4gICAgICAgICAgICAvLyB0aW1lc3RhbXBCYXNlIGZvciBlYWNoIHNlZ21lbnQsIGFuZCBjYWxjdWxhdGUgdG90YWwgZHVyYXRpb25cbiAgICAgICAgICAgIHNlZ21lbnQudGltZXN0YW1wQmFzZSA9IHRvdGFsRHVyYXRpb247XG4gICAgICAgICAgICB0b3RhbER1cmF0aW9uICs9IHNlZ21lbnQuZHVyYXRpb247XG4gICAgICAgICAgICAvLyBwYXJhbXMgbmVlZGVkIGJ5IElPQ29udHJvbGxlclxuICAgICAgICAgICAgc2VnbWVudC5jb3JzID0gbWVkaWFEYXRhU291cmNlLmNvcnM7XG4gICAgICAgICAgICBzZWdtZW50LndpdGhDcmVkZW50aWFscyA9IG1lZGlhRGF0YVNvdXJjZS53aXRoQ3JlZGVudGlhbHM7XG4gICAgICAgICAgICAvLyByZWZlcnJlciBwb2xpY3kgY29udHJvbCwgaWYgZXhpc3RcbiAgICAgICAgICAgIGlmIChjb25maWcucmVmZXJyZXJQb2xpY3kpIHtcbiAgICAgICAgICAgICAgICBzZWdtZW50LnJlZmVycmVyUG9saWN5ID0gY29uZmlnLnJlZmVycmVyUG9saWN5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoIWlzTmFOKHRvdGFsRHVyYXRpb24pICYmIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5kdXJhdGlvbiAhPT0gdG90YWxEdXJhdGlvbikge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlLmR1cmF0aW9uID0gdG90YWxEdXJhdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX2RlbXV4ZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW11eGVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faW9jdGwgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcikge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9pb2N0bCkge1xuICAgICAgICAgICAgdGhpcy5faW9jdGwuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5faW9jdGwgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9kZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZW11eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yZW11eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5fbG9hZFNlZ21lbnQoMCk7XG4gICAgICAgIHRoaXMuX2VuYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9sb2FkU2VnbWVudChzZWdtZW50SW5kZXgsIG9wdGlvbmFsRnJvbSkge1xuICAgICAgICB0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4ID0gc2VnbWVudEluZGV4O1xuICAgICAgICBsZXQgZGF0YVNvdXJjZSA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1tzZWdtZW50SW5kZXhdO1xuXG4gICAgICAgIGxldCBpb2N0bCA9IHRoaXMuX2lvY3RsID0gbmV3IElPQ29udHJvbGxlcihkYXRhU291cmNlLCB0aGlzLl9jb25maWcsIHNlZ21lbnRJbmRleCk7XG4gICAgICAgIGlvY3RsLm9uRXJyb3IgPSB0aGlzLl9vbklPRXhjZXB0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIGlvY3RsLm9uU2Vla2VkID0gdGhpcy5fb25JT1NlZWtlZC5iaW5kKHRoaXMpO1xuICAgICAgICBpb2N0bC5vbkNvbXBsZXRlID0gdGhpcy5fb25JT0NvbXBsZXRlLmJpbmQodGhpcyk7XG4gICAgICAgIGlvY3RsLm9uUmVkaXJlY3QgPSB0aGlzLl9vbklPUmVkaXJlY3QuYmluZCh0aGlzKTtcbiAgICAgICAgaW9jdGwub25SZWNvdmVyZWRFYXJseUVvZiA9IHRoaXMuX29uSU9SZWNvdmVyZWRFYXJseUVvZi5iaW5kKHRoaXMpO1xuXG4gICAgICAgIGlmIChvcHRpb25hbEZyb20pIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5faW9jdGwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW9jdGwub25EYXRhQXJyaXZhbCA9IHRoaXMuX29uSW5pdENodW5rQXJyaXZhbC5iaW5kKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW9jdGwub3BlbihvcHRpb25hbEZyb20pO1xuICAgIH1cblxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgIH1cblxuICAgIF9pbnRlcm5hbEFib3J0KCkge1xuICAgICAgICBpZiAodGhpcy5faW9jdGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2lvY3RsID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhdXNlKCkgeyAgLy8gdGFrZSBhIHJlc3RcbiAgICAgICAgaWYgKHRoaXMuX2lvY3RsICYmIHRoaXMuX2lvY3RsLmlzV29ya2luZygpKSB7XG4gICAgICAgICAgICB0aGlzLl9pb2N0bC5wYXVzZSgpO1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzdW1lKCkge1xuICAgICAgICBpZiAodGhpcy5faW9jdGwgJiYgdGhpcy5faW9jdGwuaXNQYXVzZWQoKSkge1xuICAgICAgICAgICAgdGhpcy5faW9jdGwucmVzdW1lKCk7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUluZm8gPT0gbnVsbCB8fCAhdGhpcy5fbWVkaWFJbmZvLmlzU2Vla2FibGUoKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHRhcmdldFNlZ21lbnRJbmRleCA9IHRoaXMuX3NlYXJjaFNlZ21lbnRJbmRleENvbnRhaW5zKG1pbGxpc2Vjb25kcyk7XG5cbiAgICAgICAgaWYgKHRhcmdldFNlZ21lbnRJbmRleCA9PT0gdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleCkge1xuICAgICAgICAgICAgLy8gaW50cmEtc2VnbWVudCBzZWVraW5nXG4gICAgICAgICAgICBsZXQgc2VnbWVudEluZm8gPSB0aGlzLl9tZWRpYUluZm8uc2VnbWVudHNbdGFyZ2V0U2VnbWVudEluZGV4XTtcblxuICAgICAgICAgICAgaWYgKHNlZ21lbnRJbmZvID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgc2VnbWVudCBsb2FkaW5nIHN0YXJ0ZWQsIGJ1dCBtZWRpYWluZm8gaGFzbid0IHJlY2VpdmVkIHlldFxuICAgICAgICAgICAgICAgIC8vIHdhaXQgZm9yIHRoZSBtZXRhZGF0YSBsb2FkZWQsIHRoZW4gc2VlayB0byBleHBlY3RlZCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGtleWZyYW1lID0gc2VnbWVudEluZm8uZ2V0TmVhcmVzdEtleWZyYW1lKG1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5zZWVrKGtleWZyYW1lLm1pbGxpc2Vjb25kcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5faW9jdGwuc2VlayhrZXlmcmFtZS5maWxlcG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIC8vIFdpbGwgYmUgcmVzb2x2ZWQgaW4gX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwoKVxuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ID0ga2V5ZnJhbWUubWlsbGlzZWNvbmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gY3Jvc3Mtc2VnbWVudCBzZWVraW5nXG4gICAgICAgICAgICBsZXQgdGFyZ2V0U2VnbWVudEluZm8gPSB0aGlzLl9tZWRpYUluZm8uc2VnbWVudHNbdGFyZ2V0U2VnbWVudEluZGV4XTtcblxuICAgICAgICAgICAgaWYgKHRhcmdldFNlZ21lbnRJbmZvID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIHRhcmdldCBzZWdtZW50IGhhc24ndCBiZWVuIGxvYWRlZC4gV2UgbmVlZCBtZXRhZGF0YSB0aGVuIHNlZWsgdG8gZXhwZWN0ZWQgdGltZVxuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG1pbGxpc2Vjb25kcztcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnRlcm5hbEFib3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5zZWVrKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5pbnNlcnREaXNjb250aW51aXR5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZFNlZ21lbnQodGFyZ2V0U2VnbWVudEluZGV4KTtcbiAgICAgICAgICAgICAgICAvLyBIZXJlIHdlIHdhaXQgZm9yIHRoZSBtZXRhZGF0YSBsb2FkZWQsIHRoZW4gc2VlayB0byBleHBlY3RlZCBwb3NpdGlvblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHRhcmdldCBzZWdtZW50J3MgbWV0YWRhdGEsIGRpcmVjdCBzZWVrIHRvIHRhcmdldCBwb3NpdGlvblxuICAgICAgICAgICAgICAgIGxldCBrZXlmcmFtZSA9IHRhcmdldFNlZ21lbnRJbmZvLmdldE5lYXJlc3RLZXlmcmFtZShtaWxsaXNlY29uZHMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2ludGVybmFsQWJvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW11eGVyLnNlZWsobWlsbGlzZWNvbmRzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW11eGVyLmluc2VydERpc2NvbnRpbnVpdHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZW11eGVyLnJlc2V0TWVkaWFJbmZvKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci50aW1lc3RhbXBCYXNlID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzW3RhcmdldFNlZ21lbnRJbmRleF0udGltZXN0YW1wQmFzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9sb2FkU2VnbWVudCh0YXJnZXRTZWdtZW50SW5kZXgsIGtleWZyYW1lLmZpbGVwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQgPSBrZXlmcmFtZS5taWxsaXNlY29uZHM7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVwb3J0U2VnbWVudE1lZGlhSW5mbyh0YXJnZXRTZWdtZW50SW5kZXgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZW5hYmxlU3RhdGlzdGljc1JlcG9ydGVyKCk7XG4gICAgfVxuXG4gICAgX3NlYXJjaFNlZ21lbnRJbmRleENvbnRhaW5zKG1pbGxpc2Vjb25kcykge1xuICAgICAgICBsZXQgc2VnbWVudHMgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2Uuc2VnbWVudHM7XG4gICAgICAgIGxldCBpZHggPSBzZWdtZW50cy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChtaWxsaXNlY29uZHMgPCBzZWdtZW50c1tpXS50aW1lc3RhbXBCYXNlKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gaSAtIDE7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlkeDtcbiAgICB9XG5cbiAgICBfb25Jbml0Q2h1bmtBcnJpdmFsKGRhdGEsIGJ5dGVTdGFydCkge1xuICAgICAgICBsZXQgcHJvYmVEYXRhID0gbnVsbDtcbiAgICAgICAgbGV0IGNvbnN1bWVkID0gMDtcblxuICAgICAgICBpZiAoYnl0ZVN0YXJ0ID4gMCkge1xuICAgICAgICAgICAgLy8gSU9Db250cm9sbGVyIHNlZWtlZCBpbW1lZGlhdGVseSBhZnRlciBvcGVuZWQsIGJ5dGVTdGFydCA+IDAgY2FsbGJhY2sgbWF5IHJlY2VpdmVkXG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLmJpbmREYXRhU291cmNlKHRoaXMuX2lvY3RsKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIudGltZXN0YW1wQmFzZSA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1t0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4XS50aW1lc3RhbXBCYXNlO1xuXG4gICAgICAgICAgICBjb25zdW1lZCA9IHRoaXMuX2RlbXV4ZXIucGFyc2VDaHVua3MoZGF0YSwgYnl0ZVN0YXJ0KTtcbiAgICAgICAgfSBlbHNlIGlmICgocHJvYmVEYXRhID0gRkxWRGVtdXhlci5wcm9iZShkYXRhKSkubWF0Y2gpIHtcbiAgICAgICAgICAgIC8vIEFsd2F5cyBjcmVhdGUgbmV3IEZMVkRlbXV4ZXJcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIgPSBuZXcgRkxWRGVtdXhlcihwcm9iZURhdGEsIHRoaXMuX2NvbmZpZyk7XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5fcmVtdXhlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIgPSBuZXcgTVA0UmVtdXhlcih0aGlzLl9jb25maWcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgbWRzID0gdGhpcy5fbWVkaWFEYXRhU291cmNlO1xuICAgICAgICAgICAgaWYgKG1kcy5kdXJhdGlvbiAhPSB1bmRlZmluZWQgJiYgIWlzTmFOKG1kcy5kdXJhdGlvbikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZW11eGVyLm92ZXJyaWRlZER1cmF0aW9uID0gbWRzLmR1cmF0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZHMuaGFzQXVkaW8gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub3ZlcnJpZGVkSGFzQXVkaW8gPSBtZHMuaGFzQXVkaW87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1kcy5oYXNWaWRlbyA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vdmVycmlkZWRIYXNWaWRlbyA9IG1kcy5oYXNWaWRlbztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci50aW1lc3RhbXBCYXNlID0gbWRzLnNlZ21lbnRzW3RoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXhdLnRpbWVzdGFtcEJhc2U7XG5cbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub25FcnJvciA9IHRoaXMuX29uRGVtdXhFeGNlcHRpb24uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX2RlbXV4ZXIub25NZWRpYUluZm8gPSB0aGlzLl9vbk1lZGlhSW5mby5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fZGVtdXhlci5vbk1ldGFEYXRhQXJyaXZlZCA9IHRoaXMuX29uTWV0YURhdGFBcnJpdmVkLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9kZW11eGVyLm9uU2NyaXB0RGF0YUFycml2ZWQgPSB0aGlzLl9vblNjcmlwdERhdGFBcnJpdmVkLmJpbmQodGhpcyk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuYmluZERhdGFTb3VyY2UodGhpcy5fZGVtdXhlclxuICAgICAgICAgICAgICAgICAgICAgICAgIC5iaW5kRGF0YVNvdXJjZSh0aGlzLl9pb2N0bFxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIub25Jbml0U2VnbWVudCA9IHRoaXMuX29uUmVtdXhlckluaXRTZWdtZW50QXJyaXZhbC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5vbk1lZGlhU2VnbWVudCA9IHRoaXMuX29uUmVtdXhlck1lZGlhU2VnbWVudEFycml2YWwuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSB0aGlzLl9kZW11eGVyLnBhcnNlQ2h1bmtzKGRhdGEsIGJ5dGVTdGFydCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9iZURhdGEgPSBudWxsO1xuICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsICdOb24tRkxWLCBVbnN1cHBvcnRlZCBtZWRpYSB0eXBlIScpO1xuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIERlbXV4RXJyb3JzLkZPUk1BVF9VTlNVUFBPUlRFRCwgJ05vbi1GTFYsIFVuc3VwcG9ydGVkIG1lZGlhIHR5cGUnKTtcblxuICAgICAgICAgICAgY29uc3VtZWQgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbnN1bWVkO1xuICAgIH1cblxuICAgIF9vbk1lZGlhSW5mbyhtZWRpYUluZm8pIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhSW5mbyA9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBTdG9yZSBmaXJzdCBzZWdtZW50J3MgbWVkaWFpbmZvIGFzIGdsb2JhbCBtZWRpYUluZm9cbiAgICAgICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IE9iamVjdC5hc3NpZ24oe30sIG1lZGlhSW5mbyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8ua2V5ZnJhbWVzSW5kZXggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzID0gW107XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8uc2VnbWVudENvdW50ID0gdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLl9tZWRpYUluZm8sIE1lZGlhSW5mby5wcm90b3R5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNlZ21lbnRJbmZvID0gT2JqZWN0LmFzc2lnbih7fSwgbWVkaWFJbmZvKTtcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHNlZ21lbnRJbmZvLCBNZWRpYUluZm8ucHJvdG90eXBlKTtcbiAgICAgICAgdGhpcy5fbWVkaWFJbmZvLnNlZ21lbnRzW3RoaXMuX2N1cnJlbnRTZWdtZW50SW5kZXhdID0gc2VnbWVudEluZm87XG5cbiAgICAgICAgLy8gbm90aWZ5IG1lZGlhSW5mbyB1cGRhdGVcbiAgICAgICAgdGhpcy5fcmVwb3J0U2VnbWVudE1lZGlhSW5mbyh0aGlzLl9jdXJyZW50U2VnbWVudEluZGV4KTtcblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnNlZWsodGFyZ2V0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uTWV0YURhdGFBcnJpdmVkKG1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRVRBREFUQV9BUlJJVkVELCBtZXRhZGF0YSk7XG4gICAgfVxuXG4gICAgX29uU2NyaXB0RGF0YUFycml2ZWQoZGF0YSkge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuU0NSSVBUREFUQV9BUlJJVkVELCBkYXRhKTtcbiAgICB9XG5cbiAgICBfb25JT1NlZWtlZCgpIHtcbiAgICAgICAgdGhpcy5fcmVtdXhlci5pbnNlcnREaXNjb250aW51aXR5KCk7XG4gICAgfVxuXG4gICAgX29uSU9Db21wbGV0ZShleHRyYURhdGEpIHtcbiAgICAgICAgbGV0IHNlZ21lbnRJbmRleCA9IGV4dHJhRGF0YTtcbiAgICAgICAgbGV0IG5leHRTZWdtZW50SW5kZXggPSBzZWdtZW50SW5kZXggKyAxO1xuXG4gICAgICAgIGlmIChuZXh0U2VnbWVudEluZGV4IDwgdGhpcy5fbWVkaWFEYXRhU291cmNlLnNlZ21lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5faW50ZXJuYWxBYm9ydCgpO1xuICAgICAgICAgICAgdGhpcy5fcmVtdXhlci5mbHVzaFN0YXNoZWRTYW1wbGVzKCk7XG4gICAgICAgICAgICB0aGlzLl9sb2FkU2VnbWVudChuZXh0U2VnbWVudEluZGV4KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbXV4ZXIuZmx1c2hTdGFzaGVkU2FtcGxlcygpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUpO1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZVN0YXRpc3RpY3NSZXBvcnRlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uSU9SZWRpcmVjdChyZWRpcmVjdGVkVVJMKSB7XG4gICAgICAgIGxldCBzZWdtZW50SW5kZXggPSB0aGlzLl9pb2N0bC5leHRyYURhdGE7XG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50c1tzZWdtZW50SW5kZXhdLnJlZGlyZWN0ZWRVUkwgPSByZWRpcmVjdGVkVVJMO1xuICAgIH1cblxuICAgIF9vbklPUmVjb3ZlcmVkRWFybHlFb2YoKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GKTtcbiAgICB9XG5cbiAgICBfb25JT0V4Y2VwdGlvbih0eXBlLCBpbmZvKSB7XG4gICAgICAgIExvZy5lKHRoaXMuVEFHLCBgSU9FeGNlcHRpb246IHR5cGUgPSAke3R5cGV9LCBjb2RlID0gJHtpbmZvLmNvZGV9LCBtc2cgPSAke2luZm8ubXNnfWApO1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1IsIHR5cGUsIGluZm8pO1xuICAgICAgICB0aGlzLl9kaXNhYmxlU3RhdGlzdGljc1JlcG9ydGVyKCk7XG4gICAgfVxuXG4gICAgX29uRGVtdXhFeGNlcHRpb24odHlwZSwgaW5mbykge1xuICAgICAgICBMb2cuZSh0aGlzLlRBRywgYERlbXV4RXhjZXB0aW9uOiB0eXBlID0gJHt0eXBlfSwgaW5mbyA9ICR7aW5mb31gKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLCB0eXBlLCBpbmZvKTtcbiAgICB9XG5cbiAgICBfb25SZW11eGVySW5pdFNlZ21lbnRBcnJpdmFsKHR5cGUsIGluaXRTZWdtZW50KSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsIHR5cGUsIGluaXRTZWdtZW50KTtcbiAgICB9XG5cbiAgICBfb25SZW11eGVyTWVkaWFTZWdtZW50QXJyaXZhbCh0eXBlLCBtZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZWVrVGltZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBNZWRpYSBzZWdtZW50cyBhZnRlciBuZXctc2VnbWVudCBjcm9zcy1zZWVraW5nIHNob3VsZCBiZSBkcm9wcGVkLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCB0eXBlLCBtZWRpYVNlZ21lbnQpO1xuXG4gICAgICAgIC8vIFJlc29sdmUgcGVuZGluZyBzZWVrUG9pbnRcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50ICE9IG51bGwgJiYgdHlwZSA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgbGV0IHN5bmNQb2ludHMgPSBtZWRpYVNlZ21lbnQuaW5mby5zeW5jUG9pbnRzO1xuICAgICAgICAgICAgbGV0IHNlZWtwb2ludCA9IHRoaXMuX3BlbmRpbmdSZXNvbHZlU2Vla1BvaW50O1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1Jlc29sdmVTZWVrUG9pbnQgPSBudWxsO1xuXG4gICAgICAgICAgICAvLyBTYWZhcmk6IFBhc3MgUFRTIGZvciByZWNvbW1lbmRfc2Vla3BvaW50XG4gICAgICAgICAgICBpZiAoQnJvd3Nlci5zYWZhcmkgJiYgc3luY1BvaW50cy5sZW5ndGggPiAwICYmIHN5bmNQb2ludHNbMF0ub3JpZ2luYWxEdHMgPT09IHNlZWtwb2ludCkge1xuICAgICAgICAgICAgICAgIHNlZWtwb2ludCA9IHN5bmNQb2ludHNbMF0ucHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZWxzZTogdXNlIG9yaWdpbmFsIERUUyAoa2V5ZnJhbWUubWlsbGlzZWNvbmRzKVxuXG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgc2Vla3BvaW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9lbmFibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gc2VsZi5zZXRJbnRlcnZhbChcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXBvcnRTdGF0aXN0aWNzSW5mby5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2Rpc2FibGVTdGF0aXN0aWNzUmVwb3J0ZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIpIHtcbiAgICAgICAgICAgIHNlbGYuY2xlYXJJbnRlcnZhbCh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9yZXBvcnRTZWdtZW50TWVkaWFJbmZvKHNlZ21lbnRJbmRleCkge1xuICAgICAgICBsZXQgc2VnbWVudEluZm8gPSB0aGlzLl9tZWRpYUluZm8uc2VnbWVudHNbc2VnbWVudEluZGV4XTtcbiAgICAgICAgbGV0IGV4cG9ydEluZm8gPSBPYmplY3QuYXNzaWduKHt9LCBzZWdtZW50SW5mbyk7XG5cbiAgICAgICAgZXhwb3J0SW5mby5kdXJhdGlvbiA9IHRoaXMuX21lZGlhSW5mby5kdXJhdGlvbjtcbiAgICAgICAgZXhwb3J0SW5mby5zZWdtZW50Q291bnQgPSB0aGlzLl9tZWRpYUluZm8uc2VnbWVudENvdW50O1xuICAgICAgICBkZWxldGUgZXhwb3J0SW5mby5zZWdtZW50cztcbiAgICAgICAgZGVsZXRlIGV4cG9ydEluZm8ua2V5ZnJhbWVzSW5kZXg7XG5cbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX0lORk8sIGV4cG9ydEluZm8pO1xuICAgIH1cblxuICAgIF9yZXBvcnRTdGF0aXN0aWNzSW5mbygpIHtcbiAgICAgICAgbGV0IGluZm8gPSB7fTtcblxuICAgICAgICBpbmZvLnVybCA9IHRoaXMuX2lvY3RsLmN1cnJlbnRVUkw7XG4gICAgICAgIGluZm8uaGFzUmVkaXJlY3QgPSB0aGlzLl9pb2N0bC5oYXNSZWRpcmVjdDtcbiAgICAgICAgaWYgKGluZm8uaGFzUmVkaXJlY3QpIHtcbiAgICAgICAgICAgIGluZm8ucmVkaXJlY3RlZFVSTCA9IHRoaXMuX2lvY3RsLmN1cnJlbnRSZWRpcmVjdGVkVVJMO1xuICAgICAgICB9XG5cbiAgICAgICAgaW5mby5zcGVlZCA9IHRoaXMuX2lvY3RsLmN1cnJlbnRTcGVlZDtcbiAgICAgICAgaW5mby5sb2FkZXJUeXBlID0gdGhpcy5faW9jdGwubG9hZGVyVHlwZTtcbiAgICAgICAgaW5mby5jdXJyZW50U2VnbWVudEluZGV4ID0gdGhpcy5fY3VycmVudFNlZ21lbnRJbmRleDtcbiAgICAgICAgaW5mby50b3RhbFNlZ21lbnRDb3VudCA9IHRoaXMuX21lZGlhRGF0YVNvdXJjZS5zZWdtZW50cy5sZW5ndGg7XG5cbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgaW5mbyk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zbXV4aW5nQ29udHJvbGxlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IExvZyBmcm9tICcuLi91dGlscy9sb2dnZXIuanMnO1xuaW1wb3J0IExvZ2dpbmdDb250cm9sIGZyb20gJy4uL3V0aWxzL2xvZ2dpbmctY29udHJvbC5qcyc7XG5pbXBvcnQgUG9seWZpbGwgZnJvbSAnLi4vdXRpbHMvcG9seWZpbGwuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nQ29udHJvbGxlciBmcm9tICcuL3RyYW5zbXV4aW5nLWNvbnRyb2xsZXIuanMnO1xuaW1wb3J0IFRyYW5zbXV4aW5nRXZlbnRzIGZyb20gJy4vdHJhbnNtdXhpbmctZXZlbnRzLmpzJztcblxuLyogcG9zdCBtZXNzYWdlIHRvIHdvcmtlcjpcbiAgIGRhdGE6IHtcbiAgICAgICBjbWQ6IHN0cmluZ1xuICAgICAgIHBhcmFtOiBhbnlcbiAgIH1cblxuICAgcmVjZWl2ZSBtZXNzYWdlIGZyb20gd29ya2VyOlxuICAgZGF0YToge1xuICAgICAgIG1zZzogc3RyaW5nLFxuICAgICAgIGRhdGE6IGFueVxuICAgfVxuICovXG5cbmxldCBUcmFuc211eGluZ1dvcmtlciA9IGZ1bmN0aW9uIChzZWxmKSB7XG5cbiAgICBsZXQgVEFHID0gJ1RyYW5zbXV4aW5nV29ya2VyJztcbiAgICBsZXQgY29udHJvbGxlciA9IG51bGw7XG4gICAgbGV0IGxvZ2NhdExpc3RlbmVyID0gb25Mb2djYXRDYWxsYmFjay5iaW5kKHRoaXMpO1xuXG4gICAgUG9seWZpbGwuaW5zdGFsbCgpO1xuXG4gICAgc2VsZi5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgc3dpdGNoIChlLmRhdGEuY21kKSB7XG4gICAgICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyID0gbmV3IFRyYW5zbXV4aW5nQ29udHJvbGxlcihlLmRhdGEucGFyYW1bMF0sIGUuZGF0YS5wYXJhbVsxXSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgb25JT0Vycm9yLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsIG9uRGVtdXhFcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVCwgb25Jbml0U2VnbWVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQsIG9uTWVkaWFTZWdtZW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSwgb25Mb2FkaW5nQ29tcGxldGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GLCBvblJlY292ZXJlZEVhcmx5RW9mLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgb25NZWRpYUluZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRVRBREFUQV9BUlJJVkVELCBvbk1ldGFEYXRhQXJyaXZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlNDUklQVERBVEFfQVJSSVZFRCwgb25TY3JpcHREYXRhQXJyaXZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgb25TdGF0aXN0aWNzSW5mby5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09NTUVORF9TRUVLUE9JTlQsIG9uUmVjb21tZW5kU2Vla3BvaW50LmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZGVzdHJveSc6XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHttc2c6ICdkZXN0cm95ZWQnfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzdGFydCc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5zdGFydCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3RvcCc6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5zdG9wKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzZWVrJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnNlZWsoZS5kYXRhLnBhcmFtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BhdXNlJzpcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLnBhdXNlKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdyZXN1bWUnOlxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIucmVzdW1lKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdsb2dnaW5nX2NvbmZpZyc6IHtcbiAgICAgICAgICAgICAgICBsZXQgY29uZmlnID0gZS5kYXRhLnBhcmFtO1xuICAgICAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLmFwcGx5Q29uZmlnKGNvbmZpZyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmVuYWJsZUNhbGxiYWNrID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLmFkZExvZ0xpc3RlbmVyKGxvZ2NhdExpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBMb2dnaW5nQ29udHJvbC5yZW1vdmVMb2dMaXN0ZW5lcihsb2djYXRMaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBvbkluaXRTZWdtZW50KHR5cGUsIGluaXRTZWdtZW50KSB7XG4gICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGRhdGE6IGluaXRTZWdtZW50XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uob2JqLCBbaW5pdFNlZ21lbnQuZGF0YV0pOyAgLy8gZGF0YTogQXJyYXlCdWZmZXJcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhU2VnbWVudCh0eXBlLCBtZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfU0VHTUVOVCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIGRhdGE6IG1lZGlhU2VnbWVudFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaiwgW21lZGlhU2VnbWVudC5kYXRhXSk7ICAvLyBkYXRhOiBBcnJheUJ1ZmZlclxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTG9hZGluZ0NvbXBsZXRlKCkge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5MT0FESU5HX0NPTVBMRVRFXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uob2JqKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblJlY292ZXJlZEVhcmx5RW9mKCkge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uob2JqKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1lZGlhSW5mbyhtZWRpYUluZm8pIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTyxcbiAgICAgICAgICAgIGRhdGE6IG1lZGlhSW5mb1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NZXRhRGF0YUFycml2ZWQobWV0YWRhdGEpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuTUVUQURBVEFfQVJSSVZFRCxcbiAgICAgICAgICAgIGRhdGE6IG1ldGFkYXRhXG4gICAgICAgIH07XG4gICAgICAgIHNlbGYucG9zdE1lc3NhZ2Uob2JqKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblNjcmlwdERhdGFBcnJpdmVkKGRhdGEpIHtcbiAgICAgICAgbGV0IG9iaiA9IHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuU0NSSVBUREFUQV9BUlJJVkVELFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TdGF0aXN0aWNzSW5mbyhzdGF0SW5mbykge1xuICAgICAgICBsZXQgb2JqID0ge1xuICAgICAgICAgICAgbXNnOiBUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sXG4gICAgICAgICAgICBkYXRhOiBzdGF0SW5mb1xuICAgICAgICB9O1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKG9iaik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25JT0Vycm9yKHR5cGUsIGluZm8pIHtcbiAgICAgICAgc2VsZi5wb3N0TWVzc2FnZSh7XG4gICAgICAgICAgICBtc2c6IFRyYW5zbXV4aW5nRXZlbnRzLklPX0VSUk9SLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgICAgaW5mbzogaW5mb1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkRlbXV4RXJyb3IodHlwZSwgaW5mbykge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuREVNVVhfRVJST1IsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBpbmZvOiBpbmZvXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uUmVjb21tZW5kU2Vla3BvaW50KG1pbGxpc2Vjb25kcykge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1zZzogVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCxcbiAgICAgICAgICAgIGRhdGE6IG1pbGxpc2Vjb25kc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkxvZ2NhdENhbGxiYWNrKHR5cGUsIHN0cikge1xuICAgICAgICBzZWxmLnBvc3RNZXNzYWdlKHtcbiAgICAgICAgICAgIG1zZzogJ2xvZ2NhdF9jYWxsYmFjaycsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICBsb2djYXQ6IHN0clxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbn07XG5cbmV4cG9ydCBkZWZhdWx0IFRyYW5zbXV4aW5nV29ya2VyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgTG9nIGZyb20gJy4uL3V0aWxzL2xvZ2dlci5qcyc7XG5pbXBvcnQgTG9nZ2luZ0NvbnRyb2wgZnJvbSAnLi4vdXRpbHMvbG9nZ2luZy1jb250cm9sLmpzJztcbmltcG9ydCBUcmFuc211eGluZ0NvbnRyb2xsZXIgZnJvbSAnLi90cmFuc211eGluZy1jb250cm9sbGVyLmpzJztcbmltcG9ydCBUcmFuc211eGluZ0V2ZW50cyBmcm9tICcuL3RyYW5zbXV4aW5nLWV2ZW50cy5qcyc7XG5pbXBvcnQgVHJhbnNtdXhpbmdXb3JrZXIgZnJvbSAnLi90cmFuc211eGluZy13b3JrZXIuanMnO1xuaW1wb3J0IE1lZGlhSW5mbyBmcm9tICcuL21lZGlhLWluZm8uanMnO1xuXG5jbGFzcyBUcmFuc211eGVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhRGF0YVNvdXJjZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ1RyYW5zbXV4ZXInO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgICAgIGlmIChjb25maWcuZW5hYmxlV29ya2VyICYmIHR5cGVvZiAoV29ya2VyKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbGV0IHdvcmsgPSByZXF1aXJlKCd3ZWJ3b3JraWZ5Jyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya2VyID0gd29yayhUcmFuc211eGluZ1dvcmtlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya2VyRGVzdHJveWluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgdGhpcy5fb25Xb3JrZXJNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAnaW5pdCcsIHBhcmFtOiBbbWVkaWFEYXRhU291cmNlLCBjb25maWddfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lID0ge1xuICAgICAgICAgICAgICAgICAgICBvbkxvZ2dpbmdDb25maWdDaGFuZ2VkOiB0aGlzLl9vbkxvZ2dpbmdDb25maWdDaGFuZ2VkLmJpbmQodGhpcylcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIExvZ2dpbmdDb250cm9sLnJlZ2lzdGVyTGlzdGVuZXIodGhpcy5lLm9uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAnbG9nZ2luZ19jb25maWcnLCBwYXJhbTogTG9nZ2luZ0NvbnRyb2wuZ2V0Q29uZmlnKCl9KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsICdFcnJvciB3aGlsZSBpbml0aWFsaXplIHRyYW5zbXV4aW5nIHdvcmtlciwgZmFsbGJhY2sgdG8gaW5saW5lIHRyYW5zbXV4aW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd29ya2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gbmV3IFRyYW5zbXV4aW5nQ29udHJvbGxlcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyID0gbmV3IFRyYW5zbXV4aW5nQ29udHJvbGxlcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29udHJvbGxlcikge1xuICAgICAgICAgICAgbGV0IGN0bCA9IHRoaXMuX2NvbnRyb2xsZXI7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1IsIHRoaXMuX29uSU9FcnJvci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgdGhpcy5fb25EZW11eEVycm9yLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVCwgdGhpcy5fb25Jbml0U2VnbWVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCB0aGlzLl9vbk1lZGlhU2VnbWVudC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5MT0FESU5HX0NPTVBMRVRFLCB0aGlzLl9vbkxvYWRpbmdDb21wbGV0ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GLCB0aGlzLl9vblJlY292ZXJlZEVhcmx5RW9mLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX0lORk8sIHRoaXMuX29uTWVkaWFJbmZvLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLk1FVEFEQVRBX0FSUklWRUQsIHRoaXMuX29uTWV0YURhdGFBcnJpdmVkLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgY3RsLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlNDUklQVERBVEFfQVJSSVZFRCwgdGhpcy5fb25TY3JpcHREYXRhQXJyaXZlZC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIGN0bC5vbihUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuX29uU3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBjdGwub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgdGhpcy5fb25SZWNvbW1lbmRTZWVrcG9pbnQuYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3dvcmtlckRlc3Ryb3lpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXJEZXN0cm95aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ2Rlc3Ryb3knfSk7XG4gICAgICAgICAgICAgICAgTG9nZ2luZ0NvbnRyb2wucmVtb3ZlTGlzdGVuZXIodGhpcy5lLm9uTG9nZ2luZ0NvbmZpZ0NoYW5nZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuZSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLmFkZExpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUxpc3RlbmVyKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgaGFzV29ya2VyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fd29ya2VyICE9IG51bGw7XG4gICAgfVxuXG4gICAgb3BlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdzdGFydCd9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICBpZiAodGhpcy5fd29ya2VyKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2Uoe2NtZDogJ3N0b3AnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlZWsobWlsbGlzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAnc2VlaycsIHBhcmFtOiBtaWxsaXNlY29uZHN9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbnRyb2xsZXIuc2VlayhtaWxsaXNlY29uZHMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAncGF1c2UnfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9jb250cm9sbGVyLnBhdXNlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5wb3N0TWVzc2FnZSh7Y21kOiAncmVzdW1lJ30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fY29udHJvbGxlci5yZXN1bWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbkluaXRTZWdtZW50KHR5cGUsIGluaXRTZWdtZW50KSB7XG4gICAgICAgIC8vIGRvIGFzeW5jIGludm9rZVxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQsIHR5cGUsIGluaXRTZWdtZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uTWVkaWFTZWdtZW50KHR5cGUsIG1lZGlhU2VnbWVudCkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCB0eXBlLCBtZWRpYVNlZ21lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25Mb2FkaW5nQ29tcGxldGUoKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25SZWNvdmVyZWRFYXJseUVvZigpIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuUkVDT1ZFUkVEX0VBUkxZX0VPRik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9vbk1lZGlhSW5mbyhtZWRpYUluZm8pIHtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTywgbWVkaWFJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uTWV0YURhdGFBcnJpdmVkKG1ldGFkYXRhKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLk1FVEFEQVRBX0FSUklWRUQsIG1ldGFkYXRhKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uU2NyaXB0RGF0YUFycml2ZWQoZGF0YSkge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5TQ1JJUFREQVRBX0FSUklWRUQsIGRhdGEpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25TdGF0aXN0aWNzSW5mbyhzdGF0aXN0aWNzSW5mbykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHN0YXRpc3RpY3NJbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uSU9FcnJvcih0eXBlLCBpbmZvKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLklPX0VSUk9SLCB0eXBlLCBpbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uRGVtdXhFcnJvcih0eXBlLCBpbmZvKSB7XG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SLCB0eXBlLCBpbmZvKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX29uUmVjb21tZW5kU2Vla3BvaW50KG1pbGxpc2Vjb25kcykge1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5ULCBtaWxsaXNlY29uZHMpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfb25Mb2dnaW5nQ29uZmlnQ2hhbmdlZChjb25maWcpIHtcbiAgICAgICAgaWYgKHRoaXMuX3dvcmtlcikge1xuICAgICAgICAgICAgdGhpcy5fd29ya2VyLnBvc3RNZXNzYWdlKHtjbWQ6ICdsb2dnaW5nX2NvbmZpZycsIHBhcmFtOiBjb25maWd9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbldvcmtlck1lc3NhZ2UoZSkge1xuICAgICAgICBsZXQgbWVzc2FnZSA9IGUuZGF0YTtcbiAgICAgICAgbGV0IGRhdGEgPSBtZXNzYWdlLmRhdGE7XG5cbiAgICAgICAgaWYgKG1lc3NhZ2UubXNnID09PSAnZGVzdHJveWVkJyB8fCB0aGlzLl93b3JrZXJEZXN0cm95aW5nKSB7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXJEZXN0cm95aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIudGVybWluYXRlKCk7XG4gICAgICAgICAgICB0aGlzLl93b3JrZXIgPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc3dpdGNoIChtZXNzYWdlLm1zZykge1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5JTklUX1NFR01FTlQ6XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLk1FRElBX1NFR01FTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhLnR5cGUsIGRhdGEuZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLkxPQURJTkdfQ09NUExFVEU6XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0Y6XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuTUVESUFfSU5GTzpcbiAgICAgICAgICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZGF0YSwgTWVkaWFJbmZvLnByb3RvdHlwZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuTUVUQURBVEFfQVJSSVZFRDpcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuU0NSSVBUREFUQV9BUlJJVkVEOlxuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5TVEFUSVNUSUNTX0lORk86XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KG1lc3NhZ2UubXNnLCBkYXRhKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVHJhbnNtdXhpbmdFdmVudHMuSU9fRVJST1I6XG4gICAgICAgICAgICBjYXNlIFRyYW5zbXV4aW5nRXZlbnRzLkRFTVVYX0VSUk9SOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZywgZGF0YS50eXBlLCBkYXRhLmluZm8pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBUcmFuc211eGluZ0V2ZW50cy5SRUNPTU1FTkRfU0VFS1BPSU5UOlxuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChtZXNzYWdlLm1zZywgZGF0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdsb2djYXRfY2FsbGJhY2snOlxuICAgICAgICAgICAgICAgIExvZy5lbWl0dGVyLmVtaXQoJ2xvZycsIGRhdGEudHlwZSwgZGF0YS5sb2djYXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFuc211eGVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5jb25zdCBNU0VFdmVudHMgPSB7XG4gICAgRVJST1I6ICdlcnJvcicsXG4gICAgU09VUkNFX09QRU46ICdzb3VyY2Vfb3BlbicsXG4gICAgVVBEQVRFX0VORDogJ3VwZGF0ZV9lbmQnLFxuICAgIEJVRkZFUl9GVUxMOiAnYnVmZmVyX2Z1bGwnXG59O1xuXG5leHBvcnQgZGVmYXVsdCBNU0VFdmVudHM7IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IE1TRUV2ZW50cyBmcm9tICcuL21zZS1ldmVudHMuanMnO1xuaW1wb3J0IHtTYW1wbGVJbmZvLCBJRFJTYW1wbGVMaXN0fSBmcm9tICcuL21lZGlhLXNlZ21lbnQtaW5mby5qcyc7XG5pbXBvcnQge0lsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuLy8gTWVkaWEgU291cmNlIEV4dGVuc2lvbnMgY29udHJvbGxlclxuY2xhc3MgTVNFQ29udHJvbGxlciB7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5UQUcgPSAnTVNFQ29udHJvbGxlcic7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9lbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgICAgIGlmICh0aGlzLl9jb25maWcuaXNMaXZlICYmIHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIEZvciBsaXZlIHN0cmVhbSwgZG8gYXV0byBjbGVhbnVwIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmUgPSB7XG4gICAgICAgICAgICBvblNvdXJjZU9wZW46IHRoaXMuX29uU291cmNlT3Blbi5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25Tb3VyY2VFbmRlZDogdGhpcy5fb25Tb3VyY2VFbmRlZC5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25Tb3VyY2VDbG9zZTogdGhpcy5fb25Tb3VyY2VDbG9zZS5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25Tb3VyY2VCdWZmZXJFcnJvcjogdGhpcy5fb25Tb3VyY2VCdWZmZXJFcnJvci5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgb25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQ6IHRoaXMuX29uU291cmNlQnVmZmVyVXBkYXRlRW5kLmJpbmQodGhpcylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9pc0J1ZmZlckZ1bGwgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5faGFzUGVuZGluZ0VvcyA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX3JlcXVpcmVTZXRNZWRpYUR1cmF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdNZWRpYUR1cmF0aW9uID0gMDtcblxuICAgICAgICB0aGlzLl9wZW5kaW5nU291cmNlQnVmZmVySW5pdCA9IFtdO1xuICAgICAgICB0aGlzLl9taW1lVHlwZXMgPSB7XG4gICAgICAgICAgICB2aWRlbzogbnVsbCxcbiAgICAgICAgICAgIGF1ZGlvOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3NvdXJjZUJ1ZmZlcnMgPSB7XG4gICAgICAgICAgICB2aWRlbzogbnVsbCxcbiAgICAgICAgICAgIGF1ZGlvOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2xhc3RJbml0U2VnbWVudHMgPSB7XG4gICAgICAgICAgICB2aWRlbzogbnVsbCxcbiAgICAgICAgICAgIGF1ZGlvOiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50cyA9IHtcbiAgICAgICAgICAgIHZpZGVvOiBbXSxcbiAgICAgICAgICAgIGF1ZGlvOiBbXVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzID0ge1xuICAgICAgICAgICAgdmlkZW86IFtdLFxuICAgICAgICAgICAgYXVkaW86IFtdXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2lkckxpc3QgPSBuZXcgSURSU2FtcGxlTGlzdCgpO1xuICAgIH1cblxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgfHwgdGhpcy5fbWVkaWFTb3VyY2UpIHtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoTWVkaWFFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBhdHRhY2hNZWRpYUVsZW1lbnQobWVkaWFFbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbignTWVkaWFTb3VyY2UgaGFzIGJlZW4gYXR0YWNoZWQgdG8gYW4gSFRNTE1lZGlhRWxlbWVudCEnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbXMgPSB0aGlzLl9tZWRpYVNvdXJjZSA9IG5ldyB3aW5kb3cuTWVkaWFTb3VyY2UoKTtcbiAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuZS5vblNvdXJjZU9wZW4pO1xuICAgICAgICBtcy5hZGRFdmVudExpc3RlbmVyKCdzb3VyY2VlbmRlZCcsIHRoaXMuZS5vblNvdXJjZUVuZGVkKTtcbiAgICAgICAgbXMuYWRkRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCB0aGlzLmUub25Tb3VyY2VDbG9zZSk7XG5cbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbWVkaWFFbGVtZW50O1xuICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZU9iamVjdFVSTCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKHRoaXMuX21lZGlhU291cmNlKTtcbiAgICAgICAgbWVkaWFFbGVtZW50LnNyYyA9IHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMO1xuICAgIH1cblxuICAgIGRldGFjaE1lZGlhRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhU291cmNlKSB7XG4gICAgICAgICAgICBsZXQgbXMgPSB0aGlzLl9tZWRpYVNvdXJjZTtcbiAgICAgICAgICAgIGZvciAobGV0IHR5cGUgaW4gdGhpcy5fc291cmNlQnVmZmVycykge1xuICAgICAgICAgICAgICAgIC8vIHBlbmRpbmcgc2VnbWVudHMgc2hvdWxkIGJlIGRpc2NhcmRcbiAgICAgICAgICAgICAgICBsZXQgcHMgPSB0aGlzLl9wZW5kaW5nU2VnbWVudHNbdHlwZV07XG4gICAgICAgICAgICAgICAgcHMuc3BsaWNlKDAsIHBzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW3R5cGVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzW3R5cGVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLl9sYXN0SW5pdFNlZ21lbnRzW3R5cGVdID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBhbGwgc291cmNlYnVmZmVyc1xuICAgICAgICAgICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV07XG4gICAgICAgICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtcy5yZWFkeVN0YXRlICE9PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbXMgZWRnZSBjYW4gdGhyb3cgYW4gZXJyb3I6IFVuZXhwZWN0ZWQgY2FsbCB0byBtZXRob2Qgb3IgcHJvcGVydHkgYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zLnJlbW92ZVNvdXJjZUJ1ZmZlcihzYik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvZy5lKHRoaXMuVEFHLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNiLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgdGhpcy5lLm9uU291cmNlQnVmZmVyRXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2IucmVtb3ZlRXZlbnRMaXN0ZW5lcigndXBkYXRlZW5kJywgdGhpcy5lLm9uU291cmNlQnVmZmVyVXBkYXRlRW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9taW1lVHlwZXNbdHlwZV0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobXMucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbXMuZW5kT2ZTdHJlYW0oKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBMb2cuZSh0aGlzLlRBRywgZXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuZS5vblNvdXJjZU9wZW4pO1xuICAgICAgICAgICAgbXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlZW5kZWQnLCB0aGlzLmUub25Tb3VyY2VFbmRlZCk7XG4gICAgICAgICAgICBtcy5yZW1vdmVFdmVudExpc3RlbmVyKCdzb3VyY2VjbG9zZScsIHRoaXMuZS5vblNvdXJjZUNsb3NlKTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0ID0gW107XG4gICAgICAgICAgICB0aGlzLl9pc0J1ZmZlckZ1bGwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2lkckxpc3QuY2xlYXIoKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhU291cmNlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5zcmMgPSAnJztcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ3NyYycpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2VPYmplY3RVUkwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhU291cmNlT2JqZWN0VVJMID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZEluaXRTZWdtZW50KGluaXRTZWdtZW50LCBkZWZlcnJlZCkge1xuICAgICAgICBpZiAoIXRoaXMuX21lZGlhU291cmNlIHx8IHRoaXMuX21lZGlhU291cmNlLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgICAgICAgLy8gc291cmNlYnVmZmVyIGNyZWF0aW9uIHJlcXVpcmVzIG1lZGlhU291cmNlLnJlYWR5U3RhdGUgPT09ICdvcGVuJ1xuICAgICAgICAgICAgLy8gc28gd2UgZGVmZXIgdGhlIHNvdXJjZWJ1ZmZlciBjcmVhdGlvbiwgdW50aWwgc291cmNlb3BlbiBldmVudCB0cmlnZ2VyZWRcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTb3VyY2VCdWZmZXJJbml0LnB1c2goaW5pdFNlZ21lbnQpO1xuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgdGhpcyBJbml0U2VnbWVudCBpcyBpbiB0aGUgZnJvbnQgb2YgcGVuZGluZyBzZWdtZW50cyBxdWV1ZVxuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW2luaXRTZWdtZW50LnR5cGVdLnB1c2goaW5pdFNlZ21lbnQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGlzID0gaW5pdFNlZ21lbnQ7XG4gICAgICAgIGxldCBtaW1lVHlwZSA9IGAke2lzLmNvbnRhaW5lcn1gO1xuICAgICAgICBpZiAoaXMuY29kZWMgJiYgaXMuY29kZWMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbWltZVR5cGUgKz0gYDtjb2RlY3M9JHtpcy5jb2RlY31gO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpcnN0SW5pdFNlZ21lbnQgPSBmYWxzZTtcblxuICAgICAgICBMb2cudih0aGlzLlRBRywgJ1JlY2VpdmVkIEluaXRpYWxpemF0aW9uIFNlZ21lbnQsIG1pbWVUeXBlOiAnICsgbWltZVR5cGUpO1xuICAgICAgICB0aGlzLl9sYXN0SW5pdFNlZ21lbnRzW2lzLnR5cGVdID0gaXM7XG5cbiAgICAgICAgaWYgKG1pbWVUeXBlICE9PSB0aGlzLl9taW1lVHlwZXNbaXMudHlwZV0pIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fbWltZVR5cGVzW2lzLnR5cGVdKSB7ICAvLyBlbXB0eSwgZmlyc3QgY2hhbmNlIGNyZWF0ZSBzb3VyY2VidWZmZXJcbiAgICAgICAgICAgICAgICBmaXJzdEluaXRTZWdtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW2lzLnR5cGVdID0gdGhpcy5fbWVkaWFTb3VyY2UuYWRkU291cmNlQnVmZmVyKG1pbWVUeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgc2IuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCB0aGlzLmUub25Tb3VyY2VCdWZmZXJFcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHNiLmFkZEV2ZW50TGlzdGVuZXIoJ3VwZGF0ZWVuZCcsIHRoaXMuZS5vblNvdXJjZUJ1ZmZlclVwZGF0ZUVuZCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoTVNFRXZlbnRzLkVSUk9SLCB7Y29kZTogZXJyb3IuY29kZSwgbXNnOiBlcnJvci5tZXNzYWdlfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCBgTm90aWNlOiAke2lzLnR5cGV9IG1pbWVUeXBlIGNoYW5nZWQsIG9yaWdpbjogJHt0aGlzLl9taW1lVHlwZXNbaXMudHlwZV19LCB0YXJnZXQ6ICR7bWltZVR5cGV9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9taW1lVHlwZXNbaXMudHlwZV0gPSBtaW1lVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZGVmZXJyZWQpIHtcbiAgICAgICAgICAgIC8vIGRlZmVycmVkIG1lYW5zIHRoaXMgSW5pdFNlZ21lbnQgaGFzIGJlZW4gcHVzaGVkIHRvIHBlbmRpbmdTZWdtZW50cyBxdWV1ZVxuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW2lzLnR5cGVdLnB1c2goaXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZmlyc3RJbml0U2VnbWVudCkgeyAgLy8gYXBwZW5kIGltbWVkaWF0ZWx5IG9ubHkgaWYgaW5pdCBzZWdtZW50IGluIHN1YnNlcXVlbmNlXG4gICAgICAgICAgICBpZiAodGhpcy5fc291cmNlQnVmZmVyc1tpcy50eXBlXSAmJiAhdGhpcy5fc291cmNlQnVmZmVyc1tpcy50eXBlXS51cGRhdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoQnJvd3Nlci5zYWZhcmkgJiYgaXMuY29udGFpbmVyID09PSAnYXVkaW8vbXBlZycgJiYgaXMubWVkaWFEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIC8vICdhdWRpby9tcGVnJyB0cmFjayB1bmRlciBTYWZhcmkgbWF5IGNhdXNlIE1lZGlhRWxlbWVudCdzIGR1cmF0aW9uIHRvIGJlIE5hTlxuICAgICAgICAgICAgLy8gTWFudWFsbHkgY29ycmVjdCBNZWRpYVNvdXJjZS5kdXJhdGlvbiB0byBtYWtlIHByb2dyZXNzIGJhciBzZWVrYWJsZSwgYW5kIHJlcG9ydCByaWdodCBkdXJhdGlvblxuICAgICAgICAgICAgdGhpcy5fcmVxdWlyZVNldE1lZGlhRHVyYXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ01lZGlhRHVyYXRpb24gPSBpcy5tZWRpYUR1cmF0aW9uIC8gMTAwMDsgIC8vIGluIHNlY29uZHNcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1lZGlhU291cmNlRHVyYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFwcGVuZE1lZGlhU2VnbWVudChtZWRpYVNlZ21lbnQpIHtcbiAgICAgICAgbGV0IG1zID0gbWVkaWFTZWdtZW50O1xuICAgICAgICB0aGlzLl9wZW5kaW5nU2VnbWVudHNbbXMudHlwZV0ucHVzaChtcyk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cFNvdXJjZUJ1ZmZlciAmJiB0aGlzLl9uZWVkQ2xlYW51cFNvdXJjZUJ1ZmZlcigpKSB7XG4gICAgICAgICAgICB0aGlzLl9kb0NsZWFudXBTb3VyY2VCdWZmZXIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbbXMudHlwZV07XG4gICAgICAgIGlmIChzYiAmJiAhc2IudXBkYXRpbmcgJiYgIXRoaXMuX2hhc1BlbmRpbmdSZW1vdmVSYW5nZXMoKSkge1xuICAgICAgICAgICAgdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2VlayhzZWNvbmRzKSB7XG4gICAgICAgIC8vIHJlbW92ZSBhbGwgYXBwZW5kZWQgYnVmZmVyc1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIHRoaXMuX3NvdXJjZUJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhYm9ydCBjdXJyZW50IGJ1ZmZlciBhcHBlbmQgYWxnb3JpdGhtXG4gICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhU291cmNlLnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHJhbmdlIHJlbW92YWwgYWxnb3JpdGhtIGlzIHJ1bm5pbmcsIEludmFsaWRTdGF0ZUVycm9yIHdpbGwgYmUgdGhyb3dlZFxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgaXQuXG4gICAgICAgICAgICAgICAgICAgIHNiLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSURSTGlzdCBzaG91bGQgYmUgY2xlYXJcbiAgICAgICAgICAgIHRoaXMuX2lkckxpc3QuY2xlYXIoKTtcblxuICAgICAgICAgICAgLy8gcGVuZGluZyBzZWdtZW50cyBzaG91bGQgYmUgZGlzY2FyZFxuICAgICAgICAgICAgbGV0IHBzID0gdGhpcy5fcGVuZGluZ1NlZ21lbnRzW3R5cGVdO1xuICAgICAgICAgICAgcHMuc3BsaWNlKDAsIHBzLmxlbmd0aCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIC8vIFBhcmVudCBNZWRpYVNvdXJjZSBvYmplY3QgaGFzIGJlZW4gZGV0YWNoZWQgZnJvbSBIVE1MTWVkaWFFbGVtZW50XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHJlY29yZCByYW5nZXMgdG8gYmUgcmVtb3ZlIGZyb20gU291cmNlQnVmZmVyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNiLmJ1ZmZlcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gc2IuYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICAgICAgbGV0IGVuZCA9IHNiLmJ1ZmZlcmVkLmVuZChpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzW3R5cGVdLnB1c2goe3N0YXJ0LCBlbmR9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaWYgc2IgaXMgbm90IHVwZGF0aW5nLCBsZXQncyByZW1vdmUgcmFuZ2VzIG5vdyFcbiAgICAgICAgICAgIGlmICghc2IudXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kb1JlbW92ZVJhbmdlcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTYWZhcmkgMTAgbWF5IGdldCBJbnZhbGlkU3RhdGVFcnJvciBpbiB0aGUgbGF0ZXIgYXBwZW5kQnVmZmVyKCkgYWZ0ZXIgU291cmNlQnVmZmVyLnJlbW92ZSgpIGNhbGxcbiAgICAgICAgICAgIC8vIEludGVybmFsIHBhcnNlcidzIHN0YXRlIG1heSBiZSBpbnZhbGlkIGF0IHRoaXMgdGltZS4gUmUtYXBwZW5kIGxhc3QgSW5pdFNlZ21lbnQgdG8gd29ya2Fyb3VuZC5cbiAgICAgICAgICAgIC8vIFJlbGF0ZWQgaXNzdWU6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTkyMzBcbiAgICAgICAgICAgIGlmIChCcm93c2VyLnNhZmFyaSkge1xuICAgICAgICAgICAgICAgIGxldCBsYXN0SW5pdFNlZ21lbnQgPSB0aGlzLl9sYXN0SW5pdFNlZ21lbnRzW3R5cGVdO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0SW5pdFNlZ21lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZ21lbnRzW3R5cGVdLnB1c2gobGFzdEluaXRTZWdtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG9BcHBlbmRTZWdtZW50cygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZW5kT2ZTdHJlYW0oKSB7XG4gICAgICAgIGxldCBtcyA9IHRoaXMuX21lZGlhU291cmNlO1xuICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzO1xuICAgICAgICBpZiAoIW1zIHx8IG1zLnJlYWR5U3RhdGUgIT09ICdvcGVuJykge1xuICAgICAgICAgICAgaWYgKG1zICYmIG1zLnJlYWR5U3RhdGUgPT09ICdjbG9zZWQnICYmIHRoaXMuX2hhc1BlbmRpbmdTZWdtZW50cygpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgTWVkaWFTb3VyY2UgaGFzbid0IHR1cm5lZCBpbnRvIG9wZW4gc3RhdGUsIGFuZCB0aGVyZSdyZSBwZW5kaW5nIHNlZ21lbnRzXG4gICAgICAgICAgICAgICAgLy8gTWFyayBwZW5kaW5nIGVuZE9mU3RyZWFtLCBkZWZlciBjYWxsIHVudGlsIGFsbCBwZW5kaW5nIHNlZ21lbnRzIGFwcGVuZGVkIGNvbXBsZXRlXG4gICAgICAgICAgICAgICAgdGhpcy5faGFzUGVuZGluZ0VvcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNiLnZpZGVvICYmIHNiLnZpZGVvLnVwZGF0aW5nIHx8IHNiLmF1ZGlvICYmIHNiLmF1ZGlvLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAvLyBJZiBhbnkgc291cmNlYnVmZmVyIGlzIHVwZGF0aW5nLCBkZWZlciBlbmRPZlN0cmVhbSBvcGVyYXRpb25cbiAgICAgICAgICAgIC8vIFNlZSBfb25Tb3VyY2VCdWZmZXJVcGRhdGVFbmQoKVxuICAgICAgICAgICAgdGhpcy5faGFzUGVuZGluZ0VvcyA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNQZW5kaW5nRW9zID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBOb3RpZnkgbWVkaWEgZGF0YSBsb2FkaW5nIGNvbXBsZXRlXG4gICAgICAgICAgICAvLyBUaGlzIGlzIGhlbHBmdWwgZm9yIGNvcnJlY3RpbmcgdG90YWwgZHVyYXRpb24gdG8gbWF0Y2ggbGFzdCBtZWRpYSBzZWdtZW50XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgTWVkaWFFbGVtZW50J3MgZW5kZWQgZXZlbnQgbWF5IG5vdCBiZSB0cmlnZ2VyZWRcbiAgICAgICAgICAgIG1zLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXROZWFyZXN0S2V5ZnJhbWUoZHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZHJMaXN0LmdldExhc3RTeW5jUG9pbnRCZWZvcmVEdHMoZHRzKTtcbiAgICB9XG5cbiAgICBfbmVlZENsZWFudXBTb3VyY2VCdWZmZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwU291cmNlQnVmZmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG5cbiAgICAgICAgZm9yIChsZXQgdHlwZSBpbiB0aGlzLl9zb3VyY2VCdWZmZXJzKSB7XG4gICAgICAgICAgICBsZXQgc2IgPSB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdO1xuICAgICAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJ1ZmZlcmVkID0gc2IuYnVmZmVyZWQ7XG4gICAgICAgICAgICAgICAgaWYgKGJ1ZmZlcmVkLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSAtIGJ1ZmZlcmVkLnN0YXJ0KDApID49IHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cE1heEJhY2t3YXJkRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9kb0NsZWFudXBTb3VyY2VCdWZmZXIoKSB7XG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcblxuICAgICAgICBmb3IgKGxldCB0eXBlIGluIHRoaXMuX3NvdXJjZUJ1ZmZlcnMpIHtcbiAgICAgICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV07XG4gICAgICAgICAgICBpZiAoc2IpIHtcbiAgICAgICAgICAgICAgICBsZXQgYnVmZmVyZWQgPSBzYi5idWZmZXJlZDtcbiAgICAgICAgICAgICAgICBsZXQgZG9SZW1vdmUgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0ID0gYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbmQgPSBidWZmZXJlZC5lbmQoaSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXJ0IDw9IGN1cnJlbnRUaW1lICYmIGN1cnJlbnRUaW1lIDwgZW5kICsgMykgeyAgLy8gcGFkZGluZyAzIHNlY29uZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGltZSAtIHN0YXJ0ID49IHRoaXMuX2NvbmZpZy5hdXRvQ2xlYW51cE1heEJhY2t3YXJkRHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb1JlbW92ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlbW92ZUVuZCA9IGN1cnJlbnRUaW1lIC0gdGhpcy5fY29uZmlnLmF1dG9DbGVhbnVwTWluQmFja3dhcmREdXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzW3R5cGVdLnB1c2goe3N0YXJ0OiBzdGFydCwgZW5kOiByZW1vdmVFbmR9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbmQgPCBjdXJyZW50VGltZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZG9SZW1vdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXS5wdXNoKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZG9SZW1vdmUgJiYgIXNiLnVwZGF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RvUmVtb3ZlUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZU1lZGlhU291cmNlRHVyYXRpb24oKSB7XG4gICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnM7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSA9PT0gMCB8fCB0aGlzLl9tZWRpYVNvdXJjZS5yZWFkeVN0YXRlICE9PSAnb3BlbicpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHNiLnZpZGVvICYmIHNiLnZpZGVvLnVwZGF0aW5nKSB8fCAoc2IuYXVkaW8gJiYgc2IuYXVkaW8udXBkYXRpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX21lZGlhU291cmNlLmR1cmF0aW9uO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5fcGVuZGluZ01lZGlhRHVyYXRpb247XG5cbiAgICAgICAgaWYgKHRhcmdldCA+IDAgJiYgKGlzTmFOKGN1cnJlbnQpIHx8IHRhcmdldCA+IGN1cnJlbnQpKSB7XG4gICAgICAgICAgICBMb2cudih0aGlzLlRBRywgYFVwZGF0ZSBNZWRpYVNvdXJjZSBkdXJhdGlvbiBmcm9tICR7Y3VycmVudH0gdG8gJHt0YXJnZXR9YCk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYVNvdXJjZS5kdXJhdGlvbiA9IHRhcmdldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX3JlcXVpcmVTZXRNZWRpYUR1cmF0aW9uID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdNZWRpYUR1cmF0aW9uID0gMDtcbiAgICB9XG5cbiAgICBfZG9SZW1vdmVSYW5nZXMoKSB7XG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlcykge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdIHx8IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0udXBkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzYiA9IHRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV07XG4gICAgICAgICAgICBsZXQgcmFuZ2VzID0gdGhpcy5fcGVuZGluZ1JlbW92ZVJhbmdlc1t0eXBlXTtcbiAgICAgICAgICAgIHdoaWxlIChyYW5nZXMubGVuZ3RoICYmICFzYi51cGRhdGluZykge1xuICAgICAgICAgICAgICAgIGxldCByYW5nZSA9IHJhbmdlcy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHNiLnJlbW92ZShyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kb0FwcGVuZFNlZ21lbnRzKCkge1xuICAgICAgICBsZXQgcGVuZGluZ1NlZ21lbnRzID0gdGhpcy5fcGVuZGluZ1NlZ21lbnRzO1xuXG4gICAgICAgIGZvciAobGV0IHR5cGUgaW4gcGVuZGluZ1NlZ21lbnRzKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3NvdXJjZUJ1ZmZlcnNbdHlwZV0gfHwgdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXS51cGRhdGluZykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGVuZGluZ1NlZ21lbnRzW3R5cGVdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgc2VnbWVudCA9IHBlbmRpbmdTZWdtZW50c1t0eXBlXS5zaGlmdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNlZ21lbnQudGltZXN0YW1wT2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBNUEVHIGF1ZGlvIHN0cmVhbSBpbiBNU0UsIGlmIHVuYnVmZmVyZWQtc2Vla2luZyBvY2N1cnJlZFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIGV4cGxpY2l0bHkgc2V0IHRpbWVzdGFtcE9mZnNldCB0byB0aGUgZGVzaXJlZCBwb2ludCBpbiB0aW1lbGluZSBmb3IgbXBlZyBTb3VyY2VCdWZmZXIuXG4gICAgICAgICAgICAgICAgICAgIGxldCBjdXJyZW50T2Zmc2V0ID0gdGhpcy5fc291cmNlQnVmZmVyc1t0eXBlXS50aW1lc3RhbXBPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YXJnZXRPZmZzZXQgPSBzZWdtZW50LnRpbWVzdGFtcE9mZnNldCAvIDEwMDA7ICAvLyBpbiBzZWNvbmRzXG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IGRlbHRhID0gTWF0aC5hYnMoY3VycmVudE9mZnNldCAtIHRhcmdldE9mZnNldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWx0YSA+IDAuMSkgeyAgLy8gSWYgdGltZSBkZWx0YSA+IDEwMG1zXG4gICAgICAgICAgICAgICAgICAgICAgICBMb2cudih0aGlzLlRBRywgYFVwZGF0ZSBNUEVHIGF1ZGlvIHRpbWVzdGFtcE9mZnNldCBmcm9tICR7Y3VycmVudE9mZnNldH0gdG8gJHt0YXJnZXRPZmZzZXR9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLnRpbWVzdGFtcE9mZnNldCA9IHRhcmdldE9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2VnbWVudC50aW1lc3RhbXBPZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCFzZWdtZW50LmRhdGEgfHwgc2VnbWVudC5kYXRhLmJ5dGVMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGVtcHR5IGJ1ZmZlclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zb3VyY2VCdWZmZXJzW3R5cGVdLmFwcGVuZEJ1ZmZlcihzZWdtZW50LmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0J1ZmZlckZ1bGwgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICd2aWRlbycgJiYgc2VnbWVudC5oYXNPd25Qcm9wZXJ0eSgnaW5mbycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pZHJMaXN0LmFwcGVuZEFycmF5KHNlZ21lbnQuaW5mby5zeW5jUG9pbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWdtZW50c1t0eXBlXS51bnNoaWZ0KHNlZ21lbnQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gMjIpIHsgIC8vIFF1b3RhRXhjZWVkZWRFcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgLyogTm90aWNlIHRoYXQgRmlyZUZveCBtYXkgbm90IHRocm93IFF1b3RhRXhjZWVkZWRFcnJvciBpZiBTb3VyY2VCdWZmZXIgaXMgZnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICogQ3VycmVudGx5IHdlIGNhbiBvbmx5IGRvIGxhenktbG9hZCB0byBhdm9pZCBTb3VyY2VCdWZmZXIgYmVjb21lIHNjYXR0ZXJlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqIFNvdXJjZUJ1ZmZlciBldmljdGlvbiBwb2xpY3kgbWF5IGJlIGNoYW5nZWQgaW4gZnV0dXJlIHZlcnNpb24gb2YgRmlyZUZveC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgICAgICAgICAgICAgKiBSZWxhdGVkIGlzc3VlczpcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEyNzk4ODVcbiAgICAgICAgICAgICAgICAgICAgICAgICAqIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTEyODAwMjNcbiAgICAgICAgICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXBvcnQgYnVmZmVyIGZ1bGwsIGFib3J0IG5ldHdvcmsgSU9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5faXNCdWZmZXJGdWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KE1TRUV2ZW50cy5CVUZGRVJfRlVMTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9pc0J1ZmZlckZ1bGwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgTG9nLmUodGhpcy5UQUcsIGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KE1TRUV2ZW50cy5FUlJPUiwge2NvZGU6IGVycm9yLmNvZGUsIG1zZzogZXJyb3IubWVzc2FnZX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29uU291cmNlT3BlbigpIHtcbiAgICAgICAgTG9nLnYodGhpcy5UQUcsICdNZWRpYVNvdXJjZSBvblNvdXJjZU9wZW4nKTtcbiAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlb3BlbicsIHRoaXMuZS5vblNvdXJjZU9wZW4pO1xuICAgICAgICAvLyBkZWZlcnJlZCBzb3VyY2VidWZmZXIgY3JlYXRpb24gLyBpbml0aWFsaXphdGlvblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NvdXJjZUJ1ZmZlckluaXQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbGV0IHBlbmRpbmdzID0gdGhpcy5fcGVuZGluZ1NvdXJjZUJ1ZmZlckluaXQ7XG4gICAgICAgICAgICB3aGlsZSAocGVuZGluZ3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlZ21lbnQgPSBwZW5kaW5ncy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kSW5pdFNlZ21lbnQoc2VnbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gdGhlcmUgbWF5IGJlIHNvbWUgcGVuZGluZyBtZWRpYSBzZWdtZW50cywgYXBwZW5kIHRoZW1cbiAgICAgICAgaWYgKHRoaXMuX2hhc1BlbmRpbmdTZWdtZW50cygpKSB7XG4gICAgICAgICAgICB0aGlzLl9kb0FwcGVuZFNlZ21lbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KE1TRUV2ZW50cy5TT1VSQ0VfT1BFTik7XG4gICAgfVxuXG4gICAgX29uU291cmNlRW5kZWQoKSB7XG4gICAgICAgIC8vIGZpcmVkIG9uIGVuZE9mU3RyZWFtXG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnTWVkaWFTb3VyY2Ugb25Tb3VyY2VFbmRlZCcpO1xuICAgIH1cblxuICAgIF9vblNvdXJjZUNsb3NlKCkge1xuICAgICAgICAvLyBmaXJlZCBvbiBkZXRhY2hpbmcgZnJvbSBtZWRpYSBlbGVtZW50XG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnTWVkaWFTb3VyY2Ugb25Tb3VyY2VDbG9zZScpO1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFTb3VyY2UgJiYgdGhpcy5lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZW9wZW4nLCB0aGlzLmUub25Tb3VyY2VPcGVuKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhU291cmNlLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NvdXJjZWVuZGVkJywgdGhpcy5lLm9uU291cmNlRW5kZWQpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFTb3VyY2UucmVtb3ZlRXZlbnRMaXN0ZW5lcignc291cmNlY2xvc2UnLCB0aGlzLmUub25Tb3VyY2VDbG9zZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaGFzUGVuZGluZ1NlZ21lbnRzKCkge1xuICAgICAgICBsZXQgcHMgPSB0aGlzLl9wZW5kaW5nU2VnbWVudHM7XG4gICAgICAgIHJldHVybiBwcy52aWRlby5sZW5ndGggPiAwIHx8IHBzLmF1ZGlvLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgX2hhc1BlbmRpbmdSZW1vdmVSYW5nZXMoKSB7XG4gICAgICAgIGxldCBwcnIgPSB0aGlzLl9wZW5kaW5nUmVtb3ZlUmFuZ2VzO1xuICAgICAgICByZXR1cm4gcHJyLnZpZGVvLmxlbmd0aCA+IDAgfHwgcHJyLmF1ZGlvLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgX29uU291cmNlQnVmZmVyVXBkYXRlRW5kKCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWlyZVNldE1lZGlhRHVyYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX3VwZGF0ZU1lZGlhU291cmNlRHVyYXRpb24oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9oYXNQZW5kaW5nUmVtb3ZlUmFuZ2VzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvUmVtb3ZlUmFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5faGFzUGVuZGluZ1NlZ21lbnRzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuX2RvQXBwZW5kU2VnbWVudHMoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9oYXNQZW5kaW5nRW9zKSB7XG4gICAgICAgICAgICB0aGlzLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KE1TRUV2ZW50cy5VUERBVEVfRU5EKTtcbiAgICB9XG5cbiAgICBfb25Tb3VyY2VCdWZmZXJFcnJvcihlKSB7XG4gICAgICAgIExvZy5lKHRoaXMuVEFHLCBgU291cmNlQnVmZmVyIEVycm9yOiAke2V9YCk7XG4gICAgICAgIC8vIHRoaXMgZXJyb3IgbWlnaHQgbm90IGFsd2F5cyBiZSBmYXRhbCwganVzdCBpZ25vcmUgaXRcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTVNFQ29udHJvbGxlcjsiLCIvKlxuICogQ29weXJpZ2h0IChDKSAyMDE2IEJpbGliaWxpLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIEBhdXRob3IgemhlbmcgcWlhbiA8eHFxQHhxcS5pbT5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtMb2FkZXJFcnJvcnN9IGZyb20gJy4uL2lvL2xvYWRlci5qcyc7XG5pbXBvcnQgRGVtdXhFcnJvcnMgZnJvbSAnLi4vZGVtdXgvZGVtdXgtZXJyb3JzLmpzJztcblxuZXhwb3J0IGNvbnN0IEVycm9yVHlwZXMgPSB7XG4gICAgTkVUV09SS19FUlJPUjogJ05ldHdvcmtFcnJvcicsXG4gICAgTUVESUFfRVJST1I6ICdNZWRpYUVycm9yJyxcbiAgICBPVEhFUl9FUlJPUjogJ090aGVyRXJyb3InXG59O1xuXG5leHBvcnQgY29uc3QgRXJyb3JEZXRhaWxzID0ge1xuICAgIE5FVFdPUktfRVhDRVBUSU9OOiBMb2FkZXJFcnJvcnMuRVhDRVBUSU9OLFxuICAgIE5FVFdPUktfU1RBVFVTX0NPREVfSU5WQUxJRDogTG9hZGVyRXJyb3JzLkhUVFBfU1RBVFVTX0NPREVfSU5WQUxJRCxcbiAgICBORVRXT1JLX1RJTUVPVVQ6IExvYWRlckVycm9ycy5DT05ORUNUSU5HX1RJTUVPVVQsXG4gICAgTkVUV09SS19VTlJFQ09WRVJBQkxFX0VBUkxZX0VPRjogTG9hZGVyRXJyb3JzLlVOUkVDT1ZFUkFCTEVfRUFSTFlfRU9GLFxuXG4gICAgTUVESUFfTVNFX0VSUk9SOiAnTWVkaWFNU0VFcnJvcicsXG5cbiAgICBNRURJQV9GT1JNQVRfRVJST1I6IERlbXV4RXJyb3JzLkZPUk1BVF9FUlJPUixcbiAgICBNRURJQV9GT1JNQVRfVU5TVVBQT1JURUQ6IERlbXV4RXJyb3JzLkZPUk1BVF9VTlNVUFBPUlRFRCxcbiAgICBNRURJQV9DT0RFQ19VTlNVUFBPUlRFRDogRGVtdXhFcnJvcnMuQ09ERUNfVU5TVVBQT1JURURcbn07IiwiLypcbiAqIENvcHlyaWdodCAoQykgMjAxNiBCaWxpYmlsaS4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBAYXV0aG9yIHpoZW5nIHFpYW4gPHhxcUB4cXEuaW0+XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCBFdmVudEVtaXR0ZXIgZnJvbSAnZXZlbnRzJztcbmltcG9ydCBMb2cgZnJvbSAnLi4vdXRpbHMvbG9nZ2VyLmpzJztcbmltcG9ydCBCcm93c2VyIGZyb20gJy4uL3V0aWxzL2Jyb3dzZXIuanMnO1xuaW1wb3J0IFBsYXllckV2ZW50cyBmcm9tICcuL3BsYXllci1ldmVudHMuanMnO1xuaW1wb3J0IFRyYW5zbXV4ZXIgZnJvbSAnLi4vY29yZS90cmFuc211eGVyLmpzJztcbmltcG9ydCBUcmFuc211eGluZ0V2ZW50cyBmcm9tICcuLi9jb3JlL3RyYW5zbXV4aW5nLWV2ZW50cy5qcyc7XG5pbXBvcnQgTVNFQ29udHJvbGxlciBmcm9tICcuLi9jb3JlL21zZS1jb250cm9sbGVyLmpzJztcbmltcG9ydCBNU0VFdmVudHMgZnJvbSAnLi4vY29yZS9tc2UtZXZlbnRzLmpzJztcbmltcG9ydCB7RXJyb3JUeXBlcywgRXJyb3JEZXRhaWxzfSBmcm9tICcuL3BsYXllci1lcnJvcnMuanMnO1xuaW1wb3J0IHtjcmVhdGVEZWZhdWx0Q29uZmlnfSBmcm9tICcuLi9jb25maWcuanMnO1xuaW1wb3J0IHtJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24sIElsbGVnYWxTdGF0ZUV4Y2VwdGlvbn0gZnJvbSAnLi4vdXRpbHMvZXhjZXB0aW9uLmpzJztcblxuY2xhc3MgRmx2UGxheWVyIHtcblxuICAgIGNvbnN0cnVjdG9yKG1lZGlhRGF0YVNvdXJjZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMuVEFHID0gJ0ZsdlBsYXllcic7XG4gICAgICAgIHRoaXMuX3R5cGUgPSAnRmx2UGxheWVyJztcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBjcmVhdGVEZWZhdWx0Q29uZmlnKCk7XG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLl9jb25maWcsIGNvbmZpZyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobWVkaWFEYXRhU291cmNlLnR5cGUudG9Mb3dlckNhc2UoKSAhPT0gJ2ZsdicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ0ZsdlBsYXllciByZXF1aXJlcyBhbiBmbHYgTWVkaWFEYXRhU291cmNlIGlucHV0IScpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lZGlhRGF0YVNvdXJjZS5pc0xpdmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5pc0xpdmUgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5lID0ge1xuICAgICAgICAgICAgb252TG9hZGVkTWV0YWRhdGE6IHRoaXMuX29udkxvYWRlZE1ldGFkYXRhLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvbnZTZWVraW5nOiB0aGlzLl9vbnZTZWVraW5nLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvbnZDYW5QbGF5OiB0aGlzLl9vbnZDYW5QbGF5LmJpbmQodGhpcyksXG4gICAgICAgICAgICBvbnZTdGFsbGVkOiB0aGlzLl9vbnZTdGFsbGVkLmJpbmQodGhpcyksXG4gICAgICAgICAgICBvbnZQcm9ncmVzczogdGhpcy5fb252UHJvZ3Jlc3MuYmluZCh0aGlzKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChzZWxmLnBlcmZvcm1hbmNlICYmIHNlbGYucGVyZm9ybWFuY2Uubm93KSB7XG4gICAgICAgICAgICB0aGlzLl9ub3cgPSBzZWxmLnBlcmZvcm1hbmNlLm5vdy5iaW5kKHNlbGYucGVyZm9ybWFuY2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbm93ID0gRGF0ZS5ub3c7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsOyAgLy8gaW4gc2Vjb25kc1xuICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zZWVrcG9pbnRSZWNvcmQgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG1lZGlhRGF0YVNvdXJjZTtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbXNlY3RsID0gbnVsbDtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlciA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fbXNlU291cmNlT3BlbmVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhc1BlbmRpbmdMb2FkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3JlY2VpdmVkQ2FuUGxheSA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMuX21lZGlhSW5mbyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3N0YXRpc3RpY3NJbmZvID0gbnVsbDtcblxuICAgICAgICBsZXQgY2hyb21lTmVlZElEUkZpeCA9IChCcm93c2VyLmNocm9tZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChCcm93c2VyLnZlcnNpb24ubWFqb3IgPCA1MCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChCcm93c2VyLnZlcnNpb24ubWFqb3IgPT09IDUwICYmIEJyb3dzZXIudmVyc2lvbi5idWlsZCA8IDI2NjEpKSk7XG4gICAgICAgIHRoaXMuX2Fsd2F5c1NlZWtLZXlmcmFtZSA9IChjaHJvbWVOZWVkSURSRml4IHx8IEJyb3dzZXIubXNlZGdlIHx8IEJyb3dzZXIubXNpZSkgPyB0cnVlIDogZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Fsd2F5c1NlZWtLZXlmcmFtZSkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLmFjY3VyYXRlU2VlayA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9wcm9ncmVzc0NoZWNrZXIpO1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fdHJhbnNtdXhlcikge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLmRldGFjaE1lZGlhRWxlbWVudCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZSA9IG51bGw7XG4gICAgICAgIHRoaXMuX21lZGlhRGF0YVNvdXJjZSA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gUGxheWVyRXZlbnRzLk1FRElBX0lORk8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUluZm8gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLk1FRElBX0lORk8sIHRoaXMubWVkaWFJbmZvKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChldmVudCA9PT0gUGxheWVyRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTykge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NJbmZvICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuc3RhdGlzdGljc0luZm8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBhdHRhY2hNZWRpYUVsZW1lbnQobWVkaWFFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG1lZGlhRWxlbWVudDtcbiAgICAgICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5lLm9udkxvYWRlZE1ldGFkYXRhKTtcbiAgICAgICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3NlZWtpbmcnLCB0aGlzLmUub252U2Vla2luZyk7XG4gICAgICAgIG1lZGlhRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjYW5wbGF5JywgdGhpcy5lLm9udkNhblBsYXkpO1xuICAgICAgICBtZWRpYUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3RhbGxlZCcsIHRoaXMuZS5vbnZTdGFsbGVkKTtcbiAgICAgICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5lLm9udlByb2dyZXNzKTtcblxuICAgICAgICB0aGlzLl9tc2VjdGwgPSBuZXcgTVNFQ29udHJvbGxlcih0aGlzLl9jb25maWcpO1xuXG4gICAgICAgIHRoaXMuX21zZWN0bC5vbihNU0VFdmVudHMuVVBEQVRFX0VORCwgdGhpcy5fb25tc2VVcGRhdGVFbmQuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuX21zZWN0bC5vbihNU0VFdmVudHMuQlVGRkVSX0ZVTEwsIHRoaXMuX29ubXNlQnVmZmVyRnVsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5fbXNlY3RsLm9uKE1TRUV2ZW50cy5TT1VSQ0VfT1BFTiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbXNlU291cmNlT3BlbmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9oYXNQZW5kaW5nTG9hZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhc1BlbmRpbmdMb2FkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9tc2VjdGwub24oTVNFRXZlbnRzLkVSUk9SLCAoaW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5FUlJPUixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFcnJvclR5cGVzLk1FRElBX0VSUk9SLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVycm9yRGV0YWlscy5NRURJQV9NU0VfRVJST1IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb1xuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fbXNlY3RsLmF0dGFjaE1lZGlhRWxlbWVudChtZWRpYUVsZW1lbnQpO1xuXG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBtZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBJRTExIG1heSB0aHJvdyBJbnZhbGlkU3RhdGVFcnJvciBpZiByZWFkeVN0YXRlID09PSAwXG4gICAgICAgICAgICAgICAgLy8gV2UgY2FuIGRlZmVyIHNldCBjdXJyZW50VGltZSBvcGVyYXRpb24gYWZ0ZXIgbG9hZGVkbWV0YWRhdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRldGFjaE1lZGlhRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fbXNlY3RsLmRldGFjaE1lZGlhRWxlbWVudCgpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5lLm9udkxvYWRlZE1ldGFkYXRhKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWVraW5nJywgdGhpcy5lLm9udlNlZWtpbmcpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXknLCB0aGlzLmUub252Q2FuUGxheSk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc3RhbGxlZCcsIHRoaXMuZS5vbnZTdGFsbGVkKTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIHRoaXMuZS5vbnZQcm9ncmVzcyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tc2VjdGwpIHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLl9tc2VjdGwgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0hUTUxNZWRpYUVsZW1lbnQgbXVzdCBiZSBhdHRhY2hlZCBiZWZvcmUgbG9hZCgpIScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90cmFuc211eGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbFN0YXRlRXhjZXB0aW9uKCdGbHZQbGF5ZXIubG9hZCgpIGhhcyBiZWVuIGNhbGxlZCwgcGxlYXNlIGNhbGwgdW5sb2FkKCkgZmlyc3QhJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2hhc1BlbmRpbmdMb2FkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmRlZmVyTG9hZEFmdGVyU291cmNlT3BlbiAmJiB0aGlzLl9tc2VTb3VyY2VPcGVuZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLl9oYXNQZW5kaW5nTG9hZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50LnJlYWR5U3RhdGUgPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWU7XG4gICAgICAgICAgICAvLyBJRTExIG1heSB0aHJvdyBJbnZhbGlkU3RhdGVFcnJvciBpZiByZWFkeVN0YXRlID09PSAwXG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlciA9IG5ldyBUcmFuc211eGVyKHRoaXMuX21lZGlhRGF0YVNvdXJjZSwgdGhpcy5fY29uZmlnKTtcblxuICAgICAgICB0aGlzLl90cmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLklOSVRfU0VHTUVOVCwgKHR5cGUsIGlzKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tc2VjdGwuYXBwZW5kSW5pdFNlZ21lbnQoaXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9TRUdNRU5ULCAodHlwZSwgbXMpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5hcHBlbmRNZWRpYVNlZ21lbnQobXMpO1xuXG4gICAgICAgICAgICAvLyBsYXp5TG9hZCBjaGVja1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5sYXp5TG9hZCAmJiAhdGhpcy5fY29uZmlnLmlzTGl2ZSkge1xuICAgICAgICAgICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcbiAgICAgICAgICAgICAgICBpZiAobXMuaW5mby5lbmREdHMgPj0gKGN1cnJlbnRUaW1lICsgdGhpcy5fY29uZmlnLmxhenlMb2FkTWF4RHVyYXRpb24pICogMTAwMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCAnTWF4aW11bSBidWZmZXJpbmcgZHVyYXRpb24gZXhjZWVkZWQsIHN1c3BlbmQgdHJhbnNtdXhpbmcgdGFzaycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc3VzcGVuZFRyYW5zbXV4ZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuTE9BRElOR19DT01QTEVURSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbXNlY3RsLmVuZE9mU3RyZWFtKCk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLkxPQURJTkdfQ09NUExFVEUpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5SRUNPVkVSRURfRUFSTFlfRU9GLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLlJFQ09WRVJFRF9FQVJMWV9FT0YpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5JT19FUlJPUiwgKGRldGFpbCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5FUlJPUiwgRXJyb3JUeXBlcy5ORVRXT1JLX0VSUk9SLCBkZXRhaWwsIGluZm8pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5ERU1VWF9FUlJPUiwgKGRldGFpbCwgaW5mbykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5FUlJPUiwgRXJyb3JUeXBlcy5NRURJQV9FUlJPUiwgZGV0YWlsLCB7Y29kZTogLTEsIG1zZzogaW5mb30pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRURJQV9JTkZPLCAobWVkaWFJbmZvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUluZm8gPSBtZWRpYUluZm87XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLk1FRElBX0lORk8sIE9iamVjdC5hc3NpZ24oe30sIG1lZGlhSW5mbykpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5NRVRBREFUQV9BUlJJVkVELCAobWV0YWRhdGEpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuTUVUQURBVEFfQVJSSVZFRCwgbWV0YWRhdGEpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5vbihUcmFuc211eGluZ0V2ZW50cy5TQ1JJUFREQVRBX0FSUklWRUQsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLlNDUklQVERBVEFfQVJSSVZFRCwgZGF0YSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl90cmFuc211eGVyLm9uKFRyYW5zbXV4aW5nRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgKHN0YXRJbmZvKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzSW5mbyA9IHRoaXMuX2ZpbGxTdGF0aXN0aWNzSW5mbyhzdGF0SW5mbyk7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLlNUQVRJU1RJQ1NfSU5GTywgT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fc3RhdGlzdGljc0luZm8pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIub24oVHJhbnNtdXhpbmdFdmVudHMuUkVDT01NRU5EX1NFRUtQT0lOVCwgKG1pbGxpc2Vjb25kcykgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCAmJiAhdGhpcy5fY29uZmlnLmFjY3VyYXRlU2Vlaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBtaWxsaXNlY29uZHMgLyAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl90cmFuc211eGVyLm9wZW4oKTtcbiAgICB9XG5cbiAgICB1bmxvYWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9tc2VjdGwpIHtcbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5zZWVrKDApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl90cmFuc211eGVyKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHRoaXMuX3RyYW5zbXV4ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5wbGF5KCk7XG4gICAgfVxuXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5wYXVzZSgpO1xuICAgIH1cblxuICAgIGdldCB0eXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdHlwZTtcbiAgICB9XG5cbiAgICBnZXQgYnVmZmVyZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGR1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmR1cmF0aW9uO1xuICAgIH1cblxuICAgIGdldCB2b2x1bWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQudm9sdW1lO1xuICAgIH1cblxuICAgIHNldCB2b2x1bWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBtdXRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5tdXRlZDtcbiAgICB9XG5cbiAgICBzZXQgbXV0ZWQobXV0ZWQpIHtcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50Lm11dGVkID0gbXV0ZWQ7XG4gICAgfVxuXG4gICAgZ2V0IGN1cnJlbnRUaW1lKCkge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50VGltZShzZWNvbmRzKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ludGVybmFsU2VlayhzZWNvbmRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IHNlY29uZHM7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgbWVkaWFJbmZvKCkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5fbWVkaWFJbmZvKTtcbiAgICB9XG5cbiAgICBnZXQgc3RhdGlzdGljc0luZm8oKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdGF0aXN0aWNzSW5mbyA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzSW5mbyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXRpc3RpY3NJbmZvID0gdGhpcy5fZmlsbFN0YXRpc3RpY3NJbmZvKHRoaXMuX3N0YXRpc3RpY3NJbmZvKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHRoaXMuX3N0YXRpc3RpY3NJbmZvKTtcbiAgICB9XG5cbiAgICBfZmlsbFN0YXRpc3RpY3NJbmZvKHN0YXRJbmZvKSB7XG4gICAgICAgIHN0YXRJbmZvLnBsYXllclR5cGUgPSB0aGlzLl90eXBlO1xuXG4gICAgICAgIGlmICghKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdEluZm87XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaGFzUXVhbGl0eUluZm8gPSB0cnVlO1xuICAgICAgICBsZXQgZGVjb2RlZCA9IDA7XG4gICAgICAgIGxldCBkcm9wcGVkID0gMDtcblxuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50LmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KSB7XG4gICAgICAgICAgICBsZXQgcXVhbGl0eSA9IHRoaXMuX21lZGlhRWxlbWVudC5nZXRWaWRlb1BsYXliYWNrUXVhbGl0eSgpO1xuICAgICAgICAgICAgZGVjb2RlZCA9IHF1YWxpdHkudG90YWxWaWRlb0ZyYW1lcztcbiAgICAgICAgICAgIGRyb3BwZWQgPSBxdWFsaXR5LmRyb3BwZWRWaWRlb0ZyYW1lcztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RGVjb2RlZEZyYW1lQ291bnQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWNvZGVkID0gdGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERlY29kZWRGcmFtZUNvdW50O1xuICAgICAgICAgICAgZHJvcHBlZCA9IHRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREcm9wcGVkRnJhbWVDb3VudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhhc1F1YWxpdHlJbmZvID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaGFzUXVhbGl0eUluZm8pIHtcbiAgICAgICAgICAgIHN0YXRJbmZvLmRlY29kZWRGcmFtZXMgPSBkZWNvZGVkO1xuICAgICAgICAgICAgc3RhdEluZm8uZHJvcHBlZEZyYW1lcyA9IGRyb3BwZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhdEluZm87XG4gICAgfVxuXG4gICAgX29ubXNlVXBkYXRlRW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2NvbmZpZy5sYXp5TG9hZCB8fCB0aGlzLl9jb25maWcuaXNMaXZlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgYnVmZmVyZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQ7XG4gICAgICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcbiAgICAgICAgbGV0IGN1cnJlbnRSYW5nZVN0YXJ0ID0gMDtcbiAgICAgICAgbGV0IGN1cnJlbnRSYW5nZUVuZCA9IDA7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBidWZmZXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHN0YXJ0ID0gYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICBsZXQgZW5kID0gYnVmZmVyZWQuZW5kKGkpO1xuICAgICAgICAgICAgaWYgKHN0YXJ0IDw9IGN1cnJlbnRUaW1lICYmIGN1cnJlbnRUaW1lIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFJhbmdlU3RhcnQgPSBzdGFydDtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmFuZ2VFbmQgPSBlbmQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3VycmVudFJhbmdlRW5kID49IGN1cnJlbnRUaW1lICsgdGhpcy5fY29uZmlnLmxhenlMb2FkTWF4RHVyYXRpb24gJiYgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID09IG51bGwpIHtcbiAgICAgICAgICAgIExvZy52KHRoaXMuVEFHLCAnTWF4aW11bSBidWZmZXJpbmcgZHVyYXRpb24gZXhjZWVkZWQsIHN1c3BlbmQgdHJhbnNtdXhpbmcgdGFzaycpO1xuICAgICAgICAgICAgdGhpcy5fc3VzcGVuZFRyYW5zbXV4ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9vbm1zZUJ1ZmZlckZ1bGwoKSB7XG4gICAgICAgIExvZy52KHRoaXMuVEFHLCAnTVNFIFNvdXJjZUJ1ZmZlciBpcyBmdWxsLCBzdXNwZW5kIHRyYW5zbXV4aW5nIHRhc2snKTtcbiAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdXNwZW5kVHJhbnNtdXhlcigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3N1c3BlbmRUcmFuc211eGVyKCkge1xuICAgICAgICBpZiAodGhpcy5fdHJhbnNtdXhlcikge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5wYXVzZSgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5fcHJvZ3Jlc3NDaGVja2VyID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSB3aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tQcm9ncmVzc0FuZFJlc3VtZS5iaW5kKHRoaXMpLCAxMDAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9jaGVja1Byb2dyZXNzQW5kUmVzdW1lKCkge1xuICAgICAgICBsZXQgY3VycmVudFRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWU7XG4gICAgICAgIGxldCBidWZmZXJlZCA9IHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZDtcblxuICAgICAgICBsZXQgbmVlZFJlc3VtZSA9IGZhbHNlO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICBsZXQgdG8gPSBidWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICBpZiAoY3VycmVudFRpbWUgPj0gZnJvbSAmJiBjdXJyZW50VGltZSA8IHRvKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaW1lID49IHRvIC0gdGhpcy5fY29uZmlnLmxhenlMb2FkUmVjb3ZlckR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRSZXN1bWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZWVkUmVzdW1lKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9wcm9ncmVzc0NoZWNrZXIpO1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChuZWVkUmVzdW1lKSB7XG4gICAgICAgICAgICAgICAgTG9nLnYodGhpcy5UQUcsICdDb250aW51ZSBsb2FkaW5nIGZyb20gcGF1c2VkIHBvc2l0aW9uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5yZXN1bWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9pc1RpbWVwb2ludEJ1ZmZlcmVkKHNlY29uZHMpIHtcbiAgICAgICAgbGV0IGJ1ZmZlcmVkID0gdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmcm9tID0gYnVmZmVyZWQuc3RhcnQoaSk7XG4gICAgICAgICAgICBsZXQgdG8gPSBidWZmZXJlZC5lbmQoaSk7XG4gICAgICAgICAgICBpZiAoc2Vjb25kcyA+PSBmcm9tICYmIHNlY29uZHMgPCB0bykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfaW50ZXJuYWxTZWVrKHNlY29uZHMpIHtcbiAgICAgICAgbGV0IGRpcmVjdFNlZWsgPSB0aGlzLl9pc1RpbWVwb2ludEJ1ZmZlcmVkKHNlY29uZHMpO1xuXG4gICAgICAgIGxldCBkaXJlY3RTZWVrQmVnaW4gPSBmYWxzZTtcbiAgICAgICAgbGV0IGRpcmVjdFNlZWtCZWdpblRpbWUgPSAwO1xuXG4gICAgICAgIGlmIChzZWNvbmRzIDwgMS4wICYmIHRoaXMuX21lZGlhRWxlbWVudC5idWZmZXJlZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBsZXQgdmlkZW9CZWdpblRpbWUgPSB0aGlzLl9tZWRpYUVsZW1lbnQuYnVmZmVyZWQuc3RhcnQoMCk7XG4gICAgICAgICAgICBpZiAoKHZpZGVvQmVnaW5UaW1lIDwgMS4wICYmIHNlY29uZHMgPCB2aWRlb0JlZ2luVGltZSkgfHwgQnJvd3Nlci5zYWZhcmkpIHtcbiAgICAgICAgICAgICAgICBkaXJlY3RTZWVrQmVnaW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIGFsc28gd29ya2Fyb3VuZCBmb3IgU2FmYXJpOiBTZWVrIHRvIDAgbWF5IGNhdXNlIHZpZGVvIHN0dWNrLCB1c2UgMC4xIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgZGlyZWN0U2Vla0JlZ2luVGltZSA9IEJyb3dzZXIuc2FmYXJpID8gMC4xIDogdmlkZW9CZWdpblRpbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGlyZWN0U2Vla0JlZ2luKSB7ICAvLyBzZWVrIHRvIHZpZGVvIGJlZ2luLCBzZXQgY3VycmVudFRpbWUgZGlyZWN0bHkgaWYgYmVnaW5QVFMgYnVmZmVyZWRcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IGRpcmVjdFNlZWtCZWdpblRpbWU7XG4gICAgICAgIH0gIGVsc2UgaWYgKGRpcmVjdFNlZWspIHsgIC8vIGJ1ZmZlcmVkIHBvc2l0aW9uXG4gICAgICAgICAgICBpZiAoIXRoaXMuX2Fsd2F5c1NlZWtLZXlmcmFtZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBzZWNvbmRzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgaWRyID0gdGhpcy5fbXNlY3RsLmdldE5lYXJlc3RLZXlmcmFtZShNYXRoLmZsb29yKHNlY29uZHMgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmIChpZHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBpZHIuZHRzIC8gMTAwMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBzZWNvbmRzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrUHJvZ3Jlc3NBbmRSZXN1bWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcm9ncmVzc0NoZWNrZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3Byb2dyZXNzQ2hlY2tlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NDaGVja2VyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21zZWN0bC5zZWVrKHNlY29uZHMpO1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNtdXhlci5zZWVrKE1hdGguZmxvb3Ioc2Vjb25kcyAqIDEwMDApKTsgIC8vIGluIG1pbGxpc2Vjb25kc1xuICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBzZXQgbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lIGlmIG5vbi1hY2N1cmF0ZVNlZWssXG4gICAgICAgICAgICAvLyBqdXN0IHdhaXQgZm9yIHRoZSByZWNvbW1lbmRfc2Vla3BvaW50IGNhbGxiYWNrXG4gICAgICAgICAgICBpZiAodGhpcy5fY29uZmlnLmFjY3VyYXRlU2Vlaykge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBzZWNvbmRzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NoZWNrQW5kQXBwbHlVbmJ1ZmZlcmVkU2Vla3BvaW50KCkge1xuICAgICAgICBpZiAodGhpcy5fc2Vla3BvaW50UmVjb3JkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fc2Vla3BvaW50UmVjb3JkLnJlY29yZFRpbWUgPD0gdGhpcy5fbm93KCkgLSAxMDApIHtcbiAgICAgICAgICAgICAgICBsZXQgdGFyZ2V0ID0gdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX3NlZWtwb2ludFJlY29yZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9pc1RpbWVwb2ludEJ1ZmZlcmVkKHRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMuX3Byb2dyZXNzQ2hlY2tlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0NoZWNrZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIC5jdXJyZW50VGltZSBpcyBjb25zaXN0cyB3aXRoIC5idWZmZXJlZCB0aW1lc3RhbXBcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hyb21lL0VkZ2UgdXNlIERUUywgd2hpbGUgRmlyZUZveC9TYWZhcmkgdXNlIFBUU1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9tc2VjdGwuc2Vlayh0YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc211eGVyLnNlZWsoTWF0aC5mbG9vcih0YXJnZXQgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNldCBjdXJyZW50VGltZSBpZiBhY2N1cmF0ZVNlZWssIG9yIHdhaXQgZm9yIHJlY29tbWVuZF9zZWVrcG9pbnQgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5hY2N1cmF0ZVNlZWspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQodGhpcy5fY2hlY2tBbmRBcHBseVVuYnVmZmVyZWRTZWVrcG9pbnQuYmluZCh0aGlzKSwgNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2NoZWNrQW5kUmVzdW1lU3R1Y2tQbGF5YmFjayhzdGFsbGVkKSB7XG4gICAgICAgIGxldCBtZWRpYSA9IHRoaXMuX21lZGlhRWxlbWVudDtcbiAgICAgICAgaWYgKHN0YWxsZWQgfHwgIXRoaXMuX3JlY2VpdmVkQ2FuUGxheSB8fCBtZWRpYS5yZWFkeVN0YXRlIDwgMikgeyAgLy8gSEFWRV9DVVJSRU5UX0RBVEFcbiAgICAgICAgICAgIGxldCBidWZmZXJlZCA9IG1lZGlhLmJ1ZmZlcmVkO1xuICAgICAgICAgICAgaWYgKGJ1ZmZlcmVkLmxlbmd0aCA+IDAgJiYgbWVkaWEuY3VycmVudFRpbWUgPCBidWZmZXJlZC5zdGFydCgwKSkge1xuICAgICAgICAgICAgICAgIExvZy53KHRoaXMuVEFHLCBgUGxheWJhY2sgc2VlbXMgc3R1Y2sgYXQgJHttZWRpYS5jdXJyZW50VGltZX0sIHNlZWsgdG8gJHtidWZmZXJlZC5zdGFydCgwKX1gKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0U2V0VGltZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gYnVmZmVyZWQuc3RhcnQoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgdGhpcy5lLm9udlByb2dyZXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFBsYXliYWNrIGRpZG4ndCBzdHVjaywgcmVtb3ZlIHByb2dyZXNzIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCB0aGlzLmUub252UHJvZ3Jlc3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29udkxvYWRlZE1ldGFkYXRhKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdTZWVrVGltZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSB0aGlzLl9wZW5kaW5nU2Vla1RpbWU7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nU2Vla1RpbWUgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX29udlNlZWtpbmcoZSkgeyAgLy8gaGFuZGxlIHNlZWtpbmcgcmVxdWVzdCBmcm9tIGJyb3dzZXIncyBwcm9ncmVzcyBiYXJcbiAgICAgICAgbGV0IHRhcmdldCA9IHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcbiAgICAgICAgbGV0IGJ1ZmZlcmVkID0gdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0U2V0VGltZSkge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXQgPCAxLjAgJiYgYnVmZmVyZWQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gc2VlayB0byB2aWRlbyBiZWdpbiwgc2V0IGN1cnJlbnRUaW1lIGRpcmVjdGx5IGlmIGJlZ2luUFRTIGJ1ZmZlcmVkXG4gICAgICAgICAgICBsZXQgdmlkZW9CZWdpblRpbWUgPSBidWZmZXJlZC5zdGFydCgwKTtcbiAgICAgICAgICAgIGlmICgodmlkZW9CZWdpblRpbWUgPCAxLjAgJiYgdGFyZ2V0IDwgdmlkZW9CZWdpblRpbWUpIHx8IEJyb3dzZXIuc2FmYXJpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdFNldFRpbWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIGFsc28gd29ya2Fyb3VuZCBmb3IgU2FmYXJpOiBTZWVrIHRvIDAgbWF5IGNhdXNlIHZpZGVvIHN0dWNrLCB1c2UgMC4xIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gQnJvd3Nlci5zYWZhcmkgPyAwLjEgOiB2aWRlb0JlZ2luVGltZTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5faXNUaW1lcG9pbnRCdWZmZXJlZCh0YXJnZXQpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fYWx3YXlzU2Vla0tleWZyYW1lKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlkciA9IHRoaXMuX21zZWN0bC5nZXROZWFyZXN0S2V5ZnJhbWUoTWF0aC5mbG9vcih0YXJnZXQgKiAxMDAwKSk7XG4gICAgICAgICAgICAgICAgaWYgKGlkciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RTZXRUaW1lID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gaWRyLmR0cyAvIDEwMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3Byb2dyZXNzQ2hlY2tlciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tQcm9ncmVzc0FuZFJlc3VtZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2Vla3BvaW50UmVjb3JkID0ge1xuICAgICAgICAgICAgc2Vla1BvaW50OiB0YXJnZXQsXG4gICAgICAgICAgICByZWNvcmRUaW1lOiB0aGlzLl9ub3coKVxuICAgICAgICB9O1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLl9jaGVja0FuZEFwcGx5VW5idWZmZXJlZFNlZWtwb2ludC5iaW5kKHRoaXMpLCA1MCk7XG4gICAgfVxuXG4gICAgX29udkNhblBsYXkoZSkge1xuICAgICAgICB0aGlzLl9yZWNlaXZlZENhblBsYXkgPSB0cnVlO1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheScsIHRoaXMuZS5vbnZDYW5QbGF5KTtcbiAgICB9XG5cbiAgICBfb252U3RhbGxlZChlKSB7XG4gICAgICAgIHRoaXMuX2NoZWNrQW5kUmVzdW1lU3R1Y2tQbGF5YmFjayh0cnVlKTtcbiAgICB9XG5cbiAgICBfb252UHJvZ3Jlc3MoZSkge1xuICAgICAgICB0aGlzLl9jaGVja0FuZFJlc3VtZVN0dWNrUGxheWJhY2soKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmx2UGxheWVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgRXZlbnRFbWl0dGVyIGZyb20gJ2V2ZW50cyc7XG5pbXBvcnQgUGxheWVyRXZlbnRzIGZyb20gJy4vcGxheWVyLWV2ZW50cy5qcyc7XG5pbXBvcnQge2NyZWF0ZURlZmF1bHRDb25maWd9IGZyb20gJy4uL2NvbmZpZy5qcyc7XG5pbXBvcnQge0ludmFsaWRBcmd1bWVudEV4Y2VwdGlvbiwgSWxsZWdhbFN0YXRlRXhjZXB0aW9ufSBmcm9tICcuLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vLyBQbGF5ZXIgd3JhcHBlciBmb3IgYnJvd3NlcidzIG5hdGl2ZSBwbGF5ZXIgKEhUTUxWaWRlb0VsZW1lbnQpIHdpdGhvdXQgTWVkaWFTb3VyY2Ugc3JjLiBcbmNsYXNzIE5hdGl2ZVBsYXllciB7XG5cbiAgICBjb25zdHJ1Y3RvcihtZWRpYURhdGFTb3VyY2UsIGNvbmZpZykge1xuICAgICAgICB0aGlzLlRBRyA9ICdOYXRpdmVQbGF5ZXInO1xuICAgICAgICB0aGlzLl90eXBlID0gJ05hdGl2ZVBsYXllcic7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAgICAgdGhpcy5fY29uZmlnID0gY3JlYXRlRGVmYXVsdENvbmZpZygpO1xuICAgICAgICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5fY29uZmlnLCBjb25maWcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lZGlhRGF0YVNvdXJjZS50eXBlLnRvTG93ZXJDYXNlKCkgPT09ICdmbHYnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdOYXRpdmVQbGF5ZXIgZG9lc1xcJ3Qgc3VwcG9ydCBmbHYgTWVkaWFEYXRhU291cmNlIGlucHV0IScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZWRpYURhdGFTb3VyY2UuaGFzT3duUHJvcGVydHkoJ3NlZ21lbnRzJykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oYE5hdGl2ZVBsYXllcigke21lZGlhRGF0YVNvdXJjZS50eXBlfSkgZG9lc24ndCBzdXBwb3J0IG11bHRpcGFydCBwbGF5YmFjayFgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZSA9IHtcbiAgICAgICAgICAgIG9udkxvYWRlZE1ldGFkYXRhOiB0aGlzLl9vbnZMb2FkZWRNZXRhZGF0YS5iaW5kKHRoaXMpXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9tZWRpYURhdGFTb3VyY2UgPSBtZWRpYURhdGFTb3VyY2U7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG51bGw7XG4gICAgfVxuXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy51bmxvYWQoKTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoTWVkaWFFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbWVkaWFEYXRhU291cmNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuXG4gICAgb24oZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChldmVudCA9PT0gUGxheWVyRXZlbnRzLk1FRElBX0lORk8pIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQgIT0gbnVsbCAmJiB0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSAhPT0gMCkgeyAgLy8gSEFWRV9OT1RISU5HXG4gICAgICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuTUVESUFfSU5GTywgdGhpcy5tZWRpYUluZm8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50ICE9IG51bGwgJiYgdGhpcy5fbWVkaWFFbGVtZW50LnJlYWR5U3RhdGUgIT09IDApIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5lbWl0KFBsYXllckV2ZW50cy5TVEFUSVNUSUNTX0lORk8sIHRoaXMuc3RhdGlzdGljc0luZm8pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuYWRkTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBvZmYoZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICBhdHRhY2hNZWRpYUVsZW1lbnQobWVkaWFFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudCA9IG1lZGlhRWxlbWVudDtcbiAgICAgICAgbWVkaWFFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWRlZG1ldGFkYXRhJywgdGhpcy5lLm9udkxvYWRlZE1ldGFkYXRhKTtcblxuICAgICAgICBpZiAodGhpcy5fcGVuZGluZ1NlZWtUaW1lICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lO1xuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdTZWVrVGltZSA9IG51bGw7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSUUxMSBtYXkgdGhyb3cgSW52YWxpZFN0YXRlRXJyb3IgaWYgcmVhZHlTdGF0ZSA9PT0gMFxuICAgICAgICAgICAgICAgIC8vIERlZmVyIHNldCBjdXJyZW50VGltZSBvcGVyYXRpb24gYWZ0ZXIgbG9hZGVkbWV0YWRhdGFcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRldGFjaE1lZGlhRWxlbWVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCB0aGlzLmUub252TG9hZGVkTWV0YWRhdGEpO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyICE9IG51bGwpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlcik7XG4gICAgICAgICAgICB0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tZWRpYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oJ0hUTUxNZWRpYUVsZW1lbnQgbXVzdCBiZSBhdHRhY2hlZCBiZWZvcmUgbG9hZCgpIScpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5zcmMgPSB0aGlzLl9tZWRpYURhdGFTb3VyY2UudXJsO1xuXG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQucmVhZHlTdGF0ZSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZSA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucHJlbG9hZCA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmxvYWQoKTtcbiAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gd2luZG93LnNldEludGVydmFsKFxuICAgICAgICAgICAgdGhpcy5fcmVwb3J0U3RhdGlzdGljc0luZm8uYmluZCh0aGlzKSxcbiAgICAgICAgdGhpcy5fY29uZmlnLnN0YXRpc3RpY3NJbmZvUmVwb3J0SW50ZXJ2YWwpO1xuICAgIH1cblxuICAgIHVubG9hZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnNyYyA9ICcnO1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LnJlbW92ZUF0dHJpYnV0ZSgnc3JjJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3N0YXRpc3RpY3NSZXBvcnRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9zdGF0aXN0aWNzUmVwb3J0ZXIpO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGlzdGljc1JlcG9ydGVyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBsYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQucGxheSgpO1xuICAgIH1cblxuICAgIHBhdXNlKCkge1xuICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQucGF1c2UoKTtcbiAgICB9XG5cbiAgICBnZXQgdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3R5cGU7XG4gICAgfVxuXG4gICAgZ2V0IGJ1ZmZlcmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LmJ1ZmZlcmVkO1xuICAgIH1cblxuICAgIGdldCBkdXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5kdXJhdGlvbjtcbiAgICB9XG5cbiAgICBnZXQgdm9sdW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbWVkaWFFbGVtZW50LnZvbHVtZTtcbiAgICB9XG5cbiAgICBzZXQgdm9sdW1lKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC52b2x1bWUgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBnZXQgbXV0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZWRpYUVsZW1lbnQubXV0ZWQ7XG4gICAgfVxuXG4gICAgc2V0IG11dGVkKG11dGVkKSB7XG4gICAgICAgIHRoaXMuX21lZGlhRWxlbWVudC5tdXRlZCA9IG11dGVkO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50VGltZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX21lZGlhRWxlbWVudC5jdXJyZW50VGltZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICBzZXQgY3VycmVudFRpbWUoc2Vjb25kcykge1xuICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLl9tZWRpYUVsZW1lbnQuY3VycmVudFRpbWUgPSBzZWNvbmRzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gc2Vjb25kcztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBtZWRpYUluZm8oKSB7XG4gICAgICAgIGxldCBtZWRpYVByZWZpeCA9ICh0aGlzLl9tZWRpYUVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQXVkaW9FbGVtZW50KSA/ICdhdWRpby8nIDogJ3ZpZGVvLyc7XG4gICAgICAgIGxldCBpbmZvID0ge1xuICAgICAgICAgICAgbWltZVR5cGU6IG1lZGlhUHJlZml4ICsgdGhpcy5fbWVkaWFEYXRhU291cmNlLnR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuX21lZGlhRWxlbWVudCkge1xuICAgICAgICAgICAgaW5mby5kdXJhdGlvbiA9IE1hdGguZmxvb3IodGhpcy5fbWVkaWFFbGVtZW50LmR1cmF0aW9uICogMTAwMCk7XG4gICAgICAgICAgICBpZiAodGhpcy5fbWVkaWFFbGVtZW50IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGluZm8ud2lkdGggPSB0aGlzLl9tZWRpYUVsZW1lbnQudmlkZW9XaWR0aDtcbiAgICAgICAgICAgICAgICBpbmZvLmhlaWdodCA9IHRoaXMuX21lZGlhRWxlbWVudC52aWRlb0hlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5mbztcbiAgICB9XG5cbiAgICBnZXQgc3RhdGlzdGljc0luZm8oKSB7XG4gICAgICAgIGxldCBpbmZvID0ge1xuICAgICAgICAgICAgcGxheWVyVHlwZTogdGhpcy5fdHlwZSxcbiAgICAgICAgICAgIHVybDogdGhpcy5fbWVkaWFEYXRhU291cmNlLnVybFxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICghKHRoaXMuX21lZGlhRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBoYXNRdWFsaXR5SW5mbyA9IHRydWU7XG4gICAgICAgIGxldCBkZWNvZGVkID0gMDtcbiAgICAgICAgbGV0IGRyb3BwZWQgPSAwO1xuXG4gICAgICAgIGlmICh0aGlzLl9tZWRpYUVsZW1lbnQuZ2V0VmlkZW9QbGF5YmFja1F1YWxpdHkpIHtcbiAgICAgICAgICAgIGxldCBxdWFsaXR5ID0gdGhpcy5fbWVkaWFFbGVtZW50LmdldFZpZGVvUGxheWJhY2tRdWFsaXR5KCk7XG4gICAgICAgICAgICBkZWNvZGVkID0gcXVhbGl0eS50b3RhbFZpZGVvRnJhbWVzO1xuICAgICAgICAgICAgZHJvcHBlZCA9IHF1YWxpdHkuZHJvcHBlZFZpZGVvRnJhbWVzO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX21lZGlhRWxlbWVudC53ZWJraXREZWNvZGVkRnJhbWVDb3VudCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRlY29kZWQgPSB0aGlzLl9tZWRpYUVsZW1lbnQud2Via2l0RGVjb2RlZEZyYW1lQ291bnQ7XG4gICAgICAgICAgICBkcm9wcGVkID0gdGhpcy5fbWVkaWFFbGVtZW50LndlYmtpdERyb3BwZWRGcmFtZUNvdW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGFzUXVhbGl0eUluZm8gPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXNRdWFsaXR5SW5mbykge1xuICAgICAgICAgICAgaW5mby5kZWNvZGVkRnJhbWVzID0gZGVjb2RlZDtcbiAgICAgICAgICAgIGluZm8uZHJvcHBlZEZyYW1lcyA9IGRyb3BwZWQ7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBpbmZvO1xuICAgIH1cblxuICAgIF9vbnZMb2FkZWRNZXRhZGF0YShlKSB7XG4gICAgICAgIGlmICh0aGlzLl9wZW5kaW5nU2Vla1RpbWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fbWVkaWFFbGVtZW50LmN1cnJlbnRUaW1lID0gdGhpcy5fcGVuZGluZ1NlZWtUaW1lO1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1NlZWtUaW1lID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lbWl0dGVyLmVtaXQoUGxheWVyRXZlbnRzLk1FRElBX0lORk8sIHRoaXMubWVkaWFJbmZvKTtcbiAgICB9XG5cbiAgICBfcmVwb3J0U3RhdGlzdGljc0luZm8oKSB7XG4gICAgICAgIHRoaXMuX2VtaXR0ZXIuZW1pdChQbGF5ZXJFdmVudHMuU1RBVElTVElDU19JTkZPLCB0aGlzLnN0YXRpc3RpY3NJbmZvKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgTmF0aXZlUGxheWVyOyIsIi8qXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTYgQmlsaWJpbGkuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogQGF1dGhvciB6aGVuZyBxaWFuIDx4cXFAeHFxLmltPlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgUG9seWZpbGwgZnJvbSAnLi91dGlscy9wb2x5ZmlsbC5qcyc7XG5pbXBvcnQgRmVhdHVyZXMgZnJvbSAnLi9jb3JlL2ZlYXR1cmVzLmpzJztcbmltcG9ydCB7QmFzZUxvYWRlciwgTG9hZGVyU3RhdHVzLCBMb2FkZXJFcnJvcnN9IGZyb20gJy4vaW8vbG9hZGVyLmpzJztcbmltcG9ydCBGbHZQbGF5ZXIgZnJvbSAnLi9wbGF5ZXIvZmx2LXBsYXllci5qcyc7XG5pbXBvcnQgTmF0aXZlUGxheWVyIGZyb20gJy4vcGxheWVyL25hdGl2ZS1wbGF5ZXIuanMnO1xuaW1wb3J0IFBsYXllckV2ZW50cyBmcm9tICcuL3BsYXllci9wbGF5ZXItZXZlbnRzLmpzJztcbmltcG9ydCB7RXJyb3JUeXBlcywgRXJyb3JEZXRhaWxzfSBmcm9tICcuL3BsYXllci9wbGF5ZXItZXJyb3JzLmpzJztcbmltcG9ydCBMb2dnaW5nQ29udHJvbCBmcm9tICcuL3V0aWxzL2xvZ2dpbmctY29udHJvbC5qcyc7XG5pbXBvcnQge0ludmFsaWRBcmd1bWVudEV4Y2VwdGlvbn0gZnJvbSAnLi91dGlscy9leGNlcHRpb24uanMnO1xuXG4vLyBoZXJlIGFyZSBhbGwgdGhlIGludGVyZmFjZXNcblxuLy8gaW5zdGFsbCBwb2x5ZmlsbHNcblBvbHlmaWxsLmluc3RhbGwoKTtcblxuXG4vLyBmYWN0b3J5IG1ldGhvZFxuZnVuY3Rpb24gY3JlYXRlUGxheWVyKG1lZGlhRGF0YVNvdXJjZSwgb3B0aW9uYWxDb25maWcpIHtcbiAgICBsZXQgbWRzID0gbWVkaWFEYXRhU291cmNlO1xuICAgIGlmIChtZHMgPT0gbnVsbCB8fCB0eXBlb2YgbWRzICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXhjZXB0aW9uKCdNZWRpYURhdGFTb3VyY2UgbXVzdCBiZSBhbiBqYXZhc2NyaXB0IG9iamVjdCEnKTtcbiAgICB9XG5cbiAgICBpZiAoIW1kcy5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XG4gICAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFeGNlcHRpb24oJ01lZGlhRGF0YVNvdXJjZSBtdXN0IGhhcyB0eXBlIGZpZWxkIHRvIGluZGljYXRlIHZpZGVvIGZpbGUgdHlwZSEnKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKG1kcy50eXBlKSB7XG4gICAgICAgIGNhc2UgJ2Zsdic6XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZsdlBsYXllcihtZHMsIG9wdGlvbmFsQ29uZmlnKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBuZXcgTmF0aXZlUGxheWVyKG1kcywgb3B0aW9uYWxDb25maWcpO1xuICAgIH1cbn1cblxuXG4vLyBmZWF0dXJlIGRldGVjdGlvblxuZnVuY3Rpb24gaXNTdXBwb3J0ZWQoKSB7XG4gICAgcmV0dXJuIEZlYXR1cmVzLnN1cHBvcnRNU0VIMjY0UGxheWJhY2soKTtcbn1cblxuZnVuY3Rpb24gZ2V0RmVhdHVyZUxpc3QoKSB7XG4gICAgcmV0dXJuIEZlYXR1cmVzLmdldEZlYXR1cmVMaXN0KCk7XG59XG5cblxuLy8gaW50ZXJmYWNlc1xubGV0IGZsdmpzID0ge307XG5cbmZsdmpzLmNyZWF0ZVBsYXllciA9IGNyZWF0ZVBsYXllcjtcbmZsdmpzLmlzU3VwcG9ydGVkID0gaXNTdXBwb3J0ZWQ7XG5mbHZqcy5nZXRGZWF0dXJlTGlzdCA9IGdldEZlYXR1cmVMaXN0O1xuXG5mbHZqcy5CYXNlTG9hZGVyID0gQmFzZUxvYWRlcjtcbmZsdmpzLkxvYWRlclN0YXR1cyA9IExvYWRlclN0YXR1cztcbmZsdmpzLkxvYWRlckVycm9ycyA9IExvYWRlckVycm9ycztcblxuZmx2anMuRXZlbnRzID0gUGxheWVyRXZlbnRzO1xuZmx2anMuRXJyb3JUeXBlcyA9IEVycm9yVHlwZXM7XG5mbHZqcy5FcnJvckRldGFpbHMgPSBFcnJvckRldGFpbHM7XG5cbmZsdmpzLkZsdlBsYXllciA9IEZsdlBsYXllcjtcbmZsdmpzLk5hdGl2ZVBsYXllciA9IE5hdGl2ZVBsYXllcjtcbmZsdmpzLkxvZ2dpbmdDb250cm9sID0gTG9nZ2luZ0NvbnRyb2w7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShmbHZqcywgJ3ZlcnNpb24nLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gcmVwbGFjZWQgYnkgYnJvd3NlcmlmeS12ZXJzaW9uaWZ5IHRyYW5zZm9ybVxuICAgICAgICByZXR1cm4gJ19fVkVSU0lPTl9fJztcbiAgICB9XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZmx2anM7IiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXZlbnRMaXN0ZW5lcigpIHtcbiAgICAgIGlmIChlcnJvckxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuICAgIHZhciBlcnJvckxpc3RlbmVyO1xuXG4gICAgLy8gQWRkaW5nIGFuIGVycm9yIGxpc3RlbmVyIGlzIG5vdCBvcHRpb25hbCBiZWNhdXNlXG4gICAgLy8gaWYgYW4gZXJyb3IgaXMgdGhyb3duIG9uIGFuIGV2ZW50IGVtaXR0ZXIgd2UgY2Fubm90XG4gICAgLy8gZ3VhcmFudGVlIHRoYXQgdGhlIGFjdHVhbCBldmVudCB3ZSBhcmUgd2FpdGluZyB3aWxsXG4gICAgLy8gYmUgZmlyZWQuIFRoZSByZXN1bHQgY291bGQgYmUgYSBzaWxlbnQgd2F5IHRvIGNyZWF0ZVxuICAgIC8vIG1lbW9yeSBvciBmaWxlIGRlc2NyaXB0b3IgbGVha3MsIHdoaWNoIGlzIHNvbWV0aGluZ1xuICAgIC8vIHdlIHNob3VsZCBhdm9pZC5cbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgZXJyb3JMaXN0ZW5lciA9IGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgZXZlbnRMaXN0ZW5lcik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfTtcblxuICAgICAgZW1pdHRlci5vbmNlKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgIH1cblxuICAgIGVtaXR0ZXIub25jZShuYW1lLCBldmVudExpc3RlbmVyKTtcbiAgfSk7XG59XG4iLCIvKiFcbiAqIEBvdmVydmlldyBlczYtcHJvbWlzZSAtIGEgdGlueSBpbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlcy9BKy5cbiAqIEBjb3B5cmlnaHQgQ29weXJpZ2h0IChjKSAyMDE0IFllaHVkYSBLYXR6LCBUb20gRGFsZSwgU3RlZmFuIFBlbm5lciBhbmQgY29udHJpYnV0b3JzIChDb252ZXJzaW9uIHRvIEVTNiBBUEkgYnkgSmFrZSBBcmNoaWJhbGQpXG4gKiBAbGljZW5zZSAgIExpY2Vuc2VkIHVuZGVyIE1JVCBsaWNlbnNlXG4gKiAgICAgICAgICAgIFNlZSBodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vc3RlZmFucGVubmVyL2VzNi1wcm9taXNlL21hc3Rlci9MSUNFTlNFXG4gKiBAdmVyc2lvbiAgIHY0LjIuOCsxZTY4ZGNlNlxuICovXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG5cdHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcblx0dHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcblx0KGdsb2JhbC5FUzZQcm9taXNlID0gZmFjdG9yeSgpKTtcbn0odGhpcywgKGZ1bmN0aW9uICgpIHsgJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBvYmplY3RPckZ1bmN0aW9uKHgpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgeDtcbiAgcmV0dXJuIHggIT09IG51bGwgJiYgKHR5cGUgPT09ICdvYmplY3QnIHx8IHR5cGUgPT09ICdmdW5jdGlvbicpO1xufVxuXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSAnZnVuY3Rpb24nO1xufVxuXG5cblxudmFyIF9pc0FycmF5ID0gdm9pZCAwO1xuaWYgKEFycmF5LmlzQXJyYXkpIHtcbiAgX2lzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xufSBlbHNlIHtcbiAgX2lzQXJyYXkgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG59XG5cbnZhciBpc0FycmF5ID0gX2lzQXJyYXk7XG5cbnZhciBsZW4gPSAwO1xudmFyIHZlcnR4TmV4dCA9IHZvaWQgMDtcbnZhciBjdXN0b21TY2hlZHVsZXJGbiA9IHZvaWQgMDtcblxudmFyIGFzYXAgPSBmdW5jdGlvbiBhc2FwKGNhbGxiYWNrLCBhcmcpIHtcbiAgcXVldWVbbGVuXSA9IGNhbGxiYWNrO1xuICBxdWV1ZVtsZW4gKyAxXSA9IGFyZztcbiAgbGVuICs9IDI7XG4gIGlmIChsZW4gPT09IDIpIHtcbiAgICAvLyBJZiBsZW4gaXMgMiwgdGhhdCBtZWFucyB0aGF0IHdlIG5lZWQgdG8gc2NoZWR1bGUgYW4gYXN5bmMgZmx1c2guXG4gICAgLy8gSWYgYWRkaXRpb25hbCBjYWxsYmFja3MgYXJlIHF1ZXVlZCBiZWZvcmUgdGhlIHF1ZXVlIGlzIGZsdXNoZWQsIHRoZXlcbiAgICAvLyB3aWxsIGJlIHByb2Nlc3NlZCBieSB0aGlzIGZsdXNoIHRoYXQgd2UgYXJlIHNjaGVkdWxpbmcuXG4gICAgaWYgKGN1c3RvbVNjaGVkdWxlckZuKSB7XG4gICAgICBjdXN0b21TY2hlZHVsZXJGbihmbHVzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjaGVkdWxlRmx1c2goKTtcbiAgICB9XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHNldFNjaGVkdWxlcihzY2hlZHVsZUZuKSB7XG4gIGN1c3RvbVNjaGVkdWxlckZuID0gc2NoZWR1bGVGbjtcbn1cblxuZnVuY3Rpb24gc2V0QXNhcChhc2FwRm4pIHtcbiAgYXNhcCA9IGFzYXBGbjtcbn1cblxudmFyIGJyb3dzZXJXaW5kb3cgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHVuZGVmaW5lZDtcbnZhciBicm93c2VyR2xvYmFsID0gYnJvd3NlcldpbmRvdyB8fCB7fTtcbnZhciBCcm93c2VyTXV0YXRpb25PYnNlcnZlciA9IGJyb3dzZXJHbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBicm93c2VyR2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG52YXIgaXNOb2RlID0gdHlwZW9mIHNlbGYgPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXSc7XG5cbi8vIHRlc3QgZm9yIHdlYiB3b3JrZXIgYnV0IG5vdCBpbiBJRTEwXG52YXIgaXNXb3JrZXIgPSB0eXBlb2YgVWludDhDbGFtcGVkQXJyYXkgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBpbXBvcnRTY3JpcHRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xuXG4vLyBub2RlXG5mdW5jdGlvbiB1c2VOZXh0VGljaygpIHtcbiAgLy8gbm9kZSB2ZXJzaW9uIDAuMTAueCBkaXNwbGF5cyBhIGRlcHJlY2F0aW9uIHdhcm5pbmcgd2hlbiBuZXh0VGljayBpcyB1c2VkIHJlY3Vyc2l2ZWx5XG4gIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vY3Vqb2pzL3doZW4vaXNzdWVzLzQxMCBmb3IgZGV0YWlsc1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZsdXNoKTtcbiAgfTtcbn1cblxuLy8gdmVydHhcbmZ1bmN0aW9uIHVzZVZlcnR4VGltZXIoKSB7XG4gIGlmICh0eXBlb2YgdmVydHhOZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICB2ZXJ0eE5leHQoZmx1c2gpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xufVxuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKCkge1xuICB2YXIgaXRlcmF0aW9ucyA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBCcm93c2VyTXV0YXRpb25PYnNlcnZlcihmbHVzaCk7XG4gIHZhciBub2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKG5vZGUsIHsgY2hhcmFjdGVyRGF0YTogdHJ1ZSB9KTtcblxuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIG5vZGUuZGF0YSA9IGl0ZXJhdGlvbnMgPSArK2l0ZXJhdGlvbnMgJSAyO1xuICB9O1xufVxuXG4vLyB3ZWIgd29ya2VyXG5mdW5jdGlvbiB1c2VNZXNzYWdlQ2hhbm5lbCgpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmbHVzaDtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlU2V0VGltZW91dCgpIHtcbiAgLy8gU3RvcmUgc2V0VGltZW91dCByZWZlcmVuY2Ugc28gZXM2LXByb21pc2Ugd2lsbCBiZSB1bmFmZmVjdGVkIGJ5XG4gIC8vIG90aGVyIGNvZGUgbW9kaWZ5aW5nIHNldFRpbWVvdXQgKGxpa2Ugc2lub24udXNlRmFrZVRpbWVycygpKVxuICB2YXIgZ2xvYmFsU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGdsb2JhbFNldFRpbWVvdXQoZmx1c2gsIDEpO1xuICB9O1xufVxuXG52YXIgcXVldWUgPSBuZXcgQXJyYXkoMTAwMCk7XG5mdW5jdGlvbiBmbHVzaCgpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkgKz0gMikge1xuICAgIHZhciBjYWxsYmFjayA9IHF1ZXVlW2ldO1xuICAgIHZhciBhcmcgPSBxdWV1ZVtpICsgMV07XG5cbiAgICBjYWxsYmFjayhhcmcpO1xuXG4gICAgcXVldWVbaV0gPSB1bmRlZmluZWQ7XG4gICAgcXVldWVbaSArIDFdID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgbGVuID0gMDtcbn1cblxuZnVuY3Rpb24gYXR0ZW1wdFZlcnR4KCkge1xuICB0cnkge1xuICAgIHZhciB2ZXJ0eCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCkucmVxdWlyZSgndmVydHgnKTtcbiAgICB2ZXJ0eE5leHQgPSB2ZXJ0eC5ydW5Pbkxvb3AgfHwgdmVydHgucnVuT25Db250ZXh0O1xuICAgIHJldHVybiB1c2VWZXJ0eFRpbWVyKCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gdXNlU2V0VGltZW91dCgpO1xuICB9XG59XG5cbnZhciBzY2hlZHVsZUZsdXNoID0gdm9pZCAwO1xuLy8gRGVjaWRlIHdoYXQgYXN5bmMgbWV0aG9kIHRvIHVzZSB0byB0cmlnZ2VyaW5nIHByb2Nlc3Npbmcgb2YgcXVldWVkIGNhbGxiYWNrczpcbmlmIChpc05vZGUpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZU5leHRUaWNrKCk7XG59IGVsc2UgaWYgKEJyb3dzZXJNdXRhdGlvbk9ic2VydmVyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNdXRhdGlvbk9ic2VydmVyKCk7XG59IGVsc2UgaWYgKGlzV29ya2VyKSB7XG4gIHNjaGVkdWxlRmx1c2ggPSB1c2VNZXNzYWdlQ2hhbm5lbCgpO1xufSBlbHNlIGlmIChicm93c2VyV2luZG93ID09PSB1bmRlZmluZWQgJiYgdHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgc2NoZWR1bGVGbHVzaCA9IGF0dGVtcHRWZXJ0eCgpO1xufSBlbHNlIHtcbiAgc2NoZWR1bGVGbHVzaCA9IHVzZVNldFRpbWVvdXQoKTtcbn1cblxuZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbikge1xuICB2YXIgcGFyZW50ID0gdGhpcztcblxuICB2YXIgY2hpbGQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcihub29wKTtcblxuICBpZiAoY2hpbGRbUFJPTUlTRV9JRF0gPT09IHVuZGVmaW5lZCkge1xuICAgIG1ha2VQcm9taXNlKGNoaWxkKTtcbiAgfVxuXG4gIHZhciBfc3RhdGUgPSBwYXJlbnQuX3N0YXRlO1xuXG5cbiAgaWYgKF9zdGF0ZSkge1xuICAgIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1tfc3RhdGUgLSAxXTtcbiAgICBhc2FwKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBpbnZva2VDYWxsYmFjayhfc3RhdGUsIGNoaWxkLCBjYWxsYmFjaywgcGFyZW50Ll9yZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZShwYXJlbnQsIGNoaWxkLCBvbkZ1bGZpbGxtZW50LCBvblJlamVjdGlvbik7XG4gIH1cblxuICByZXR1cm4gY2hpbGQ7XG59XG5cbi8qKlxuICBgUHJvbWlzZS5yZXNvbHZlYCByZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgYmVjb21lIHJlc29sdmVkIHdpdGggdGhlXG4gIHBhc3NlZCBgdmFsdWVgLiBJdCBpcyBzaG9ydGhhbmQgZm9yIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgcmVzb2x2ZSgxKTtcbiAgfSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgSW5zdGVhZCBvZiB3cml0aW5nIHRoZSBhYm92ZSwgeW91ciBjb2RlIG5vdyBzaW1wbHkgYmVjb21lcyB0aGUgZm9sbG93aW5nOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoMSk7XG5cbiAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAvLyB2YWx1ZSA9PT0gMVxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCByZXNvbHZlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBbnl9IHZhbHVlIHZhbHVlIHRoYXQgdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZXNvbHZlZCB3aXRoXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgd2lsbCBiZWNvbWUgZnVsZmlsbGVkIHdpdGggdGhlIGdpdmVuXG4gIGB2YWx1ZWBcbiovXG5mdW5jdGlvbiByZXNvbHZlJDEob2JqZWN0KSB7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIHZhciBDb25zdHJ1Y3RvciA9IHRoaXM7XG5cbiAgaWYgKG9iamVjdCAmJiB0eXBlb2Ygb2JqZWN0ID09PSAnb2JqZWN0JyAmJiBvYmplY3QuY29uc3RydWN0b3IgPT09IENvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIHZhciBwcm9taXNlID0gbmV3IENvbnN0cnVjdG9yKG5vb3ApO1xuICByZXNvbHZlKHByb21pc2UsIG9iamVjdCk7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG52YXIgUFJPTUlTRV9JRCA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyKTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBQRU5ESU5HID0gdm9pZCAwO1xudmFyIEZVTEZJTExFRCA9IDE7XG52YXIgUkVKRUNURUQgPSAyO1xuXG5mdW5jdGlvbiBzZWxmRnVsZmlsbG1lbnQoKSB7XG4gIHJldHVybiBuZXcgVHlwZUVycm9yKFwiWW91IGNhbm5vdCByZXNvbHZlIGEgcHJvbWlzZSB3aXRoIGl0c2VsZlwiKTtcbn1cblxuZnVuY3Rpb24gY2Fubm90UmV0dXJuT3duKCkge1xuICByZXR1cm4gbmV3IFR5cGVFcnJvcignQSBwcm9taXNlcyBjYWxsYmFjayBjYW5ub3QgcmV0dXJuIHRoYXQgc2FtZSBwcm9taXNlLicpO1xufVxuXG5mdW5jdGlvbiB0cnlUaGVuKHRoZW4kJDEsIHZhbHVlLCBmdWxmaWxsbWVudEhhbmRsZXIsIHJlamVjdGlvbkhhbmRsZXIpIHtcbiAgdHJ5IHtcbiAgICB0aGVuJCQxLmNhbGwodmFsdWUsIGZ1bGZpbGxtZW50SGFuZGxlciwgcmVqZWN0aW9uSGFuZGxlcik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZTtcbiAgfVxufVxuXG5mdW5jdGlvbiBoYW5kbGVGb3JlaWduVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUsIHRoZW4kJDEpIHtcbiAgYXNhcChmdW5jdGlvbiAocHJvbWlzZSkge1xuICAgIHZhciBzZWFsZWQgPSBmYWxzZTtcbiAgICB2YXIgZXJyb3IgPSB0cnlUaGVuKHRoZW4kJDEsIHRoZW5hYmxlLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIGlmIChzZWFsZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIGlmICh0aGVuYWJsZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpZiAoc2VhbGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNlYWxlZCA9IHRydWU7XG5cbiAgICAgIHJlamVjdChwcm9taXNlLCByZWFzb24pO1xuICAgIH0sICdTZXR0bGU6ICcgKyAocHJvbWlzZS5fbGFiZWwgfHwgJyB1bmtub3duIHByb21pc2UnKSk7XG5cbiAgICBpZiAoIXNlYWxlZCAmJiBlcnJvcikge1xuICAgICAgc2VhbGVkID0gdHJ1ZTtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgfVxuICB9LCBwcm9taXNlKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3duVGhlbmFibGUocHJvbWlzZSwgdGhlbmFibGUpIHtcbiAgaWYgKHRoZW5hYmxlLl9zdGF0ZSA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB0aGVuYWJsZS5fcmVzdWx0KTtcbiAgfSBlbHNlIGlmICh0aGVuYWJsZS5fc3RhdGUgPT09IFJFSkVDVEVEKSB7XG4gICAgcmVqZWN0KHByb21pc2UsIHRoZW5hYmxlLl9yZXN1bHQpO1xuICB9IGVsc2Uge1xuICAgIHN1YnNjcmliZSh0aGVuYWJsZSwgdW5kZWZpbmVkLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiByZXNvbHZlKHByb21pc2UsIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaGFuZGxlTWF5YmVUaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlLCB0aGVuJCQxKSB7XG4gIGlmIChtYXliZVRoZW5hYmxlLmNvbnN0cnVjdG9yID09PSBwcm9taXNlLmNvbnN0cnVjdG9yICYmIHRoZW4kJDEgPT09IHRoZW4gJiYgbWF5YmVUaGVuYWJsZS5jb25zdHJ1Y3Rvci5yZXNvbHZlID09PSByZXNvbHZlJDEpIHtcbiAgICBoYW5kbGVPd25UaGVuYWJsZShwcm9taXNlLCBtYXliZVRoZW5hYmxlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGhlbiQkMSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH0gZWxzZSBpZiAoaXNGdW5jdGlvbih0aGVuJCQxKSkge1xuICAgICAgaGFuZGxlRm9yZWlnblRoZW5hYmxlKHByb21pc2UsIG1heWJlVGhlbmFibGUsIHRoZW4kJDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmdWxmaWxsKHByb21pc2UsIG1heWJlVGhlbmFibGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiByZXNvbHZlKHByb21pc2UsIHZhbHVlKSB7XG4gIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBzZWxmRnVsZmlsbG1lbnQoKSk7XG4gIH0gZWxzZSBpZiAob2JqZWN0T3JGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgdGhlbiQkMSA9IHZvaWQgMDtcbiAgICB0cnkge1xuICAgICAgdGhlbiQkMSA9IHZhbHVlLnRoZW47XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgdmFsdWUsIHRoZW4kJDEpO1xuICB9IGVsc2Uge1xuICAgIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHB1Ymxpc2hSZWplY3Rpb24ocHJvbWlzZSkge1xuICBpZiAocHJvbWlzZS5fb25lcnJvcikge1xuICAgIHByb21pc2UuX29uZXJyb3IocHJvbWlzZS5fcmVzdWx0KTtcbiAgfVxuXG4gIHB1Ymxpc2gocHJvbWlzZSk7XG59XG5cbmZ1bmN0aW9uIGZ1bGZpbGwocHJvbWlzZSwgdmFsdWUpIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgcHJvbWlzZS5fcmVzdWx0ID0gdmFsdWU7XG4gIHByb21pc2UuX3N0YXRlID0gRlVMRklMTEVEO1xuXG4gIGlmIChwcm9taXNlLl9zdWJzY3JpYmVycy5sZW5ndGggIT09IDApIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHByb21pc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcbiAgaWYgKHByb21pc2UuX3N0YXRlICE9PSBQRU5ESU5HKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHByb21pc2UuX3N0YXRlID0gUkVKRUNURUQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHJlYXNvbjtcblxuICBhc2FwKHB1Ymxpc2hSZWplY3Rpb24sIHByb21pc2UpO1xufVxuXG5mdW5jdGlvbiBzdWJzY3JpYmUocGFyZW50LCBjaGlsZCwgb25GdWxmaWxsbWVudCwgb25SZWplY3Rpb24pIHtcbiAgdmFyIF9zdWJzY3JpYmVycyA9IHBhcmVudC5fc3Vic2NyaWJlcnM7XG4gIHZhciBsZW5ndGggPSBfc3Vic2NyaWJlcnMubGVuZ3RoO1xuXG5cbiAgcGFyZW50Ll9vbmVycm9yID0gbnVsbDtcblxuICBfc3Vic2NyaWJlcnNbbGVuZ3RoXSA9IGNoaWxkO1xuICBfc3Vic2NyaWJlcnNbbGVuZ3RoICsgRlVMRklMTEVEXSA9IG9uRnVsZmlsbG1lbnQ7XG4gIF9zdWJzY3JpYmVyc1tsZW5ndGggKyBSRUpFQ1RFRF0gPSBvblJlamVjdGlvbjtcblxuICBpZiAobGVuZ3RoID09PSAwICYmIHBhcmVudC5fc3RhdGUpIHtcbiAgICBhc2FwKHB1Ymxpc2gsIHBhcmVudCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHVibGlzaChwcm9taXNlKSB7XG4gIHZhciBzdWJzY3JpYmVycyA9IHByb21pc2UuX3N1YnNjcmliZXJzO1xuICB2YXIgc2V0dGxlZCA9IHByb21pc2UuX3N0YXRlO1xuXG4gIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgY2hpbGQgPSB2b2lkIDAsXG4gICAgICBjYWxsYmFjayA9IHZvaWQgMCxcbiAgICAgIGRldGFpbCA9IHByb21pc2UuX3Jlc3VsdDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN1YnNjcmliZXJzLmxlbmd0aDsgaSArPSAzKSB7XG4gICAgY2hpbGQgPSBzdWJzY3JpYmVyc1tpXTtcbiAgICBjYWxsYmFjayA9IHN1YnNjcmliZXJzW2kgKyBzZXR0bGVkXTtcblxuICAgIGlmIChjaGlsZCkge1xuICAgICAgaW52b2tlQ2FsbGJhY2soc2V0dGxlZCwgY2hpbGQsIGNhbGxiYWNrLCBkZXRhaWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH1cbiAgfVxuXG4gIHByb21pc2UuX3N1YnNjcmliZXJzLmxlbmd0aCA9IDA7XG59XG5cbmZ1bmN0aW9uIGludm9rZUNhbGxiYWNrKHNldHRsZWQsIHByb21pc2UsIGNhbGxiYWNrLCBkZXRhaWwpIHtcbiAgdmFyIGhhc0NhbGxiYWNrID0gaXNGdW5jdGlvbihjYWxsYmFjayksXG4gICAgICB2YWx1ZSA9IHZvaWQgMCxcbiAgICAgIGVycm9yID0gdm9pZCAwLFxuICAgICAgc3VjY2VlZGVkID0gdHJ1ZTtcblxuICBpZiAoaGFzQ2FsbGJhY2spIHtcbiAgICB0cnkge1xuICAgICAgdmFsdWUgPSBjYWxsYmFjayhkZXRhaWwpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN1Y2NlZWRlZCA9IGZhbHNlO1xuICAgICAgZXJyb3IgPSBlO1xuICAgIH1cblxuICAgIGlmIChwcm9taXNlID09PSB2YWx1ZSkge1xuICAgICAgcmVqZWN0KHByb21pc2UsIGNhbm5vdFJldHVybk93bigpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFsdWUgPSBkZXRhaWw7XG4gIH1cblxuICBpZiAocHJvbWlzZS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAvLyBub29wXG4gIH0gZWxzZSBpZiAoaGFzQ2FsbGJhY2sgJiYgc3VjY2VlZGVkKSB7XG4gICAgcmVzb2x2ZShwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc3VjY2VlZGVkID09PSBmYWxzZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlcnJvcik7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gRlVMRklMTEVEKSB7XG4gICAgZnVsZmlsbChwcm9taXNlLCB2YWx1ZSk7XG4gIH0gZWxzZSBpZiAoc2V0dGxlZCA9PT0gUkVKRUNURUQpIHtcbiAgICByZWplY3QocHJvbWlzZSwgdmFsdWUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemVQcm9taXNlKHByb21pc2UsIHJlc29sdmVyKSB7XG4gIHRyeSB7XG4gICAgcmVzb2x2ZXIoZnVuY3Rpb24gcmVzb2x2ZVByb21pc2UodmFsdWUpIHtcbiAgICAgIHJlc29sdmUocHJvbWlzZSwgdmFsdWUpO1xuICAgIH0sIGZ1bmN0aW9uIHJlamVjdFByb21pc2UocmVhc29uKSB7XG4gICAgICByZWplY3QocHJvbWlzZSwgcmVhc29uKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChwcm9taXNlLCBlKTtcbiAgfVxufVxuXG52YXIgaWQgPSAwO1xuZnVuY3Rpb24gbmV4dElkKCkge1xuICByZXR1cm4gaWQrKztcbn1cblxuZnVuY3Rpb24gbWFrZVByb21pc2UocHJvbWlzZSkge1xuICBwcm9taXNlW1BST01JU0VfSURdID0gaWQrKztcbiAgcHJvbWlzZS5fc3RhdGUgPSB1bmRlZmluZWQ7XG4gIHByb21pc2UuX3Jlc3VsdCA9IHVuZGVmaW5lZDtcbiAgcHJvbWlzZS5fc3Vic2NyaWJlcnMgPSBbXTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGlvbkVycm9yKCkge1xuICByZXR1cm4gbmV3IEVycm9yKCdBcnJheSBNZXRob2RzIG11c3QgYmUgcHJvdmlkZWQgYW4gQXJyYXknKTtcbn1cblxudmFyIEVudW1lcmF0b3IgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEVudW1lcmF0b3IoQ29uc3RydWN0b3IsIGlucHV0KSB7XG4gICAgdGhpcy5faW5zdGFuY2VDb25zdHJ1Y3RvciA9IENvbnN0cnVjdG9yO1xuICAgIHRoaXMucHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcblxuICAgIGlmICghdGhpcy5wcm9taXNlW1BST01JU0VfSURdKSB7XG4gICAgICBtYWtlUHJvbWlzZSh0aGlzLnByb21pc2UpO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KGlucHV0KSkge1xuICAgICAgdGhpcy5sZW5ndGggPSBpbnB1dC5sZW5ndGg7XG4gICAgICB0aGlzLl9yZW1haW5pbmcgPSBpbnB1dC5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX3Jlc3VsdCA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG5cbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBmdWxmaWxsKHRoaXMucHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubGVuZ3RoID0gdGhpcy5sZW5ndGggfHwgMDtcbiAgICAgICAgdGhpcy5fZW51bWVyYXRlKGlucHV0KTtcbiAgICAgICAgaWYgKHRoaXMuX3JlbWFpbmluZyA9PT0gMCkge1xuICAgICAgICAgIGZ1bGZpbGwodGhpcy5wcm9taXNlLCB0aGlzLl9yZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlamVjdCh0aGlzLnByb21pc2UsIHZhbGlkYXRpb25FcnJvcigpKTtcbiAgICB9XG4gIH1cblxuICBFbnVtZXJhdG9yLnByb3RvdHlwZS5fZW51bWVyYXRlID0gZnVuY3Rpb24gX2VudW1lcmF0ZShpbnB1dCkge1xuICAgIGZvciAodmFyIGkgPSAwOyB0aGlzLl9zdGF0ZSA9PT0gUEVORElORyAmJiBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuX2VhY2hFbnRyeShpbnB1dFtpXSwgaSk7XG4gICAgfVxuICB9O1xuXG4gIEVudW1lcmF0b3IucHJvdG90eXBlLl9lYWNoRW50cnkgPSBmdW5jdGlvbiBfZWFjaEVudHJ5KGVudHJ5LCBpKSB7XG4gICAgdmFyIGMgPSB0aGlzLl9pbnN0YW5jZUNvbnN0cnVjdG9yO1xuICAgIHZhciByZXNvbHZlJCQxID0gYy5yZXNvbHZlO1xuXG5cbiAgICBpZiAocmVzb2x2ZSQkMSA9PT0gcmVzb2x2ZSQxKSB7XG4gICAgICB2YXIgX3RoZW4gPSB2b2lkIDA7XG4gICAgICB2YXIgZXJyb3IgPSB2b2lkIDA7XG4gICAgICB2YXIgZGlkRXJyb3IgPSBmYWxzZTtcbiAgICAgIHRyeSB7XG4gICAgICAgIF90aGVuID0gZW50cnkudGhlbjtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZGlkRXJyb3IgPSB0cnVlO1xuICAgICAgICBlcnJvciA9IGU7XG4gICAgICB9XG5cbiAgICAgIGlmIChfdGhlbiA9PT0gdGhlbiAmJiBlbnRyeS5fc3RhdGUgIT09IFBFTkRJTkcpIHtcbiAgICAgICAgdGhpcy5fc2V0dGxlZEF0KGVudHJ5Ll9zdGF0ZSwgaSwgZW50cnkuX3Jlc3VsdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhlbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLl9yZW1haW5pbmctLTtcbiAgICAgICAgdGhpcy5fcmVzdWx0W2ldID0gZW50cnk7XG4gICAgICB9IGVsc2UgaWYgKGMgPT09IFByb21pc2UkMSkge1xuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBjKG5vb3ApO1xuICAgICAgICBpZiAoZGlkRXJyb3IpIHtcbiAgICAgICAgICByZWplY3QocHJvbWlzZSwgZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhhbmRsZU1heWJlVGhlbmFibGUocHJvbWlzZSwgZW50cnksIF90aGVuKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl93aWxsU2V0dGxlQXQobmV3IGMoZnVuY3Rpb24gKHJlc29sdmUkJDEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZSQkMShlbnRyeSk7XG4gICAgICAgIH0pLCBpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fd2lsbFNldHRsZUF0KHJlc29sdmUkJDEoZW50cnkpLCBpKTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3NldHRsZWRBdCA9IGZ1bmN0aW9uIF9zZXR0bGVkQXQoc3RhdGUsIGksIHZhbHVlKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2U7XG5cblxuICAgIGlmIChwcm9taXNlLl9zdGF0ZSA9PT0gUEVORElORykge1xuICAgICAgdGhpcy5fcmVtYWluaW5nLS07XG5cbiAgICAgIGlmIChzdGF0ZSA9PT0gUkVKRUNURUQpIHtcbiAgICAgICAgcmVqZWN0KHByb21pc2UsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3Jlc3VsdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLl9yZW1haW5pbmcgPT09IDApIHtcbiAgICAgIGZ1bGZpbGwocHJvbWlzZSwgdGhpcy5fcmVzdWx0KTtcbiAgICB9XG4gIH07XG5cbiAgRW51bWVyYXRvci5wcm90b3R5cGUuX3dpbGxTZXR0bGVBdCA9IGZ1bmN0aW9uIF93aWxsU2V0dGxlQXQocHJvbWlzZSwgaSkge1xuICAgIHZhciBlbnVtZXJhdG9yID0gdGhpcztcblxuICAgIHN1YnNjcmliZShwcm9taXNlLCB1bmRlZmluZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGVudW1lcmF0b3IuX3NldHRsZWRBdChGVUxGSUxMRUQsIGksIHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICByZXR1cm4gZW51bWVyYXRvci5fc2V0dGxlZEF0KFJFSkVDVEVELCBpLCByZWFzb24pO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBFbnVtZXJhdG9yO1xufSgpO1xuXG4vKipcbiAgYFByb21pc2UuYWxsYCBhY2NlcHRzIGFuIGFycmF5IG9mIHByb21pc2VzLCBhbmQgcmV0dXJucyBhIG5ldyBwcm9taXNlIHdoaWNoXG4gIGlzIGZ1bGZpbGxlZCB3aXRoIGFuIGFycmF5IG9mIGZ1bGZpbGxtZW50IHZhbHVlcyBmb3IgdGhlIHBhc3NlZCBwcm9taXNlcywgb3JcbiAgcmVqZWN0ZWQgd2l0aCB0aGUgcmVhc29uIG9mIHRoZSBmaXJzdCBwYXNzZWQgcHJvbWlzZSB0byBiZSByZWplY3RlZC4gSXQgY2FzdHMgYWxsXG4gIGVsZW1lbnRzIG9mIHRoZSBwYXNzZWQgaXRlcmFibGUgdG8gcHJvbWlzZXMgYXMgaXQgcnVucyB0aGlzIGFsZ29yaXRobS5cblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVzb2x2ZSgyKTtcbiAgbGV0IHByb21pc2UzID0gcmVzb2x2ZSgzKTtcbiAgbGV0IHByb21pc2VzID0gWyBwcm9taXNlMSwgcHJvbWlzZTIsIHByb21pc2UzIF07XG5cbiAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24oYXJyYXkpe1xuICAgIC8vIFRoZSBhcnJheSBoZXJlIHdvdWxkIGJlIFsgMSwgMiwgMyBdO1xuICB9KTtcbiAgYGBgXG5cbiAgSWYgYW55IG9mIHRoZSBgcHJvbWlzZXNgIGdpdmVuIHRvIGBhbGxgIGFyZSByZWplY3RlZCwgdGhlIGZpcnN0IHByb21pc2VcbiAgdGhhdCBpcyByZWplY3RlZCB3aWxsIGJlIGdpdmVuIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSByZXR1cm5lZCBwcm9taXNlcydzXG4gIHJlamVjdGlvbiBoYW5kbGVyLiBGb3IgZXhhbXBsZTpcblxuICBFeGFtcGxlOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgbGV0IHByb21pc2UxID0gcmVzb2x2ZSgxKTtcbiAgbGV0IHByb21pc2UyID0gcmVqZWN0KG5ldyBFcnJvcihcIjJcIikpO1xuICBsZXQgcHJvbWlzZTMgPSByZWplY3QobmV3IEVycm9yKFwiM1wiKSk7XG4gIGxldCBwcm9taXNlcyA9IFsgcHJvbWlzZTEsIHByb21pc2UyLCBwcm9taXNlMyBdO1xuXG4gIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKGFycmF5KXtcbiAgICAvLyBDb2RlIGhlcmUgbmV2ZXIgcnVucyBiZWNhdXNlIHRoZXJlIGFyZSByZWplY3RlZCBwcm9taXNlcyFcbiAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAvLyBlcnJvci5tZXNzYWdlID09PSBcIjJcIlxuICB9KTtcbiAgYGBgXG5cbiAgQG1ldGhvZCBhbGxcbiAgQHN0YXRpY1xuICBAcGFyYW0ge0FycmF5fSBlbnRyaWVzIGFycmF5IG9mIHByb21pc2VzXG4gIEBwYXJhbSB7U3RyaW5nfSBsYWJlbCBvcHRpb25hbCBzdHJpbmcgZm9yIGxhYmVsaW5nIHRoZSBwcm9taXNlLlxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiBhbGwgYHByb21pc2VzYCBoYXZlIGJlZW5cbiAgZnVsZmlsbGVkLCBvciByZWplY3RlZCBpZiBhbnkgb2YgdGhlbSBiZWNvbWUgcmVqZWN0ZWQuXG4gIEBzdGF0aWNcbiovXG5mdW5jdGlvbiBhbGwoZW50cmllcykge1xuICByZXR1cm4gbmV3IEVudW1lcmF0b3IodGhpcywgZW50cmllcykucHJvbWlzZTtcbn1cblxuLyoqXG4gIGBQcm9taXNlLnJhY2VgIHJldHVybnMgYSBuZXcgcHJvbWlzZSB3aGljaCBpcyBzZXR0bGVkIGluIHRoZSBzYW1lIHdheSBhcyB0aGVcbiAgZmlyc3QgcGFzc2VkIHByb21pc2UgdG8gc2V0dGxlLlxuXG4gIEV4YW1wbGU6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZTEgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3Qpe1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgIHJlc29sdmUoJ3Byb21pc2UgMScpO1xuICAgIH0sIDIwMCk7XG4gIH0pO1xuXG4gIGxldCBwcm9taXNlMiA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAyJyk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gcmVzdWx0ID09PSAncHJvbWlzZSAyJyBiZWNhdXNlIGl0IHdhcyByZXNvbHZlZCBiZWZvcmUgcHJvbWlzZTFcbiAgICAvLyB3YXMgcmVzb2x2ZWQuXG4gIH0pO1xuICBgYGBcblxuICBgUHJvbWlzZS5yYWNlYCBpcyBkZXRlcm1pbmlzdGljIGluIHRoYXQgb25seSB0aGUgc3RhdGUgb2YgdGhlIGZpcnN0XG4gIHNldHRsZWQgcHJvbWlzZSBtYXR0ZXJzLiBGb3IgZXhhbXBsZSwgZXZlbiBpZiBvdGhlciBwcm9taXNlcyBnaXZlbiB0byB0aGVcbiAgYHByb21pc2VzYCBhcnJheSBhcmd1bWVudCBhcmUgcmVzb2x2ZWQsIGJ1dCB0aGUgZmlyc3Qgc2V0dGxlZCBwcm9taXNlIGhhc1xuICBiZWNvbWUgcmVqZWN0ZWQgYmVmb3JlIHRoZSBvdGhlciBwcm9taXNlcyBiZWNhbWUgZnVsZmlsbGVkLCB0aGUgcmV0dXJuZWRcbiAgcHJvbWlzZSB3aWxsIGJlY29tZSByZWplY3RlZDpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlMSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCl7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgcmVzb2x2ZSgncHJvbWlzZSAxJyk7XG4gICAgfSwgMjAwKTtcbiAgfSk7XG5cbiAgbGV0IHByb21pc2UyID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICByZWplY3QobmV3IEVycm9yKCdwcm9taXNlIDInKSk7XG4gICAgfSwgMTAwKTtcbiAgfSk7XG5cbiAgUHJvbWlzZS5yYWNlKFtwcm9taXNlMSwgcHJvbWlzZTJdKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gQ29kZSBoZXJlIG5ldmVyIHJ1bnNcbiAgfSwgZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyByZWFzb24ubWVzc2FnZSA9PT0gJ3Byb21pc2UgMicgYmVjYXVzZSBwcm9taXNlIDIgYmVjYW1lIHJlamVjdGVkIGJlZm9yZVxuICAgIC8vIHByb21pc2UgMSBiZWNhbWUgZnVsZmlsbGVkXG4gIH0pO1xuICBgYGBcblxuICBBbiBleGFtcGxlIHJlYWwtd29ybGQgdXNlIGNhc2UgaXMgaW1wbGVtZW50aW5nIHRpbWVvdXRzOlxuXG4gIGBgYGphdmFzY3JpcHRcbiAgUHJvbWlzZS5yYWNlKFthamF4KCdmb28uanNvbicpLCB0aW1lb3V0KDUwMDApXSlcbiAgYGBgXG5cbiAgQG1ldGhvZCByYWNlXG4gIEBzdGF0aWNcbiAgQHBhcmFtIHtBcnJheX0gcHJvbWlzZXMgYXJyYXkgb2YgcHJvbWlzZXMgdG8gb2JzZXJ2ZVxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9IGEgcHJvbWlzZSB3aGljaCBzZXR0bGVzIGluIHRoZSBzYW1lIHdheSBhcyB0aGUgZmlyc3QgcGFzc2VkXG4gIHByb21pc2UgdG8gc2V0dGxlLlxuKi9cbmZ1bmN0aW9uIHJhY2UoZW50cmllcykge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuXG4gIGlmICghaXNBcnJheShlbnRyaWVzKSkge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKF8sIHJlamVjdCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGFuIGFycmF5IHRvIHJhY2UuJykpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBuZXcgQ29uc3RydWN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGVudHJpZXMubGVuZ3RoO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBDb25zdHJ1Y3Rvci5yZXNvbHZlKGVudHJpZXNbaV0pLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAgYFByb21pc2UucmVqZWN0YCByZXR1cm5zIGEgcHJvbWlzZSByZWplY3RlZCB3aXRoIHRoZSBwYXNzZWQgYHJlYXNvbmAuXG4gIEl0IGlzIHNob3J0aGFuZCBmb3IgdGhlIGZvbGxvd2luZzpcblxuICBgYGBqYXZhc2NyaXB0XG4gIGxldCBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICByZWplY3QobmV3IEVycm9yKCdXSE9PUFMnKSk7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBJbnN0ZWFkIG9mIHdyaXRpbmcgdGhlIGFib3ZlLCB5b3VyIGNvZGUgbm93IHNpbXBseSBiZWNvbWVzIHRoZSBmb2xsb3dpbmc6XG5cbiAgYGBgamF2YXNjcmlwdFxuICBsZXQgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignV0hPT1BTJykpO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSl7XG4gICAgLy8gQ29kZSBoZXJlIGRvZXNuJ3QgcnVuIGJlY2F1c2UgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQhXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gcmVhc29uLm1lc3NhZ2UgPT09ICdXSE9PUFMnXG4gIH0pO1xuICBgYGBcblxuICBAbWV0aG9kIHJlamVjdFxuICBAc3RhdGljXG4gIEBwYXJhbSB7QW55fSByZWFzb24gdmFsdWUgdGhhdCB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGguXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIHJlamVjdGVkIHdpdGggdGhlIGdpdmVuIGByZWFzb25gLlxuKi9cbmZ1bmN0aW9uIHJlamVjdCQxKHJlYXNvbikge1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICB2YXIgQ29uc3RydWN0b3IgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBDb25zdHJ1Y3Rvcihub29wKTtcbiAgcmVqZWN0KHByb21pc2UsIHJlYXNvbik7XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBuZWVkc1Jlc29sdmVyKCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKCdZb3UgbXVzdCBwYXNzIGEgcmVzb2x2ZXIgZnVuY3Rpb24gYXMgdGhlIGZpcnN0IGFyZ3VtZW50IHRvIHRoZSBwcm9taXNlIGNvbnN0cnVjdG9yJyk7XG59XG5cbmZ1bmN0aW9uIG5lZWRzTmV3KCkge1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGNvbnN0cnVjdCAnUHJvbWlzZSc6IFBsZWFzZSB1c2UgdGhlICduZXcnIG9wZXJhdG9yLCB0aGlzIG9iamVjdCBjb25zdHJ1Y3RvciBjYW5ub3QgYmUgY2FsbGVkIGFzIGEgZnVuY3Rpb24uXCIpO1xufVxuXG4vKipcbiAgUHJvbWlzZSBvYmplY3RzIHJlcHJlc2VudCB0aGUgZXZlbnR1YWwgcmVzdWx0IG9mIGFuIGFzeW5jaHJvbm91cyBvcGVyYXRpb24uIFRoZVxuICBwcmltYXJ5IHdheSBvZiBpbnRlcmFjdGluZyB3aXRoIGEgcHJvbWlzZSBpcyB0aHJvdWdoIGl0cyBgdGhlbmAgbWV0aG9kLCB3aGljaFxuICByZWdpc3RlcnMgY2FsbGJhY2tzIHRvIHJlY2VpdmUgZWl0aGVyIGEgcHJvbWlzZSdzIGV2ZW50dWFsIHZhbHVlIG9yIHRoZSByZWFzb25cbiAgd2h5IHRoZSBwcm9taXNlIGNhbm5vdCBiZSBmdWxmaWxsZWQuXG5cbiAgVGVybWlub2xvZ3lcbiAgLS0tLS0tLS0tLS1cblxuICAtIGBwcm9taXNlYCBpcyBhbiBvYmplY3Qgb3IgZnVuY3Rpb24gd2l0aCBhIGB0aGVuYCBtZXRob2Qgd2hvc2UgYmVoYXZpb3IgY29uZm9ybXMgdG8gdGhpcyBzcGVjaWZpY2F0aW9uLlxuICAtIGB0aGVuYWJsZWAgaXMgYW4gb2JqZWN0IG9yIGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyBhIGB0aGVuYCBtZXRob2QuXG4gIC0gYHZhbHVlYCBpcyBhbnkgbGVnYWwgSmF2YVNjcmlwdCB2YWx1ZSAoaW5jbHVkaW5nIHVuZGVmaW5lZCwgYSB0aGVuYWJsZSwgb3IgYSBwcm9taXNlKS5cbiAgLSBgZXhjZXB0aW9uYCBpcyBhIHZhbHVlIHRoYXQgaXMgdGhyb3duIHVzaW5nIHRoZSB0aHJvdyBzdGF0ZW1lbnQuXG4gIC0gYHJlYXNvbmAgaXMgYSB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aHkgYSBwcm9taXNlIHdhcyByZWplY3RlZC5cbiAgLSBgc2V0dGxlZGAgdGhlIGZpbmFsIHJlc3Rpbmcgc3RhdGUgb2YgYSBwcm9taXNlLCBmdWxmaWxsZWQgb3IgcmVqZWN0ZWQuXG5cbiAgQSBwcm9taXNlIGNhbiBiZSBpbiBvbmUgb2YgdGhyZWUgc3RhdGVzOiBwZW5kaW5nLCBmdWxmaWxsZWQsIG9yIHJlamVjdGVkLlxuXG4gIFByb21pc2VzIHRoYXQgYXJlIGZ1bGZpbGxlZCBoYXZlIGEgZnVsZmlsbG1lbnQgdmFsdWUgYW5kIGFyZSBpbiB0aGUgZnVsZmlsbGVkXG4gIHN0YXRlLiAgUHJvbWlzZXMgdGhhdCBhcmUgcmVqZWN0ZWQgaGF2ZSBhIHJlamVjdGlvbiByZWFzb24gYW5kIGFyZSBpbiB0aGVcbiAgcmVqZWN0ZWQgc3RhdGUuICBBIGZ1bGZpbGxtZW50IHZhbHVlIGlzIG5ldmVyIGEgdGhlbmFibGUuXG5cbiAgUHJvbWlzZXMgY2FuIGFsc28gYmUgc2FpZCB0byAqcmVzb2x2ZSogYSB2YWx1ZS4gIElmIHRoaXMgdmFsdWUgaXMgYWxzbyBhXG4gIHByb21pc2UsIHRoZW4gdGhlIG9yaWdpbmFsIHByb21pc2UncyBzZXR0bGVkIHN0YXRlIHdpbGwgbWF0Y2ggdGhlIHZhbHVlJ3NcbiAgc2V0dGxlZCBzdGF0ZS4gIFNvIGEgcHJvbWlzZSB0aGF0ICpyZXNvbHZlcyogYSBwcm9taXNlIHRoYXQgcmVqZWN0cyB3aWxsXG4gIGl0c2VsZiByZWplY3QsIGFuZCBhIHByb21pc2UgdGhhdCAqcmVzb2x2ZXMqIGEgcHJvbWlzZSB0aGF0IGZ1bGZpbGxzIHdpbGxcbiAgaXRzZWxmIGZ1bGZpbGwuXG5cblxuICBCYXNpYyBVc2FnZTpcbiAgLS0tLS0tLS0tLS0tXG5cbiAgYGBganNcbiAgbGV0IHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBvbiBzdWNjZXNzXG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG5cbiAgICAvLyBvbiBmYWlsdXJlXG4gICAgcmVqZWN0KHJlYXNvbik7XG4gIH0pO1xuXG4gIHByb21pc2UudGhlbihmdW5jdGlvbih2YWx1ZSkge1xuICAgIC8vIG9uIGZ1bGZpbGxtZW50XG4gIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIC8vIG9uIHJlamVjdGlvblxuICB9KTtcbiAgYGBgXG5cbiAgQWR2YW5jZWQgVXNhZ2U6XG4gIC0tLS0tLS0tLS0tLS0tLVxuXG4gIFByb21pc2VzIHNoaW5lIHdoZW4gYWJzdHJhY3RpbmcgYXdheSBhc3luY2hyb25vdXMgaW50ZXJhY3Rpb25zIHN1Y2ggYXNcbiAgYFhNTEh0dHBSZXF1ZXN0YHMuXG5cbiAgYGBganNcbiAgZnVuY3Rpb24gZ2V0SlNPTih1cmwpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgeGhyLm9wZW4oJ0dFVCcsIHVybCk7XG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gaGFuZGxlcjtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnanNvbic7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgIHhoci5zZW5kKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGhhbmRsZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IHRoaXMuRE9ORSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICByZXNvbHZlKHRoaXMucmVzcG9uc2UpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdnZXRKU09OOiBgJyArIHVybCArICdgIGZhaWxlZCB3aXRoIHN0YXR1czogWycgKyB0aGlzLnN0YXR1cyArICddJykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIGdldEpTT04oJy9wb3N0cy5qc29uJykudGhlbihmdW5jdGlvbihqc29uKSB7XG4gICAgLy8gb24gZnVsZmlsbG1lbnRcbiAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgLy8gb24gcmVqZWN0aW9uXG4gIH0pO1xuICBgYGBcblxuICBVbmxpa2UgY2FsbGJhY2tzLCBwcm9taXNlcyBhcmUgZ3JlYXQgY29tcG9zYWJsZSBwcmltaXRpdmVzLlxuXG4gIGBgYGpzXG4gIFByb21pc2UuYWxsKFtcbiAgICBnZXRKU09OKCcvcG9zdHMnKSxcbiAgICBnZXRKU09OKCcvY29tbWVudHMnKVxuICBdKS50aGVuKGZ1bmN0aW9uKHZhbHVlcyl7XG4gICAgdmFsdWVzWzBdIC8vID0+IHBvc3RzSlNPTlxuICAgIHZhbHVlc1sxXSAvLyA9PiBjb21tZW50c0pTT05cblxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH0pO1xuICBgYGBcblxuICBAY2xhc3MgUHJvbWlzZVxuICBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlclxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEBjb25zdHJ1Y3RvclxuKi9cblxudmFyIFByb21pc2UkMSA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcikge1xuICAgIHRoaXNbUFJPTUlTRV9JRF0gPSBuZXh0SWQoKTtcbiAgICB0aGlzLl9yZXN1bHQgPSB0aGlzLl9zdGF0ZSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLl9zdWJzY3JpYmVycyA9IFtdO1xuXG4gICAgaWYgKG5vb3AgIT09IHJlc29sdmVyKSB7XG4gICAgICB0eXBlb2YgcmVzb2x2ZXIgIT09ICdmdW5jdGlvbicgJiYgbmVlZHNSZXNvbHZlcigpO1xuICAgICAgdGhpcyBpbnN0YW5jZW9mIFByb21pc2UgPyBpbml0aWFsaXplUHJvbWlzZSh0aGlzLCByZXNvbHZlcikgOiBuZWVkc05ldygpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICBUaGUgcHJpbWFyeSB3YXkgb2YgaW50ZXJhY3Rpbmcgd2l0aCBhIHByb21pc2UgaXMgdGhyb3VnaCBpdHMgYHRoZW5gIG1ldGhvZCxcbiAgd2hpY2ggcmVnaXN0ZXJzIGNhbGxiYWNrcyB0byByZWNlaXZlIGVpdGhlciBhIHByb21pc2UncyBldmVudHVhbCB2YWx1ZSBvciB0aGVcbiAgcmVhc29uIHdoeSB0aGUgcHJvbWlzZSBjYW5ub3QgYmUgZnVsZmlsbGVkLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uKHVzZXIpe1xuICAgIC8vIHVzZXIgaXMgYXZhaWxhYmxlXG4gIH0sIGZ1bmN0aW9uKHJlYXNvbil7XG4gICAgLy8gdXNlciBpcyB1bmF2YWlsYWJsZSwgYW5kIHlvdSBhcmUgZ2l2ZW4gdGhlIHJlYXNvbiB3aHlcbiAgfSk7XG4gIGBgYFxuICAgQ2hhaW5pbmdcbiAgLS0tLS0tLS1cbiAgIFRoZSByZXR1cm4gdmFsdWUgb2YgYHRoZW5gIGlzIGl0c2VsZiBhIHByb21pc2UuICBUaGlzIHNlY29uZCwgJ2Rvd25zdHJlYW0nXG4gIHByb21pc2UgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmaXJzdCBwcm9taXNlJ3MgZnVsZmlsbG1lbnRcbiAgb3IgcmVqZWN0aW9uIGhhbmRsZXIsIG9yIHJlamVjdGVkIGlmIHRoZSBoYW5kbGVyIHRocm93cyBhbiBleGNlcHRpb24uXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gdXNlci5uYW1lO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuICdkZWZhdWx0IG5hbWUnO1xuICB9KS50aGVuKGZ1bmN0aW9uICh1c2VyTmFtZSkge1xuICAgIC8vIElmIGBmaW5kVXNlcmAgZnVsZmlsbGVkLCBgdXNlck5hbWVgIHdpbGwgYmUgdGhlIHVzZXIncyBuYW1lLCBvdGhlcndpc2UgaXRcbiAgICAvLyB3aWxsIGJlIGAnZGVmYXVsdCBuYW1lJ2BcbiAgfSk7XG4gICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZvdW5kIHVzZXIsIGJ1dCBzdGlsbCB1bmhhcHB5Jyk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknKTtcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBpZiBgZmluZFVzZXJgIGZ1bGZpbGxlZCwgYHJlYXNvbmAgd2lsbCBiZSAnRm91bmQgdXNlciwgYnV0IHN0aWxsIHVuaGFwcHknLlxuICAgIC8vIElmIGBmaW5kVXNlcmAgcmVqZWN0ZWQsIGByZWFzb25gIHdpbGwgYmUgJ2BmaW5kVXNlcmAgcmVqZWN0ZWQgYW5kIHdlJ3JlIHVuaGFwcHknLlxuICB9KTtcbiAgYGBgXG4gIElmIHRoZSBkb3duc3RyZWFtIHByb21pc2UgZG9lcyBub3Qgc3BlY2lmeSBhIHJlamVjdGlvbiBoYW5kbGVyLCByZWplY3Rpb24gcmVhc29ucyB3aWxsIGJlIHByb3BhZ2F0ZWQgZnVydGhlciBkb3duc3RyZWFtLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgdGhyb3cgbmV3IFBlZGFnb2dpY2FsRXhjZXB0aW9uKCdVcHN0cmVhbSBlcnJvcicpO1xuICB9KS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIG5ldmVyIHJlYWNoZWRcbiAgfSkudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvLyBuZXZlciByZWFjaGVkXG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAvLyBUaGUgYFBlZGdhZ29jaWFsRXhjZXB0aW9uYCBpcyBwcm9wYWdhdGVkIGFsbCB0aGUgd2F5IGRvd24gdG8gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBBc3NpbWlsYXRpb25cbiAgLS0tLS0tLS0tLS0tXG4gICBTb21ldGltZXMgdGhlIHZhbHVlIHlvdSB3YW50IHRvIHByb3BhZ2F0ZSB0byBhIGRvd25zdHJlYW0gcHJvbWlzZSBjYW4gb25seSBiZVxuICByZXRyaWV2ZWQgYXN5bmNocm9ub3VzbHkuIFRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHJldHVybmluZyBhIHByb21pc2UgaW4gdGhlXG4gIGZ1bGZpbGxtZW50IG9yIHJlamVjdGlvbiBoYW5kbGVyLiBUaGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgdGhlbiBiZSBwZW5kaW5nXG4gIHVudGlsIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHNldHRsZWQuIFRoaXMgaXMgY2FsbGVkICphc3NpbWlsYXRpb24qLlxuICAgYGBganNcbiAgZmluZFVzZXIoKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7XG4gICAgcmV0dXJuIGZpbmRDb21tZW50c0J5QXV0aG9yKHVzZXIpO1xuICB9KS50aGVuKGZ1bmN0aW9uIChjb21tZW50cykge1xuICAgIC8vIFRoZSB1c2VyJ3MgY29tbWVudHMgYXJlIG5vdyBhdmFpbGFibGVcbiAgfSk7XG4gIGBgYFxuICAgSWYgdGhlIGFzc2ltbGlhdGVkIHByb21pc2UgcmVqZWN0cywgdGhlbiB0aGUgZG93bnN0cmVhbSBwcm9taXNlIHdpbGwgYWxzbyByZWplY3QuXG4gICBgYGBqc1xuICBmaW5kVXNlcigpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHtcbiAgICByZXR1cm4gZmluZENvbW1lbnRzQnlBdXRob3IodXNlcik7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGNvbW1lbnRzKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCBmdWxmaWxscywgd2UnbGwgaGF2ZSB0aGUgdmFsdWUgaGVyZVxuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgLy8gSWYgYGZpbmRDb21tZW50c0J5QXV0aG9yYCByZWplY3RzLCB3ZSdsbCBoYXZlIHRoZSByZWFzb24gaGVyZVxuICB9KTtcbiAgYGBgXG4gICBTaW1wbGUgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgcmVzdWx0O1xuICAgdHJ5IHtcbiAgICByZXN1bHQgPSBmaW5kUmVzdWx0KCk7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgZmluZFJlc3VsdChmdW5jdGlvbihyZXN1bHQsIGVycil7XG4gICAgaWYgKGVycikge1xuICAgICAgLy8gZmFpbHVyZVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzdWNjZXNzXG4gICAgfVxuICB9KTtcbiAgYGBgXG4gICBQcm9taXNlIEV4YW1wbGU7XG4gICBgYGBqYXZhc2NyaXB0XG4gIGZpbmRSZXN1bHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCl7XG4gICAgLy8gc3VjY2Vzc1xuICB9LCBmdW5jdGlvbihyZWFzb24pe1xuICAgIC8vIGZhaWx1cmVcbiAgfSk7XG4gIGBgYFxuICAgQWR2YW5jZWQgRXhhbXBsZVxuICAtLS0tLS0tLS0tLS0tLVxuICAgU3luY2hyb25vdXMgRXhhbXBsZVxuICAgYGBgamF2YXNjcmlwdFxuICBsZXQgYXV0aG9yLCBib29rcztcbiAgIHRyeSB7XG4gICAgYXV0aG9yID0gZmluZEF1dGhvcigpO1xuICAgIGJvb2tzICA9IGZpbmRCb29rc0J5QXV0aG9yKGF1dGhvcik7XG4gICAgLy8gc3VjY2Vzc1xuICB9IGNhdGNoKHJlYXNvbikge1xuICAgIC8vIGZhaWx1cmVcbiAgfVxuICBgYGBcbiAgIEVycmJhY2sgRXhhbXBsZVxuICAgYGBganNcbiAgIGZ1bmN0aW9uIGZvdW5kQm9va3MoYm9va3MpIHtcbiAgIH1cbiAgIGZ1bmN0aW9uIGZhaWx1cmUocmVhc29uKSB7XG4gICB9XG4gICBmaW5kQXV0aG9yKGZ1bmN0aW9uKGF1dGhvciwgZXJyKXtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBmYWlsdXJlKGVycik7XG4gICAgICAvLyBmYWlsdXJlXG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZpbmRCb29va3NCeUF1dGhvcihhdXRob3IsIGZ1bmN0aW9uKGJvb2tzLCBlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICBmYWlsdXJlKGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGZvdW5kQm9va3MoYm9va3MpO1xuICAgICAgICAgICAgfSBjYXRjaChyZWFzb24pIHtcbiAgICAgICAgICAgICAgZmFpbHVyZShyZWFzb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGVycm9yKSB7XG4gICAgICAgIGZhaWx1cmUoZXJyKTtcbiAgICAgIH1cbiAgICAgIC8vIHN1Y2Nlc3NcbiAgICB9XG4gIH0pO1xuICBgYGBcbiAgIFByb21pc2UgRXhhbXBsZTtcbiAgIGBgYGphdmFzY3JpcHRcbiAgZmluZEF1dGhvcigpLlxuICAgIHRoZW4oZmluZEJvb2tzQnlBdXRob3IpLlxuICAgIHRoZW4oZnVuY3Rpb24oYm9va3Mpe1xuICAgICAgLy8gZm91bmQgYm9va3NcbiAgfSkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgICAvLyBzb21ldGhpbmcgd2VudCB3cm9uZ1xuICB9KTtcbiAgYGBgXG4gICBAbWV0aG9kIHRoZW5cbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25GdWxmaWxsZWRcbiAgQHBhcmFtIHtGdW5jdGlvbn0gb25SZWplY3RlZFxuICBVc2VmdWwgZm9yIHRvb2xpbmcuXG4gIEByZXR1cm4ge1Byb21pc2V9XG4gICovXG5cbiAgLyoqXG4gIGBjYXRjaGAgaXMgc2ltcGx5IHN1Z2FyIGZvciBgdGhlbih1bmRlZmluZWQsIG9uUmVqZWN0aW9uKWAgd2hpY2ggbWFrZXMgaXQgdGhlIHNhbWVcbiAgYXMgdGhlIGNhdGNoIGJsb2NrIG9mIGEgdHJ5L2NhdGNoIHN0YXRlbWVudC5cbiAgYGBganNcbiAgZnVuY3Rpb24gZmluZEF1dGhvcigpe1xuICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkbid0IGZpbmQgdGhhdCBhdXRob3InKTtcbiAgfVxuICAvLyBzeW5jaHJvbm91c1xuICB0cnkge1xuICBmaW5kQXV0aG9yKCk7XG4gIH0gY2F0Y2gocmVhc29uKSB7XG4gIC8vIHNvbWV0aGluZyB3ZW50IHdyb25nXG4gIH1cbiAgLy8gYXN5bmMgd2l0aCBwcm9taXNlc1xuICBmaW5kQXV0aG9yKCkuY2F0Y2goZnVuY3Rpb24ocmVhc29uKXtcbiAgLy8gc29tZXRoaW5nIHdlbnQgd3JvbmdcbiAgfSk7XG4gIGBgYFxuICBAbWV0aG9kIGNhdGNoXG4gIEBwYXJhbSB7RnVuY3Rpb259IG9uUmVqZWN0aW9uXG4gIFVzZWZ1bCBmb3IgdG9vbGluZy5cbiAgQHJldHVybiB7UHJvbWlzZX1cbiAgKi9cblxuXG4gIFByb21pc2UucHJvdG90eXBlLmNhdGNoID0gZnVuY3Rpb24gX2NhdGNoKG9uUmVqZWN0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBvblJlamVjdGlvbik7XG4gIH07XG5cbiAgLyoqXG4gICAgYGZpbmFsbHlgIHdpbGwgYmUgaW52b2tlZCByZWdhcmRsZXNzIG9mIHRoZSBwcm9taXNlJ3MgZmF0ZSBqdXN0IGFzIG5hdGl2ZVxuICAgIHRyeS9jYXRjaC9maW5hbGx5IGJlaGF2ZXNcbiAgXG4gICAgU3luY2hyb25vdXMgZXhhbXBsZTpcbiAgXG4gICAgYGBganNcbiAgICBmaW5kQXV0aG9yKCkge1xuICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiAwLjUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IEF1dGhvcigpO1xuICAgIH1cbiAgXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBmaW5kQXV0aG9yKCk7IC8vIHN1Y2NlZWQgb3IgZmFpbFxuICAgIH0gY2F0Y2goZXJyb3IpIHtcbiAgICAgIHJldHVybiBmaW5kT3RoZXJBdXRoZXIoKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgLy8gYWx3YXlzIHJ1bnNcbiAgICAgIC8vIGRvZXNuJ3QgYWZmZWN0IHRoZSByZXR1cm4gdmFsdWVcbiAgICB9XG4gICAgYGBgXG4gIFxuICAgIEFzeW5jaHJvbm91cyBleGFtcGxlOlxuICBcbiAgICBgYGBqc1xuICAgIGZpbmRBdXRob3IoKS5jYXRjaChmdW5jdGlvbihyZWFzb24pe1xuICAgICAgcmV0dXJuIGZpbmRPdGhlckF1dGhlcigpO1xuICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24oKXtcbiAgICAgIC8vIGF1dGhvciB3YXMgZWl0aGVyIGZvdW5kLCBvciBub3RcbiAgICB9KTtcbiAgICBgYGBcbiAgXG4gICAgQG1ldGhvZCBmaW5hbGx5XG4gICAgQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICBAcmV0dXJuIHtQcm9taXNlfVxuICAqL1xuXG5cbiAgUHJvbWlzZS5wcm90b3R5cGUuZmluYWxseSA9IGZ1bmN0aW9uIF9maW5hbGx5KGNhbGxiYWNrKSB7XG4gICAgdmFyIHByb21pc2UgPSB0aGlzO1xuICAgIHZhciBjb25zdHJ1Y3RvciA9IHByb21pc2UuY29uc3RydWN0b3I7XG5cbiAgICBpZiAoaXNGdW5jdGlvbihjYWxsYmFjaykpIHtcbiAgICAgIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAgIHJldHVybiBjb25zdHJ1Y3Rvci5yZXNvbHZlKGNhbGxiYWNrKCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKGNhbGxiYWNrLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgcmV0dXJuIFByb21pc2U7XG59KCk7XG5cblByb21pc2UkMS5wcm90b3R5cGUudGhlbiA9IHRoZW47XG5Qcm9taXNlJDEuYWxsID0gYWxsO1xuUHJvbWlzZSQxLnJhY2UgPSByYWNlO1xuUHJvbWlzZSQxLnJlc29sdmUgPSByZXNvbHZlJDE7XG5Qcm9taXNlJDEucmVqZWN0ID0gcmVqZWN0JDE7XG5Qcm9taXNlJDEuX3NldFNjaGVkdWxlciA9IHNldFNjaGVkdWxlcjtcblByb21pc2UkMS5fc2V0QXNhcCA9IHNldEFzYXA7XG5Qcm9taXNlJDEuX2FzYXAgPSBhc2FwO1xuXG4vKmdsb2JhbCBzZWxmKi9cbmZ1bmN0aW9uIHBvbHlmaWxsKCkge1xuICB2YXIgbG9jYWwgPSB2b2lkIDA7XG5cbiAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBnbG9iYWw7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgbG9jYWwgPSBzZWxmO1xuICB9IGVsc2Uge1xuICAgIHRyeSB7XG4gICAgICBsb2NhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdwb2x5ZmlsbCBmYWlsZWQgYmVjYXVzZSBnbG9iYWwgb2JqZWN0IGlzIHVuYXZhaWxhYmxlIGluIHRoaXMgZW52aXJvbm1lbnQnKTtcbiAgICB9XG4gIH1cblxuICB2YXIgUCA9IGxvY2FsLlByb21pc2U7XG5cbiAgaWYgKFApIHtcbiAgICB2YXIgcHJvbWlzZVRvU3RyaW5nID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcHJvbWlzZVRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKFAucmVzb2x2ZSgpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBzaWxlbnRseSBpZ25vcmVkXG4gICAgfVxuXG4gICAgaWYgKHByb21pc2VUb1N0cmluZyA9PT0gJ1tvYmplY3QgUHJvbWlzZV0nICYmICFQLmNhc3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsb2NhbC5Qcm9taXNlID0gUHJvbWlzZSQxO1xufVxuXG4vLyBTdHJhbmdlIGNvbXBhdC4uXG5Qcm9taXNlJDEucG9seWZpbGwgPSBwb2x5ZmlsbDtcblByb21pc2UkMS5Qcm9taXNlID0gUHJvbWlzZSQxO1xuXG5yZXR1cm4gUHJvbWlzZSQxO1xuXG59KSkpO1xuXG5cblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXM2LXByb21pc2UubWFwXG4iLCJ2YXIgYnVuZGxlRm4gPSBhcmd1bWVudHNbM107XG52YXIgc291cmNlcyA9IGFyZ3VtZW50c1s0XTtcbnZhciBjYWNoZSA9IGFyZ3VtZW50c1s1XTtcblxudmFyIHN0cmluZ2lmeSA9IEpTT04uc3RyaW5naWZ5O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xuICAgIHZhciB3a2V5O1xuICAgIHZhciBjYWNoZUtleXMgPSBPYmplY3Qua2V5cyhjYWNoZSk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGNhY2hlS2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGNhY2hlS2V5c1tpXTtcbiAgICAgICAgdmFyIGV4cCA9IGNhY2hlW2tleV0uZXhwb3J0cztcbiAgICAgICAgLy8gVXNpbmcgYmFiZWwgYXMgYSB0cmFuc3BpbGVyIHRvIHVzZSBlc21vZHVsZSwgdGhlIGV4cG9ydCB3aWxsIGFsd2F5c1xuICAgICAgICAvLyBiZSBhbiBvYmplY3Qgd2l0aCB0aGUgZGVmYXVsdCBleHBvcnQgYXMgYSBwcm9wZXJ0eSBvZiBpdC4gVG8gZW5zdXJlXG4gICAgICAgIC8vIHRoZSBleGlzdGluZyBhcGkgYW5kIGJhYmVsIGVzbW9kdWxlIGV4cG9ydHMgYXJlIGJvdGggc3VwcG9ydGVkIHdlXG4gICAgICAgIC8vIGNoZWNrIGZvciBib3RoXG4gICAgICAgIGlmIChleHAgPT09IGZuIHx8IGV4cCAmJiBleHAuZGVmYXVsdCA9PT0gZm4pIHtcbiAgICAgICAgICAgIHdrZXkgPSBrZXk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmICghd2tleSkge1xuICAgICAgICB3a2V5ID0gTWF0aC5mbG9vcihNYXRoLnBvdygxNiwgOCkgKiBNYXRoLnJhbmRvbSgpKS50b1N0cmluZygxNik7XG4gICAgICAgIHZhciB3Y2FjaGUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBjYWNoZUtleXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gY2FjaGVLZXlzW2ldO1xuICAgICAgICAgICAgd2NhY2hlW2tleV0gPSBrZXk7XG4gICAgICAgIH1cbiAgICAgICAgc291cmNlc1t3a2V5XSA9IFtcbiAgICAgICAgICAgICdmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsnICsgZm4gKyAnKHNlbGYpOyB9JyxcbiAgICAgICAgICAgIHdjYWNoZVxuICAgICAgICBdO1xuICAgIH1cbiAgICB2YXIgc2tleSA9IE1hdGguZmxvb3IoTWF0aC5wb3coMTYsIDgpICogTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMTYpO1xuXG4gICAgdmFyIHNjYWNoZSA9IHt9OyBzY2FjaGVbd2tleV0gPSB3a2V5O1xuICAgIHNvdXJjZXNbc2tleV0gPSBbXG4gICAgICAgICdmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsnICtcbiAgICAgICAgICAgIC8vIHRyeSB0byBjYWxsIGRlZmF1bHQgaWYgZGVmaW5lZCB0byBhbHNvIHN1cHBvcnQgYmFiZWwgZXNtb2R1bGUgZXhwb3J0c1xuICAgICAgICAgICAgJ3ZhciBmID0gcmVxdWlyZSgnICsgc3RyaW5naWZ5KHdrZXkpICsgJyk7JyArXG4gICAgICAgICAgICAnKGYuZGVmYXVsdCA/IGYuZGVmYXVsdCA6IGYpKHNlbGYpOycgK1xuICAgICAgICAnfScsXG4gICAgICAgIHNjYWNoZVxuICAgIF07XG5cbiAgICB2YXIgd29ya2VyU291cmNlcyA9IHt9O1xuICAgIHJlc29sdmVTb3VyY2VzKHNrZXkpO1xuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZVNvdXJjZXMoa2V5KSB7XG4gICAgICAgIHdvcmtlclNvdXJjZXNba2V5XSA9IHRydWU7XG5cbiAgICAgICAgZm9yICh2YXIgZGVwUGF0aCBpbiBzb3VyY2VzW2tleV1bMV0pIHtcbiAgICAgICAgICAgIHZhciBkZXBLZXkgPSBzb3VyY2VzW2tleV1bMV1bZGVwUGF0aF07XG4gICAgICAgICAgICBpZiAoIXdvcmtlclNvdXJjZXNbZGVwS2V5XSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVTb3VyY2VzKGRlcEtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc3JjID0gJygnICsgYnVuZGxlRm4gKyAnKSh7J1xuICAgICAgICArIE9iamVjdC5rZXlzKHdvcmtlclNvdXJjZXMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5naWZ5KGtleSkgKyAnOlsnXG4gICAgICAgICAgICAgICAgKyBzb3VyY2VzW2tleV1bMF1cbiAgICAgICAgICAgICAgICArICcsJyArIHN0cmluZ2lmeShzb3VyY2VzW2tleV1bMV0pICsgJ10nXG4gICAgICAgICAgICA7XG4gICAgICAgIH0pLmpvaW4oJywnKVxuICAgICAgICArICd9LHt9LFsnICsgc3RyaW5naWZ5KHNrZXkpICsgJ10pJ1xuICAgIDtcblxuICAgIHZhciBVUkwgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93Lm1velVSTCB8fCB3aW5kb3cubXNVUkw7XG5cbiAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFtzcmNdLCB7IHR5cGU6ICd0ZXh0L2phdmFzY3JpcHQnIH0pO1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuYmFyZSkgeyByZXR1cm4gYmxvYjsgfVxuICAgIHZhciB3b3JrZXJVcmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIHZhciB3b3JrZXIgPSBuZXcgV29ya2VyKHdvcmtlclVybCk7XG4gICAgd29ya2VyLm9iamVjdFVSTCA9IHdvcmtlclVybDtcbiAgICByZXR1cm4gd29ya2VyO1xufTtcbiJdLCJzb3VyY2VSb290IjoiIn0=